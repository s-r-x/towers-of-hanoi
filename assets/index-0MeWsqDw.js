const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-C8CZSkuT.js","assets/webworkerAll-4vuNUr_z.js"])))=>i.map(i=>d[i]);
var Q$=Object.defineProperty;var DD=t=>{throw TypeError(t)};var J$=(t,e,n)=>e in t?Q$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var St=(t,e,n)=>J$(t,typeof e!="symbol"?e+"":e,n),NT=(t,e,n)=>e.has(t)||DD("Cannot "+n);var _e=(t,e,n)=>(NT(t,e,"read from private field"),n?n.call(t):e.get(t)),Bt=(t,e,n)=>e.has(t)?DD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),bt=(t,e,n,r)=>(NT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ut=(t,e,n)=>(NT(t,e,"access private method"),n);function ej(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BD={};/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var kD;function tj(){if(kD)return BD;kD=1;var t;return function(e){(function(n){var r=typeof globalThis=="object"?globalThis:typeof um=="object"?um:typeof self=="object"?self:typeof this=="object"?this:c(),i=s(e);typeof r.Reflect<"u"&&(i=s(r.Reflect,i)),n(i,r),typeof r.Reflect>"u"&&(r.Reflect=e);function s(f,p){return function(v,b){Object.defineProperty(f,v,{configurable:!0,writable:!0,value:b}),p&&p(v,b)}}function o(){try{return Function("return this;")()}catch{}}function u(){try{return(0,eval)("(function() { return this; })()")}catch{}}function c(){return o()||u()}})(function(n,r){var i=Object.prototype.hasOwnProperty,s=typeof Symbol=="function",o=s&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",u=s&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",c=typeof Object.create=="function",f={__proto__:[]}instanceof Array,p=!c&&!f,v={create:c?function(){return ps(Object.create(null))}:f?function(){return ps({__proto__:null})}:function(){return ps({})},has:p?function(fe,ye){return i.call(fe,ye)}:function(fe,ye){return ye in fe},get:p?function(fe,ye){return i.call(fe,ye)?fe[ye]:void 0}:function(fe,ye){return fe[ye]}},b=Object.getPrototypeOf(Function),y=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Nr(),E=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:dr(),S=typeof WeakMap=="function"?WeakMap:lo(),T=s?Symbol.for("@reflect-metadata:registry"):void 0,A=qs(),P=Ks(A);function O(fe,ye,Re,Ue){if(re(Re)){if(!et(fe))throw new TypeError;if(!rt(ye))throw new TypeError;return be(fe,ye)}else{if(!et(fe))throw new TypeError;if(!Ie(ye))throw new TypeError;if(!Ie(Ue)&&!re(Ue)&&!we(Ue))throw new TypeError;return we(Ue)&&(Ue=void 0),Re=$e(Re),Te(fe,ye,Re,Ue)}}n("decorate",O);function M(fe,ye){function Re(Ue,Ye){if(!Ie(Ue))throw new TypeError;if(!re(Ye)&&!qe(Ye))throw new TypeError;K(fe,ye,Ue,Ye)}return Re}n("metadata",M);function D(fe,ye,Re,Ue){if(!Ie(Re))throw new TypeError;return re(Ue)||(Ue=$e(Ue)),K(fe,ye,Re,Ue)}n("defineMetadata",D);function W(fe,ye,Re){if(!Ie(ye))throw new TypeError;return re(Re)||(Re=$e(Re)),he(fe,ye,Re)}n("hasMetadata",W);function G(fe,ye,Re){if(!Ie(ye))throw new TypeError;return re(Re)||(Re=$e(Re)),R(fe,ye,Re)}n("hasOwnMetadata",G);function Y(fe,ye,Re){if(!Ie(ye))throw new TypeError;return re(Re)||(Re=$e(Re)),N(fe,ye,Re)}n("getMetadata",Y);function L(fe,ye,Re){if(!Ie(ye))throw new TypeError;return re(Re)||(Re=$e(Re)),z(fe,ye,Re)}n("getOwnMetadata",L);function X(fe,ye){if(!Ie(fe))throw new TypeError;return re(ye)||(ye=$e(ye)),U(fe,ye)}n("getMetadataKeys",X);function Z(fe,ye){if(!Ie(fe))throw new TypeError;return re(ye)||(ye=$e(ye)),j(fe,ye)}n("getOwnMetadataKeys",Z);function ee(fe,ye,Re){if(!Ie(ye))throw new TypeError;if(re(Re)||(Re=$e(Re)),!Ie(ye))throw new TypeError;re(Re)||(Re=$e(Re));var Ue=bn(ye,Re,!1);return re(Ue)?!1:Ue.OrdinaryDeleteMetadata(fe,ye,Re)}n("deleteMetadata",ee);function be(fe,ye){for(var Re=fe.length-1;Re>=0;--Re){var Ue=fe[Re],Ye=Ue(ye);if(!re(Ye)&&!we(Ye)){if(!rt(Ye))throw new TypeError;ye=Ye}}return ye}function Te(fe,ye,Re,Ue){for(var Ye=fe.length-1;Ye>=0;--Ye){var Ut=fe[Ye],Fn=Ut(ye,Re,Ue);if(!re(Fn)&&!we(Fn)){if(!Ie(Fn))throw new TypeError;Ue=Fn}}return Ue}function he(fe,ye,Re){var Ue=R(fe,ye,Re);if(Ue)return!0;var Ye=on(ye);return we(Ye)?!1:he(fe,Ye,Re)}function R(fe,ye,Re){var Ue=bn(ye,Re,!1);return re(Ue)?!1:Ee(Ue.OrdinaryHasOwnMetadata(fe,ye,Re))}function N(fe,ye,Re){var Ue=R(fe,ye,Re);if(Ue)return z(fe,ye,Re);var Ye=on(ye);if(!we(Ye))return N(fe,Ye,Re)}function z(fe,ye,Re){var Ue=bn(ye,Re,!1);if(!re(Ue))return Ue.OrdinaryGetOwnMetadata(fe,ye,Re)}function K(fe,ye,Re,Ue){var Ye=bn(Re,Ue,!0);Ye.OrdinaryDefineOwnMetadata(fe,ye,Re,Ue)}function U(fe,ye){var Re=j(fe,ye),Ue=on(fe);if(Ue===null)return Re;var Ye=U(Ue,ye);if(Ye.length<=0)return Re;if(Re.length<=0)return Ye;for(var Ut=new E,Fn=[],mt=0,Le=Re;mt<Le.length;mt++){var k=Le[mt],F=Ut.has(k);F||(Ut.add(k),Fn.push(k))}for(var q=0,le=Ye;q<le.length;q++){var k=le[q],F=Ut.has(k);F||(Ut.add(k),Fn.push(k))}return Fn}function j(fe,ye){var Re=bn(fe,ye,!1);return Re?Re.OrdinaryOwnMetadataKeys(fe,ye):[]}function ne(fe){if(fe===null)return 1;switch(typeof fe){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return fe===null?1:6;default:return 6}}function re(fe){return fe===void 0}function we(fe){return fe===null}function Ce(fe){return typeof fe=="symbol"}function Ie(fe){return typeof fe=="object"?fe!==null:typeof fe=="function"}function nt(fe,ye){switch(ne(fe)){case 0:return fe;case 1:return fe;case 2:return fe;case 3:return fe;case 4:return fe;case 5:return fe}var Re="string",Ue=tn(fe,o);if(Ue!==void 0){var Ye=Ue.call(fe,Re);if(Ie(Ye))throw new TypeError;return Ye}return ve(fe)}function ve(fe,ye){var Re,Ue,Ye;{var Ut=fe.toString;if(gt(Ut)){var Ue=Ut.call(fe);if(!Ie(Ue))return Ue}var Re=fe.valueOf;if(gt(Re)){var Ue=Re.call(fe);if(!Ie(Ue))return Ue}}throw new TypeError}function Ee(fe){return!!fe}function Fe(fe){return""+fe}function $e(fe){var ye=nt(fe);return Ce(ye)?ye:Fe(ye)}function et(fe){return Array.isArray?Array.isArray(fe):fe instanceof Object?fe instanceof Array:Object.prototype.toString.call(fe)==="[object Array]"}function gt(fe){return typeof fe=="function"}function rt(fe){return typeof fe=="function"}function qe(fe){switch(ne(fe)){case 3:return!0;case 4:return!0;default:return!1}}function Xe(fe,ye){return fe===ye||fe!==fe&&ye!==ye}function tn(fe,ye){var Re=fe[ye];if(Re!=null){if(!gt(Re))throw new TypeError;return Re}}function di(fe){var ye=tn(fe,u);if(!gt(ye))throw new TypeError;var Re=ye.call(fe);if(!Ie(Re))throw new TypeError;return Re}function Xr(fe){return fe.value}function Yr(fe){var ye=fe.next();return ye.done?!1:ye}function ct(fe){var ye=fe.return;ye&&ye.call(fe)}function on(fe){var ye=Object.getPrototypeOf(fe);if(typeof fe!="function"||fe===b||ye!==b)return ye;var Re=fe.prototype,Ue=Re&&Object.getPrototypeOf(Re);if(Ue==null||Ue===Object.prototype)return ye;var Ye=Ue.constructor;return typeof Ye!="function"||Ye===fe?ye:Ye}function Ir(){var fe;!re(T)&&typeof r.Reflect<"u"&&!(T in r.Reflect)&&typeof r.Reflect.defineMetadata=="function"&&(fe=Zs(r.Reflect));var ye,Re,Ue,Ye=new S,Ut={registerProvider:Fn,getProvider:Le,setProvider:F};return Ut;function Fn(q){if(!Object.isExtensible(Ut))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case fe===q:break;case re(ye):ye=q;break;case ye===q:break;case re(Re):Re=q;break;case Re===q:break;default:Ue===void 0&&(Ue=new E),Ue.add(q);break}}function mt(q,le){if(!re(ye)){if(ye.isProviderFor(q,le))return ye;if(!re(Re)){if(Re.isProviderFor(q,le))return ye;if(!re(Ue))for(var ke=di(Ue);;){var We=Yr(ke);if(!We)return;var Et=Xr(We);if(Et.isProviderFor(q,le))return ct(ke),Et}}}if(!re(fe)&&fe.isProviderFor(q,le))return fe}function Le(q,le){var ke=Ye.get(q),We;return re(ke)||(We=ke.get(le)),re(We)&&(We=mt(q,le),re(We)||(re(ke)&&(ke=new y,Ye.set(q,ke)),ke.set(le,We))),We}function k(q){if(re(q))throw new TypeError;return ye===q||Re===q||!re(Ue)&&Ue.has(q)}function F(q,le,ke){if(!k(ke))throw new Error("Metadata provider not registered.");var We=Le(q,le);if(We!==ke){if(!re(We))return!1;var Et=Ye.get(q);re(Et)&&(Et=new y,Ye.set(q,Et)),Et.set(le,ke)}return!0}}function qs(){var fe;return!re(T)&&Ie(r.Reflect)&&Object.isExtensible(r.Reflect)&&(fe=r.Reflect[T]),re(fe)&&(fe=Ir()),!re(T)&&Ie(r.Reflect)&&Object.isExtensible(r.Reflect)&&Object.defineProperty(r.Reflect,T,{enumerable:!1,configurable:!1,writable:!1,value:fe}),fe}function Ks(fe){var ye=new S,Re={isProviderFor:function(k,F){var q=ye.get(k);return re(q)?!1:q.has(F)},OrdinaryDefineOwnMetadata:Fn,OrdinaryHasOwnMetadata:Ye,OrdinaryGetOwnMetadata:Ut,OrdinaryOwnMetadataKeys:mt,OrdinaryDeleteMetadata:Le};return A.registerProvider(Re),Re;function Ue(k,F,q){var le=ye.get(k),ke=!1;if(re(le)){if(!q)return;le=new y,ye.set(k,le),ke=!0}var We=le.get(F);if(re(We)){if(!q)return;if(We=new y,le.set(F,We),!fe.setProvider(k,F,Re))throw le.delete(F),ke&&ye.delete(k),new Error("Wrong provider for target.")}return We}function Ye(k,F,q){var le=Ue(F,q,!1);return re(le)?!1:Ee(le.has(k))}function Ut(k,F,q){var le=Ue(F,q,!1);if(!re(le))return le.get(k)}function Fn(k,F,q,le){var ke=Ue(q,le,!0);ke.set(k,F)}function mt(k,F){var q=[],le=Ue(k,F,!1);if(re(le))return q;for(var ke=le.keys(),We=di(ke),Et=0;;){var hr=Yr(We);if(!hr)return q.length=Et,q;var ji=Xr(hr);try{q[Et]=ji}catch(yr){try{ct(We)}finally{throw yr}}Et++}}function Le(k,F,q){var le=Ue(F,q,!1);if(re(le)||!le.delete(k))return!1;if(le.size===0){var ke=ye.get(F);re(ke)||(ke.delete(q),ke.size===0&&ye.delete(ke))}return!0}}function Zs(fe){var ye=fe.defineMetadata,Re=fe.hasOwnMetadata,Ue=fe.getOwnMetadata,Ye=fe.getOwnMetadataKeys,Ut=fe.deleteMetadata,Fn=new S,mt={isProviderFor:function(Le,k){var F=Fn.get(Le);return!re(F)&&F.has(k)?!0:Ye(Le,k).length?(re(F)&&(F=new E,Fn.set(Le,F)),F.add(k),!0):!1},OrdinaryDefineOwnMetadata:ye,OrdinaryHasOwnMetadata:Re,OrdinaryGetOwnMetadata:Ue,OrdinaryOwnMetadataKeys:Ye,OrdinaryDeleteMetadata:Ut};return mt}function bn(fe,ye,Re){var Ue=A.getProvider(fe,ye);if(!re(Ue))return Ue;if(Re){if(A.setProvider(fe,ye,P))return P;throw new Error("Illegal state.")}}function Nr(){var fe={},ye=[],Re=function(){function mt(Le,k,F){this._index=0,this._keys=Le,this._values=k,this._selector=F}return mt.prototype["@@iterator"]=function(){return this},mt.prototype[u]=function(){return this},mt.prototype.next=function(){var Le=this._index;if(Le>=0&&Le<this._keys.length){var k=this._selector(this._keys[Le],this._values[Le]);return Le+1>=this._keys.length?(this._index=-1,this._keys=ye,this._values=ye):this._index++,{value:k,done:!1}}return{value:void 0,done:!0}},mt.prototype.throw=function(Le){throw this._index>=0&&(this._index=-1,this._keys=ye,this._values=ye),Le},mt.prototype.return=function(Le){return this._index>=0&&(this._index=-1,this._keys=ye,this._values=ye),{value:Le,done:!0}},mt}(),Ue=function(){function mt(){this._keys=[],this._values=[],this._cacheKey=fe,this._cacheIndex=-2}return Object.defineProperty(mt.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),mt.prototype.has=function(Le){return this._find(Le,!1)>=0},mt.prototype.get=function(Le){var k=this._find(Le,!1);return k>=0?this._values[k]:void 0},mt.prototype.set=function(Le,k){var F=this._find(Le,!0);return this._values[F]=k,this},mt.prototype.delete=function(Le){var k=this._find(Le,!1);if(k>=0){for(var F=this._keys.length,q=k+1;q<F;q++)this._keys[q-1]=this._keys[q],this._values[q-1]=this._values[q];return this._keys.length--,this._values.length--,Xe(Le,this._cacheKey)&&(this._cacheKey=fe,this._cacheIndex=-2),!0}return!1},mt.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=fe,this._cacheIndex=-2},mt.prototype.keys=function(){return new Re(this._keys,this._values,Ye)},mt.prototype.values=function(){return new Re(this._keys,this._values,Ut)},mt.prototype.entries=function(){return new Re(this._keys,this._values,Fn)},mt.prototype["@@iterator"]=function(){return this.entries()},mt.prototype[u]=function(){return this.entries()},mt.prototype._find=function(Le,k){if(!Xe(this._cacheKey,Le)){this._cacheIndex=-1;for(var F=0;F<this._keys.length;F++)if(Xe(this._keys[F],Le)){this._cacheIndex=F;break}}return this._cacheIndex<0&&k&&(this._cacheIndex=this._keys.length,this._keys.push(Le),this._values.push(void 0)),this._cacheIndex},mt}();return Ue;function Ye(mt,Le){return mt}function Ut(mt,Le){return Le}function Fn(mt,Le){return[mt,Le]}}function dr(){var fe=function(){function ye(){this._map=new y}return Object.defineProperty(ye.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),ye.prototype.has=function(Re){return this._map.has(Re)},ye.prototype.add=function(Re){return this._map.set(Re,Re),this},ye.prototype.delete=function(Re){return this._map.delete(Re)},ye.prototype.clear=function(){this._map.clear()},ye.prototype.keys=function(){return this._map.keys()},ye.prototype.values=function(){return this._map.keys()},ye.prototype.entries=function(){return this._map.entries()},ye.prototype["@@iterator"]=function(){return this.keys()},ye.prototype[u]=function(){return this.keys()},ye}();return fe}function lo(){var fe=16,ye=v.create(),Re=Ue();return function(){function Le(){this._key=Ue()}return Le.prototype.has=function(k){var F=Ye(k,!1);return F!==void 0?v.has(F,this._key):!1},Le.prototype.get=function(k){var F=Ye(k,!1);return F!==void 0?v.get(F,this._key):void 0},Le.prototype.set=function(k,F){var q=Ye(k,!0);return q[this._key]=F,this},Le.prototype.delete=function(k){var F=Ye(k,!1);return F!==void 0?delete F[this._key]:!1},Le.prototype.clear=function(){this._key=Ue()},Le}();function Ue(){var Le;do Le="@@WeakMap@@"+mt();while(v.has(ye,Le));return ye[Le]=!0,Le}function Ye(Le,k){if(!i.call(Le,Re)){if(!k)return;Object.defineProperty(Le,Re,{value:v.create()})}return Le[Re]}function Ut(Le,k){for(var F=0;F<k;++F)Le[F]=Math.random()*255|0;return Le}function Fn(Le){if(typeof Uint8Array=="function"){var k=new Uint8Array(Le);return typeof crypto<"u"?crypto.getRandomValues(k):typeof msCrypto<"u"?msCrypto.getRandomValues(k):Ut(k,Le),k}return Ut(new Array(Le),Le)}function mt(){var Le=Fn(fe);Le[6]=Le[6]&79|64,Le[8]=Le[8]&191|128;for(var k="",F=0;F<fe;++F){var q=Le[F];(F===4||F===6||F===8)&&(k+="-"),q<16&&(k+="0"),k+=q.toString(16).toLowerCase()}return k}}function ps(fe){return fe.__=void 0,delete fe.__,fe}})}(t||(t={})),BD}tj();const rr={app:Symbol.for("app"),renderer:Symbol.for("renderer"),eventBus:Symbol.for("eventBus"),entitiesOrchestrator:Symbol.for("entitiesManager"),gameState:Symbol.for("gameState"),diskEntityFactory:Symbol.for("diskEntityFactory"),ui:Symbol.for("ui"),uiState:Symbol.for("uiState")};function Kr(t){return(typeof t=="object"&&t!==null||typeof t=="function")&&typeof t.then=="function"}function Za(t){switch(typeof t){case"string":case"symbol":return t.toString();case"function":return t.name;default:throw new Error(`Unexpected ${typeof t} service id type`)}}const UT=Symbol.for("@inversifyjs/common/islazyServiceIdentifier");var b5,sy,_5;let LR=(b5=UT,_5=class{constructor(e){St(this,b5);Bt(this,sy);bt(this,sy,e),this[UT]=!0}static is(e){return typeof e=="object"&&e!==null&&e[UT]===!0}unwrap(){return _e(this,sy).call(this)}},sy=new WeakMap,_5);function qm(t,e){return Reflect.getOwnMetadata(e,t)}function UN(t,e,n){Reflect.defineMetadata(e,n,t)}function xm(t,e,n,r){const i=r(qm(t,e)??n());Reflect.defineMetadata(e,i,t)}const Uo={Request:"Request",Singleton:"Singleton",Transient:"Transient"},Or={ConstantValue:"ConstantValue",DynamicValue:"DynamicValue",Factory:"Factory",Instance:"Instance",Provider:"Provider",ResolvedValue:"ResolvedValue",ServiceRedirection:"ServiceRedirection"};function*FN(...t){for(const e of t)yield*e}var Pl,ha,Um,Pa,LN,GN,xA,zN,VN,Fm;let GR=(Fm=class{constructor(e){Bt(this,Pa);Bt(this,Pl);Bt(this,ha);Bt(this,Um);bt(this,Pl,new Map),bt(this,ha,{});for(const n of Reflect.ownKeys(e))_e(this,ha)[n]=new Map;bt(this,Um,e)}add(e,n){ut(this,Pa,LN).call(this,e).push(n);for(const r of Reflect.ownKeys(n))ut(this,Pa,GN).call(this,r,n[r]).push(e)}clone(){const e=Reflect.ownKeys(_e(this,Um)),n=new Fm(_e(this,Um));ut(this,Pa,xA).call(this,_e(this,Pl),_e(n,Pl));for(const r of e)ut(this,Pa,xA).call(this,_e(this,ha)[r],_e(n,ha)[r]);return n}get(e,n){return _e(this,ha)[e].get(n)}getAllKeys(e){return _e(this,ha)[e].keys()}removeByRelation(e,n){const r=this.get(e,n);if(r===void 0)return;const i=new Set(r);for(const s of i){const o=_e(this,Pl).get(s);if(o===void 0)throw new Error("Expecting model relation, none found");for(const u of o)u[e]===n&&ut(this,Pa,zN).call(this,s,u);_e(this,Pl).delete(s)}}},Pl=new WeakMap,ha=new WeakMap,Um=new WeakMap,Pa=new WeakSet,LN=function(e){let n=_e(this,Pl).get(e);return n===void 0&&(n=[],_e(this,Pl).set(e,n)),n},GN=function(e,n){let r=_e(this,ha)[e].get(n);return r===void 0&&(r=[],_e(this,ha)[e].set(n,r)),r},xA=function(e,n){for(const[r,i]of e)n.set(r,[...i])},zN=function(e,n){for(const r of Reflect.ownKeys(n))ut(this,Pa,VN).call(this,e,r,n[r])},VN=function(e,n,r){const i=_e(this,ha)[n].get(r);if(i!==void 0){const s=i.indexOf(e);s!==-1&&i.splice(s,1),i.length===0&&_e(this,ha)[n].delete(r)}},Fm);var s_,Fu,a_;(function(t){t.moduleId="moduleId",t.serviceId="serviceId"})(s_||(s_={}));var $u,Lm,zf;let ID=(zf=class{constructor(e,n){Bt(this,$u);Bt(this,Lm);bt(this,$u,n??new GR({moduleId:{isOptional:!0},serviceId:{isOptional:!1}})),bt(this,Lm,e)}static build(e){return new zf(e)}add(e,n){_e(this,$u).add(e,n)}clone(){return new zf(_e(this,Lm),_e(this,$u).clone())}get(e){var s;const n=[],r=_e(this,$u).get(s_.serviceId,e);r!==void 0&&n.push(r);const i=(s=_e(this,Lm))==null?void 0:s.get(e);if(i!==void 0&&n.push(i),n.length!==0)return FN(...n)}removeAllByModuleId(e){_e(this,$u).removeByRelation(s_.moduleId,e)}removeAllByServiceId(e){_e(this,$u).removeByRelation(s_.serviceId,e)}},$u=new WeakMap,Lm=new WeakMap,zf);(function(t){t.moduleId="moduleId",t.serviceId="serviceId"})(Fu||(Fu={}));var Do,Rf,Vf;let ND=(Vf=class{constructor(e,n){Bt(this,Do);Bt(this,Rf);bt(this,Do,n??new GR({moduleId:{isOptional:!0},serviceId:{isOptional:!1}})),bt(this,Rf,e)}static build(e){return new Vf(e)}clone(){return new Vf(_e(this,Rf),_e(this,Do).clone())}get(e){var n;return this.getNonParentBindings(e)??((n=_e(this,Rf))==null?void 0:n.get(e))}getNonParentBindings(e){return _e(this,Do).get(Fu.serviceId,e)}getNonParentBoundServices(){return _e(this,Do).getAllKeys(Fu.serviceId)}getByModuleId(e){var n;return _e(this,Do).get(Fu.moduleId,e)??((n=_e(this,Rf))==null?void 0:n.getByModuleId(e))}removeAllByModuleId(e){_e(this,Do).removeByRelation(Fu.moduleId,e)}removeAllByServiceId(e){_e(this,Do).removeByRelation(Fu.serviceId,e)}set(e){const n={[Fu.serviceId]:e.serviceIdentifier};e.moduleId!==void 0&&(n[Fu.moduleId]=e.moduleId),_e(this,Do).add(e,n)}},Do=new WeakMap,Rf=new WeakMap,Vf);(function(t){t.moduleId="moduleId",t.serviceId="serviceId"})(a_||(a_={}));var ju,Gm,Hf;let UD=(Hf=class{constructor(e,n){Bt(this,ju);Bt(this,Gm);bt(this,ju,n??new GR({moduleId:{isOptional:!0},serviceId:{isOptional:!1}})),bt(this,Gm,e)}static build(e){return new Hf(e)}add(e,n){_e(this,ju).add(e,n)}clone(){return new Hf(_e(this,Gm),_e(this,ju).clone())}get(e){var s;const n=[],r=_e(this,ju).get(a_.serviceId,e);r!==void 0&&n.push(r);const i=(s=_e(this,Gm))==null?void 0:s.get(e);if(i!==void 0&&n.push(i),n.length!==0)return FN(...n)}removeAllByModuleId(e){_e(this,ju).removeByRelation(a_.moduleId,e)}removeAllByServiceId(e){_e(this,ju).removeByRelation(a_.serviceId,e)}},ju=new WeakMap,Gm=new WeakMap,Hf);const o_="@inversifyjs/core/classMetadataReflectKey";function l_(){return{constructorArguments:[],lifecycle:{postConstructMethodName:void 0,preDestroyMethodName:void 0},properties:new Map,scope:void 0}}const HN="@inversifyjs/core/pendingClassMetadataCountReflectKey",FT=Symbol.for("@inversifyjs/core/InversifyCoreError");var y5,x5;let Br=class WN extends(x5=Error,y5=FT,x5){constructor(n,r,i){super(r,i);St(this,y5);St(this,"kind");this[FT]=!0,this.kind=n}static is(n){return typeof n=="object"&&n!==null&&n[FT]===!0}static isErrorOfKind(n,r){return WN.is(n)&&n.kind===r}};var cr,Km,Od;function SA(t){const e=qm(t,o_)??l_();if(!function(n){const r=qm(n,HN);return r!==void 0&&r!==0}(t))return function(n,r){const i=[];if(r.length<n.length)throw new Br(cr.missingInjectionDecorator,`Found unexpected missing metadata on type "${n.name}". "${n.name}" constructor requires at least ${n.length.toString()} arguments, found ${r.length.toString()} instead.
Are you using @inject, @multiInject or @unmanaged decorators in every non optional constructor argument?

If you're using typescript and want to rely on auto injection, set "emitDecoratorMetadata" compiler option to true`);for(let s=0;s<r.length;++s)r[s]===void 0&&i.push(s);if(i.length>0)throw new Br(cr.missingInjectionDecorator,`Found unexpected missing metadata on type "${n.name}" at constructor indexes "${i.join('", "')}".

Are you using @inject, @multiInject or @unmanaged decorators at those indexes?

If you're using typescript and want to rely on auto injection, set "emitDecoratorMetadata" compiler option to true`)}(t,e.constructorArguments),e;(function(n,r){const i=[];for(let s=0;s<r.constructorArguments.length;++s){const o=r.constructorArguments[s];o!==void 0&&o.kind!==Km.unknown||i.push(`  - Missing or incomplete metadata for type "${n.name}" at constructor argument with index ${s.toString()}.
Every constructor parameter must be decorated either with @inject, @multiInject or @unmanaged decorator.`)}for(const[s,o]of r.properties)o.kind===Km.unknown&&i.push(`  - Missing or incomplete metadata for type "${n.name}" at property "${s.toString()}".
This property must be decorated either with @inject or @multiInject decorator.`);throw i.length===0?new Br(cr.unknown,`Unexpected class metadata for type "${n.name}" with uncompletion traces.
This might be caused by one of the following reasons:

1. A third party library is targeting inversify reflection metadata.
2. A bug is causing the issue. Consider submiting an issue to fix it.`):new Br(cr.missingInjectionDecorator,`Invalid class metadata at type ${n.name}:

${i.join(`

`)}`)})(t,e)}function nj(){return 0}function rj(t){return e=>{e!==void 0&&e.kind===Km.unknown&&xm(t,HN,nj,n=>n-1)}}function ij(t,e){return(...n)=>r=>{if(r===void 0)return t(...n);if(r.kind===Od.unmanaged)throw new Br(cr.injectionDecoratorConflict,"Unexpected injection found. Multiple @inject, @multiInject or @unmanaged decorators found");return e(r,...n)}}function sj(t){if(t.kind!==Km.unknown&&t.isFromTypescriptParamType!==!0)throw new Br(cr.injectionDecoratorConflict,"Unexpected injection found. Multiple @inject, @multiInject or @unmanaged decorators found")}(function(t){t[t.injectionDecoratorConflict=0]="injectionDecoratorConflict",t[t.missingInjectionDecorator=1]="missingInjectionDecorator",t[t.planning=2]="planning",t[t.resolution=3]="resolution",t[t.unknown=4]="unknown"})(cr||(cr={})),function(t){t[t.unknown=32]="unknown"}(Km||(Km={})),function(t){t[t.multipleInjection=0]="multipleInjection",t[t.singleInjection=1]="singleInjection",t[t.unmanaged=2]="unmanaged"}(Od||(Od={}));const aj=ij(function(t,e){return{kind:t,name:void 0,optional:!1,tags:new Map,value:e}},function(t,e,n){return sj(t),{...t,kind:e,value:n}});function FD(t,e){return n=>{const r=n.properties.get(e);return n.properties.set(e,t(r)),n}}var hd;function oj(t,e,n,r){if(Br.isErrorOfKind(r,cr.injectionDecoratorConflict)){const i=function(s,o,u){if(u===void 0){if(o===void 0)throw new Br(cr.unknown,"Unexpected undefined property and index values");return{kind:hd.property,property:o,targetClass:s.constructor}}return typeof u=="number"?{index:u,kind:hd.parameter,targetClass:s}:{kind:hd.method,method:o,targetClass:s}}(t,e,n);throw new Br(cr.injectionDecoratorConflict,`Unexpected injection error.

Cause:

${r.message}

Details

${function(s){switch(s.kind){case hd.method:return`[class: "${s.targetClass.name}", method: "${s.method.toString()}"]`;case hd.parameter:return`[class: "${s.targetClass.name}", index: "${s.index.toString()}"]`;case hd.property:return`[class: "${s.targetClass.name}", property: "${s.property.toString()}"]`}}(i)}`,{cause:r})}throw r}function lj(t,e){return(n,r,i)=>{try{i===void 0?function(s,o){const u=LT(s,o);return(c,f)=>{xm(c.constructor,o_,l_,FD(u(c),f))}}(t,e)(n,r):typeof i=="number"?function(s,o){const u=LT(s,o);return(c,f,p)=>{if(!function(v,b){return typeof v=="function"&&b===void 0}(c,f))throw new Br(cr.injectionDecoratorConflict,`Found an @inject decorator in a non constructor parameter.
Found @inject decorator at method "${(f==null?void 0:f.toString())??""}" at class "${c.constructor.name}"`);xm(c,o_,l_,function(v,b){return y=>{const E=y.constructorArguments[b];return y.constructorArguments[b]=v(E),y}}(u(c),p))}}(t,e)(n,r,i):function(s,o){const u=LT(s,o);return(c,f,p)=>{if(!function(v){return v.set!==void 0}(p))throw new Br(cr.injectionDecoratorConflict,`Found an @inject decorator in a non setter property method.
Found @inject decorator at method "${f.toString()}" at class "${c.constructor.name}"`);xm(c.constructor,o_,l_,FD(u(c),f))}}(t,e)(n,r,i)}catch(s){oj(n,r,i,s)}}}function LT(t,e){return n=>{const r=e(n);return i=>(r(i),t(i))}}function Ns(t){return lj(aj(Od.singleInjection,t),rj)}(function(t){t[t.method=0]="method",t[t.parameter=1]="parameter",t[t.property=2]="property"})(hd||(hd={}));const LD="@inversifyjs/core/classIsInjectableFlagReflectKey",uj=[Array,BigInt,Boolean,Function,Number,Object,String];function cj(t){const e=qm(t,"design:paramtypes");e!==void 0&&xm(t,o_,l_,function(n){return r=>(n.forEach((i,s)=>{var o;r.constructorArguments[s]!==void 0||(o=i,uj.includes(o))||(r.constructorArguments[s]=function(u){return{isFromTypescriptParamType:!0,kind:Od.singleInjection,name:void 0,optional:!1,tags:new Map,value:u}}(i))}),r)}(e))}function Gd(t){return e=>{(function(n){if(qm(n,LD)!==void 0)throw new Br(cr.injectionDecoratorConflict,`Cannot apply @injectable decorator multiple times at class "${n.name}"`);UN(n,LD,!0)})(e),cj(e)}}var Sm;(function(t){t[t.multipleInjection=0]="multipleInjection",t[t.singleInjection=1]="singleInjection"})(Sm||(Sm={}));var Xu;const OD=class OD{constructor(e){Bt(this,Xu);bt(this,Xu,e)}get name(){return _e(this,Xu).elem.name}get serviceIdentifier(){return _e(this,Xu).elem.serviceIdentifier}get tags(){return _e(this,Xu).elem.tags}getAncestor(){if(_e(this,Xu).previous!==void 0)return new OD(_e(this,Xu).previous)}};Xu=new WeakMap;let Zm=OD;class zR{constructor(e){St(this,"last");this.last=e}concat(e){return new zR({elem:e,previous:this.last})}[Symbol.iterator](){let e=this.last;return{next:()=>{if(e===void 0)return{done:!0,value:void 0};const n=e.elem;return e=e.previous,{done:!1,value:n}}}}}function fw(t,e,n){const r=(n==null?void 0:n.customServiceIdentifier)??e.serviceIdentifier,i=[...t.getBindings(r)??[]].filter(s=>s.isSatisfiedBy(e));if(i.length===0&&t.autobindOptions!==void 0&&typeof r=="function"){const s=function(o,u){return{cache:{isRight:!1,value:void 0},id:0,implementationType:u,isSatisfiedBy:()=>!0,moduleId:void 0,onActivation:void 0,onDeactivation:void 0,scope:o.scope,serviceIdentifier:u,type:Or.Instance}}(t.autobindOptions,r);t.setBinding(s),i.push(s)}return i}function Wf(t){return t.redirections!==void 0}function $N(t,e,n,r){var o;let i,s;Wf(n)?(i=n.binding.targetServiceIdentifier,s=n.binding.serviceIdentifier):(i=n.serviceIdentifier,s=(o=n.parent)==null?void 0:o.binding.serviceIdentifier),Array.isArray(t)?function(u,c,f,p,v){if(u.length!==0){const b=`Ambiguous bindings found for service: "${Za(f)}".

Registered bindings:

${u.map(y=>function(E){switch(E.type){case Or.Instance:return`[ type: "${E.type}", serviceIdentifier: "${Za(E.serviceIdentifier)}", scope: "${E.scope}", implementationType: "${E.implementationType.name}" ]`;case Or.ServiceRedirection:return`[ type: "${E.type}", serviceIdentifier: "${Za(E.serviceIdentifier)}", redirection: "${Za(E.targetServiceIdentifier)}" ]`;default:return`[ type: "${E.type}", serviceIdentifier: "${Za(E.serviceIdentifier)}", scope: "${E.scope}" ]`}}(y.binding)).join(`
`)}

Trying to resolve bindings for "${jN(f,p)}".

${XN(v)}`;throw new Br(cr.planning,b)}c||GD(f,p,v)}(t,e,i,s,r):function(u,c,f,p,v){u!==void 0||c||GD(f,p,v)}(t,e,i,s,r)}function GD(t,e,n){const r=`No bindings found for service: "${Za(t)}".

Trying to resolve bindings for "${jN(t,e)}".

${XN(n)}`;throw new Br(cr.planning,r)}function jN(t,e){return e===void 0?`${Za(t)} (Root service)`:Za(e)}function XN(t){var n;const e=t.tags.size===0?"":`
- tags:
  - ${[...t.tags.keys()].map(r=>r.toString()).join(`
  - `)}`;return`Binding constraints:
- service identifier: ${Za(t.serviceIdentifier)}
- name: ${((n=t.name)==null?void 0:n.toString())??"-"}${e}`}function YN(t,e,n){if(t.redirections.length!==1)$N(t.redirections,e,t,n);else{const[r]=t.redirections;Wf(r)&&YN(r,e,n)}}function VR(t,e,n){if(Array.isArray(t.bindings)&&t.bindings.length===1){const[r]=t.bindings;Wf(r)&&YN(r,e,n)}else $N(t.bindings,e,t,n)}function dj(t,e){if(function(n){return n instanceof Error&&(n instanceof RangeError&&/stack space|call stack|too much recursion/i.test(n.message)||n.name==="InternalError"&&/too much recursion/.test(n.message))}(e)){const n=function(r){const i=[...r];return i.length===0?"(No dependency trace)":i.map(Za).join(" -> ")}(function(r){const i=new Set;for(const s of r.servicesBranch){if(i.has(s))return[...i,s];i.add(s)}return[...i]}(t));throw new Br(cr.planning,`Circular dependency found: ${n}`,{cause:e})}throw e}function hj(t){try{const e=new Map;t.rootConstraints.tag!==void 0&&e.set(t.rootConstraints.tag.key,t.rootConstraints.tag.value);const n=new zR({elem:{name:t.rootConstraints.name,serviceIdentifier:t.rootConstraints.serviceIdentifier,tags:e},previous:void 0}),r=new Zm(n.last),i=fw(t,r),s=[],o={bindings:s,parent:void 0,serviceIdentifier:t.rootConstraints.serviceIdentifier};if(s.push(...pw(t,n,i,o)),!t.rootConstraints.isMultiple){VR(o,t.rootConstraints.isOptional??!1,r);const[u]=s;o.bindings=u}return{tree:{root:o}}}catch(e){dj(t,e)}}function fj(t,e,n,r){const i={binding:e,classMetadata:t.getClassMetadata(e.implementationType),constructorParams:[],parent:r,propertyParams:new Map};return qN({autobindOptions:t.autobindOptions,getBindings:t.getBindings,getClassMetadata:t.getClassMetadata,node:i,servicesBranch:t.servicesBranch,setBinding:t.setBinding},n)}function zD(t,e,n){if(n.kind===Od.unmanaged)return;const r=LR.is(n.value)?n.value.unwrap():n.value,i=e.concat({name:n.name,serviceIdentifier:r,tags:n.tags}),s=new Zm(i.last),o=fw(t,s),u=[],c={bindings:u,parent:t.node,serviceIdentifier:r};if(u.push(...pw(t,i,o,c)),n.kind===Od.singleInjection){VR(c,n.optional,s);const[f]=u;c.bindings=f}return c}function pj(t,e,n){const r=LR.is(n.value)?n.value.unwrap():n.value,i=e.concat({name:n.name,serviceIdentifier:r,tags:n.tags}),s=new Zm(i.last),o=fw(t,s),u=[],c={bindings:u,parent:t.node,serviceIdentifier:r};if(u.push(...pw(t,i,o,c)),n.kind===Sm.singleInjection){VR(c,n.optional,s);const[f]=u;c.bindings=f}return c}function gj(t,e,n,r){const i={binding:e,params:[],parent:r};return qN({autobindOptions:t.autobindOptions,getBindings:t.getBindings,getClassMetadata:t.getClassMetadata,node:i,servicesBranch:t.servicesBranch,setBinding:t.setBinding},n)}function pw(t,e,n,r){const i=Wf(r)?r.binding.targetServiceIdentifier:r.serviceIdentifier;t.servicesBranch.push(i);const s=[];for(const o of n)switch(o.type){case Or.Instance:s.push(fj(t,o,e,r));break;case Or.ResolvedValue:s.push(gj(t,o,e,r));break;case Or.ServiceRedirection:{const u=mj(t,e,o,r);s.push(u);break}default:s.push({binding:o,parent:r})}return t.servicesBranch.pop(),s}function mj(t,e,n,r){const i={binding:n,parent:r,redirections:[]},s=fw(t,new Zm(e.last),{customServiceIdentifier:n.targetServiceIdentifier});return i.redirections.push(...pw(t,e,s,i)),i}function qN(t,e){return t.node.binding.type===Or.Instance?function(n,r,i){const s=r.classMetadata;for(const[o,u]of s.constructorArguments.entries())r.constructorParams[o]=zD(n,i,u);for(const[o,u]of s.properties){const c=zD(n,i,u);c!==void 0&&r.propertyParams.set(o,c)}return n.node}(t,t.node,e):function(n,r,i){const s=r.binding.metadata;for(const[o,u]of s.arguments.entries())r.params[o]=pj(n,i,u);return n.node}(t,t.node,e)}var Ef;(function(t){t[t.singleMandatory=0]="singleMandatory",t[t.singleOptional=1]="singleOptional",t[t.multipleMandatory=2]="multipleMandatory",t[t.multipleOptional=3]="multipleOptional",t[t.length=4]="length"})(Ef||(Ef={}));var Pf,Of,Mf,Df,zm,Nn,z0,vf,Uu,KN,ZN;class vj{constructor(){Bt(this,Nn);Bt(this,Pf);Bt(this,Of);Bt(this,Mf);Bt(this,Df);Bt(this,zm);bt(this,Pf,ut(this,Nn,z0).call(this)),bt(this,Of,ut(this,Nn,z0).call(this)),bt(this,Df,ut(this,Nn,z0).call(this)),bt(this,Mf,ut(this,Nn,z0).call(this)),bt(this,zm,[])}clearCache(){for(const e of ut(this,Nn,KN).call(this))e.clear();for(const e of _e(this,zm))e.clearCache()}get(e){var n,r,i,s,o,u;return e.name===void 0?e.tag===void 0?ut(this,Nn,Uu).call(this,_e(this,Pf),e).get(e.serviceIdentifier):(r=(n=ut(this,Nn,Uu).call(this,_e(this,Mf),e).get(e.serviceIdentifier))==null?void 0:n.get(e.tag.key))==null?void 0:r.get(e.tag.value):e.tag===void 0?(i=ut(this,Nn,Uu).call(this,_e(this,Of),e).get(e.serviceIdentifier))==null?void 0:i.get(e.name):(u=(o=(s=ut(this,Nn,Uu).call(this,_e(this,Df),e).get(e.serviceIdentifier))==null?void 0:s.get(e.name))==null?void 0:o.get(e.tag.key))==null?void 0:u.get(e.tag.value)}set(e,n){e.name===void 0?e.tag===void 0?ut(this,Nn,Uu).call(this,_e(this,Pf),e).set(e.serviceIdentifier,n):ut(this,Nn,vf).call(this,ut(this,Nn,vf).call(this,ut(this,Nn,Uu).call(this,_e(this,Mf),e),e.serviceIdentifier),e.tag.key).set(e.tag.value,n):e.tag===void 0?ut(this,Nn,vf).call(this,ut(this,Nn,Uu).call(this,_e(this,Of),e),e.serviceIdentifier).set(e.name,n):ut(this,Nn,vf).call(this,ut(this,Nn,vf).call(this,ut(this,Nn,vf).call(this,ut(this,Nn,Uu).call(this,_e(this,Df),e),e.serviceIdentifier),e.name),e.tag.key).set(e.tag.value,n)}subscribe(e){_e(this,zm).push(e)}}Pf=new WeakMap,Of=new WeakMap,Mf=new WeakMap,Df=new WeakMap,zm=new WeakMap,Nn=new WeakSet,z0=function(){const e=new Array(Ef.length);for(let n=0;n<e.length;++n)e[n]=new Map;return e},vf=function(e,n){let r=e.get(n);return r===void 0&&(r=new Map,e.set(n,r)),r},Uu=function(e,n){return e[ut(this,Nn,ZN).call(this,n)]},KN=function(){return[..._e(this,Pf),..._e(this,Of),..._e(this,Df),..._e(this,Mf)]},ZN=function(e){return e.isMultiple?e.optional===!0?Ef.multipleOptional:Ef.multipleMandatory:e.optional===!0?Ef.singleOptional:Ef.singleMandatory};function QN(t,e){return Kr(e)?(t.cache={isRight:!0,value:e},e.then(n=>VD(t,n))):VD(t,e)}function VD(t,e){return t.cache={isRight:!0,value:e},e}function bj(t,e,n){const r=t.getActivations(e);return r===void 0?n:Kr(n)?HD(t,n,r[Symbol.iterator]()):function(i,s,o){let u=s,c=o.next();for(;c.done!==!0;){const f=c.value(i.context,u);if(Kr(f))return HD(i,f,o);u=f,c=o.next()}return u}(t,n,r[Symbol.iterator]())}async function HD(t,e,n){let r=await e,i=n.next();for(;i.done!==!0;)r=await i.value(t.context,r),i=n.next();return r}function j2(t,e,n){let r=n;if(e.onActivation!==void 0){const i=e.onActivation;r=Kr(r)?r.then(s=>i(t.context,s)):i(t.context,r)}return bj(t,e.serviceIdentifier,r)}function HR(t){return(e,n)=>n.cache.isRight?n.cache.value:QN(n,j2(e,n,t(e,n)))}const _j=HR(function(t,e){return e.value});function yj(t){return t}function WR(t,e){return(n,r)=>{const i=t(r);switch(i.scope){case Uo.Singleton:return i.cache.isRight?i.cache.value:QN(i,j2(n,i,e(n,r)));case Uo.Request:{if(n.requestScopeCache.has(i.id))return n.requestScopeCache.get(i.id);const s=j2(n,i,e(n,r));return n.requestScopeCache.set(i.id,s),s}case Uo.Transient:return j2(n,i,e(n,r))}}}const xj=(t=>WR(yj,t))(function(t,e){return e.value(t.context)}),Sj=HR(function(t,e){return e.factory(t.context)});function WD(t,e,n){const r=function(i,s,o){if(o!==void 0){if(!(o in i))throw new Br(cr.resolution,`Expecting a "${o.toString()}" property when resolving "${s.implementationType.name}" class @postConstruct decorated method, none found.`);if(typeof i[o]!="function")throw new Br(cr.resolution,`Expecting a "${o.toString()}" method when resolving "${s.implementationType.name}" class @postConstruct decorated method, a non function property was found instead.`);{let u;try{u=i[o]()}catch(c){throw new Br(cr.resolution,`Unexpected error found when calling "${o.toString()}" @postConstruct decorated method on class "${s.implementationType.name}"`,{cause:c})}if(Kr(u))return async function(c,f,p){try{await p}catch(v){throw new Br(cr.resolution,`Unexpected error found when calling "${f.toString()}" @postConstruct decorated method on class "${c.implementationType.name}"`,{cause:v})}}(s,o,u)}}}(t,e,n);return Kr(r)?r.then(()=>t):t}function $D(t){return(e,n,r)=>{const i=new r.binding.implementationType(...e),s=t(n,i,r);return Kr(s)?s.then(()=>WD(i,r.binding,r.classMetadata.lifecycle.postConstructMethodName)):WD(i,r.binding,r.classMetadata.lifecycle.postConstructMethodName)}}const wj=HR(function(t,e){return e.provider(t.context)});function Ej(t){return t.binding}function Tj(t){return t.binding}const jD=function(t){return(e,n,r)=>{const i=[];for(const[s,o]of r.propertyParams){const u=r.classMetadata.properties.get(s);if(u===void 0)throw new Br(cr.resolution,`Expecting metadata at property "${s.toString()}", none found`);u.kind!==Od.unmanaged&&o.bindings!==void 0&&(n[s]=t(e,o),Kr(n[s])&&i.push((async()=>{n[s]=await n[s]})()))}if(i.length>0)return Promise.all(i).then(()=>{})}}(gw),XD=function(t){return function e(n,r){const i=[];for(const s of r.redirections)Wf(s)?i.push(...e(n,s)):i.push(t(n,s));return i}}(wA),Cj=function(t,e,n){return(r,i)=>{const s=t(r,i);return Kr(s)?e(s,r,i):n(s,r,i)}}(function(t){return(e,n)=>{const r=[];for(const i of n.constructorParams)i===void 0?r.push(void 0):r.push(t(e,i));return r.some(Kr)?Promise.all(r):r}}(gw),function(t){return async(e,n,r)=>{const i=await e;return t(i,n,r)}}($D(jD)),$D(jD)),Aj=function(t){return(e,n)=>{const r=t(e,n);return Kr(r)?r.then(i=>n.binding.factory(...i)):n.binding.factory(...r)}}(function(t){return(e,n)=>{const r=[];for(const i of n.params)r.push(t(e,i));return r.some(Kr)?Promise.all(r):r}}(gw)),Rj=(t=>WR(Ej,t))(Cj),Pj=(t=>WR(Tj,t))(Aj);function Oj(t){return gw(t,t.planResult.tree.root)}function wA(t,e){switch(e.binding.type){case Or.ConstantValue:return _j(t,e.binding);case Or.DynamicValue:return xj(t,e.binding);case Or.Factory:return Sj(t,e.binding);case Or.Instance:return Rj(t,e);case Or.Provider:return wj(t,e.binding);case Or.ResolvedValue:return Pj(t,e)}}function gw(t,e){if(e.bindings!==void 0)return Array.isArray(e.bindings)?function(n,r){const i=[];for(const s of r)Wf(s)?i.push(...XD(n,s)):i.push(wA(n,s));return i.some(Kr)?Promise.all(i):i}(t,e.bindings):function(n,r){if(Wf(r)){const i=XD(n,r);if(i.length===1)return i[0];throw new Br(cr.resolution,"Unexpected multiple resolved values on single injection")}return wA(n,r)}(t,e.bindings)}function Mj(t){return t.scope!==void 0}function YD(t,e){if(t.lifecycle.preDestroyMethodName!==void 0&&typeof e[t.lifecycle.preDestroyMethodName]=="function")return e[t.lifecycle.preDestroyMethodName]()}function qD(t,e,n){const r=t.getDeactivations(e);if(r!==void 0)return Kr(n)?KD(n,r[Symbol.iterator]()):function(i,s){let o=s.next();for(;o.done!==!0;){const u=o.value(i);if(Kr(u))return KD(i,s);o=s.next()}}(n,r[Symbol.iterator]())}async function KD(t,e){const n=await t;let r=e.next();for(;r.done!==!0;)await r.value(n),r=e.next()}function Dj(t,e){const n=function(r,i){if(i.type===Or.Instance){const s=r.getClassMetadata(i.implementationType),o=i.cache.value;return Kr(o)?o.then(u=>YD(s,u)):YD(s,o)}}(t,e);return n===void 0?ZD(t,e):n.then(()=>ZD(t,e))}function ZD(t,e){const n=e.cache;return Kr(n.value)?n.value.then(r=>QD(t,e,r)):QD(t,e,n.value)}function QD(t,e,n){let r;return e.onDeactivation!==void 0&&(r=(0,e.onDeactivation)(n)),r===void 0?qD(t,e.serviceIdentifier,n):r.then(()=>qD(t,e.serviceIdentifier,n))}function JN(t,e){if(e===void 0)return;const n=function(i){const s=[];for(const o of i)Mj(o)&&o.scope===Uo.Singleton&&o.cache.isRight&&s.push(o);return s}(e),r=[];for(const i of n){const s=Dj(t,i);s!==void 0&&r.push(s)}return r.length>0?Promise.all(r).then(()=>{}):void 0}function Bj(t,e){const n=t.getBindingsFromModule(e);return JN(t,n)}function JD(t,e){const n=t.getBindings(e);return JN(t,n)}var yA;let af=(yA=class{},St(yA,"always",e=>!0),yA);const GT="@inversifyjs/container/bindingId";function of(){const t=qm(Object,GT)??0;return t===Number.MAX_SAFE_INTEGER?UN(Object,GT,Number.MIN_SAFE_INTEGER):xm(Object,GT,()=>t,e=>e+1),t}function V0(t){return e=>{for(let n=e.getAncestor();n!==void 0;n=n.getAncestor())if(t(n))return!0;return!1}}function b0(t){return e=>e.name===t}function e2(t){return e=>e.serviceIdentifier===t}function _0(t,e){return n=>n.tags.has(t)&&n.tags.get(t)===e}function kj(t){return t.name===void 0&&t.tags.size===0}function t2(t){const e=V0(t);return n=>!e(n)}function n2(t){return e=>{const n=e.getAncestor();return n===void 0||!t(n)}}function r2(t){return e=>{const n=e.getAncestor();return n!==void 0&&t(n)}}var Ol,S5;let Ij=(S5=class{constructor(e){Bt(this,Ol);bt(this,Ol,e)}inRequestScope(){return _e(this,Ol).scope=Uo.Request,new If(_e(this,Ol))}inSingletonScope(){return _e(this,Ol).scope=Uo.Singleton,new If(_e(this,Ol))}inTransientScope(){return _e(this,Ol).scope=Uo.Transient,new If(_e(this,Ol))}},Ol=new WeakMap,S5);var Bo,ko,Bf,fa,hw,e8;class eB{constructor(e,n,r,i){Bt(this,hw);Bt(this,Bo);Bt(this,ko);Bt(this,Bf);Bt(this,fa);bt(this,Bo,e),bt(this,ko,n),bt(this,Bf,r),bt(this,fa,i)}to(e){const n=SA(e),r={cache:{isRight:!1,value:void 0},id:of(),implementationType:e,isSatisfiedBy:af.always,moduleId:_e(this,ko),onActivation:void 0,onDeactivation:void 0,scope:n.scope??_e(this,Bf),serviceIdentifier:_e(this,fa),type:Or.Instance};return _e(this,Bo).call(this,r),new zT(r)}toSelf(){if(typeof _e(this,fa)!="function")throw new Error('"toSelf" function can only be applied when a newable function is used as service identifier');return this.to(_e(this,fa))}toConstantValue(e){const n={cache:{isRight:!1,value:void 0},id:of(),isSatisfiedBy:af.always,moduleId:_e(this,ko),onActivation:void 0,onDeactivation:void 0,scope:Uo.Singleton,serviceIdentifier:_e(this,fa),type:Or.ConstantValue,value:e};return _e(this,Bo).call(this,n),new If(n)}toDynamicValue(e){const n={cache:{isRight:!1,value:void 0},id:of(),isSatisfiedBy:af.always,moduleId:_e(this,ko),onActivation:void 0,onDeactivation:void 0,scope:_e(this,Bf),serviceIdentifier:_e(this,fa),type:Or.DynamicValue,value:e};return _e(this,Bo).call(this,n),new zT(n)}toResolvedValue(e,n){const r={cache:{isRight:!1,value:void 0},factory:e,id:of(),isSatisfiedBy:af.always,metadata:ut(this,hw,e8).call(this,n),moduleId:_e(this,ko),onActivation:void 0,onDeactivation:void 0,scope:_e(this,Bf),serviceIdentifier:_e(this,fa),type:Or.ResolvedValue};return _e(this,Bo).call(this,r),new zT(r)}toFactory(e){const n={cache:{isRight:!1,value:void 0},factory:e,id:of(),isSatisfiedBy:af.always,moduleId:_e(this,ko),onActivation:void 0,onDeactivation:void 0,scope:Uo.Singleton,serviceIdentifier:_e(this,fa),type:Or.Factory};return _e(this,Bo).call(this,n),new If(n)}toProvider(e){const n={cache:{isRight:!1,value:void 0},id:of(),isSatisfiedBy:af.always,moduleId:_e(this,ko),onActivation:void 0,onDeactivation:void 0,provider:e,scope:Uo.Singleton,serviceIdentifier:_e(this,fa),type:Or.Provider};return _e(this,Bo).call(this,n),new If(n)}toService(e){const n={id:of(),isSatisfiedBy:af.always,moduleId:_e(this,ko),serviceIdentifier:_e(this,fa),targetServiceIdentifier:e,type:Or.ServiceRedirection};_e(this,Bo).call(this,n)}}Bo=new WeakMap,ko=new WeakMap,Bf=new WeakMap,fa=new WeakMap,hw=new WeakSet,e8=function(e){return{arguments:(e??[]).map(n=>function(r){return typeof r=="object"&&!LR.is(r)}(n)?{kind:n.isMultiple===!0?Sm.multipleInjection:Sm.singleInjection,name:n.name,optional:n.optional??!1,tags:new Map((n.tags??[]).map(r=>[r.key,r.value])),value:n.serviceIdentifier}:{kind:Sm.singleInjection,name:void 0,optional:!1,tags:new Map,value:n})}};var pd;class t8{constructor(e){Bt(this,pd);bt(this,pd,e)}onActivation(e){return _e(this,pd).onActivation=e,new EA(_e(this,pd))}onDeactivation(e){return _e(this,pd).onDeactivation=e,new EA(_e(this,pd))}}pd=new WeakMap;var Vm,w5;let EA=(w5=class{constructor(e){Bt(this,Vm);bt(this,Vm,e)}when(e){return _e(this,Vm).isSatisfiedBy=e,new t8(_e(this,Vm))}whenAnyAncestor(e){return this.when(V0(e))}whenAnyAncestorIs(e){return this.when(V0(e2(e)))}whenAnyAncestorNamed(e){return this.when(function(n){return V0(b0(n))}(e))}whenAnyAncestorTagged(e,n){return this.when(function(r,i){return V0(_0(r,i))}(e,n))}whenDefault(){return this.when(kj)}whenNamed(e){return this.when(b0(e))}whenNoParent(e){return this.when(n2(e))}whenNoParentIs(e){return this.when(n2(e2(e)))}whenNoParentNamed(e){return this.when(function(n){return n2(b0(n))}(e))}whenNoParentTagged(e,n){return this.when(function(r,i){return n2(_0(r,i))}(e,n))}whenParent(e){return this.when(r2(e))}whenParentIs(e){return this.when(r2(e2(e)))}whenParentNamed(e){return this.when(function(n){return r2(b0(n))}(e))}whenParentTagged(e,n){return this.when(function(r,i){return r2(_0(r,i))}(e,n))}whenTagged(e,n){return this.when(_0(e,n))}whenNoAncestor(e){return this.when(t2(e))}whenNoAncestorIs(e){return this.when(t2(e2(e)))}whenNoAncestorNamed(e){return this.when(function(n){return t2(b0(n))}(e))}whenNoAncestorTagged(e,n){return this.when(function(r,i){return t2(_0(r,i))}(e,n))}},Vm=new WeakMap,w5);var Hm,E5;let If=(E5=class extends EA{constructor(n){super(n);Bt(this,Hm);bt(this,Hm,new t8(n))}onActivation(n){return _e(this,Hm).onActivation(n)}onDeactivation(n){return _e(this,Hm).onDeactivation(n)}},Hm=new WeakMap,E5);var kf,T5;let zT=(T5=class extends If{constructor(n){super(n);Bt(this,kf);bt(this,kf,new Ij(n))}inRequestScope(){return _e(this,kf).inRequestScope()}inSingletonScope(){return _e(this,kf).inSingletonScope()}inTransientScope(){return _e(this,kf).inTransientScope()}},kf=new WeakMap,T5);const VT=Symbol.for("@inversifyjs/container/InversifyContainerError");var C5,A5;let HT=class n8 extends(A5=Error,C5=VT,A5){constructor(n,r,i){super(r,i);St(this,C5);St(this,"kind");this[VT]=!0,this.kind=n}static is(n){return typeof n=="object"&&n!==null&&n[VT]===!0}static isErrorOfKind(n,r){return n8.is(n)&&n.kind===r}};var u_;(function(t){t[t.invalidOperation=0]="invalidOperation"})(u_||(u_={}));const Nj=Uo.Transient;var os,Rr,Bs,Wm,$m,gd,pa,jm,Xm,Ym,$t,r8,X2,i8,s8,H0,TA,W0,a8,CA,o8,$0;class Uj{constructor(e){Bt(this,$t);Bt(this,os);Bt(this,Rr);Bt(this,Bs);Bt(this,Wm);Bt(this,$m);Bt(this,gd);Bt(this,pa);Bt(this,jm);Bt(this,Xm);Bt(this,Ym);bt(this,Wm,n=>_e(this,os).get(n)),bt(this,pa,new vj),bt(this,jm,ut(this,$t,TA).call(this)),(e==null?void 0:e.parent)===void 0?(bt(this,os,ID.build(void 0)),bt(this,Rr,ND.build(void 0)),bt(this,Bs,UD.build(void 0))):(bt(this,os,ID.build(_e(e.parent,os))),bt(this,Rr,ND.build(_e(e.parent,Rr))),bt(this,Bs,UD.build(_e(e.parent,Bs))),_e(e.parent,pa).subscribe(_e(this,pa))),bt(this,$m,_e(this,Rr).get.bind(_e(this,Rr))),bt(this,Xm,ut(this,$t,$0).bind(this)),bt(this,gd,{autobind:(e==null?void 0:e.autobind)??!1,defaultScope:(e==null?void 0:e.defaultScope)??Nj}),bt(this,Ym,[])}bind(e){return new eB(n=>{ut(this,$t,$0).call(this,n)},void 0,_e(this,gd).defaultScope,e)}get(e,n){const r=ut(this,$t,H0).call(this,!1,e,n),i=ut(this,$t,W0).call(this,r);if(Kr(i))throw new HT(u_.invalidOperation,`Unexpected asyncronous service when resolving service "${Za(e)}"`);return i}getAll(e,n){const r=ut(this,$t,H0).call(this,!0,e,n),i=ut(this,$t,W0).call(this,r);if(Kr(i))throw new HT(u_.invalidOperation,`Unexpected asyncronous service when resolving service "${Za(e)}"`);return i}async getAllAsync(e,n){const r=ut(this,$t,H0).call(this,!0,e,n);return ut(this,$t,W0).call(this,r)}async getAsync(e,n){const r=ut(this,$t,H0).call(this,!1,e,n);return ut(this,$t,W0).call(this,r)}isBound(e,n){const r=_e(this,Rr).get(e);return ut(this,$t,CA).call(this,e,r,n)}isCurrentBound(e,n){const r=_e(this,Rr).getNonParentBindings(e);return ut(this,$t,CA).call(this,e,r,n)}async load(...e){await Promise.all(e.map(async n=>n.load(ut(this,$t,r8).call(this,n.id))))}onActivation(e,n){_e(this,os).add(n,{serviceId:e})}onDeactivation(e,n){_e(this,Bs).add(n,{serviceId:e})}restore(){const e=_e(this,Ym).pop();if(e===void 0)throw new HT(u_.invalidOperation,"No snapshot available to restore");bt(this,os,e.activationService),bt(this,Rr,e.bindingService),bt(this,Bs,e.deactivationService),ut(this,$t,o8).call(this)}snapshot(){_e(this,Ym).push({activationService:_e(this,os).clone(),bindingService:_e(this,Rr).clone(),deactivationService:_e(this,Bs).clone()})}async unbind(e){await JD(ut(this,$t,X2).call(this),e),_e(this,os).removeAllByServiceId(e),_e(this,Rr).removeAllByServiceId(e),_e(this,Bs).removeAllByServiceId(e),_e(this,pa).clearCache()}async unbindAll(){const e=ut(this,$t,X2).call(this),n=[..._e(this,Rr).getNonParentBoundServices()];await Promise.all(n.map(async r=>JD(e,r)));for(const r of n)_e(this,os).removeAllByServiceId(r),_e(this,Rr).removeAllByServiceId(r),_e(this,Bs).removeAllByServiceId(r);_e(this,pa).clearCache()}async unload(...e){const n=ut(this,$t,X2).call(this);await Promise.all(e.map(r=>Bj(n,r.id)));for(const r of e)_e(this,os).removeAllByModuleId(r.id),_e(this,Rr).removeAllByModuleId(r.id),_e(this,Bs).removeAllByModuleId(r.id);_e(this,pa).clearCache()}}os=new WeakMap,Rr=new WeakMap,Bs=new WeakMap,Wm=new WeakMap,$m=new WeakMap,gd=new WeakMap,pa=new WeakMap,jm=new WeakMap,Xm=new WeakMap,Ym=new WeakMap,$t=new WeakSet,r8=function(e){return{bind:n=>new eB(r=>{ut(this,$t,$0).call(this,r)},e,_e(this,gd).defaultScope,n),isBound:this.isBound.bind(this),onActivation:(n,r)=>{_e(this,os).add(r,{moduleId:e,serviceId:n})},onDeactivation:(n,r)=>{_e(this,Bs).add(r,{moduleId:e,serviceId:n})},unbind:this.unbind.bind(this)}},X2=function(){return{getBindings:e=>_e(this,Rr).get(e),getBindingsFromModule:e=>_e(this,Rr).getByModuleId(e),getClassMetadata:SA,getDeactivations:e=>_e(this,Bs).get(e)}},i8=function(e,n,r){return{isMultiple:e,name:r==null?void 0:r.name,optional:r==null?void 0:r.optional,serviceIdentifier:n,tag:r==null?void 0:r.tag}},s8=function(e,n,r){const i={autobindOptions:(r==null?void 0:r.autobind)??_e(this,gd).autobind?{scope:_e(this,gd).defaultScope}:void 0,getBindings:_e(this,$m),getClassMetadata:SA,rootConstraints:{isMultiple:n,serviceIdentifier:e},servicesBranch:[],setBinding:_e(this,Xm)};return ut(this,$t,a8).call(this,i,r),i},H0=function(e,n,r){const i=ut(this,$t,i8).call(this,e,n,r),s=_e(this,pa).get(i);if(s!==void 0)return s;const o=hj(ut(this,$t,s8).call(this,n,e,r));return _e(this,pa).set(i,o),o},TA=function(){return{get:this.get.bind(this),getAll:this.getAll.bind(this),getAllAsync:this.getAllAsync.bind(this),getAsync:this.getAsync.bind(this)}},W0=function(e){return Oj({context:_e(this,jm),getActivations:_e(this,Wm),planResult:e,requestScopeCache:new Map})},a8=function(e,n){n!==void 0&&(n.name!==void 0&&(e.rootConstraints.name=n.name),n.optional===!0&&(e.rootConstraints.isOptional=!0),n.tag!==void 0&&(e.rootConstraints.tag={key:n.tag.key,value:n.tag.value}))},CA=function(e,n,r){if(n===void 0)return!1;const i={getAncestor:()=>{},name:r==null?void 0:r.name,serviceIdentifier:e,tags:new Map};(r==null?void 0:r.tag)!==void 0&&i.tags.set(r.tag.key,r.tag.value);for(const s of n)if(s.isSatisfiedBy(i))return!0;return!1},o8=function(){_e(this,pa).clearCache(),bt(this,Wm,e=>_e(this,os).get(e)),bt(this,$m,_e(this,Rr).get.bind(_e(this,Rr))),bt(this,jm,ut(this,$t,TA).call(this)),bt(this,Xm,ut(this,$t,$0).bind(this))},$0=function(e){_e(this,Rr).set(e),_e(this,pa).clearCache()};const Fj="modulepreload",Lj=function(t){return"/towers-of-hanoi/"+t},tB={},yS=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=Lj(c),c in tB)return;tB[c]=!0;const f=c.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":Fj,f||(v.as="script"),v.crossOrigin="",v.href=c,u&&v.setAttribute("nonce",u),document.head.appendChild(v),f)return new Promise((b,y)=>{v.addEventListener("load",b),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};var te=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(te||{});const AA=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},j0=(t,e)=>AA(t).priority??e,An={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(AA).forEach(e=>{e.type.forEach(n=>{var r,i;return(i=(r=this._removeHandlers)[n])==null?void 0:i.call(r,e)})}),this},add(...t){return t.map(AA).forEach(e=>{e.type.forEach(n=>{var s,o;const r=this._addHandlers,i=this._queue;r[n]?(o=r[n])==null||o.call(r,e):(i[n]=i[n]||[],(s=i[n])==null||s.push(e))})}),this},handle(t,e,n){var o;const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(u=>e(u)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{n.name&&(e[n.name]=n.ref)},n=>{n.name&&delete e[n.name]})},handleByNamedList(t,e,n=-1){return this.handle(t,r=>{e.findIndex(s=>s.name===r.name)>=0||(e.push({name:r.name,value:r.ref}),e.sort((s,o)=>j0(o.value,n)-j0(s.value,n)))},r=>{const i=e.findIndex(s=>s.name===r.name);i!==-1&&e.splice(i,1)})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>j0(s,n)-j0(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})},mixin(t,...e){for(const n of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(n))}},l8={extension:{type:te.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await yS(()=>import("./browserAll-C8CZSkuT.js"),__vite__mapDeps([0,1]))}},u8={extension:{type:te.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await yS(()=>import("./webworkerAll-4vuNUr_z.js"),[])}};class Mr{constructor(e,n,r){this._x=n||0,this._y=r||0,this._observer=e}clone(e){return new Mr(e??this._observer,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var WT={exports:{}},nB;function Gj(){return nB||(nB=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,p){this.fn=c,this.context=f,this.once=p||!1}function s(c,f,p,v,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,v||c,b),E=n?n+f:f;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],y]:c._events[E].push(y):(c._events[E]=y,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,v;if(this._eventsCount===0)return f;for(v in p=this._events)e.call(p,v)&&f.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var b=0,y=v.length,E=new Array(y);b<y;b++)E[b]=v[b].fn;return E},u.prototype.listenerCount=function(f){var p=n?n+f:f,v=this._events[p];return v?v.fn?1:v.length:0},u.prototype.emit=function(f,p,v,b,y,E){var S=n?n+f:f;if(!this._events[S])return!1;var T=this._events[S],A=arguments.length,P,O;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),A){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,p),!0;case 3:return T.fn.call(T.context,p,v),!0;case 4:return T.fn.call(T.context,p,v,b),!0;case 5:return T.fn.call(T.context,p,v,b,y),!0;case 6:return T.fn.call(T.context,p,v,b,y,E),!0}for(O=1,P=new Array(A-1);O<A;O++)P[O-1]=arguments[O];T.fn.apply(T.context,P)}else{var M=T.length,D;for(O=0;O<M;O++)switch(T[O].once&&this.removeListener(f,T[O].fn,void 0,!0),A){case 1:T[O].fn.call(T[O].context);break;case 2:T[O].fn.call(T[O].context,p);break;case 3:T[O].fn.call(T[O].context,p,v);break;case 4:T[O].fn.call(T[O].context,p,v,b);break;default:if(!P)for(D=1,P=new Array(A-1);D<A;D++)P[D-1]=arguments[D];T[O].fn.apply(T[O].context,P)}}return!0},u.prototype.on=function(f,p,v){return s(this,f,p,v,!1)},u.prototype.once=function(f,p,v){return s(this,f,p,v,!0)},u.prototype.removeListener=function(f,p,v,b){var y=n?n+f:f;if(!this._events[y])return this;if(!p)return o(this,y),this;var E=this._events[y];if(E.fn)E.fn===p&&(!b||E.once)&&(!v||E.context===v)&&o(this,y);else{for(var S=0,T=[],A=E.length;S<A;S++)(E[S].fn!==p||b&&!E[S].once||v&&E[S].context!==v)&&T.push(E[S]);T.length?this._events[y]=T.length===1?T[0]:T:o(this,y)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(WT)),WT.exports}var zj=Gj();const hs=cv(zj),c8=Math.PI*2,d8=180/Math.PI,h8=Math.PI/180;class mn{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new mn(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return $T.x=0,$T.y=0,$T}}const $T=new mn;class Je{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new mn;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new mn;const r=this.a,i=this.b,s=this.c,o=this.d,u=this.tx,c=this.ty,f=1/(r*o+s*-i),p=e.x,v=e.y;return n.x=o*f*p+-s*f*v+(c*s-u*o)*f,n.y=r*f*v+-i*f*p+(-c*r+u*i)*f,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}appendFrom(e,n){const r=e.a,i=e.b,s=e.c,o=e.d,u=e.tx,c=e.ty,f=n.a,p=n.b,v=n.c,b=n.d;return this.a=r*f+i*v,this.b=r*p+i*b,this.c=s*f+o*v,this.d=s*p+o*b,this.tx=u*f+c*v+n.tx,this.ty=u*p+c*b+n.ty,this}setTransform(e,n,r,i,s,o,u,c,f){return this.a=Math.cos(u+f)*s,this.b=Math.sin(u+f)*s,this.c=-Math.sin(u-c)*o,this.d=Math.cos(u-c)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,u=-Math.atan2(-i,s),c=Math.atan2(r,n),f=Math.abs(u+c);return f<1e-5||Math.abs(c8-f)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=u,e.skew.y=c),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Je;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Hj.identity()}static get shared(){return Vj.identity()}}const Vj=new Je,Hj=new Je,bf=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],_f=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],yf=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],xf=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],RA=[],f8=[],i2=Math.sign;function Wj(){for(let t=0;t<16;t++){const e=[];RA.push(e);for(let n=0;n<16;n++){const r=i2(bf[t]*bf[n]+yf[t]*_f[n]),i=i2(_f[t]*bf[n]+xf[t]*_f[n]),s=i2(bf[t]*yf[n]+yf[t]*xf[n]),o=i2(_f[t]*yf[n]+xf[t]*xf[n]);for(let u=0;u<16;u++)if(bf[u]===r&&_f[u]===i&&yf[u]===s&&xf[u]===o){e.push(u);break}}}for(let t=0;t<16;t++){const e=new Je;e.set(bf[t],_f[t],yf[t],xf[t],0,0),f8.push(e)}}Wj();const Ht={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>bf[t],uY:t=>_f[t],vX:t=>yf[t],vY:t=>xf[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>RA[t][e],sub:(t,e)=>RA[t][Ht.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ht.S:Ht.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ht.E:Ht.W:e>0?t>0?Ht.SE:Ht.SW:t>0?Ht.NE:Ht.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=f8[Ht.inv(e)];i.tx=n,i.ty=r,t.append(i)}},s2=[new mn,new mn,new mn,new mn];class vn{constructor(e=0,n=0,r=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new vn(0,0,0,0)}clone(){return new vn(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(e,n,r,i=.5){const{width:s,height:o}=this;if(s<=0||o<=0)return!1;const u=this.x,c=this.y,f=r*(1-i),p=r-f,v=u-f,b=u+s+f,y=c-f,E=c+o+f,S=u+p,T=u+s-p,A=c+p,P=c+o-p;return e>=v&&e<=b&&n>=y&&n<=E&&!(e>S&&e<T&&n>A&&n<P)}intersects(e,n){if(!n){const Y=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=Y)return!1;const X=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>X}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const u=s2[0].set(e.left,e.top),c=s2[1].set(e.left,e.bottom),f=s2[2].set(e.right,e.top),p=s2[3].set(e.right,e.bottom);if(f.x<=u.x||c.y<=u.y)return!1;const v=Math.sign(n.a*n.d-n.b*n.c);if(v===0||(n.apply(u,u),n.apply(c,c),n.apply(f,f),n.apply(p,p),Math.max(u.x,c.x,f.x,p.x)<=r||Math.min(u.x,c.x,f.x,p.x)>=i||Math.max(u.y,c.y,f.y,p.y)<=s||Math.min(u.y,c.y,f.y,p.y)>=o))return!1;const b=v*(c.y-u.y),y=v*(u.x-c.x),E=b*r+y*s,S=b*i+y*s,T=b*r+y*o,A=b*i+y*o;if(Math.max(E,S,T,A)<=b*u.x+y*u.y||Math.min(E,S,T,A)>=b*p.x+y*p.y)return!1;const P=v*(u.y-f.y),O=v*(f.x-u.x),M=P*r+O*s,D=P*i+O*s,W=P*r+O*o,G=P*i+O*o;return!(Math.max(M,D,W,G)<=P*u.x+O*u.y||Math.min(M,D,W,G)>=P*p.x+O*p.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}getBounds(e){return e||(e=new vn),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const n=e.x,r=e.y,i=e.x+e.width,s=e.y+e.height;return n>=this.x&&n<this.x+this.width&&r>=this.y&&r<this.y+this.height&&i>=this.x&&i<this.x+this.width&&s>=this.y&&s<this.y+this.height}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const c_={default:-1};function Xn(t="default"){return c_[t]===void 0&&(c_[t]=-1),++c_[t]}function $j(){for(const t in c_)delete c_[t]}const rB={},Tt="8.0.0",p8="8.3.4";function Qe(t,e,n=3){if(rB[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(r))),rB[e]=!0}const $R=()=>{};function $f(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function PA(t){return!(t&t-1)&&!!t}function jj(t){let e=(t>65535?1:0)<<4;t>>>=e;let n=(t>255?1:0)<<3;return t>>>=n,e|=n,n=(t>15?1:0)<<2,t>>>=n,e|=n,n=(t>3?1:0)<<1,t>>>=n,e|=n,e|t>>1}function zo(t){const e={};for(const n in t)t[n]!==void 0&&(e[n]=t[n]);return e}const iB=Object.create(null);function Xj(t){const e=iB[t];return e===void 0&&(iB[t]=Xn("resource")),e}const g8=class m8 extends hs{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...m8.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){Qe(Tt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Xj(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};g8.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let jR=g8;const v8=class b8 extends hs{constructor(e={}){super(),this.options=e,this.uid=Xn("textureSource"),this._resourceType="textureSource",this._resourceId=Xn("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...b8.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new jR(zo(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var n,r;this.style!==e&&((n=this._style)==null||n.off("change",this._onStyleChange,this),this._style=e,(r=this._style)==null||r.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Xn("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,n,r){r||(r=this._resolution),e||(e=this.width),n||(n=this.height);const i=Math.round(e*r),s=Math.round(n*r);return this.width=i/r,this.height=s/r,this._resolution=r,this.pixelWidth===i&&this.pixelHeight===s?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=s,this.emit("resize",this),this._resourceId=Xn("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=PA(this.pixelWidth)&&PA(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};v8.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let br=v8;class mw extends br{constructor(e){const n=e.resource||new Float32Array(e.width*e.height*4);let r=e.format;r||(n instanceof Float32Array?r="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?r="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?r="rgba16uint":(n instanceof Int8Array,r="bgra8unorm")),super({...e,resource:n,format:r}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}mw.extension=te.TextureSource;const sB=new Je;class XR{constructor(e,n){this.mapCoord=new Je,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var n;this.texture!==e&&((n=this._texture)==null||n.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(){const e=this._texture;this._updateID++;const n=e.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const r=e.orig,i=e.trim;i&&(sB.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(sB));const s=e.source,o=this.uClampFrame,u=this.clampMargin/s._resolution,c=this.clampOffset/s._resolution;return o[0]=(e.frame.x+u+c)/s.width,o[1]=(e.frame.y+u+c)/s.height,o[2]=(e.frame.x+e.frame.width-u+c)/s.width,o[3]=(e.frame.y+e.frame.height-u+c)/s.height,this.uClampOffset[0]=this.clampOffset/s.pixelWidth,this.uClampOffset[1]=this.clampOffset/s.pixelHeight,this.isSimple=e.frame.width===s.width&&e.frame.height===s.height&&e.rotate===0,!0}}class ze extends hs{constructor({source:e,label:n,frame:r,orig:i,trim:s,defaultAnchor:o,defaultBorders:u,rotate:c,dynamic:f}={}){if(super(),this.uid=Xn("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new vn,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=(e==null?void 0:e.source)??new br,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:p,height:v}=this._source;this.frame.width=p,this.frame.height=v}this.orig=i||this.frame,this.trim=s,this.rotate=c??0,this.defaultAnchor=o,this.defaultBorders=u,this.destroyed=!1,this.dynamic=f||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new XR(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:n}=this,{width:r,height:i}=this._source,s=n.x/r,o=n.y/i,u=n.width/r,c=n.height/i;let f=this.rotate;if(f){const p=u/2,v=c/2,b=s+p,y=o+v;f=Ht.add(f,Ht.NW),e.x0=b+p*Ht.uX(f),e.y0=y+v*Ht.uY(f),f=Ht.add(f,2),e.x1=b+p*Ht.uX(f),e.y1=y+v*Ht.uY(f),f=Ht.add(f,2),e.x2=b+p*Ht.uX(f),e.y2=y+v*Ht.uY(f),f=Ht.add(f,2),e.x3=b+p*Ht.uX(f),e.y3=y+v*Ht.uY(f)}else e.x0=s,e.y0=o,e.x1=s+u,e.y1=o,e.x2=s+u,e.y2=o+c,e.x3=s,e.y3=o+c}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Qe(Tt,"Texture.baseTexture is now Texture.source"),this._source}}ze.EMPTY=new ze({label:"EMPTY",source:new br({label:"EMPTY"})});ze.EMPTY.destroy=$R;ze.WHITE=new ze({source:new mw({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});ze.WHITE.destroy=$R;function YR(t,e,n){const{width:r,height:i}=n.orig,s=n.trim;if(s){const o=s.width,u=s.height;t.minX=s.x-e._x*r,t.maxX=t.minX+o,t.minY=s.y-e._y*i,t.maxY=t.minY+u}else t.minX=-e._x*r,t.maxX=t.minX+r,t.minY=-e._y*i,t.maxY=t.minY+i}const aB=new Je;class Zr{constructor(e=1/0,n=1/0,r=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=aB,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new vn);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=aB,this}set(e,n,r,i){this.minX=e,this.minY=n,this.maxX=r,this.maxY=i}addFrame(e,n,r,i,s){s||(s=this.matrix);const o=s.a,u=s.b,c=s.c,f=s.d,p=s.tx,v=s.ty;let b=this.minX,y=this.minY,E=this.maxX,S=this.maxY,T=o*e+c*n+p,A=u*e+f*n+v;T<b&&(b=T),A<y&&(y=A),T>E&&(E=T),A>S&&(S=A),T=o*r+c*n+p,A=u*r+f*n+v,T<b&&(b=T),A<y&&(y=A),T>E&&(E=T),A>S&&(S=A),T=o*e+c*i+p,A=u*e+f*i+v,T<b&&(b=T),A<y&&(y=A),T>E&&(E=T),A>S&&(S=A),T=o*r+c*i+p,A=u*r+f*i+v,T<b&&(b=T),A<y&&(y=A),T>E&&(E=T),A>S&&(S=A),this.minX=b,this.minY=y,this.maxX=E,this.maxY=S}addRect(e,n){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,n)}addBounds(e,n){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,n)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,{a:o,b:u,c,d:f,tx:p,ty:v}=e;let b=o*n+c*r+p,y=u*n+f*r+v;this.minX=b,this.minY=y,this.maxX=b,this.maxY=y,b=o*i+c*r+p,y=u*i+f*r+v,this.minX=b<this.minX?b:this.minX,this.minY=y<this.minY?y:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=y>this.maxY?y:this.maxY,b=o*n+c*s+p,y=u*n+f*s+v,this.minX=b<this.minX?b:this.minX,this.minY=y<this.minY?y:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=y>this.maxY?y:this.maxY,b=o*i+c*s+p,y=u*i+f*s+v,this.minX=b<this.minX?b:this.minX,this.minY=y<this.minY?y:this.minY,this.maxX=b>this.maxX?b:this.maxX,this.maxY=y>this.maxY?y:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,n,r,i){return this.minX<e&&(this.minX=e),this.maxX>n&&(this.maxX=n),this.minY<r&&(this.minY=r),this.maxY>i&&(this.maxY=i),this}pad(e,n=e){return this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Zr(this.minX,this.minY,this.maxX,this.maxY)}scale(e,n=e){return this.minX*=e,this.minY*=n,this.maxX*=e,this.maxY*=n,this}get x(){return this.minX}set x(e){const n=this.maxX-this.minX;this.minX=e,this.maxX=e+n}get y(){return this.minY}set y(e){const n=this.maxY-this.minY;this.minY=e,this.maxY=e+n}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,n,r,i){let s=this.minX,o=this.minY,u=this.maxX,c=this.maxY;i||(i=this.matrix);const f=i.a,p=i.b,v=i.c,b=i.d,y=i.tx,E=i.ty;for(let S=n;S<r;S+=2){const T=e[S],A=e[S+1],P=f*T+v*A+y,O=p*T+b*A+E;s=P<s?P:s,o=O<o?O:o,u=P>u?P:u,c=O>c?O:c}this.minX=s,this.minY=o,this.maxX=u,this.maxY=c}containsPoint(e,n){return this.minX<=e&&this.minY<=n&&this.maxX>=e&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var Yj={grad:.9,turn:360,rad:360/(2*Math.PI)},Bu=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},oi=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},no=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},_8=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},oB=function(t){return{r:no(t.r,0,255),g:no(t.g,0,255),b:no(t.b,0,255),a:no(t.a)}},jT=function(t){return{r:oi(t.r),g:oi(t.g),b:oi(t.b),a:oi(t.a,3)}},qj=/^#([0-9a-f]{3,8})$/i,a2=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},y8=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),u=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},x8=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),u=r*(1-(e-s)*n),c=r*(1-(1-e+s)*n),f=s%6;return{r:255*[r,u,o,o,c,r][f],g:255*[c,r,r,u,o,o][f],b:255*[o,o,c,r,r,u][f],a:i}},lB=function(t){return{h:_8(t.h),s:no(t.s,0,100),l:no(t.l,0,100),a:no(t.a)}},uB=function(t){return{h:oi(t.h),s:oi(t.s),l:oi(t.l),a:oi(t.a,3)}},cB=function(t){return x8((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},d_=function(t){return{h:(e=y8(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},Kj=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Zj=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Qj=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Jj=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OA={string:[[function(t){var e=qj.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?oi(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?oi(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Qj.exec(t)||Jj.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:oB({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Kj.exec(t)||Zj.exec(t);if(!e)return null;var n,r,i=lB({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(Yj[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return cB(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return Bu(e)&&Bu(n)&&Bu(r)?oB({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!Bu(e)||!Bu(n)||!Bu(r))return null;var o=lB({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return cB(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!Bu(e)||!Bu(n)||!Bu(r))return null;var o=function(u){return{h:_8(u.h),s:no(u.s,0,100),v:no(u.v,0,100),a:no(u.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return x8(o)},"hsv"]]},dB=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},eX=function(t){return typeof t=="string"?dB(t.trim(),OA.string):typeof t=="object"&&t!==null?dB(t,OA.object):[null,void 0]},XT=function(t,e){var n=d_(t);return{h:n.h,s:no(n.s+100*e,0,100),l:n.l,a:n.a}},YT=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},hB=function(t,e){var n=d_(t);return{h:n.h,s:n.s,l:no(n.l+100*e,0,100),a:n.a}},MA=function(){function t(e){this.parsed=eX(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return oi(YT(this.rgba),2)},t.prototype.isDark=function(){return YT(this.rgba)<.5},t.prototype.isLight=function(){return YT(this.rgba)>=.5},t.prototype.toHex=function(){return e=jT(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?a2(oi(255*s)):"","#"+a2(n)+a2(r)+a2(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return jT(this.rgba)},t.prototype.toRgbString=function(){return e=jT(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return uB(d_(this.rgba))},t.prototype.toHslString=function(){return e=uB(d_(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=y8(this.rgba),{h:oi(e.h),s:oi(e.s),v:oi(e.v),a:oi(e.a,3)};var e},t.prototype.invert=function(){return Cl({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Cl(XT(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Cl(XT(this.rgba,-e))},t.prototype.grayscale=function(){return Cl(XT(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Cl(hB(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Cl(hB(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Cl({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):oi(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=d_(this.rgba);return typeof e=="number"?Cl({h:e,s:n.s,l:n.l,a:n.a}):oi(n.h)},t.prototype.isEqual=function(e){return this.toHex()===Cl(e).toHex()},t}(),Cl=function(t){return t instanceof MA?t:new MA(t)},fB=[],tX=function(t){t.forEach(function(e){fB.indexOf(e)<0&&(e(MA,OA),fB.push(e))})};function nX(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,c,f=r[this.toHex()];if(f)return f;if(o!=null&&o.closest){var p=this.toRgb(),v=1/0,b="black";if(!s.length)for(var y in n)s[y]=new t(n[y]).toRgb();for(var E in n){var S=(u=p,c=s[E],Math.pow(u.r-c.r,2)+Math.pow(u.g-c.g,2)+Math.pow(u.b-c.b,2));S<v&&(v=S,b=E)}return b}},e.string.push([function(o){var u=o.toLowerCase(),c=u==="transparent"?"#0000":n[u];return c?new t(c).toRgb():null},"name"])}tX([nX]);const Qm=class X0{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof X0)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,n){const r=typeof e;if(r!==typeof n)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===n;if(Array.isArray(e)&&Array.isArray(n)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return e.length!==n.length?!1:e.every((s,o)=>s===n[o]);if(e!==null&&n!==null){const s=Object.keys(e),o=Object.keys(n);return s.length!==o.length?!1:s.every(u=>e[u]===n[u])}return e===n}toRgba(){const[e,n,r,i]=this._components;return{r:e,g:n,b:r,a:i}}toRgb(){const[e,n,r]=this._components;return{r:e,g:n,b:r}}toRgbaString(){const[e,n,r]=this.toUint8RgbArray();return`rgba(${e},${n},${r},${this.alpha})`}toUint8RgbArray(e){const[n,r,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(n*255),e[1]=Math.round(r*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[n,r,i,s]=this._components;return e[0]=n,e[1]=r,e[2]=i,e[3]=s,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[n,r,i]=this._components;return e[0]=n,e[1]=r,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,n,r]=this.toUint8RgbArray();return(r<<16)+(n<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[n,r,i,s]=X0._temp.setValue(e)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=i,this._components[3]*=s,this._refreshInt(),this._value=null,this}premultiply(e,n=!0){return n&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,n=!0){if(e===1)return(255<<24)+this._int;if(e===0)return n?0:this._int;let r=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return n&&(r=r*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(r<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let n,r,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;n=(o>>16&255)/255,r=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[n,r,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[n,r,i,s=255]=e,n/=255,r/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const u=X0.HEX_PATTERN.exec(e);u&&(e=`#${u[2]}`)}const o=Cl(e);o.isValid()&&({r:n,g:r,b:i,a:s}=o.rgba,n/=255,r/=255,i/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=r,this._components[2]=i,this._components[3]=s,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,n,r]=this._components;this._int=(e*255<<16)+(n*255<<8)+(r*255|0)}_clamp(e,n=0,r=1){return typeof e=="number"?Math.min(Math.max(e,n),r):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,n),r)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof X0||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};Qm.shared=new Qm;Qm._temp=new Qm;Qm.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let en=Qm;const S8={cullArea:null,cullable:!1,cullableChildren:!0};class vw{constructor(e,n){this._pool=[],this._count=0,this._index=0,this._classType=e,n&&this.prepopulate(n)}prepopulate(e){for(let n=0;n<e;n++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var r;let n;return this._index>0?n=this._pool[--this._index]:n=new this._classType,(r=n.init)==null||r.call(n,e),n}return(e){var n;(n=e.reset)==null||n.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class w8{constructor(){this._poolsByClass=new Map}prepopulate(e,n){this.getPool(e).prepopulate(n)}get(e,n){return this.getPool(e).get(n)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new vw(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(n=>{const r=e[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;e[r]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),e}}const Xt=new w8,E8={get isCachedAsTexture(){var t;return!!((t=this.renderGroup)!=null&&t.isCachedAsTexture)},cacheAsTexture(t){typeof t=="boolean"&&t===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(t===!0?{}:t))},updateCacheTexture(){var t;(t=this.renderGroup)==null||t.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){Qe("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};function qR(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}const T8={allowChildren:!0,removeChildren(t=0,e){const n=e??this.children.length,r=n-t,i=[];if(r>0&&r<=n){for(let o=n-1;o>=t;o--){const u=this.children[o];u&&(i.push(u),u.parent=null)}qR(this.children,t,n);const s=this.renderGroup||this.parentRenderGroup;s&&s.removeChildren(i);for(let o=0;o<i.length;++o)this.emit("childRemoved",i[o],this,o),i[o].emit("removed",this);return i.length>0&&this._didViewChangeTick++,i}else if(r===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||Qe(Tt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(e<0||e>n.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${n.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;i!==-1&&t.parent.children.splice(i,1)}e===n.length?n.push(t):n.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const n=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const r=this.worldTransform.clone();return r.invert(),n.prepend(r),t.setFromMatrix(n),t}},C8={collectRenderables(t,e,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,n):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,n))},collectRenderablesSimple(t,e,n){const r=this.children,i=r.length;for(let s=0;s<i;s++)r[s].collectRenderables(t,e,n)},collectRenderablesWithEffects(t,e,n){const{renderPipes:r}=e;for(let i=0;i<this.effects.length;i++){const s=this.effects[i];r[s.pipe].push(s,this,t)}this.collectRenderablesSimple(t,e,n);for(let i=this.effects.length-1;i>=0;i--){const s=this.effects[i];r[s.pipe].pop(s,this,t)}}};class O_{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class A8{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const r=this._tests[n];if(r.test(e))return Xt.get(r.maskClass,e)}return e}returnMaskEffect(e){Xt.return(e)}}const xS=new A8;An.handleByList(te.MaskEffect,xS._effectClasses);const R8={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){this.effects.indexOf(t)===-1&&(this.effects.push(t),this.effects.sort((n,r)=>n.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;(e==null?void 0:e.mask)!==t&&(e&&(this.removeEffect(e),xS.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=xS.getMaskEffect(t),this.addEffect(this._maskEffect)))},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},get mask(){var t;return(t=this._maskEffect)==null?void 0:t.mask},set filters(t){var s;!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new O_);t=t;const n=(t==null?void 0:t.length)>0,r=((s=e.filters)==null?void 0:s.length)>0,i=n!==r;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),i&&(n?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){var t;return(t=this._filterEffect)==null?void 0:t.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new O_),this._filterEffect.filterArea=t},get filterArea(){var t;return(t=this._filterEffect)==null?void 0:t.filterArea}},P8={label:null,get name(){return Qe(Tt,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){Qe(Tt,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const n=this.children;for(let r=0;r<n.length;r++){const i=n[r];if(i.label===t||t instanceof RegExp&&t.test(i.label))return i}if(e)for(let r=0;r<n.length;r++){const s=n[r].getChildByLabel(t,!0);if(s)return s}return null},getChildrenByLabel(t,e=!1,n=[]){const r=this.children;for(let i=0;i<r.length;i++){const s=r[i];(s.label===t||t instanceof RegExp&&t.test(s.label))&&n.push(s)}if(e)for(let i=0;i<r.length;i++)r[i].getChildrenByLabel(t,!0,n);return n}},Vi=new vw(Je),Ll=new vw(Zr),rX=new Je,O8={getFastGlobalBounds(t,e){e||(e=new Zr),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(n.worldTransform),e},_getGlobalBoundsRecursive(t,e,n){let r=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const i=!!this.effects.length;if((this.renderGroup||i)&&(r=Ll.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const o=this.bounds;r.addFrame(o.minX,o.minY,o.maxX,o.maxY,this.groupTransform)}const s=this.children;for(let o=0;o<s.length;o++)s[o]._getGlobalBoundsRecursive(t,r,n)}if(i){let s=!1;const o=this.renderGroup||this.parentRenderGroup;for(let u=0;u<this.effects.length;u++)this.effects[u].addBounds&&(s||(s=!0,r.applyMatrix(o.worldTransform)),this.effects[u].addBounds(r,!0));s&&(r.applyMatrix(o.worldTransform.copyTo(rX).invert()),e.addBounds(r,this.relativeGroupTransform)),e.addBounds(r),Ll.return(r)}else this.renderGroup&&(e.addBounds(r,this.relativeGroupTransform),Ll.return(r))}};function ay(t,e,n){n.clear();let r,i;return t.parent?e?r=t.parent.worldTransform:(i=Vi.get().identity(),r=bw(t,i)):r=Je.IDENTITY,KR(t,n,r,e),i&&Vi.return(i),n.isValid||n.set(0,0,0,0),n}function KR(t,e,n,r){var u,c;if(!t.visible||!t.measurable)return;let i;r?i=t.worldTransform:(t.updateLocalTransform(),i=Vi.get(),i.appendFrom(t.localTransform,n));const s=e,o=!!t.effects.length;if(o&&(e=Ll.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{t.bounds&&(e.matrix=i,e.addBounds(t.bounds));for(let f=0;f<t.children.length;f++)KR(t.children[f],e,i,r)}if(o){for(let f=0;f<t.effects.length;f++)(c=(u=t.effects[f]).addBounds)==null||c.call(u,e);s.addBounds(e,Je.IDENTITY),Ll.return(e)}r||Vi.return(i)}function bw(t,e){const n=t.parent;return n&&(bw(n,e),n.updateLocalTransform(),e.append(n.localTransform)),e}function ZR(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const n=t>>16&255,r=t>>8&255,i=t&255,s=e>>16&255,o=e>>8&255,u=e&255,c=n*s/255|0,f=r*o/255|0,p=i*u/255|0;return(c<<16)+(f<<8)+p}const pB=16777215;function M_(t,e){return t===pB?e:e===pB?t:ZR(t,e)}function wm(t){return((t&255)<<16)+(t&65280)+(t>>16&255)}const M8={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,n=this.parent;for(;n;)e*=n.alpha,n=n.parent;return e},getGlobalTransform(t,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const n=bw(this,Vi.get().identity());return t.appendFrom(this.localTransform,n),Vi.return(n),t},getGlobalTint(t){if(t)return this.renderGroup?wm(this.renderGroup.worldColor):this.parentRenderGroup?wm(M_(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,n=this.parent;for(;n;)e=M_(e,n.localColor),n=n.parent;return wm(e)}};let qT=0;const gB=500;function at(...t){qT!==gB&&(qT++,qT===gB?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}function _w(t,e,n){return e.clear(),n||(n=Je.IDENTITY),D8(t,e,n,t,!0),e.isValid||e.set(0,0,0,0),e}function D8(t,e,n,r,i){var c,f;let s;if(i)s=Vi.get(),s=n.copyTo(s);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const p=t.localTransform;s=Vi.get(),s.appendFrom(p,n)}const o=e,u=!!t.effects.length;if(u&&(e=Ll.get().clear()),t.boundsArea)e.addRect(t.boundsArea,s);else{t.renderPipeId&&(e.matrix=s,e.addBounds(t.bounds));const p=t.children;for(let v=0;v<p.length;v++)D8(p[v],e,s,r,!1)}if(u){for(let p=0;p<t.effects.length;p++)(f=(c=t.effects[p]).addLocalBounds)==null||f.call(c,e,r);o.addBounds(e,Je.IDENTITY),Ll.return(e)}Vi.return(s)}function B8(t,e,n){const r=t.parent;if(!r){at("Item is not inside the root container");return}r!==e&&(B8(r,e,n),r.updateLocalTransform(),n.append(r.localTransform))}function QR(t,e){const n=t.children;for(let r=0;r<n.length;r++){const i=n[r],s=i.uid,o=(i._didViewChangeTick&65535)<<16|i._didContainerChangeTick&65535,u=e.index;(e.data[u]!==s||e.data[u+1]!==o)&&(e.data[e.index]=s,e.data[e.index+1]=o,e.didChange=!0),e.index=u+2,i.children.length&&QR(i,e)}return e.didChange}const iX=new Je,k8={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const n=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*n:this.scale.x=n},_setHeight(t,e){const n=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Zr});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),QR(this,t),t.didChange&&_w(this,t.localBounds,iX),t.localBounds},getBounds(t,e){return ay(this,t,e||new Zr)}},I8={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&(e==null||e.removeOnRender(this)),this._onRender=null;return}this._onRender||e==null||e.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},N8={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(sX))}};function sX(t,e){return t._zIndex-e._zIndex}const U8={getGlobalPosition(t=new mn,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,n=!1){const r=this.getGlobalTransform(Vi.get(),n);return e=r.apply(t,e),Vi.return(r),e},toLocal(t,e,n,r){e&&(t=e.toGlobal(t,n,r));const i=this.getGlobalTransform(Vi.get(),r);return n=i.applyInverse(t,n),Vi.return(i),n}};class JR{constructor(){this.uid=Xn("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let aX=0;class F8{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1}createTexture(e,n,r){const i=new br({...this.textureOptions,width:e,height:n,resolution:1,antialias:r,autoGarbageCollect:!1});return new ze({source:i,label:`texturePool_${aX++}`})}getOptimalTexture(e,n,r=1,i){let s=Math.ceil(e*r-1e-6),o=Math.ceil(n*r-1e-6);s=$f(s),o=$f(o);const u=(s<<17)+(o<<1)+(i?1:0);this._texturePool[u]||(this._texturePool[u]=[]);let c=this._texturePool[u].pop();return c||(c=this.createTexture(s,o,i)),c.source._resolution=r,c.source.width=s/r,c.source.height=o/r,c.source.pixelWidth=s,c.source.pixelHeight=o,c.frame.x=0,c.frame.y=0,c.frame.width=e,c.frame.height=n,c.updateUvs(),this._poolKeyHash[c.uid]=u,c}getSameSizeTexture(e,n=!1){const r=e.source;return this.getOptimalTexture(e.width,e.height,r._resolution,n)}returnTexture(e){const n=this._poolKeyHash[e.uid];this._texturePool[n].push(e)}clear(e){if(e=e!==!1,e)for(const n in this._texturePool){const r=this._texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this._texturePool={}}}const Dr=new F8;class L8{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Je,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new JR,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const n=e.children;for(let r=0;r<n.length;r++){const i=n[r];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Dr.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const n=this.childrenToUpdate[e];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const n=this.renderGroupChildren.indexOf(e);n>-1&&this.renderGroupChildren.splice(n,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const n=e.children;for(let r=0;r<n.length;r++)this.addChild(n[r])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const n=e.children;for(let r=0;r<n.length;r++)this.removeChild(n[r])}removeChildren(e){for(let n=0;n<e.length;n++)this.removeChild(e[n])}onChildUpdate(e){let n=this.childrenToUpdate[e.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const n=this.root.children;for(let r=0;r<n.length;r++)this._getChildren(n[r],e);return e}_getChildren(e,n=[]){if(n.push(e),e.renderGroup)return n;const r=e.children;for(let i=0;i<r.length;i++)this._getChildren(r[i],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Je),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Je),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Je),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function SS(t,e,n={}){for(const r in e)!n[r]&&e[r]!==void 0&&(t[r]=e[r])}const KT=new Mr(null),ZT=new Mr(null),QT=new Mr(null,1,1),D_=1,yw=2,Em=4,oX=8;class Ei extends hs{constructor(e={}){var n,r;super(),this.uid=Xn("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Je,this.relativeGroupTransform=new Je,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Mr(this,0,0),this._scale=QT,this._pivot=ZT,this._skew=KT,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],SS(this,e,{children:!0,parent:!0,effects:!0}),(n=e.children)==null||n.forEach(i=>this.addChild(i)),(r=e.parent)==null||r.addChild(this)}static mixin(e){Qe("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),An.mixin(Ei,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||Qe(Tt,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const n=e[0],r=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),r&&(r.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,r&&r.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const n=e[0],r=this.children.indexOf(n);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,r),n.emit("removed",this)),n}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),this.renderGroup=Xt.get(L8,this),this.groupTransform=Je.IDENTITY,e==null||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e==null||e.removeChild(this),Xt.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e==null||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Je),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*d8}set angle(e){this.rotation=e*h8}get pivot(){return this._pivot===ZT&&(this._pivot=new Mr(this,0,0)),this._pivot}set pivot(e){this._pivot===ZT&&(this._pivot=new Mr(this,0,0)),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===KT&&(this._skew=new Mr(this,0,0)),this._skew}set skew(e){this._skew===KT&&(this._skew=new Mr(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===QT&&(this._scale=new Mr(this,1,1)),this._scale}set scale(e){this._scale===QT&&(this._scale=new Mr(this,0,0)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const n=this.getLocalBounds().width;this._setWidth(e,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const n=this.getLocalBounds().height;this._setHeight(e,n)}getSize(e){e||(e={});const n=this.getLocalBounds();return e.width=Math.abs(this.scale.x*n.width),e.height=Math.abs(this.scale.y*n.height),e}setSize(e,n){const r=this.getLocalBounds();typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,r.width),n!==void 0&&this._setHeight(n,r.height)}_updateSkew(){const e=this._rotation,n=this._skew;this._cx=Math.cos(e+n._y),this._sx=Math.sin(e+n._y),this._cy=-Math.sin(e-n._x),this._sy=Math.cos(e-n._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const n=this.localTransform,r=this._scale,i=this._pivot,s=this._position,o=r._x,u=r._y,c=i._x,f=i._y;n.a=this._cx*o,n.b=this._sx*o,n.c=this._cy*u,n.d=this._sy*u,n.tx=s._x-(c*n.a+f*n.c),n.ty=s._y-(c*n.b+f*n.d)}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=D_,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const r=en.shared.setValue(e??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=D_,this._onUpdate())}get tint(){return wm(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=yw,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const n=e?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Em,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const n=e?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Em,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const n=e?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=Em,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){var i;if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e==null?void 0:e.children)&&n)for(let s=0;s<n.length;++s)n[s].destroy(e);(i=this.renderGroup)==null||i.destroy(),this.renderGroup=null}}An.mixin(Ei,T8,O8,U8,I8,k8,R8,P8,N8,S8,E8,M8,C8);class eu extends Ei{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new Zr(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const n=this.bounds,{x:r,y:i}=e;return r>=n.minX&&r<=n.maxX&&i>=n.minY&&i<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){super.destroy(e),this._bounds=null}collectRenderablesSimple(e,n,r){const{renderPipes:i,renderableGC:s}=n;i.blendMode.setBlendMode(this,this.groupBlendMode,e),i[this.renderPipeId].addRenderable(this,e),s.addRenderable(this),this.didViewUpdate=!1;const u=this.children,c=u.length;for(let f=0;f<c;f++)u[f].collectRenderables(e,n,r)}}class Vo extends eu{constructor(e=ze.EMPTY){e instanceof ze&&(e={texture:e});const{texture:n=ze.EMPTY,anchor:r,roundPixels:i,width:s,height:o,...u}=e;super({label:"Sprite",...u}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Mr({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=i??!1,s!==void 0&&(this.width=s),o!==void 0&&(this.height=o)}static from(e,n=!1){return e instanceof ze?new Vo(e):new Vo(ze.from(e,n))}set texture(e){e||(e=ze.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return YR(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return Qe("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,n=this._texture,r=this._bounds,{width:i,height:s}=n.orig;r.minX=-e._x*i,r.maxX=r.minX+i,r.minY=-e._y*s,r.maxY=r.minY+s}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const lX=new Zr;function xw(t,e,n){const r=lX;t.measurable=!0,ay(t,n,r),e.addBoundsMask(r),t.measurable=!1}function Sw(t,e,n){const r=Ll.get();t.measurable=!0;const i=Vi.get().identity(),s=eP(t,n,i);_w(t,r,s),t.measurable=!1,e.addBoundsMask(r),Vi.return(i),Ll.return(r)}function eP(t,e,n){return t?(t!==e&&(eP(t.parent,e,n),t.updateLocalTransform(),n.append(t.localTransform)),n):(at("Mask bounds, renderable is not inside the root container"),n)}class tP{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Vo),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,n){this.inverse||xw(this.mask,e,n)}addLocalBounds(e,n){Sw(this.mask,e,n)}containsPoint(e,n){const r=this.mask;return n(r,e)}destroy(){this.reset()}static test(e){return e instanceof Vo}}tP.extension=te.MaskEffect;class nP{constructor(e){this.priority=0,this.pipe="colorMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}nP.extension=te.MaskEffect;class rP{constructor(e){this.priority=0,this.pipe="stencilMask",e!=null&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,n){xw(this.mask,e,n)}addLocalBounds(e,n){Sw(this.mask,e,n)}containsPoint(e,n){const r=this.mask;return n(r,e)}destroy(){this.reset()}static test(e){return e instanceof Ei}}rP.extension=te.MaskEffect;const G8={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let mB=G8;const Yt={get(){return mB},set(t){mB=t}};class Gl extends br{constructor(e){e.resource||(e.resource=Yt.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,n=this.height,r=this._resolution){const i=super.resize(e,n,r);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Gl.extension=te.TextureSource;class Md extends br{constructor(e){if(e.resource&&globalThis.HTMLImageElement&&e.resource instanceof HTMLImageElement){const n=Yt.get().createCanvas(e.resource.width,e.resource.height);n.getContext("2d").drawImage(e.resource,0,0,e.resource.width,e.resource.height),e.resource=n,at("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Md.extension=te.TextureSource;var tc=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(tc||{});class Y2{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=n,this.priority=r,this._once=i}match(e,n=null){return this._fn===e&&this._context===n}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const z8=class da{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Y2(null,null,1/0),this.deltaMS=1/da.targetFPMS,this.elapsedMS=1/da.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,n,r=tc.NORMAL){return this._addListener(new Y2(e,n,r))}addOnce(e,n,r=tc.NORMAL){return this._addListener(new Y2(e,n,r,!0))}_addListener(e){let n=this._head.next,r=this._head;if(!n)e.connect(r);else{for(;n;){if(e.priority>n.priority){e.connect(r);break}r=n,n=n.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,n){let r=this._head.next;for(;r;)r.match(e,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,n=this._head;for(;n=n.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let n;if(e>this.lastTime){if(n=this.elapsedMS=e-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*da.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const n=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,n)/1e3,da.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,e);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!da._shared){const e=da._shared=new da;e.autoStart=!0,e._protected=!0}return da._shared}static get system(){if(!da._system){const e=da._system=new da;e.autoStart=!0,e._protected=!0}return da._system}};z8.targetFPMS=.06;let Si=z8,JT;async function iP(){return JT??(JT=(async()=>{var o;const e=document.createElement("canvas").getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const n=await new Promise(u=>{const c=document.createElement("video");c.onloadeddata=()=>u(c),c.onerror=()=>u(null),c.autoplay=!1,c.crossOrigin="anonymous",c.preload="auto",c.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",c.load()});if(!n)return"premultiply-alpha-on-upload";const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n);const s=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,s),e.deleteFramebuffer(i),e.deleteTexture(r),(o=e.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),JT}const ww=class V8 extends br{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...V8.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=Si.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,n=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await iP(),this._load=new Promise((r,i)=>{this.isValid?r(this):(this._resolve=r,this._reject=i,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Si.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Si.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Si.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};ww.extension=te.TextureSource;ww.defaultOptions={...br.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};ww.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let h_=ww;const Qa=(t,e,n=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"||n?e(r):r):t);class uX{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||at(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=Qa(e);let i;for(let c=0;c<this.parsers.length;c++){const f=this.parsers[c];if(f.test(n)){i=f.getCacheableAssets(r,n);break}}const s=new Map(Object.entries(i||{}));i||r.forEach(c=>{s.set(c,n)});const o=[...s.keys()],u={cacheKeys:o,keys:r};r.forEach(c=>{this._cacheMap.set(c,u)}),o.forEach(c=>{const f=i?i[c]:n;this._cache.has(c)&&this._cache.get(c)!==f&&at("[Cache] already has key:",c),this._cache.set(c,s.get(c))})}remove(e){if(!this._cacheMap.has(e)){at(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Un=new uX,DA=[];An.handleByList(te.TextureSource,DA);function cX(t={}){return sP(t)}function sP(t={}){const e=t&&t.resource,n=e?t.resource:t,r=e?t:{resource:t};for(let i=0;i<DA.length;i++){const s=DA[i];if(s.test(n))return new s(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function H8(t={},e=!1){const n=t&&t.resource,r=n?t.resource:t,i=n?t:{resource:t};if(!e&&Un.has(r))return Un.get(r);const s=new ze({source:sP(i)});return s.on("destroy",()=>{Un.has(r)&&Un.remove(r)}),e||Un.set(r,s),s}function W8(t,e=!1){return typeof t=="string"?Un.get(t):t instanceof br?new ze({source:t}):H8(t,e)}ze.from=W8;br.from=sP;An.add(tP,nP,rP,h_,Md,Gl,mw);var Oa=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Oa||{});function Mo(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function y0(t){return t.split("?")[0].split("#")[0]}function dX(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function hX(t,e,n){return t.replace(new RegExp(dX(e),"g"),n)}function fX(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let u=0;u<=t.length;++u){if(u<t.length)o=t.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=u,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=u,s=0;continue}}}else n.length>0?n+=`/${t.slice(i+1,u)}`:n=t.slice(i+1,u),r=u-i-1;i=u,s=0}else o===46&&s!==-1?++s:s=-1}return n}const Ls={toPosix(t){return hX(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Mo(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const n=/^[^/:]+:\/{0,2}/.exec(t);return n?n[0]:""},toAbsolute(t,e,n){if(Mo(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const r=y0(this.toPosix(e??Yt.get().getBaseUrl())),i=y0(this.toPosix(n??this.rootname(r)));return t=this.toPosix(t),t.startsWith("/")?Ls.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(Mo(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=fX(t),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return Mo(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(Mo(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Mo(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let u=t.length-1;u>=1;--u)if(e=t.charCodeAt(u),e===47){if(!i){r=u;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){Mo(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Mo(t),e&&Mo(e),t=y0(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,u=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){n=s+1;break}}else u===-1&&(i=!1,u=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=u))}return n===r?r=u:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){Mo(t),t=y0(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const u=t.charCodeAt(o);if(u===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),u===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){Mo(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=y0(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,u=-1,c=!0,f=t.length-1,p=0;for(;f>=i;--f){if(n=t.charCodeAt(f),n===47){if(!c){o=f+1;break}continue}u===-1&&(c=!1,u=f+1),n===46?s===-1?s=f:p!==1&&(p=1):s!==-1&&(p=-1)}return s===-1||u===-1||p===0||p===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&r?e.base=e.name=t.slice(1,u):e.base=e.name=t.slice(o,u)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,u)):(e.name=t.slice(o,s),e.base=t.slice(o,u)),e.ext=t.slice(s,u)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function $8(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const u=s[o];n<e.length-1?$8(t.replace(r[n],u),e,n+1,r,i):i.push(t.replace(r[n],u))}}function j8(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),$8(t,i,0,n,r)}else r.push(t);return r}const B_=t=>!Array.isArray(t);class zd{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}getAlias(e){const{alias:n,src:r}=e;return Qa(n||r,s=>typeof s=="string"?s:Array.isArray(s)?s.map(o=>(o==null?void 0:o.src)??o):s!=null&&s.src?s.src:s,!0)}addManifest(e){this._manifest&&at("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];let i=n;Array.isArray(n)||(i=Object.entries(n).map(([s,o])=>typeof o=="string"||Array.isArray(o)?{alias:s,src:o}:{alias:s,...o})),i.forEach(s=>{const o=s.src,u=s.alias;let c;if(typeof u=="string"){const f=this._createBundleAssetId(e,u);r.push(f),c=[u,f]}else{const f=u.map(p=>this._createBundleAssetId(e,p));r.push(...f),c=[...u,...f]}this.add({...s,alias:c,src:o})}),this._bundles[e]=r}add(e){const n=[];Array.isArray(e)?n.push(...e):n.push(e);let r;r=s=>{this.hasKey(s)&&at(`[Resolver] already has key: ${s} overwriting`)},Qa(n).forEach(s=>{const{src:o}=s;let{data:u,format:c,loadParser:f}=s;const p=Qa(o).map(y=>typeof y=="string"?j8(y):Array.isArray(y)?y:[y]),v=this.getAlias(s);Array.isArray(v)?v.forEach(r):r(v);const b=[];p.forEach(y=>{y.forEach(E=>{let S={};if(typeof E!="object"){S.src=E;for(let T=0;T<this._parsers.length;T++){const A=this._parsers[T];if(A.test(E)){S=A.parse(E);break}}}else u=E.data??u,c=E.format??c,f=E.loadParser??f,S={...S,...E};if(!v)throw new Error(`[Resolver] alias is undefined for this asset: ${S.src}`);S=this._buildResolvedAsset(S,{aliases:v,data:u,format:c,loadParser:f}),b.push(S)})}),v.forEach(y=>{this._assetMap[y]=b})})}resolveBundle(e){const n=B_(e);e=Qa(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),u={};for(const c in o){const f=o[c];u[this._extractAssetIdFromBundle(i,c)]=f}r[i]=u}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=B_(e);e=Qa(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s);o==null||o.priority.forEach(u=>{o.params[u].forEach(c=>{const f=s.filter(p=>p[u]?p[u]===c:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[n],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}_buildResolvedAsset(e,n){const{aliases:r,data:i,loadParser:s,format:o}=n;return(this._basePath||this._rootPath)&&(e.src=Ls.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??X8(e.src),e}}zd.RETINA_PREFIX=/@([0-9\.]+)x/;function X8(t){return t.split(".").pop().split("?").shift().split("#").shift()}const wS=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t},Y8=class Y0{constructor(e,n){this.linkedSheets=[],this._texture=e instanceof ze?e:null,this.textureSource=e.source,this.textures={},this.animations={},this.data=n;const r=parseFloat(n.meta.scale);r?(this.resolution=r,e.source.resolution=this.resolution):this.resolution=e.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Y0.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let n=e;const r=Y0.BATCH_SIZE;for(;n-e<r&&n<this._frameKeys.length;){const i=this._frameKeys[n],s=this._frames[i],o=s.frame;if(o){let u=null,c=null;const f=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,p=new vn(0,0,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution);s.rotated?u=new vn(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):u=new vn(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new vn(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ze({source:this.textureSource,frame:u,orig:p,trim:c,rotate:s.rotated?2:0,defaultAnchor:s.anchor,defaultBorders:s.borders,label:i.toString()})}n++}}_processAnimations(){const e=this.data.animations||{};for(const n in e){this.animations[n]=[];for(let r=0;r<e[n].length;r++){const i=e[n][r];this.animations[n].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Y0.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Y0.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var n;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((n=this._texture)==null||n.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Y8.BATCH_SIZE=1e3;let BA=Y8;const pX=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function q8(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[i]=e.textures[i]}),!n){const i=Ls.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const u=q8([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,u)})}return r}const K8={extension:te.Asset,cache:{test:t=>t instanceof BA,getCacheableAssets:(t,e)=>q8(t,e,!1)},resolver:{extension:{type:te.ResolveParser,name:"resolveSpritesheet"},test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&pX.includes(i)},parse:t=>{var n;const e=t.split(".");return{resolution:parseFloat(((n=zd.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:te.LoadParser,priority:Oa.Normal,name:"spritesheetLoader"},async testParse(t,e){return Ls.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){var p,v;const{texture:r,imageFilename:i,textureOptions:s}=(e==null?void 0:e.data)??{};let o=Ls.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let u;if(r instanceof ze)u=r;else{const b=wS(o+(i??t.meta.image),e.src);u=(await n.load([{src:b,data:s}]))[b]}const c=new BA(u.source,t);await c.parse();const f=(p=t==null?void 0:t.meta)==null?void 0:p.related_multi_packs;if(Array.isArray(f)){const b=[];for(const E of f){if(typeof E!="string")continue;let S=o+E;(v=e.data)!=null&&v.ignoreMultiPack||(S=wS(S,e.src),b.push(n.load({src:S,data:{textureOptions:s,ignoreMultiPack:!0}})))}const y=await Promise.all(b);c.linkedSheets=y,y.forEach(E=>{E.linkedSheets=[c].concat(c.linkedSheets.filter(S=>S!==E))})}return c},async unload(t,e,n){await n.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};An.add(K8);class dv{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=dv.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new mn,this.page=new mn,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,r,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var eC=/iPhone/i,vB=/iPod/i,bB=/iPad/i,_B=/\biOS-universal(?:.+)Mac\b/i,tC=/\bAndroid(?:.+)Mobile\b/i,yB=/Android/i,Xg=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,o2=/Silk/i,ku=/Windows Phone/i,xB=/\bWindows(?:.+)ARM\b/i,SB=/BlackBerry/i,wB=/BB10/i,EB=/Opera Mini/i,TB=/\b(CriOS|Chrome)(?:.+)Mobile/i,CB=/Mobile(?:.+)Firefox\b/i,AB=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function gX(t){return function(e){return e.test(t)}}function RB(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=e.userAgent,r=n.split("[FBAN");typeof r[1]<"u"&&(n=r[0]),r=n.split("Twitter"),typeof r[1]<"u"&&(n=r[0]);var i=gX(n),s={apple:{phone:i(eC)&&!i(ku),ipod:i(vB),tablet:!i(eC)&&(i(bB)||AB(e))&&!i(ku),universal:i(_B),device:(i(eC)||i(vB)||i(bB)||i(_B)||AB(e))&&!i(ku)},amazon:{phone:i(Xg),tablet:!i(Xg)&&i(o2),device:i(Xg)||i(o2)},android:{phone:!i(ku)&&i(Xg)||!i(ku)&&i(tC),tablet:!i(ku)&&!i(Xg)&&!i(tC)&&(i(o2)||i(yB)),device:!i(ku)&&(i(Xg)||i(o2)||i(tC)||i(yB))||i(/\bokhttp\b/i)},windows:{phone:i(ku),tablet:i(xB),device:i(ku)||i(xB)},other:{blackberry:i(SB),blackberry10:i(wB),opera:i(EB),firefox:i(CB),chrome:i(TB),device:i(SB)||i(wB)||i(EB)||i(CB)||i(TB)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const mX=RB.default??RB,Z8=mX(globalThis.navigator),vX=9,l2=100,bX=0,_X=0,PB=2,OB=1,yX=-1e3,xX=-1e3,SX=2,aP=class Q8{constructor(e,n=Z8){this._mobileInfo=n,this.debug=!1,this._activateOnTab=!0,this._deactivateOnMouseMove=!0,this._isActive=!1,this._isMobileAccessibility=!1,this._div=null,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(n.tablet||n.phone)&&this._createTouchHook(),this._renderer=e}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const e=document.createElement("button");e.style.width=`${OB}px`,e.style.height=`${OB}px`,e.style.position="absolute",e.style.top=`${yX}px`,e.style.left=`${xX}px`,e.style.zIndex=SX.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){if(this._isActive)return;this._isActive=!0,this._div||(this._div=document.createElement("div"),this._div.style.width=`${l2}px`,this._div.style.height=`${l2}px`,this._div.style.position="absolute",this._div.style.top=`${bX}px`,this._div.style.left=`${_X}px`,this._div.style.zIndex=PB.toString(),this._div.style.pointerEvents="none"),this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._deactivateOnMouseMove&&(this._onMouseMove=this._onMouseMove.bind(this),globalThis.document.addEventListener("mousemove",this._onMouseMove,!0));const e=this._renderer.view.canvas;if(e.parentNode)e.parentNode.appendChild(this._div),this._initAccessibilitySetup();else{const n=new MutationObserver(()=>{e.parentNode&&(e.parentNode.appendChild(this._div),n.disconnect(),this._initAccessibilitySetup())});n.observe(document.body,{childList:!0,subtree:!0})}}_initAccessibilitySetup(){this._renderer.runners.postrender.add(this),this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered)}_deactivate(){if(!(!this._isActive||this._isMobileAccessibility)){this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),this._activateOnTab&&globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this);for(const e of this._children)e._accessibleDiv&&e._accessibleDiv.parentNode&&(e._accessibleDiv.parentNode.removeChild(e._accessibleDiv),e._accessibleDiv=null),e._accessibleActive=!1;this._pool.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this._div&&this._div.parentNode&&this._div.parentNode.removeChild(this._div),this._pool=[],this._children=[]}}_updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&(e._accessibleActive||this._addChild(e),e._renderId=this._renderId);const n=e.children;if(n)for(let r=0;r<n.length;r++)this._updateAccessibleObjects(n[r])}init(e){const r={accessibilityOptions:{...Q8.defaultOptions,...(e==null?void 0:e.accessibilityOptions)||{}}};this.debug=r.accessibilityOptions.debug,this._activateOnTab=r.accessibilityOptions.activateOnTab,this._deactivateOnMouseMove=r.accessibilityOptions.deactivateOnMouseMove,r.accessibilityOptions.enabledByDefault?this._activate():this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._renderer.runners.postrender.remove(this)}postrender(){const e=performance.now();if(this._mobileInfo.android.device&&e<this._androidUpdateCount||(this._androidUpdateCount=e+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas))return;const n=new Set;if(this._renderer.lastObjectRendered){this._updateAccessibleObjects(this._renderer.lastObjectRendered);for(const r of this._children)r._renderId===this._renderId&&n.add(this._children.indexOf(r))}for(let r=this._children.length-1;r>=0;r--){const i=this._children[r];n.has(r)||(i._accessibleDiv&&i._accessibleDiv.parentNode&&(i._accessibleDiv.parentNode.removeChild(i._accessibleDiv),this._pool.push(i._accessibleDiv),i._accessibleDiv=null),i._accessibleActive=!1,qR(this._children,r,1))}if(this._renderer.renderingToScreen){const{x:r,y:i,width:s,height:o}=this._renderer.screen,u=this._div;u.style.left=`${r}px`,u.style.top=`${i}px`,u.style.width=`${s}px`,u.style.height=`${o}px`}for(let r=0;r<this._children.length;r++){const i=this._children[r];if(!i._accessibleActive||!i._accessibleDiv)continue;const s=i._accessibleDiv,o=i.hitArea||i.getBounds().rectangle;if(i.hitArea){const u=i.worldTransform,c=this._renderer.resolution,f=this._renderer.resolution;s.style.left=`${(u.tx+o.x*u.a)*c}px`,s.style.top=`${(u.ty+o.y*u.d)*f}px`,s.style.width=`${o.width*u.a*c}px`,s.style.height=`${o.height*u.d*f}px`}else{this._capHitArea(o);const u=this._renderer.resolution,c=this._renderer.resolution;s.style.left=`${o.x*u}px`,s.style.top=`${o.y*c}px`,s.style.width=`${o.width*u}px`,s.style.height=`${o.height*c}px`}}this._renderId++}_updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}_capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:r}=this._renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>r&&(e.height=r-e.y)}_addChild(e){let n=this._pool.pop();n||(e.accessibleType==="button"?n=document.createElement("button"):(n=document.createElement(e.accessibleType),n.style.cssText=`
                        color: transparent;
                        pointer-events: none;
                        padding: 0;
                        margin: 0;
                        border: 0;
                        outline: 0;
                        background: transparent;
                        box-sizing: border-box;
                        user-select: none;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                    `,e.accessibleText&&(n.innerText=e.accessibleText)),n.style.width=`${l2}px`,n.style.height=`${l2}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=PB.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`container ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this._updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.container=e,this._children.push(e),this._div.appendChild(e._accessibleDiv),e.interactive&&(e._accessibleDiv.tabIndex=e.tabIndex)}_dispatchEvent(e,n){const{container:r}=e.target,i=this._renderer.events.rootBoundary,s=Object.assign(new dv(i),{target:r});i.rootTarget=this._renderer.lastObjectRendered,n.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode!==vX||!this._activateOnTab||this._activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this._deactivate()}destroy(){this._deactivate(),this._destroyTouchHook(),this._div=null,this._pool=null,this._children=null,this._renderer=null,this._activateOnTab&&globalThis.removeEventListener("keydown",this._onKeyDown)}setAccessibilityEnabled(e){e?this._activate():this._deactivate()}};aP.extension={type:[te.WebGLSystem,te.WebGPUSystem],name:"accessibility"};aP.defaultOptions={enabledByDefault:!1,debug:!1,activateOnTab:!0,deactivateOnMouseMove:!0};let wX=aP;const EX={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessibleText:null,accessiblePointerEvents:"auto",accessibleChildren:!0,_renderId:-1},nC=Object.create(null),MB=Object.create(null);function Jm(t,e){let n=MB[t];return n===void 0&&(nC[e]===void 0&&(nC[e]=1),MB[t]=n=nC[e]++),n}let Yg;function oP(){return(!Yg||Yg!=null&&Yg.isContextLost())&&(Yg=Yt.get().createCanvas().getContext("webgl",{})),Yg}let u2;function J8(){if(!u2){u2="mediump";const t=oP();t&&t.getShaderPrecisionFormat&&(u2=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return u2}function eU(t,e,n){return e?t:n?(t=t.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function tU(t,e,n){const r=n?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let i=n?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&r!=="highp"&&(i="mediump"),`precision ${i} float;
${t}`}else if(r!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function nU(t,e){return e?`#version 300 es
${t}`:t}const TX={},CX={};function rU(t,{name:e="pixi-program"},n=!0){e=e.replace(/\s+/g,"-"),e+=n?"-fragment":"-vertex";const r=n?TX:CX;return r[e]?(r[e]++,e+=`-${r[e]}`):r[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function iU(t,e){return e?t.replace("#version 300 es",""):t}const rC={stripVersion:iU,ensurePrecision:tU,addProgramDefines:eU,setProgramName:rU,insertVersion:nU},iC=Object.create(null),sU=class kA{constructor(e){e={...kA.defaultOptions,...e};const n=e.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:J8()},setProgramName:{name:e.name},addProgramDefines:n,insertVersion:n};let i=e.fragment,s=e.vertex;Object.keys(rC).forEach(o=>{const u=r[o];i=rC[o](i,u,!0),s=rC[o](s,u,!1)}),this.fragment=i,this.vertex=s,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=Jm(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(e){const n=`${e.vertex}:${e.fragment}`;return iC[n]||(iC[n]=new kA(e)),iC[n]}};sU.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Xs=sU;const DB={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function nc(t){return DB[t]??DB.float32}const AX={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function aU({source:t,entryPoint:e}){const n={},r=t.indexOf(`fn ${e}`);if(r!==-1){const i=t.indexOf("->",r);if(i!==-1){const s=t.substring(r,i),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let u;for(;(u=o.exec(s))!==null;){const c=AX[u[3]]??"float32";n[u[2]]={location:parseInt(u[1],10),format:c,stride:nc(c).stride,offset:0,instance:!1,start:0}}}}return n}function q2(t){var v,b;const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,s=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,u=/(\w+)\s*:\s*([\w\<\>]+)/g,c=/struct\s+(\w+)/,f=(v=t.match(e))==null?void 0:v.map(y=>({group:parseInt(y.match(n)[1],10),binding:parseInt(y.match(r)[1],10),name:y.match(i)[2],isUniform:y.match(i)[1]==="<uniform>",type:y.match(s)[1]}));if(!f)return{groups:[],structs:[]};const p=((b=t.match(o))==null?void 0:b.map(y=>{const E=y.match(c)[1],S=y.match(u).reduce((T,A)=>{const[P,O]=A.split(":");return T[P.trim()]=O.trim(),T},{});return S?{name:E,members:S}:null}).filter(({name:y})=>f.some(E=>E.type===y)))??[];return{groups:f,structs:p}}var cm=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(cm||{});function oU({groups:t}){const e=[];for(let n=0;n<t.length;n++){const r=t[n];e[r.group]||(e[r.group]=[]),r.isUniform?e[r.group].push({binding:r.binding,visibility:cm.VERTEX|cm.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?e[r.group].push({binding:r.binding,visibility:cm.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&e[r.group].push({binding:r.binding,visibility:cm.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function lU({groups:t}){const e=[];for(let n=0;n<t.length;n++){const r=t[n];e[r.group]||(e[r.group]={}),e[r.group][r.name]=r.binding}return e}function uU(t,e){const n=new Set,r=new Set,i=[...t.structs,...e.structs].filter(o=>n.has(o.name)?!1:(n.add(o.name),!0)),s=[...t.groups,...e.groups].filter(o=>{const u=`${o.name}-${o.binding}`;return r.has(u)?!1:(r.add(u),!0)});return{structs:i,groups:s}}const sC=Object.create(null);class fs{constructor(e){var u,c;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:r,layout:i,gpuLayout:s,name:o}=e;if(this.name=o,this.fragment=n,this.vertex=r,n.source===r.source){const f=q2(n.source);this.structsAndGroups=f}else{const f=q2(r.source),p=q2(n.source);this.structsAndGroups=uU(f,p)}this.layout=i??lU(this.structsAndGroups),this.gpuLayout=s??oU(this.structsAndGroups),this.autoAssignGlobalUniforms=((u=this.layout[0])==null?void 0:u.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((c=this.layout[1])==null?void 0:c.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:n}=this,r=e.source+n.source+e.entryPoint+n.entryPoint;this._layoutKey=Jm(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=aU(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const n=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return sC[n]||(sC[n]=new fs(e)),sC[n]}}const lP=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],cU=lP.reduce((t,e)=>(t[e]=!0,t),{});function dU(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const hU=class fU{constructor(e,n){this._touched=0,this.uid=Xn("uniform"),this._resourceType="uniformGroup",this._resourceId=Xn("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...fU.defaultOptions,...n},this.uniformStructures=e;const r={};for(const i in e){const s=e[i];if(s.name=i,s.size=s.size??1,!cU[s.type])throw new Error(`Uniform type ${s.type} is not supported. Supported uniform types are: ${lP.join(", ")}`);s.value??(s.value=dU(s.type,s.size)),r[i]=s.value}this.uniforms=r,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=Jm(Object.keys(r).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};hU.defaultOptions={ubo:!1,isStatic:!1};let kr=hU;class zl{constructor(e){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const r in e){const i=e[r];this.setResource(i,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let n=0;for(const r in this.resources)e[n++]=this.resources[r]._resourceId;this._key=e.join("|")}setResource(e,n){var i,s;const r=this.resources[n];e!==r&&(r&&((i=e.off)==null||i.call(e,"change",this.onResourceChange,this)),(s=e.on)==null||s.call(e,"change",this.onResourceChange,this),this.resources[n]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const n=this.resources;for(const r in n)n[r]._touched=e}destroy(){var n;const e=this.resources;for(const r in e){const i=e[r];(n=i.off)==null||n.call(i,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const n=this.resources;for(const r in n)n[r]===e&&(n[r]=null)}else this._updateKey()}}var Ws=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(Ws||{});class Ma extends hs{constructor(e){super(),this.uid=Xn("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:n,glProgram:r,groups:i,resources:s,compatibleRenderers:o,groupMap:u}=e;this.gpuProgram=n,this.glProgram=r,o===void 0&&(o=0,n&&(o|=Ws.WEBGPU),r&&(o|=Ws.WEBGL)),this.compatibleRenderers=o;const c={};if(!s&&!i&&(s={}),s&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&i&&!u)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&i&&u)for(const f in u)for(const p in u[f]){const v=u[f][p];c[v]={group:f,binding:p,name:v}}else if(n&&i&&!u){const f=n.structsAndGroups.groups;u={},f.forEach(p=>{u[p.group]=u[p.group]||{},u[p.group][p.binding]=p.name,c[p.name]=p})}else if(s){i={},u={},n&&n.structsAndGroups.groups.forEach(v=>{u[v.group]=u[v.group]||{},u[v.group][v.binding]=v.name,c[v.name]=v});let f=0;for(const p in s)c[p]||(i[99]||(i[99]=new zl,this._ownedBindGroups.push(i[99])),c[p]={group:99,binding:f,name:p},u[99]=u[99]||{},u[99][f]=p,f++);for(const p in s){const v=p;let b=s[p];!b.source&&!b._resourceType&&(b=new kr(b));const y=c[v];y&&(i[y.group]||(i[y.group]=new zl,this._ownedBindGroups.push(i[y.group])),i[y.group].setResource(b,y.binding))}}this.groups=i,this._uniformBindMap=u,this.resources=this._buildResourceAccessor(i,c)}addResource(e,n,r){var i,s;(i=this._uniformBindMap)[n]||(i[n]={}),(s=this._uniformBindMap[n])[r]||(s[r]=e),this.groups[n]||(this.groups[n]=new zl,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(e,n){const r={};for(const i in n){const s=n[i];Object.defineProperty(r,s.name,{get(){return e[s.group].getResource(s.binding)},set(o){e[s.group].setResource(o,s.binding)}})}return r}destroy(e=!1){var n,r;this.emit("destroy",this),e&&((n=this.gpuProgram)==null||n.destroy(),(r=this.glProgram)==null||r.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(i=>{i.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:n,gl:r,...i}=e;let s,o;return n&&(s=fs.from(n)),r&&(o=Xs.from(r)),new Ma({gpuProgram:s,glProgram:o,...i})}}const RX={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},aC=0,oC=1,lC=2,uC=3,cC=4,dC=5,IA=class pU{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<aC)}set blend(e){!!(this.data&1<<aC)!==e&&(this.data^=1<<aC)}get offsets(){return!!(this.data&1<<oC)}set offsets(e){!!(this.data&1<<oC)!==e&&(this.data^=1<<oC)}set cullMode(e){if(e==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=e==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<lC)}set culling(e){!!(this.data&1<<lC)!==e&&(this.data^=1<<lC)}get depthTest(){return!!(this.data&1<<uC)}set depthTest(e){!!(this.data&1<<uC)!==e&&(this.data^=1<<uC)}get depthMask(){return!!(this.data&1<<dC)}set depthMask(e){!!(this.data&1<<dC)!==e&&(this.data^=1<<dC)}get clockwiseFrontFace(){return!!(this.data&1<<cC)}set clockwiseFrontFace(e){!!(this.data&1<<cC)!==e&&(this.data^=1<<cC)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!=="none",this._blendMode=e,this._blendModeId=RX[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new pU;return e.depthTest=!1,e.blend=!0,e}};IA.default2d=IA.for2d();let Ea=IA;const gU=class NA extends Ma{constructor(e){e={...NA.defaultOptions,...e},super(e),this.enabled=!0,this._state=Ea.for2d(),this.blendMode=e.blendMode,this.padding=e.padding,typeof e.antialias=="boolean"?this.antialias=e.antialias?"on":"off":this.antialias=e.antialias,this.resolution=e.resolution,this.blendRequired=e.blendRequired,this.clipToViewport=e.clipToViewport,this.addResource("uTexture",0,1)}apply(e,n,r,i){e.applyFilter(this,n,r,i)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(e){const{gpu:n,gl:r,...i}=e;let s,o;return n&&(s=fs.from(n)),r&&(o=Xs.from(r)),new NA({gpuProgram:s,glProgram:o,...i})}};gU.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let tu=gU;var mU=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uBlend;

uniform sampler2D uTexture;
uniform sampler2D uBackTexture;

{FUNCTIONS}

void main()
{ 
    vec4 back = texture(uBackTexture, vTextureCoord);
    vec4 front = texture(uTexture, vTextureCoord);
    float blendedAlpha = front.a + back.a * (1.0 - front.a);
    
    {MAIN}
}
`,vU=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 backgroundUv;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,bU=`
struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlendUniforms {
  uBlend:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(0) @binding(3) var uBackTexture: texture_2d<f32>;

@group(1) @binding(0) var<uniform> blendUniforms : BlendUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

{FUNCTIONS}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>
) -> @location(0) vec4<f32> {


   var back =  textureSample(uBackTexture, uSampler, uv);
   var front = textureSample(uTexture, uSampler, uv);
   var blendedAlpha = front.a + back.a * (1.0 - front.a);
   
   var out = vec4<f32>(0.0,0.0,0.0,0.0);

   {MAIN}

   return out;
}`;class _r extends tu{constructor(e){const n=e.gpu,r=BB({source:bU,...n}),i=fs.from({vertex:{source:r,entryPoint:"mainVertex"},fragment:{source:r,entryPoint:"mainFragment"}}),s=e.gl,o=BB({source:mU,...s}),u=Xs.from({vertex:vU,fragment:o}),c=new kr({uBlend:{value:1,type:"f32"}});super({gpuProgram:i,glProgram:u,blendRequired:!0,resources:{blendUniforms:c,uBackTexture:ze.EMPTY}})}}function BB(t){const{source:e,functions:n,main:r}=t;return e.replace("{FUNCTIONS}",n).replace("{MAIN}",r)}const Ew=`
	float getLuminosity(vec3 c) {
		return 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;
	}

	vec3 setLuminosity(vec3 c, float lum) {
		float modLum = lum - getLuminosity(c);
		vec3 color = c.rgb + vec3(modLum);

		// clip back into legal range
		modLum = getLuminosity(color);
		vec3 modLumVec = vec3(modLum);

		float cMin = min(color.r, min(color.g, color.b));
		float cMax = max(color.r, max(color.g, color.b));

		if(cMin < 0.0) {
			color = mix(modLumVec, color, modLum / (modLum - cMin));
		}

		if(cMax > 1.0) {
			color = mix(modLumVec, color, (1.0 - modLum) / (cMax - modLum));
		}

		return color;
	}

	float getSaturation(vec3 c) {
		return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
	}

	vec3 setSaturationMinMidMax(vec3 cSorted, float s) {
		vec3 colorSorted = cSorted;

		if(colorSorted.z > colorSorted.x) {
			colorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));
			colorSorted.z = s;
		}
		else {
			colorSorted.y = 0.0;
			colorSorted.z = 0.0;
		}

		colorSorted.x = 0.0;

		return colorSorted;
	}

	vec3 setSaturation(vec3 c, float s) {
		vec3 color = c;

		if(color.r <= color.g && color.r <= color.b) {
			if(color.g <= color.b) {
				color = setSaturationMinMidMax(color.rgb, s).rgb;
			}
			else {
				color = setSaturationMinMidMax(color.rbg, s).rbg;
			}
		}
		else if(color.g <= color.r && color.g <= color.b) {
			if(color.r <= color.b) {
				color = setSaturationMinMidMax(color.grb, s).grb;
			}
			else {
				color = setSaturationMinMidMax(color.gbr, s).gbr;
			}
		}
		else {
			// Using bgr for both fixes part of hue
			if(color.r <= color.g) {
				color = setSaturationMinMidMax(color.brg, s).brg;
			}
			else {
				color = setSaturationMinMidMax(color.bgr, s).bgr;
			}
		}

		return color;
	}
    `,Tw=`
	fn getLuminosity(c: vec3<f32>) -> f32
	{
		return 0.3*c.r + 0.59*c.g + 0.11*c.b;
	}

	fn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32>
	{
		var modLum: f32 = lum - getLuminosity(c);
		var color: vec3<f32> = c.rgb + modLum;

		// clip back into legal range
		modLum = getLuminosity(color);
		let modLumVec = vec3<f32>(modLum);

		let cMin: f32 = min(color.r, min(color.g, color.b));
		let cMax: f32 = max(color.r, max(color.g, color.b));

		if(cMin < 0.0)
		{
			color = mix(modLumVec, color, modLum / (modLum - cMin));
		}

		if(cMax > 1.0)
		{
			color = mix(modLumVec, color, (1 - modLum) / (cMax - modLum));
		}

		return color;
	}

	fn getSaturation(c: vec3<f32>) -> f32
	{
		return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
	}

	fn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32>
	{
		var colorSorted = cSorted;

		if(colorSorted.z > colorSorted.x)
		{
			colorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));
			colorSorted.z = s;
		}
		else
		{
			colorSorted.y = 0;
			colorSorted.z = 0;
		}

		colorSorted.x = 0;

		return colorSorted;
	}

	fn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32>
	{
		var color = c;

		if (color.r <= color.g && color.r <= color.b)
		{
			if (color.g <= color.b)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.rgb, s)).rgb;
			}
			else
			{
				color = vec3<f32>(setSaturationMinMidMax(color.rbg, s)).rbg;
			}
		}
		else if (color.g <= color.r && color.g <= color.b)
		{
			if (color.r <= color.b)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.grb, s)).grb;
			}
			else
			{
				color = vec3<f32>(setSaturationMinMidMax(color.gbr, s)).gbr;
			}
		}
		else
		{
			// Using bgr for both fixes part of hue
			if (color.r <= color.g)
			{
				color = vec3<f32>(setSaturationMinMidMax(color.brg, s)).brg;
			}
			else
			{
				color  = vec3<f32>(setSaturationMinMidMax(color.bgr, s)).bgr;
			}
		}

		return color;
	}
	`;class _U extends _r{constructor(){super({gl:{functions:`
                ${Ew}

                vec3 blendColor(vec3 base, vec3 blend,  float opacity)
                {
                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendColor(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                ${Tw}

                fn blendColorOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendColorOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}_U.extension={name:"color",type:te.BlendMode};class yU extends _r{constructor(){super({gl:{functions:`
                float colorBurn(float base, float blend)
                {
                    return max((1.0 - ((1.0 - base) / blend)), 0.0);
                }

                vec3 blendColorBurn(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        colorBurn(base.r, blend.r),
                        colorBurn(base.g, blend.g),
                        colorBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendColorBurn(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                fn colorBurn(base:f32, blend:f32) -> f32
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                fn blendColorBurn(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        colorBurn(base.r, blend.r),
                        colorBurn(base.g, blend.g),
                        colorBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendColorBurn(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}yU.extension={name:"color-burn",type:te.BlendMode};class xU extends _r{constructor(){super({gl:{functions:`
                float colorDodge(float base, float blend)
                {
                    return base / (1.0 - blend);
                }

                vec3 blendColorDodge(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        colorDodge(base.r, blend.r),
                        colorDodge(base.g, blend.g),
                        colorDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendColorDodge(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn colorDodge(base: f32, blend: f32) -> f32
                {
                    return base / (1.0 - blend);
                }

                fn blendColorDodge(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        colorDodge(base.r, blend.r),
                        colorDodge(base.g, blend.g),
                        colorDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                    out = vec4<f32>(blendColorDodge(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}xU.extension={name:"color-dodge",type:te.BlendMode};class SU extends _r{constructor(){super({gl:{functions:`
                vec3 blendDarken(vec3 base, vec3 blend, float opacity)
                {
                    return (min(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendDarken(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn blendDarken(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (min(blend,base) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendDarken(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}SU.extension={name:"darken",type:te.BlendMode};class wU extends _r{constructor(){super({gl:{functions:`
                vec3 blendDifference(vec3 base, vec3 blend,  float opacity)
                {
                    return (abs(blend - base) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendDifference(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                fn blendDifference(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (abs(blend - base) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendDifference(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}wU.extension={name:"difference",type:te.BlendMode};class EU extends _r{constructor(){super({gl:{functions:`
                float divide(float base, float blend)
                {
                    return (blend > 0.0) ? clamp(base / blend, 0.0, 1.0) : 1.0;
                }

                vec3 blendDivide(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        divide(base.r, blend.r),
                        divide(base.g, blend.g),
                        divide(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendDivide(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn divide(base: f32, blend: f32) -> f32
                {
                    return select(1.0, clamp(base / blend, 0.0, 1.0), blend > 0.0);
                }

                fn blendDivide(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        divide(base.r, blend.r),
                        divide(base.g, blend.g),
                        divide(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendDivide(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}EU.extension={name:"divide",type:te.BlendMode};class TU extends _r{constructor(){super({gl:{functions:`
                vec3 exclusion(vec3 base, vec3 blend)
                {
                    return base + blend - 2.0 * base * blend;
                }

                vec3 blendExclusion(vec3 base, vec3 blend, float opacity)
                {
                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendExclusion(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn exclusion(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>
                {
                    return base+blend-2.0*base*blend;
                }

                fn blendExclusion(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendExclusion(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}TU.extension={name:"exclusion",type:te.BlendMode};class CU extends _r{constructor(){super({gl:{functions:`
                float hardLight(float base, float blend)
                {
                    return (blend < 0.5) ? 2.0 * base * blend : 1.0 - 2.0 * (1.0 - base) * (1.0 - blend);
                }

                vec3 blendHardLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        hardLight(base.r, blend.r),
                        hardLight(base.g, blend.g),
                        hardLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendHardLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                fn hardLight(base: f32, blend: f32) -> f32
                {
                    return select(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, blend < 0.5);
                }

                fn blendHardLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        hardLight(base.r, blend.r),
                        hardLight(base.g, blend.g),
                        hardLight(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendHardLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}CU.extension={name:"hard-light",type:te.BlendMode};class AU extends _r{constructor(){super({gl:{functions:`
                float hardMix(float base, float blend)
                {
                    return (base + blend >= 1.0) ? 1.0 : 0.0;
                }

                vec3 blendHardMix(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blended = vec3(
                        hardMix(base.r, blend.r),
                        hardMix(base.g, blend.g),
                        hardMix(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendHardMix(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                fn hardMix(base: f32, blend: f32) -> f32
                {
                    return select(0.0, 1.0, base + blend >= 1.0);
                }

                fn blendHardMix(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        hardMix(base.r, blend.r),
                        hardMix(base.g, blend.g),
                        hardMix(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendHardMix(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}AU.extension={name:"hard-mix",type:te.BlendMode};class RU extends _r{constructor(){super({gl:{functions:`
                vec3 blendLighten(vec3 base, vec3 blend, float opacity)
                {
                    return (max(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLighten(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn blendLighten(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    return (max(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLighten(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}RU.extension={name:"lighten",type:te.BlendMode};class PU extends _r{constructor(){super({gl:{functions:`
                float linearBurn(float base, float blend)
                {
                    return max(0.0, base + blend - 1.0);
                }

                vec3 blendLinearBurn(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        linearBurn(base.r, blend.r),
                        linearBurn(base.g, blend.g),
                        linearBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLinearBurn(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn linearBurn(base: f32, blend: f32) -> f32
                {
                    return max(0.0, base + blend - 1.0);
                }

                fn blendLinearBurn(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearBurn(base.r, blend.r),
                        linearBurn(base.g, blend.g),
                        linearBurn(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendLinearBurn(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}PU.extension={name:"linear-burn",type:te.BlendMode};class OU extends _r{constructor(){super({gl:{functions:`
                float linearDodge(float base, float blend) {
                    return min(1.0, base + blend);
                }

                vec3 blendLinearDodge(vec3 base, vec3 blend, float opacity) {
                    vec3 blended = vec3(
                        linearDodge(base.r, blend.r),
                        linearDodge(base.g, blend.g),
                        linearDodge(base.b, blend.b)
                    );
                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLinearDodge(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn linearDodge(base: f32, blend: f32) -> f32
                {
                    return min(1, base + blend);
                }

                fn blendLinearDodge(base:vec3<f32>, blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearDodge(base.r, blend.r),
                        linearDodge(base.g, blend.g),
                        linearDodge(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLinearDodge(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}OU.extension={name:"linear-dodge",type:te.BlendMode};class MU extends _r{constructor(){super({gl:{functions:`
                float linearBurn(float base, float blend) {
                    return max(0.0, base + blend - 1.0);
                }

                float linearDodge(float base, float blend) {
                    return min(1.0, base + blend);
                }

                float linearLight(float base, float blend) {
                    return (blend <= 0.5) ? linearBurn(base,2.0*blend) : linearBurn(base,2.0*(blend-0.5));
                }

                vec3 blendLinearLight(vec3 base, vec3 blend, float opacity) {
                    vec3 blended = vec3(
                        linearLight(base.r, blend.r),
                        linearLight(base.g, blend.g),
                        linearLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendLinearLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn linearBurn(base: f32, blend: f32) -> f32
                {
                    return max(0.0, base + blend - 1.0);
                }

                fn linearDodge(base: f32, blend: f32) -> f32
                {
                    return min(1.0, base + blend);
                }

                fn linearLight(base: f32, blend: f32) -> f32
                {
                    return select(linearBurn(base,2.0*(blend-0.5)), linearBurn(base,2.0*blend), blend <= 0.5);
                }

                fn blendLinearLightOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        linearLight(base.r, blend.r),
                        linearLight(base.g, blend.g),
                        linearLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLinearLightOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}MU.extension={name:"linear-light",type:te.BlendMode};class DU extends _r{constructor(){super({gl:{functions:`
                ${Ew}

                vec3 blendLuminosity(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blendLuminosity = setLuminosity(base, getLuminosity(blend));
                    return (blendLuminosity * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendLuminosity(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                ${Tw}

                fn blendLuminosity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blendLuminosity: vec3<f32> = setLuminosity(base, getLuminosity(blend));
                    return (blendLuminosity * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendLuminosity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}DU.extension={name:"luminosity",type:te.BlendMode};class BU extends _r{constructor(){super({gl:{functions:`
                vec3 negation(vec3 base, vec3 blend)
                {
                    return 1.0-abs(1.0-base-blend);
                }

                vec3 blendNegation(vec3 base, vec3 blend, float opacity)
                {
                    return (negation(base, blend) * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendNegation(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn blendNegation(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>
                {
                    return 1.0-abs(1.0-base-blend);
                }

                fn blendNegationOpacity(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    return (blendNegation(base, blend) * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendNegationOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}BU.extension={name:"negation",type:te.BlendMode};class kU extends _r{constructor(){super({gl:{functions:`
                float overlay(float base, float blend)
                {
                    return (base < 0.5) ? (2.0*base*blend) : (1.0-2.0*(1.0-base)*(1.0-blend));
                }

                vec3 blendOverlay(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        overlay(base.r, blend.r),
                        overlay(base.g, blend.g),
                        overlay(base.b, blend.b)
                    );
   
                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendOverlay(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn overlay(base: f32, blend: f32) -> f32
                {
                    return select((1.0-2.0*(1.0-base)*(1.0-blend)), (2.0*base*blend), base < 0.5);
                }

                fn blendOverlay(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        overlay(base.r, blend.r),
                        overlay(base.g, blend.g),
                        overlay(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendOverlay(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}kU.extension={name:"overlay",type:te.BlendMode};class IU extends _r{constructor(){super({gl:{functions:`
                float pinLight(float base, float blend)
                {
                    return (blend <= 0.5) ? min(base, 2.0 * blend) : max(base, 2.0 * (blend - 0.5));
                }

                vec3 blendPinLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        pinLight(base.r, blend.r),
                        pinLight(base.g, blend.g),
                        pinLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendPinLight(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn pinLight(base: f32, blend: f32) -> f32
                {
                    return select(max(base,2.0*(blend-0.5)), min(base,2.0*blend), blend <= 0.5);
                }

                fn blendPinLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        pinLight(base.r, blend.r),
                        pinLight(base.g, blend.g),
                        pinLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendPinLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}IU.extension={name:"pin-light",type:te.BlendMode};class NU extends _r{constructor(){super({gl:{functions:`
                ${Ew}

                vec3 blendSaturation(vec3 base, vec3 blend,  float opacity)
                {
                    vec3 blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));
                    return (blendSaturation * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendSaturation(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                ${Tw}

                fn blendSaturation(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));
                    return (blendSaturation * opacity + base * (1.0 - opacity));
                }
            `,main:`
                out = vec4<f32>(blendSaturation(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
            `}})}}NU.extension={name:"saturation",type:te.BlendMode};class UU extends _r{constructor(){super({gl:{functions:`
                float softLight(float base, float blend)
                {
                    return (blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend));
                }

                vec3 blendSoftLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        softLight(base.r, blend.r),
                        softLight(base.g, blend.g),
                        softLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendSoftLight(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn softLight(base: f32, blend: f32) -> f32
                {
                    return select(2.0 * base * blend + base * base * (1.0 - 2.0 * blend), sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend), blend < 0.5);
                }

                fn blendSoftLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        softLight(base.r, blend.r),
                        softLight(base.g, blend.g),
                        softLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendSoftLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}UU.extension={name:"soft-light",type:te.BlendMode};class FU extends _r{constructor(){super({gl:{functions:`
                float subtract(float base, float blend)
                {
                    return max(0.0, base - blend);
                }

                vec3 blendSubtract(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        subtract(base.r, blend.r),
                        subtract(base.g, blend.g),
                        subtract(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                finalColor = vec4(blendSubtract(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;
                `},gpu:{functions:`
                fn subtract(base: f32, blend: f32) -> f32
                {
                    return max(0, base - blend);
                }

                fn blendSubtract(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>
                {
                    let blended = vec3<f32>(
                        subtract(base.r, blend.r),
                        subtract(base.g, blend.g),
                        subtract(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendSubtract(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}FU.extension={name:"subtract",type:te.BlendMode};class LU extends _r{constructor(){super({gl:{functions:`
                float colorBurn(float base, float blend)
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                float colorDodge(float base, float blend)
                {
                    return min(1.0, base / (1.0-blend));
                }

                float vividLight(float base, float blend)
                {
                    return (blend < 0.5) ? colorBurn(base,(2.0*blend)) : colorDodge(base,(2.0*(blend-0.5)));
                }

                vec3 blendVividLight(vec3 base, vec3 blend, float opacity)
                {
                    vec3 blended = vec3(
                        vividLight(base.r, blend.r),
                        vividLight(base.g, blend.g),
                        vividLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
            `,main:`
                finalColor = vec4(blendVividLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;
            `},gpu:{functions:`
                fn colorBurn(base:f32, blend:f32) -> f32
                {
                    return max((1.0-((1.0-base)/blend)),0.0);
                }

                fn colorDodge(base: f32, blend: f32) -> f32
                {
                    return min(1.0, base / (1.0-blend));
                }

                fn vividLight(base: f32, blend: f32) -> f32
                {
                    return select(colorDodge(base,(2.0*(blend-0.5))), colorBurn(base,(2.0*blend)), blend<0.5);
                }

                fn blendVividLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>
                {
                    let blended: vec3<f32> = vec3<f32>(
                        vividLight(base.r, blend.r),
                        vividLight(base.g, blend.g),
                        vividLight(base.b, blend.b)
                    );

                    return (blended * opacity + base * (1.0 - opacity));
                }
                `,main:`
                out = vec4<f32>(blendVividLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;
                `}})}}LU.extension={name:"vivid-light",type:te.BlendMode};const UA=[];An.handleByNamedList(te.Environment,UA);async function uP(t){if(!t)for(let e=0;e<UA.length;e++){const n=UA[e];if(n.value.test()){await n.value.load();return}}}async function PX(t){return uP(!t)}let x0;function cP(){if(typeof x0=="boolean")return x0;try{x0=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{x0=!1}return x0}var c2={exports:{}},kB;function OX(){if(kB)return c2.exports;kB=1,c2.exports=t,c2.exports.default=t;function t(R,N,z){z=z||2;var K=N&&N.length,U=K?N[0]*z:R.length,j=e(R,0,U,z,!0),ne=[];if(!j||j.next===j.prev)return ne;var re,we,Ce,Ie,nt,ve,Ee;if(K&&(j=c(R,N,j,z)),R.length>80*z){re=Ce=R[0],we=Ie=R[1];for(var Fe=z;Fe<U;Fe+=z)nt=R[Fe],ve=R[Fe+1],nt<re&&(re=nt),ve<we&&(we=ve),nt>Ce&&(Ce=nt),ve>Ie&&(Ie=ve);Ee=Math.max(Ce-re,Ie-we),Ee=Ee!==0?32767/Ee:0}return r(j,ne,z,re,we,Ee,0),ne}function e(R,N,z,K,U){var j,ne;if(U===he(R,N,z,K)>0)for(j=N;j<z;j+=K)ne=ee(j,R[j],R[j+1],ne);else for(j=z-K;j>=N;j-=K)ne=ee(j,R[j],R[j+1],ne);return ne&&M(ne,ne.next)&&(be(ne),ne=ne.next),ne}function n(R,N){if(!R)return R;N||(N=R);var z=R,K;do if(K=!1,!z.steiner&&(M(z,z.next)||O(z.prev,z,z.next)===0)){if(be(z),z=N=z.prev,z===z.next)break;K=!0}else z=z.next;while(K||z!==N);return N}function r(R,N,z,K,U,j,ne){if(R){!ne&&j&&y(R,K,U,j);for(var re=R,we,Ce;R.prev!==R.next;){if(we=R.prev,Ce=R.next,j?s(R,K,U,j):i(R)){N.push(we.i/z|0),N.push(R.i/z|0),N.push(Ce.i/z|0),be(R),R=Ce.next,re=Ce.next;continue}if(R=Ce,R===re){ne?ne===1?(R=o(n(R),N,z),r(R,N,z,K,U,j,2)):ne===2&&u(R,N,z,K,U,j):r(n(R),N,z,K,U,j,1);break}}}}function i(R){var N=R.prev,z=R,K=R.next;if(O(N,z,K)>=0)return!1;for(var U=N.x,j=z.x,ne=K.x,re=N.y,we=z.y,Ce=K.y,Ie=U<j?U<ne?U:ne:j<ne?j:ne,nt=re<we?re<Ce?re:Ce:we<Ce?we:Ce,ve=U>j?U>ne?U:ne:j>ne?j:ne,Ee=re>we?re>Ce?re:Ce:we>Ce?we:Ce,Fe=K.next;Fe!==N;){if(Fe.x>=Ie&&Fe.x<=ve&&Fe.y>=nt&&Fe.y<=Ee&&A(U,re,j,we,ne,Ce,Fe.x,Fe.y)&&O(Fe.prev,Fe,Fe.next)>=0)return!1;Fe=Fe.next}return!0}function s(R,N,z,K){var U=R.prev,j=R,ne=R.next;if(O(U,j,ne)>=0)return!1;for(var re=U.x,we=j.x,Ce=ne.x,Ie=U.y,nt=j.y,ve=ne.y,Ee=re<we?re<Ce?re:Ce:we<Ce?we:Ce,Fe=Ie<nt?Ie<ve?Ie:ve:nt<ve?nt:ve,$e=re>we?re>Ce?re:Ce:we>Ce?we:Ce,et=Ie>nt?Ie>ve?Ie:ve:nt>ve?nt:ve,gt=S(Ee,Fe,N,z,K),rt=S($e,et,N,z,K),qe=R.prevZ,Xe=R.nextZ;qe&&qe.z>=gt&&Xe&&Xe.z<=rt;){if(qe.x>=Ee&&qe.x<=$e&&qe.y>=Fe&&qe.y<=et&&qe!==U&&qe!==ne&&A(re,Ie,we,nt,Ce,ve,qe.x,qe.y)&&O(qe.prev,qe,qe.next)>=0||(qe=qe.prevZ,Xe.x>=Ee&&Xe.x<=$e&&Xe.y>=Fe&&Xe.y<=et&&Xe!==U&&Xe!==ne&&A(re,Ie,we,nt,Ce,ve,Xe.x,Xe.y)&&O(Xe.prev,Xe,Xe.next)>=0))return!1;Xe=Xe.nextZ}for(;qe&&qe.z>=gt;){if(qe.x>=Ee&&qe.x<=$e&&qe.y>=Fe&&qe.y<=et&&qe!==U&&qe!==ne&&A(re,Ie,we,nt,Ce,ve,qe.x,qe.y)&&O(qe.prev,qe,qe.next)>=0)return!1;qe=qe.prevZ}for(;Xe&&Xe.z<=rt;){if(Xe.x>=Ee&&Xe.x<=$e&&Xe.y>=Fe&&Xe.y<=et&&Xe!==U&&Xe!==ne&&A(re,Ie,we,nt,Ce,ve,Xe.x,Xe.y)&&O(Xe.prev,Xe,Xe.next)>=0)return!1;Xe=Xe.nextZ}return!0}function o(R,N,z){var K=R;do{var U=K.prev,j=K.next.next;!M(U,j)&&D(U,K,K.next,j)&&L(U,j)&&L(j,U)&&(N.push(U.i/z|0),N.push(K.i/z|0),N.push(j.i/z|0),be(K),be(K.next),K=R=j),K=K.next}while(K!==R);return n(K)}function u(R,N,z,K,U,j){var ne=R;do{for(var re=ne.next.next;re!==ne.prev;){if(ne.i!==re.i&&P(ne,re)){var we=Z(ne,re);ne=n(ne,ne.next),we=n(we,we.next),r(ne,N,z,K,U,j,0),r(we,N,z,K,U,j,0);return}re=re.next}ne=ne.next}while(ne!==R)}function c(R,N,z,K){var U=[],j,ne,re,we,Ce;for(j=0,ne=N.length;j<ne;j++)re=N[j]*K,we=j<ne-1?N[j+1]*K:R.length,Ce=e(R,re,we,K,!1),Ce===Ce.next&&(Ce.steiner=!0),U.push(T(Ce));for(U.sort(f),j=0;j<U.length;j++)z=p(U[j],z);return z}function f(R,N){return R.x-N.x}function p(R,N){var z=v(R,N);if(!z)return N;var K=Z(z,R);return n(K,K.next),n(z,z.next)}function v(R,N){var z=N,K=R.x,U=R.y,j=-1/0,ne;do{if(U<=z.y&&U>=z.next.y&&z.next.y!==z.y){var re=z.x+(U-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(re<=K&&re>j&&(j=re,ne=z.x<z.next.x?z:z.next,re===K))return ne}z=z.next}while(z!==N);if(!ne)return null;var we=ne,Ce=ne.x,Ie=ne.y,nt=1/0,ve;z=ne;do K>=z.x&&z.x>=Ce&&K!==z.x&&A(U<Ie?K:j,U,Ce,Ie,U<Ie?j:K,U,z.x,z.y)&&(ve=Math.abs(U-z.y)/(K-z.x),L(z,R)&&(ve<nt||ve===nt&&(z.x>ne.x||z.x===ne.x&&b(ne,z)))&&(ne=z,nt=ve)),z=z.next;while(z!==we);return ne}function b(R,N){return O(R.prev,R,N.prev)<0&&O(N.next,R,R.next)<0}function y(R,N,z,K){var U=R;do U.z===0&&(U.z=S(U.x,U.y,N,z,K)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==R);U.prevZ.nextZ=null,U.prevZ=null,E(U)}function E(R){var N,z,K,U,j,ne,re,we,Ce=1;do{for(z=R,R=null,j=null,ne=0;z;){for(ne++,K=z,re=0,N=0;N<Ce&&(re++,K=K.nextZ,!!K);N++);for(we=Ce;re>0||we>0&&K;)re!==0&&(we===0||!K||z.z<=K.z)?(U=z,z=z.nextZ,re--):(U=K,K=K.nextZ,we--),j?j.nextZ=U:R=U,U.prevZ=j,j=U;z=K}j.nextZ=null,Ce*=2}while(ne>1);return R}function S(R,N,z,K,U){return R=(R-z)*U|0,N=(N-K)*U|0,R=(R|R<<8)&16711935,R=(R|R<<4)&252645135,R=(R|R<<2)&858993459,R=(R|R<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,R|N<<1}function T(R){var N=R,z=R;do(N.x<z.x||N.x===z.x&&N.y<z.y)&&(z=N),N=N.next;while(N!==R);return z}function A(R,N,z,K,U,j,ne,re){return(U-ne)*(N-re)>=(R-ne)*(j-re)&&(R-ne)*(K-re)>=(z-ne)*(N-re)&&(z-ne)*(j-re)>=(U-ne)*(K-re)}function P(R,N){return R.next.i!==N.i&&R.prev.i!==N.i&&!Y(R,N)&&(L(R,N)&&L(N,R)&&X(R,N)&&(O(R.prev,R,N.prev)||O(R,N.prev,N))||M(R,N)&&O(R.prev,R,R.next)>0&&O(N.prev,N,N.next)>0)}function O(R,N,z){return(N.y-R.y)*(z.x-N.x)-(N.x-R.x)*(z.y-N.y)}function M(R,N){return R.x===N.x&&R.y===N.y}function D(R,N,z,K){var U=G(O(R,N,z)),j=G(O(R,N,K)),ne=G(O(z,K,R)),re=G(O(z,K,N));return!!(U!==j&&ne!==re||U===0&&W(R,z,N)||j===0&&W(R,K,N)||ne===0&&W(z,R,K)||re===0&&W(z,N,K))}function W(R,N,z){return N.x<=Math.max(R.x,z.x)&&N.x>=Math.min(R.x,z.x)&&N.y<=Math.max(R.y,z.y)&&N.y>=Math.min(R.y,z.y)}function G(R){return R>0?1:R<0?-1:0}function Y(R,N){var z=R;do{if(z.i!==R.i&&z.next.i!==R.i&&z.i!==N.i&&z.next.i!==N.i&&D(z,z.next,R,N))return!0;z=z.next}while(z!==R);return!1}function L(R,N){return O(R.prev,R,R.next)<0?O(R,N,R.next)>=0&&O(R,R.prev,N)>=0:O(R,N,R.prev)<0||O(R,R.next,N)<0}function X(R,N){var z=R,K=!1,U=(R.x+N.x)/2,j=(R.y+N.y)/2;do z.y>j!=z.next.y>j&&z.next.y!==z.y&&U<(z.next.x-z.x)*(j-z.y)/(z.next.y-z.y)+z.x&&(K=!K),z=z.next;while(z!==R);return K}function Z(R,N){var z=new Te(R.i,R.x,R.y),K=new Te(N.i,N.x,N.y),U=R.next,j=N.prev;return R.next=N,N.prev=R,z.next=U,U.prev=z,K.next=z,z.prev=K,j.next=K,K.prev=j,K}function ee(R,N,z,K){var U=new Te(R,N,z);return K?(U.next=K.next,U.prev=K,K.next.prev=U,K.next=U):(U.prev=U,U.next=U),U}function be(R){R.next.prev=R.prev,R.prev.next=R.next,R.prevZ&&(R.prevZ.nextZ=R.nextZ),R.nextZ&&(R.nextZ.prevZ=R.prevZ)}function Te(R,N,z){this.i=R,this.x=N,this.y=z,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}t.deviation=function(R,N,z,K){var U=N&&N.length,j=U?N[0]*z:R.length,ne=Math.abs(he(R,0,j,z));if(U)for(var re=0,we=N.length;re<we;re++){var Ce=N[re]*z,Ie=re<we-1?N[re+1]*z:R.length;ne-=Math.abs(he(R,Ce,Ie,z))}var nt=0;for(re=0;re<K.length;re+=3){var ve=K[re]*z,Ee=K[re+1]*z,Fe=K[re+2]*z;nt+=Math.abs((R[ve]-R[Fe])*(R[Ee+1]-R[ve+1])-(R[ve]-R[Ee])*(R[Fe+1]-R[ve+1]))}return ne===0&&nt===0?0:Math.abs((nt-ne)/ne)};function he(R,N,z,K){for(var U=0,j=N,ne=z-K;j<z;j+=K)U+=(R[ne]-R[j])*(R[j+1]+R[ne+1]),ne=j;return U}return t.flatten=function(R){for(var N=R[0][0].length,z={vertices:[],holes:[],dimensions:N},K=0,U=0;U<R.length;U++){for(var j=0;j<R[U].length;j++)for(var ne=0;ne<N;ne++)z.vertices.push(R[U][j][ne]);U>0&&(K+=R[U-1].length,z.holes.push(K))}return z},c2.exports}var MX=OX();const GU=cv(MX);var ks=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(ks||{});class dP{constructor(e){this.items=[],this._name=e}emit(e,n,r,i,s,o,u,c){const{name:f,items:p}=this;for(let v=0,b=p.length;v<b;v++)p[v][f](e,n,r,i,s,o,u,c);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&this.items.splice(n,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const DX=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],zU=class VU extends hs{constructor(e){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const n=[...DX,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(e={}){const n=e.skipExtensionImports===!0?!0:e.manageImports===!1;await uP(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)e={...this._systemsHash[r].constructor.defaultOptions,...e};e={...VU.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(e);this._initOptions=e}render(e,n){let r=e;if(r instanceof Ei&&(r={container:r},n&&(Qe(Tt,"passing a second argument is deprecated, please use render options instead"),r.target=n.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const i=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=i?r.clearColor:en.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(e,n,r){const i=this.view.resolution;this.view.resize(e,n,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==i&&this.runners.resolutionChange.emit(r)}clear(e={}){const n=this;e.target||(e.target=n.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=ks.ALL);const{clear:r,clearColor:i,target:s}=e;en.shared.setValue(i??this.background.colorRgba),n.renderTarget.clear(s,r,en.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(n=>{this.runners[n]=new dP(n)})}_addSystems(e){let n;for(n in e){const r=e[n];this._addSystem(r.value,r.name)}}_addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}_addPipes(e,n){const r=n.reduce((i,s)=>(i[s.name]=s.value,i),{});e.forEach(i=>{const s=i.value,o=i.name,u=r[o];this.renderPipes[o]=new s(this,u?new u:null)})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!cP())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};zU.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let oy=zU,d2;function ly(t){return d2!==void 0||(d2=(()=>{var n;const e={stencil:!0,failIfMajorPerformanceCaveat:t??oy.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Yt.get().getWebGLRenderingContext())return!1;let i=Yt.get().createCanvas().getContext("webgl",e);const s=!!((n=i==null?void 0:i.getContextAttributes())!=null&&n.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}})()),d2}let h2;async function uy(t={}){return h2!==void 0||(h2=await(async()=>{const e=Yt.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),h2}const IB=["webgl","webgpu","canvas"];async function HU(t){let e=[];t.preference?(e.push(t.preference),IB.forEach(s=>{s!==t.preference&&e.push(s)})):e=IB.slice();let n,r={};for(let s=0;s<e.length;s++){const o=e[s];if(o==="webgpu"&&await uy()){const{WebGPURenderer:u}=await yS(async()=>{const{WebGPURenderer:c}=await Promise.resolve().then(()=>sZ);return{WebGPURenderer:c}},void 0);n=u,r={...t,...t.webgpu};break}else if(o==="webgl"&&ly(t.failIfMajorPerformanceCaveat??oy.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:u}=await yS(async()=>{const{WebGLRenderer:c}=await Promise.resolve().then(()=>KK);return{WebGLRenderer:c}},void 0);n=u,r={...t,...t.webgl};break}else if(o==="canvas")throw r={...t},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!n)throw new Error("No available renderer for the current environment");const i=new n;return await i.init(r),i}const BX=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,k_="8.9.0";class hP{static init(){var e;(e=globalThis.__PIXI_APP_INIT__)==null||e.call(globalThis,this,k_)}static destroy(){}}hP.extension=te.Application;class fP{constructor(e){this._renderer=e}init(){var e;(e=globalThis.__PIXI_RENDERER_INIT__)==null||e.call(globalThis,this._renderer,k_)}destroy(){this._renderer=null}}fP.extension={type:[te.WebGLSystem,te.WebGPUSystem],name:"initHook",priority:-10};const WU=class FA{constructor(...e){this.stage=new Ei,e[0]!==void 0&&Qe(Tt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await HU(e),FA._plugins.forEach(n=>{n.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Qe(Tt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,n=!1){const r=FA._plugins.slice(0);r.reverse(),r.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null}};WU._plugins=[];let pP=WU;An.handleByList(te.Application,pP._plugins);An.add(hP);class $U{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let n,r;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;n=i,r=s}this.renderer.resize(n,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}$U.extension=te.Application;class jU{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,tc.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Si.shared:new Si,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}jU.extension=te.Application;class gP extends hs{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return Qe(Tt,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return Qe(Tt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return Qe(Tt,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return Qe(Tt,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return Qe(Tt,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){var n;this.emit("destroy",this),this.removeAllListeners();for(const r in this.chars)(n=this.chars[r].texture)==null||n.destroy();this.chars=null,e&&(this.pages.forEach(r=>r.texture.destroy(!0)),this.pages=null)}}const NB=[{offset:0,color:"white"},{offset:1,color:"black"}],mP=class LA{constructor(...e){this.uid=Xn("fillGradient"),this.type="linear",this.colorStops=[];let n=kX(e);n={...n.type==="radial"?LA.defaultRadialOptions:LA.defaultLinearOptions,...zo(n)},this._textureSize=n.textureSize,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(i=>{this.addColorStop(i.offset,i.color)})}addColorStop(e,n){return this.colorStops.push({offset:e,color:en.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:NB,n=this._textureSize,{canvas:r,context:i}=FB(n,1),s=i.createLinearGradient(0,0,this._textureSize,0);UB(s,e),i.fillStyle=s,i.fillRect(0,0,n,1),this.texture=new ze({source:new Md({resource:r})});const{x:o,y:u}=this.start,{x:c,y:f}=this.end,p=new Je,v=c-o,b=f-u,y=Math.sqrt(v*v+b*b),E=Math.atan2(b,v);p.scale(y/n,1),p.rotate(E),p.translate(o,u),this.textureSpace==="local"&&p.scale(n,n),this.transform=p}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:NB,n=this._textureSize,{canvas:r,context:i}=FB(n,n),{x:s,y:o}=this.center,{x:u,y:c}=this.outerCenter,f=this.innerRadius,p=this.outerRadius,v=u-p,b=c-p,y=n/(p*2),E=(s-v)*y,S=(o-b)*y,T=i.createRadialGradient(E,S,f*y,(u-v)*y,(c-b)*y,p*y);UB(T,e),i.fillStyle=e[e.length-1].color,i.fillRect(0,0,n,n),i.fillStyle=T,i.translate(E,S),i.rotate(this.rotation),i.scale(1,this.scale),i.translate(-E,-S),i.fillRect(0,0,n,n),this.texture=new ze({source:new Md({resource:r,addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"})});const A=new Je;A.scale(1/y,1/y),A.translate(v,b),this.textureSpace==="local"&&A.scale(n,n),this.transform=A}get styleKey(){return this.uid}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=null}};mP.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256};mP.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256};let rc=mP;function UB(t,e){for(let n=0;n<e.length;n++){const r=e[n];t.addColorStop(r.offset,r.color)}}function FB(t,e){const n=Yt.get().createCanvas(t,e),r=n.getContext("2d");return{canvas:n,context:r}}function kX(t){let e=t[0]??{};return(typeof e=="number"||t[1])&&(Qe("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??rc.defaultLinearOptions.textureSize}),e}const LB={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class cy{constructor(e,n){this.uid=Xn("fillPattern"),this.transform=new Je,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),n&&(e.source.style.addressModeU=LB[n].addressModeU,e.source.style.addressModeV=LB[n].addressModeV)}setTransform(e){const n=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var hC,GB;function IX(){if(GB)return hC;GB=1,hC=n;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(s){var o=[];return s.replace(e,function(u,c,f){var p=c.toLowerCase();for(f=i(f),p=="m"&&f.length>2&&(o.push([c].concat(f.splice(0,2))),p="l",c=c=="m"?"l":"L");;){if(f.length==t[p])return f.unshift(c),o.push(f);if(f.length<t[p])throw new Error("malformed path data");o.push([c].concat(f.splice(0,t[p])))}}),o}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(s){var o=s.match(r);return o?o.map(Number):[]}return hC}var NX=IX();const UX=cv(NX);function XU(t,e){const n=UX(t),r=[];let i=null,s=0,o=0;for(let u=0;u<n.length;u++){const c=n[u],f=c[0],p=c;switch(f){case"M":s=p[1],o=p[2],e.moveTo(s,o);break;case"m":s+=p[1],o+=p[2],e.moveTo(s,o);break;case"H":s=p[1],e.lineTo(s,o);break;case"h":s+=p[1],e.lineTo(s,o);break;case"V":o=p[1],e.lineTo(s,o);break;case"v":o+=p[1],e.lineTo(s,o);break;case"L":s=p[1],o=p[2],e.lineTo(s,o);break;case"l":s+=p[1],o+=p[2],e.lineTo(s,o);break;case"C":s=p[5],o=p[6],e.bezierCurveTo(p[1],p[2],p[3],p[4],s,o);break;case"c":e.bezierCurveTo(s+p[1],o+p[2],s+p[3],o+p[4],s+p[5],o+p[6]),s+=p[5],o+=p[6];break;case"S":s=p[3],o=p[4],e.bezierCurveToShort(p[1],p[2],s,o);break;case"s":e.bezierCurveToShort(s+p[1],o+p[2],s+p[3],o+p[4]),s+=p[3],o+=p[4];break;case"Q":s=p[3],o=p[4],e.quadraticCurveTo(p[1],p[2],s,o);break;case"q":e.quadraticCurveTo(s+p[1],o+p[2],s+p[3],o+p[4]),s+=p[3],o+=p[4];break;case"T":s=p[1],o=p[2],e.quadraticCurveToShort(s,o);break;case"t":s+=p[1],o+=p[2],e.quadraticCurveToShort(s,o);break;case"A":s=p[6],o=p[7],e.arcToSvg(p[1],p[2],p[3],p[4],p[5],s,o);break;case"a":s+=p[6],o+=p[7],e.arcToSvg(p[1],p[2],p[3],p[4],p[5],s,o);break;case"Z":case"z":e.closePath(),r.length>0&&(i=r.pop(),i?(s=i.startX,o=i.startY):(s=0,o=0)),i=null;break;default:at(`Unknown SVG path command: ${f}`)}f!=="Z"&&f!=="z"&&i===null&&(i={startX:s,startY:o},r.push(i))}return e}let YU=class qU{constructor(e=0,n=0,r=0){this.type="circle",this.x=e,this.y=n,this.radius=r}clone(){return new qU(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}strokeContains(e,n,r,i=.5){if(this.radius===0)return!1;const s=this.x-e,o=this.y-n,u=this.radius,c=(1-i)*r,f=Math.sqrt(s*s+o*o);return f<=u+c&&f>u-(r-c)}getBounds(e){return e||(e=new vn),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}};class Cw{constructor(e=0,n=0,r=0,i=0){this.type="ellipse",this.x=e,this.y=n,this.halfWidth=r,this.halfHeight=i}clone(){return new Cw(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(e-this.x)/this.halfWidth,i=(n-this.y)/this.halfHeight;return r*=r,i*=i,r+i<=1}strokeContains(e,n,r,i=.5){const{halfWidth:s,halfHeight:o}=this;if(s<=0||o<=0)return!1;const u=r*(1-i),c=r-u,f=s-c,p=o-c,v=s+u,b=o+u,y=e-this.x,E=n-this.y,S=y*y/(f*f)+E*E/(p*p),T=y*y/(v*v)+E*E/(b*b);return S>1&&T<=1}getBounds(e){return e||(e=new vn),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function f_(t,e,n,r,i,s){const o=t-n,u=e-r,c=i-n,f=s-r,p=o*c+u*f,v=c*c+f*f;let b=-1;v!==0&&(b=p/v);let y,E;b<0?(y=n,E=r):b>1?(y=i,E=s):(y=n+b*c,E=r+b*f);const S=t-y,T=e-E;return S*S+T*T}let FX,LX;class Tm{constructor(...e){this.type="polygon";let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.closePath=!0}isClockwise(){let e=0;const n=this.points,r=n.length;for(let i=0;i<r;i+=2){const s=n[i],o=n[i+1],u=n[(i+2)%r],c=n[(i+3)%r];e+=(u-s)*(c+o)}return e<0}containsPolygon(e){const n=this.getBounds(FX),r=e.getBounds(LX);if(!n.containsRect(r))return!1;const i=e.points;for(let s=0;s<i.length;s+=2){const o=i[s],u=i[s+1];if(!this.contains(o,u))return!1}return!0}clone(){const e=this.points.slice(),n=new Tm(e);return n.closePath=this.closePath,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const u=this.points[s*2],c=this.points[s*2+1],f=this.points[o*2],p=this.points[o*2+1];c>n!=p>n&&e<(f-u)*((n-c)/(p-c))+u&&(r=!r)}return r}strokeContains(e,n,r,i=.5){const s=r*r,o=s*(1-i),u=s-o,{points:c}=this,f=c.length-(this.closePath?0:2);for(let p=0;p<f;p+=2){const v=c[p],b=c[p+1],y=c[(p+2)%c.length],E=c[(p+3)%c.length],S=f_(e,n,v,b,y,E),T=Math.sign((y-v)*(n-b)-(E-b)*(e-v));if(S<=(T<0?u:o))return!0}return!1}getBounds(e){e||(e=new vn);const n=this.points;let r=1/0,i=-1/0,s=1/0,o=-1/0;for(let u=0,c=n.length;u<c;u+=2){const f=n[u],p=n[u+1];r=f<r?f:r,i=f>i?f:i,s=p<s?p:s,o=p>o?p:o}return e.x=r,e.width=i-r,e.y=s,e.height=o-s,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const f2=(t,e,n,r,i,s,o)=>{const u=t-n,c=e-r,f=Math.sqrt(u*u+c*c);return f>=i-s&&f<=i+o};class Aw{constructor(e=0,n=0,r=0,i=0,s=20){this.type="roundedRectangle",this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s}getBounds(e){return e||(e=new vn),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new Aw(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}strokeContains(e,n,r,i=.5){const{x:s,y:o,width:u,height:c,radius:f}=this,p=r*(1-i),v=r-p,b=s+f,y=o+f,E=u-f*2,S=c-f*2,T=s+u,A=o+c;return(e>=s-p&&e<=s+v||e>=T-v&&e<=T+p)&&n>=y&&n<=y+S||(n>=o-p&&n<=o+v||n>=A-v&&n<=A+p)&&e>=b&&e<=b+E?!0:e<b&&n<y&&f2(e,n,b,y,f,v,p)||e>T-f&&n<y&&f2(e,n,T-f,y,f,v,p)||e>T-f&&n>A-f&&f2(e,n,T-f,A-f,f,v,p)||e<b&&n>A-f&&f2(e,n,b,A-f,f,v,p)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const GX=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function zX(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function KU(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const r=GX.replace(/%forloop%/gi,zX(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(n)}return t}let qg=null;function rp(){var e;if(qg)return qg;const t=oP();return qg=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),qg=KU(qg,t),(e=t.getExtension("WEBGL_lose_context"))==null||e.loseContext(),qg}const ZU={};function Rw(t,e){let n=2166136261;for(let r=0;r<e;r++)n^=t[r].uid,n=Math.imul(n,16777619),n>>>=0;return ZU[n]||VX(t,e,n)}let fC=0;function VX(t,e,n){const r={};let i=0;fC||(fC=rp());for(let o=0;o<fC;o++){const u=o<e?t[o]:ze.EMPTY.source;r[i++]=u.source,r[i++]=u.style}const s=new zl(r);return ZU[n]=s,s}class Cf{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function ES(t,e){const n=t.byteLength/8|0,r=new Float64Array(t,0,n);new Float64Array(e,0,n).set(r);const s=t.byteLength-n*8;if(s>0){const o=new Uint8Array(t,n*8,s);new Uint8Array(e,n*8,s).set(o)}}const QU={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var mr=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(mr||{});function ev(t,e){return e.alphaMode==="no-premultiply-alpha"&&QU[t]||t}class JU{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const n=this.textures[e];this.textures[e]=null,this.ids[n.uid]=null}this.count=0}}class e6{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new JU,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const t6=[];let GA=0;function zB(){return GA>0?t6[--GA]:new e6}function VB(t){t6[GA++]=t}let S0=0;const n6=class K2{constructor(e={}){this.uid=Xn("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],K2.defaultOptions.maxTextures=K2.defaultOptions.maxTextures??rp(),e={...K2.defaultOptions,...e};const{maxTextures:n,attributesInitialSize:r,indicesInitialSize:i}=e;this.attributeBuffer=new Cf(r*4),this.indexBuffer=new Uint16Array(i),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)VB(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,n){const r=e._batch.textures.ids[n._source.uid];return!r&&r!==0?!1:(e._textureId=r,e.texture=n,!0)}updateElement(e){this.dirty=!0;const n=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId)}break(e){const n=this._elements;if(!n[this.elementStart])return;let r=zB(),i=r.textures;i.clear();const s=n[this.elementStart];let o=ev(s.blendMode,s.texture._source),u=s.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const c=this.attributeBuffer.float32View,f=this.attributeBuffer.uint32View,p=this.indexBuffer;let v=this._batchIndexSize,b=this._batchIndexStart,y="startBatch";const E=this.maxTextures;for(let S=this.elementStart;S<this.elementSize;++S){const T=n[S];n[S]=null;const P=T.texture._source,O=ev(T.blendMode,P),M=o!==O||u!==T.topology;if(P._batchTick===S0&&!M){T._textureId=P._textureBindLocation,v+=T.indexSize,T.packAsQuad?(this.packQuadAttributes(T,c,f,T._attributeStart,T._textureId),this.packQuadIndex(p,T._indexStart,T._attributeStart/this.vertexSize)):(this.packAttributes(T,c,f,T._attributeStart,T._textureId),this.packIndex(T,p,T._indexStart,T._attributeStart/this.vertexSize)),T._batch=r;continue}P._batchTick=S0,(i.count>=E||M)&&(this._finishBatch(r,b,v-b,i,o,u,e,y),y="renderBatch",b=v,o=O,u=T.topology,r=zB(),i=r.textures,i.clear(),++S0),T._textureId=P._textureBindLocation=i.count,i.ids[P.uid]=i.count,i.textures[i.count++]=P,T._batch=r,v+=T.indexSize,T.packAsQuad?(this.packQuadAttributes(T,c,f,T._attributeStart,T._textureId),this.packQuadIndex(p,T._indexStart,T._attributeStart/this.vertexSize)):(this.packAttributes(T,c,f,T._attributeStart,T._textureId),this.packIndex(T,p,T._indexStart,T._attributeStart/this.vertexSize))}i.count>0&&(this._finishBatch(r,b,v-b,i,o,u,e,y),b=v,++S0),this.elementStart=this.elementSize,this._batchIndexStart=b,this._batchIndexSize=v}_finishBatch(e,n,r,i,s,o,u,c){e.gpuBindGroup=null,e.bindGroup=null,e.action=c,e.batcher=this,e.textures=i,e.blendMode=s,e.topology=o,e.start=n,e.size=r,++S0,this.batches[this.batchIndex++]=e,u.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const n=Math.max(e,this.attributeBuffer.size*2),r=new Cf(n);ES(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(e){const n=this.indexBuffer;let r=Math.max(e,n.length*1.5);r+=r%2;const i=r>65535?new Uint32Array(r):new Uint16Array(r);if(i.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let s=0;s<n.length;s++)i[s]=n[s];else ES(n.buffer,i.buffer);this.indexBuffer=i}packQuadIndex(e,n,r){e[n]=r+0,e[n+1]=r+1,e[n+2]=r+2,e[n+3]=r+0,e[n+4]=r+2,e[n+5]=r+3}packIndex(e,n,r,i){const s=e.indices,o=e.indexSize,u=e.indexOffset,c=e.attributeOffset;for(let f=0;f<o;f++)n[r++]=i+s[f+u]-c}destroy(){for(let e=0;e<this.batches.length;e++)VB(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};n6.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let r6=n6;var Wt=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(Wt||{});class cs extends hs{constructor(e){let{data:n,size:r}=e;const{usage:i,label:s,shrinkToFit:o}=e;super(),this.uid=Xn("buffer"),this._resourceType="buffer",this._resourceId=Xn("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,r??(r=n==null?void 0:n.byteLength);const u=!!n;this.descriptor={size:r,usage:i,mappedAtCreation:u,label:s},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Wt.STATIC)}set static(e){e?this.descriptor.usage|=Wt.STATIC:this.descriptor.usage&=~Wt.STATIC}setDataWithSize(e,n,r){if(this._updateID++,this._updateSize=n*e.BYTES_PER_ELEMENT,this._data===e){r&&this.emit("update",this);return}const i=this._data;if(this._data=e,this._dataInt32=null,!i||i.length!==e.length){!this.shrinkToFit&&i&&e.byteLength<i.byteLength?r&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=Xn("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function vP(t,e){if(!(t instanceof cs)){let n=e?Wt.INDEX:Wt.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),n=Wt.INDEX|Wt.COPY_DST):(t=new Float32Array(t),n=Wt.VERTEX|Wt.COPY_DST)),t=new cs({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return t}function i6(t,e,n){const r=t.getAttribute(e);if(!r)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const i=r.buffer.data;let s=1/0,o=1/0,u=-1/0,c=-1/0;const f=i.BYTES_PER_ELEMENT,p=(r.offset||0)/f,v=(r.stride||2*4)/f;for(let b=p;b<i.length;b+=v){const y=i[b],E=i[b+1];y>u&&(u=y),E>c&&(c=E),y<s&&(s=y),E<o&&(o=E)}return n.minX=s,n.minY=o,n.maxX=u,n.maxY=c,n}function HX(t){return(t instanceof cs||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=vP(t.buffer,!1),t}class ip extends hs{constructor(e={}){super(),this.uid=Xn("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Zr,this._boundsDirty=!0;const{attributes:n,indexBuffer:r,topology:i}=e;if(this.buffers=[],this.attributes={},n)for(const s in n)this.addAttribute(s,n[s]);this.instanceCount=e.instanceCount??1,r&&this.addIndex(r),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const n=this.attributes[e];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(e,n){const r=HX(n);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=r}addIndex(e){this.indexBuffer=vP(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,i6(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(n=>n.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const WX=new Float32Array(1),$X=new Uint32Array(1);class s6 extends ip{constructor(){const n=new cs({data:WX,label:"attribute-batch-buffer",usage:Wt.VERTEX|Wt.COPY_DST,shrinkToFit:!1}),r=new cs({data:$X,label:"index-batch-buffer",usage:Wt.INDEX|Wt.COPY_DST,shrinkToFit:!1}),i=6*4;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:i,offset:0},aUV:{buffer:n,format:"float32x2",stride:i,offset:2*4},aColor:{buffer:n,format:"unorm8x4",stride:i,offset:4*4},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:i,offset:5*4}},indexBuffer:r})}}function zA(t,e,n){if(t)for(const r in t){const i=r.toLocaleLowerCase(),s=e[i];if(s){let o=t[r];r==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&s.push(`//----${n}----//`),s.push(o)}else at(`${r} placement hook does not exist in shader`)}}const a6=/\{\{(.*?)\}\}/g;function VA(t){var r;const e={};return(((r=t.match(a6))==null?void 0:r.map(i=>i.replace(/[{()}]/g,"")))??[]).forEach(i=>{e[i]=[]}),e}function HB(t,e){let n;const r=/@in\s+([^;]+);/g;for(;(n=r.exec(t))!==null;)e.push(n[1])}function HA(t,e,n=!1){const r=[];HB(e,r),t.forEach(u=>{u.header&&HB(u.header,r)});const i=r;n&&i.sort();const s=i.map((u,c)=>`       @location(${c}) ${u},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${s}
`),o}function WB(t,e){let n;const r=/@out\s+([^;]+);/g;for(;(n=r.exec(t))!==null;)e.push(n[1])}function jX(t){const n=/\b(\w+)\s*:/g.exec(t);return n?n[1]:""}function XX(t){const e=/@.*?\s+/g;return t.replace(e,"")}function o6(t,e){const n=[];WB(e,n),t.forEach(c=>{c.header&&WB(c.header,n)});let r=0;const i=n.sort().map(c=>c.indexOf("builtin")>-1?c:`@location(${r++}) ${c}`).join(`,
`),s=n.sort().map(c=>`       var ${XX(c)};`).join(`
`),o=`return VSOutput(
            ${n.sort().map(c=>` ${jX(c)}`).join(`,
`)});`;let u=e.replace(/@out\s+[^;]+;\s*/g,"");return u=u.replace("{{struct}}",`
${i}
`),u=u.replace("{{start}}",`
${s}
`),u=u.replace("{{return}}",`
${o}
`),u}function WA(t,e){let n=t;for(const r in e){const i=e[r];i.join(`
`).length?n=n.replace(`{{${r}}}`,`//-----${r} START-----//
${i.join(`
`)}
//----${r} FINISH----//`):n=n.replace(`{{${r}}}`,"")}return n}const md=Object.create(null),pC=new Map;let YX=0;function l6({template:t,bits:e}){const n=c6(t,e);if(md[n])return md[n];const{vertex:r,fragment:i}=qX(t,e);return md[n]=d6(r,i,e),md[n]}function u6({template:t,bits:e}){const n=c6(t,e);return md[n]||(md[n]=d6(t.vertex,t.fragment,e)),md[n]}function qX(t,e){const n=e.map(o=>o.vertex).filter(o=>!!o),r=e.map(o=>o.fragment).filter(o=>!!o);let i=HA(n,t.vertex,!0);i=o6(n,i);const s=HA(r,t.fragment,!0);return{vertex:i,fragment:s}}function c6(t,e){return e.map(n=>(pC.has(n)||pC.set(n,YX++),pC.get(n))).sort((n,r)=>n-r).join("-")+t.vertex+t.fragment}function d6(t,e,n){const r=VA(t),i=VA(e);return n.forEach(s=>{zA(s.vertex,r,s.name),zA(s.fragment,i,s.name)}),{vertex:WA(t,r),fragment:WA(e,i)}}const h6=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,f6=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,p6=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,g6=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,m6={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},KX={name:"global-uniforms-ubo-bit",vertex:{header:`
          uniform globalUniforms {
            mat3 uProjectionMatrix;
            mat3 uWorldTransformMatrix;
            vec4 uWorldColorAlpha;
            vec2 uResolution;
          };
        `}},v6={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function hv({bits:t,name:e}){const n=l6({template:{fragment:f6,vertex:h6},bits:[m6,...t]});return fs.from({name:e,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function fv({bits:t,name:e}){return new Xs({name:e,...u6({template:{vertex:p6,fragment:g6},bits:[v6,...t]})})}const Pw={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},Ow={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},gC={};function ZX(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<t;r++)e.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return e.join(`
`)}function QX(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let n=0;n<t;n++)n===t-1?e.push("  default:{"):e.push(`  case ${n}:{`),e.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function Mw(t){return gC[t]||(gC[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${ZX(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${QX(t)}
            `}}),gC[t]}const mC={};function JX(t){const e=[];for(let n=0;n<t;n++)n>0&&e.push("else"),n<t-1&&e.push(`if(vTextureId < ${n}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${n}], vUV);`),e.push("}");return e.join(`
`)}function Dw(t){return mC[t]||(mC[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${JX(t)}
            `}}),mC[t]}const pv={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},gv={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},$B={};function Bw(t){let e=$B[t];if(e)return e;const n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=r;return e=$B[t]=new kr({uTextures:{value:n,type:"i32",size:t}},{isStatic:!0}),e}class b6 extends Ma{constructor(e){const n=fv({name:"batch",bits:[Ow,Dw(e),gv]}),r=hv({name:"batch",bits:[Pw,Mw(e),pv]});super({glProgram:n,gpuProgram:r,resources:{batchSamplers:Bw(e)}})}}let jB=null;const _6=class y6 extends r6{constructor(){super(...arguments),this.geometry=new s6,this.shader=jB||(jB=new b6(this.maxTextures)),this.name=y6.extension.name,this.vertexSize=6}packAttributes(e,n,r,i,s){const o=s<<16|e.roundPixels&65535,u=e.transform,c=u.a,f=u.b,p=u.c,v=u.d,b=u.tx,y=u.ty,{positions:E,uvs:S}=e,T=e.color,A=e.attributeOffset,P=A+e.attributeSize;for(let O=A;O<P;O++){const M=O*2,D=E[M],W=E[M+1];n[i++]=c*D+p*W+b,n[i++]=v*W+f*D+y,n[i++]=S[M],n[i++]=S[M+1],r[i++]=T,r[i++]=o}}packQuadAttributes(e,n,r,i,s){const o=e.texture,u=e.transform,c=u.a,f=u.b,p=u.c,v=u.d,b=u.tx,y=u.ty,E=e.bounds,S=E.maxX,T=E.minX,A=E.maxY,P=E.minY,O=o.uvs,M=e.color,D=s<<16|e.roundPixels&65535;n[i+0]=c*T+p*P+b,n[i+1]=v*P+f*T+y,n[i+2]=O.x0,n[i+3]=O.y0,r[i+4]=M,r[i+5]=D,n[i+6]=c*S+p*P+b,n[i+7]=v*P+f*S+y,n[i+8]=O.x1,n[i+9]=O.y1,r[i+10]=M,r[i+11]=D,n[i+12]=c*S+p*A+b,n[i+13]=v*A+f*S+y,n[i+14]=O.x2,n[i+15]=O.y2,r[i+16]=M,r[i+17]=D,n[i+18]=c*T+p*A+b,n[i+19]=v*A+f*T+y,n[i+20]=O.x3,n[i+21]=O.y3,r[i+22]=M,r[i+23]=D}};_6.extension={type:[te.Batcher],name:"default"};let kw=_6;function bP(t,e,n,r,i,s,o,u=null){let c=0;n*=e,i*=s;const f=u.a,p=u.b,v=u.c,b=u.d,y=u.tx,E=u.ty;for(;c<o;){const S=t[n],T=t[n+1];r[i]=f*S+v*T+y,r[i+1]=p*S+b*T+E,i+=s,n+=e,c++}}function _P(t,e,n,r){let i=0;for(e*=n;i<r;)t[e]=0,t[e+1]=0,e+=n,i++}function Iw(t,e,n,r,i){const s=e.a,o=e.b,u=e.c,c=e.d,f=e.tx,p=e.ty;n||(n=0),r||(r=2),i||(i=t.length/r-n);let v=n*r;for(let b=0;b<i;b++){const y=t[v],E=t[v+1];t[v]=s*y+u*E+f,t[v+1]=o*y+c*E+p,v+=r}}const eY=new Je;class Nw{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,n=e>>16|e&65280|(e&255)<<16,r=this.renderable;return r?ZR(n,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){var e;return((e=this.renderable)==null?void 0:e.groupTransform)||eY}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const Qu={extension:{type:te.ShapeBuilder,name:"circle"},build(t,e){let n,r,i,s,o,u;if(t.type==="circle"){const M=t;n=M.x,r=M.y,o=u=M.radius,i=s=0}else if(t.type==="ellipse"){const M=t;n=M.x,r=M.y,o=M.halfWidth,u=M.halfHeight,i=s=0}else{const M=t,D=M.width/2,W=M.height/2;n=M.x+D,r=M.y+W,o=u=Math.max(0,Math.min(M.radius,Math.min(D,W))),i=D-o,s=W-u}if(!(o>=0&&u>=0&&i>=0&&s>=0))return e;const c=Math.ceil(2.3*Math.sqrt(o+u)),f=c*8+(i?4:0)+(s?4:0);if(f===0)return e;if(c===0)return e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s,e;let p=0,v=c*4+(i?2:0)+2,b=v,y=f,E=i+o,S=s,T=n+E,A=n-E,P=r+S;if(e[p++]=T,e[p++]=P,e[--v]=P,e[--v]=A,s){const M=r-S;e[b++]=A,e[b++]=M,e[--y]=M,e[--y]=T}for(let M=1;M<c;M++){const D=Math.PI/2*(M/c),W=i+Math.cos(D)*o,G=s+Math.sin(D)*u,Y=n+W,L=n-W,X=r+G,Z=r-G;e[p++]=Y,e[p++]=X,e[--v]=X,e[--v]=L,e[b++]=L,e[b++]=Z,e[--y]=Z,e[--y]=Y}E=i,S=s+u,T=n+E,A=n-E,P=r+S;const O=r-S;return e[p++]=T,e[p++]=P,e[--y]=O,e[--y]=T,i&&(e[p++]=A,e[p++]=P,e[--y]=O,e[--y]=A),e},triangulate(t,e,n,r,i,s){if(t.length===0)return;let o=0,u=0;for(let p=0;p<t.length;p+=2)o+=t[p],u+=t[p+1];o/=t.length/2,u/=t.length/2;let c=r;e[c*n]=o,e[c*n+1]=u;const f=c++;for(let p=0;p<t.length;p+=2)e[c*n]=t[p],e[c*n+1]=t[p+1],p>0&&(i[s++]=c,i[s++]=f,i[s++]=c-1),c++;i[s++]=f+1,i[s++]=f,i[s++]=c-1}},x6={...Qu,extension:{...Qu.extension,name:"ellipse"}},S6={...Qu,extension:{...Qu.extension,name:"roundedRectangle"}},yP=1e-4,$A=1e-4;function w6(t){const e=t.length;if(e<6)return 1;let n=0;for(let r=0,i=t[e-2],s=t[e-1];r<e;r+=2){const o=t[r],u=t[r+1];n+=(o-i)*(u+s),i=o,s=u}return n<0?-1:1}function XB(t,e,n,r,i,s,o,u){const c=t-n*i,f=e-r*i,p=t+n*s,v=e+r*s;let b,y;o?(b=r,y=-n):(b=-r,y=n);const E=c+b,S=f+y,T=p+b,A=v+y;return u.push(E,S),u.push(T,A),2}function lf(t,e,n,r,i,s,o,u){const c=n-t,f=r-e;let p=Math.atan2(c,f),v=Math.atan2(i-t,s-e);u&&p<v?p+=Math.PI*2:!u&&p>v&&(v+=Math.PI*2);let b=p;const y=v-p,E=Math.abs(y),S=Math.sqrt(c*c+f*f),T=(15*E*Math.sqrt(S)/Math.PI>>0)+1,A=y/T;if(b+=A,u){o.push(t,e),o.push(n,r);for(let P=1,O=b;P<T;P++,O+=A)o.push(t,e),o.push(t+Math.sin(O)*S,e+Math.cos(O)*S);o.push(t,e),o.push(i,s)}else{o.push(n,r),o.push(t,e);for(let P=1,O=b;P<T;P++,O+=A)o.push(t+Math.sin(O)*S,e+Math.cos(O)*S),o.push(t,e);o.push(i,s),o.push(t,e)}return T*2}function E6(t,e,n,r,i,s){const o=yP;if(t.length===0)return;const u=e;let c=u.alignment;if(e.alignment!==.5){let K=w6(t);n&&(K*=-1),c=(c-.5)*K+.5}const f=new mn(t[0],t[1]),p=new mn(t[t.length-2],t[t.length-1]),v=r,b=Math.abs(f.x-p.x)<o&&Math.abs(f.y-p.y)<o;if(v){t=t.slice(),b&&(t.pop(),t.pop(),p.set(t[t.length-2],t[t.length-1]));const K=(f.x+p.x)*.5,U=(p.y+f.y)*.5;t.unshift(K,U),t.push(K,U)}const y=i,E=t.length/2;let S=t.length;const T=y.length/2,A=u.width/2,P=A*A,O=u.miterLimit*u.miterLimit;let M=t[0],D=t[1],W=t[2],G=t[3],Y=0,L=0,X=-(D-G),Z=M-W,ee=0,be=0,Te=Math.sqrt(X*X+Z*Z);X/=Te,Z/=Te,X*=A,Z*=A;const he=c,R=(1-he)*2,N=he*2;v||(u.cap==="round"?S+=lf(M-X*(R-N)*.5,D-Z*(R-N)*.5,M-X*R,D-Z*R,M+X*N,D+Z*N,y,!0)+2:u.cap==="square"&&(S+=XB(M,D,X,Z,R,N,!0,y))),y.push(M-X*R,D-Z*R),y.push(M+X*N,D+Z*N);for(let K=1;K<E-1;++K){M=t[(K-1)*2],D=t[(K-1)*2+1],W=t[K*2],G=t[K*2+1],Y=t[(K+1)*2],L=t[(K+1)*2+1],X=-(D-G),Z=M-W,Te=Math.sqrt(X*X+Z*Z),X/=Te,Z/=Te,X*=A,Z*=A,ee=-(G-L),be=W-Y,Te=Math.sqrt(ee*ee+be*be),ee/=Te,be/=Te,ee*=A,be*=A;const U=W-M,j=D-G,ne=W-Y,re=L-G,we=U*ne+j*re,Ce=j*ne-re*U,Ie=Ce<0;if(Math.abs(Ce)<.001*Math.abs(we)){y.push(W-X*R,G-Z*R),y.push(W+X*N,G+Z*N),we>=0&&(u.join==="round"?S+=lf(W,G,W-X*R,G-Z*R,W-ee*R,G-be*R,y,!1)+4:S+=2,y.push(W-ee*N,G-be*N),y.push(W+ee*R,G+be*R));continue}const nt=(-X+M)*(-Z+G)-(-X+W)*(-Z+D),ve=(-ee+Y)*(-be+G)-(-ee+W)*(-be+L),Ee=(U*ve-ne*nt)/Ce,Fe=(re*nt-j*ve)/Ce,$e=(Ee-W)*(Ee-W)+(Fe-G)*(Fe-G),et=W+(Ee-W)*R,gt=G+(Fe-G)*R,rt=W-(Ee-W)*N,qe=G-(Fe-G)*N,Xe=Math.min(U*U+j*j,ne*ne+re*re),tn=Ie?R:N,di=Xe+tn*tn*P;$e<=di?u.join==="bevel"||$e/P>O?(Ie?(y.push(et,gt),y.push(W+X*N,G+Z*N),y.push(et,gt),y.push(W+ee*N,G+be*N)):(y.push(W-X*R,G-Z*R),y.push(rt,qe),y.push(W-ee*R,G-be*R),y.push(rt,qe)),S+=2):u.join==="round"?Ie?(y.push(et,gt),y.push(W+X*N,G+Z*N),S+=lf(W,G,W+X*N,G+Z*N,W+ee*N,G+be*N,y,!0)+4,y.push(et,gt),y.push(W+ee*N,G+be*N)):(y.push(W-X*R,G-Z*R),y.push(rt,qe),S+=lf(W,G,W-X*R,G-Z*R,W-ee*R,G-be*R,y,!1)+4,y.push(W-ee*R,G-be*R),y.push(rt,qe)):(y.push(et,gt),y.push(rt,qe)):(y.push(W-X*R,G-Z*R),y.push(W+X*N,G+Z*N),u.join==="round"?Ie?S+=lf(W,G,W+X*N,G+Z*N,W+ee*N,G+be*N,y,!0)+2:S+=lf(W,G,W-X*R,G-Z*R,W-ee*R,G-be*R,y,!1)+2:u.join==="miter"&&$e/P<=O&&(Ie?(y.push(rt,qe),y.push(rt,qe)):(y.push(et,gt),y.push(et,gt)),S+=2),y.push(W-ee*R,G-be*R),y.push(W+ee*N,G+be*N),S+=2)}M=t[(E-2)*2],D=t[(E-2)*2+1],W=t[(E-1)*2],G=t[(E-1)*2+1],X=-(D-G),Z=M-W,Te=Math.sqrt(X*X+Z*Z),X/=Te,Z/=Te,X*=A,Z*=A,y.push(W-X*R,G-Z*R),y.push(W+X*N,G+Z*N),v||(u.cap==="round"?S+=lf(W-X*(R-N)*.5,G-Z*(R-N)*.5,W-X*R,G-Z*R,W+X*N,G+Z*N,y,!1)+2:u.cap==="square"&&(S+=XB(W,G,X,Z,R,N,!1,y)));const z=$A*$A;for(let K=T;K<S+T-2;++K)M=y[K*2],D=y[K*2+1],W=y[(K+1)*2],G=y[(K+1)*2+1],Y=y[(K+2)*2],L=y[(K+2)*2+1],!(Math.abs(M*(G-L)+W*(L-D)+Y*(D-G))<z)&&s.push(K,K+1,K+2)}function T6(t,e,n,r){const i=yP;if(t.length===0)return;const s=t[0],o=t[1],u=t[t.length-2],c=t[t.length-1],f=e||Math.abs(s-u)<i&&Math.abs(o-c)<i,p=n,v=t.length/2,b=p.length/2;for(let y=0;y<v;y++)p.push(t[y*2]),p.push(t[y*2+1]);for(let y=0;y<v-1;y++)r.push(b+y,b+y+1);f&&r.push(b+v-1,b)}function xP(t,e,n,r,i,s,o){const u=GU(t,e,2);if(!u)return;for(let f=0;f<u.length;f+=3)s[o++]=u[f]+i,s[o++]=u[f+1]+i,s[o++]=u[f+2]+i;let c=i*r;for(let f=0;f<t.length;f+=2)n[c]=t[f],n[c+1]=t[f+1],c+=r}const tY=[],SP={extension:{type:te.ShapeBuilder,name:"polygon"},build(t,e){for(let n=0;n<t.points.length;n++)e[n]=t.points[n];return e},triangulate(t,e,n,r,i,s){xP(t,tY,e,n,r,i,s)}},wP={extension:{type:te.ShapeBuilder,name:"rectangle"},build(t,e){const n=t,r=n.x,i=n.y,s=n.width,o=n.height;return s>=0&&o>=0&&(e[0]=r,e[1]=i,e[2]=r+s,e[3]=i,e[4]=r+s,e[5]=i+o,e[6]=r,e[7]=i+o),e},triangulate(t,e,n,r,i,s){let o=0;r*=n,e[r+o]=t[0],e[r+o+1]=t[1],o+=n,e[r+o]=t[2],e[r+o+1]=t[3],o+=n,e[r+o]=t[6],e[r+o+1]=t[7],o+=n,e[r+o]=t[4],e[r+o+1]=t[5],o+=n;const u=r/n;i[s++]=u,i[s++]=u+1,i[s++]=u+2,i[s++]=u+1,i[s++]=u+3,i[s++]=u+2}},EP={extension:{type:te.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,e},triangulate(t,e,n,r,i,s){let o=0;r*=n,e[r+o]=t[0],e[r+o+1]=t[1],o+=n,e[r+o]=t[2],e[r+o+1]=t[3],o+=n,e[r+o]=t[4],e[r+o+1]=t[5];const u=r/n;i[s++]=u,i[s++]=u+1,i[s++]=u+2}},nY=new Je,rY=new vn;function C6(t,e,n,r){const i=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if(e.textureSpace==="local"){const s=n.getBounds(rY);i.translate(-s.x,-s.y),i.scale(1/s.width,1/s.height)}else{i.translate(e.texture.frame.x,e.texture.frame.y),i.scale(1/e.texture.source.width,1/e.texture.source.height);const s=e.texture.source.style;s.addressMode==="clamp-to-edge"&&(s.addressMode="repeat",s.update())}return r&&i.append(nY.copyFrom(r).invert()),i}const dy={};An.handleByMap(te.ShapeBuilder,dy);An.add(wP,SP,EP,Qu,x6,S6);const iY=new vn,sY=new Je;function A6(t,e){const{geometryData:n,batches:r}=e;r.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let i=0;i<t.instructions.length;i++){const s=t.instructions[i];if(s.action==="texture")aY(s.data,r,n);else if(s.action==="fill"||s.action==="stroke"){const o=s.action==="stroke",u=s.data.path.shapePath,c=s.data.style,f=s.data.hole;o&&f&&YB(f.shapePath,c,!0,r,n),f&&(u.shapePrimitives[u.shapePrimitives.length-1].holes=f.shapePath.shapePrimitives),YB(u,c,o,r,n)}}}function aY(t,e,n){const{vertices:r,uvs:i,indices:s}=n,o=s.length,u=r.length/2,c=[],f=dy.rectangle,p=iY,v=t.image;p.x=t.dx,p.y=t.dy,p.width=t.dw,p.height=t.dh;const b=t.transform;f.build(p,c),b&&Iw(c,b),f.triangulate(c,r,2,u,s,o);const y=v.uvs;i.push(y.x0,y.y0,y.x1,y.y1,y.x3,y.y3,y.x2,y.y2);const E=Xt.get(Nw);E.indexOffset=o,E.indexSize=s.length-o,E.attributeOffset=u,E.attributeSize=r.length/2-u,E.baseColor=t.style,E.alpha=t.alpha,E.texture=v,E.geometryData=n,e.push(E)}function YB(t,e,n,r,i){const{vertices:s,uvs:o,indices:u}=i;t.shapePrimitives.forEach(({shape:c,transform:f,holes:p})=>{const v=u.length,b=s.length/2,y=[],E=dy[c.type];let S="triangle-list";if(E.build(c,y),f&&Iw(y,f),n){const O=c.closePath??!0,M=e;M.pixelLine?(T6(y,O,s,u),S="line-list"):E6(y,M,!1,O,s,u)}else if(p){const O=[],M=y.slice();oY(p).forEach(W=>{O.push(M.length/2),M.push(...W)}),xP(M,O,s,2,b,u,v)}else E.triangulate(y,s,2,b,u,v);const T=o.length/2,A=e.texture;if(A!==ze.WHITE){const O=C6(sY,e,c,f);bP(s,2,b,o,T,2,s.length/2-b,O)}else _P(o,T,2,s.length/2-b);const P=Xt.get(Nw);P.indexOffset=v,P.indexSize=u.length-v,P.attributeOffset=b,P.attributeSize=s.length/2-b,P.baseColor=e.color,P.alpha=e.alpha,P.texture=A,P.geometryData=i,P.topology=S,r.push(P)})}function oY(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n].shape,i=[];dy[r.type].build(r,i),e.push(i)}return e}class R6{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class P6{constructor(){this.batcher=new kw,this.instructions=new JR}init(){this.instructions.reset()}get geometry(){return Qe(p8,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const TP=class jA{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){jA.defaultOptions.bezierSmoothness=(e==null?void 0:e.bezierSmoothness)??jA.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let n=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){n?this._cleanGraphicsContextData(e):n=this._initContext(e),A6(e,n);const r=e.batchMode;e.customShader||r==="no-batch"?n.isBatchable=!1:r==="auto"&&(n.isBatchable=n.geometryData.vertices.length<400),e.dirty=!1}return n}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const n=Xt.get(P6),{batches:r,geometryData:i}=this._gpuContextHash[e.uid],s=i.vertices.length,o=i.indices.length;for(let p=0;p<r.length;p++)r[p].applyTransform=!1;const u=n.batcher;u.ensureAttributeBuffer(s),u.ensureIndexBuffer(o),u.begin();for(let p=0;p<r.length;p++){const v=r[p];u.add(v)}u.finish(n.instructions);const c=u.geometry;c.indexBuffer.setDataWithSize(u.indexBuffer,u.indexSize,!0),c.buffers[0].setDataWithSize(u.attributeBuffer.float32View,u.attributeSize,!0);const f=u.batches;for(let p=0;p<f.length;p++){const v=f[p];v.bindGroup=Rw(v.textures.textures,v.textures.count)}return this._graphicsDataContextHash[e.uid]=n,n}_initContext(e){const n=new R6;return n.context=e,this._gpuContextHash[e.uid]=n,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const n=this._gpuContextHash[e.uid];n.isBatchable||this._graphicsDataContextHash[e.uid]&&(Xt.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),n.batches&&n.batches.forEach(r=>{Xt.return(r)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};TP.extension={type:[te.WebGLSystem,te.WebGPUSystem,te.CanvasSystem],name:"graphicsContext"};TP.defaultOptions={bezierSmoothness:.5};let CP=TP;const lY=8,p2=11920929e-14,uY=1;function AP(t,e,n,r,i,s,o,u,c,f){const v=Math.min(.99,Math.max(0,f??CP.defaultOptions.bezierSmoothness));let b=(uY-v)/1;return b*=b,cY(e,n,r,i,s,o,u,c,t,b),t}function cY(t,e,n,r,i,s,o,u,c,f){XA(t,e,n,r,i,s,o,u,c,f,0),c.push(o,u)}function XA(t,e,n,r,i,s,o,u,c,f,p){if(p>lY)return;const v=(t+n)/2,b=(e+r)/2,y=(n+i)/2,E=(r+s)/2,S=(i+o)/2,T=(s+u)/2,A=(v+y)/2,P=(b+E)/2,O=(y+S)/2,M=(E+T)/2,D=(A+O)/2,W=(P+M)/2;if(p>0){let G=o-t,Y=u-e;const L=Math.abs((n-o)*Y-(r-u)*G),X=Math.abs((i-o)*Y-(s-u)*G);if(L>p2&&X>p2){if((L+X)*(L+X)<=f*(G*G+Y*Y)){c.push(D,W);return}}else if(L>p2){if(L*L<=f*(G*G+Y*Y)){c.push(D,W);return}}else if(X>p2){if(X*X<=f*(G*G+Y*Y)){c.push(D,W);return}}else if(G=D-(t+o)/2,Y=W-(e+u)/2,G*G+Y*Y<=f){c.push(D,W);return}}XA(t,e,v,b,A,P,D,W,c,f,p+1),XA(D,W,O,M,S,T,o,u,c,f,p+1)}const dY=8,hY=11920929e-14,fY=1;function O6(t,e,n,r,i,s,o,u){const f=Math.min(.99,Math.max(0,u??CP.defaultOptions.bezierSmoothness));let p=(fY-f)/1;return p*=p,pY(e,n,r,i,s,o,t,p),t}function pY(t,e,n,r,i,s,o,u){YA(o,t,e,n,r,i,s,u,0),o.push(i,s)}function YA(t,e,n,r,i,s,o,u,c){if(c>dY)return;const f=(e+r)/2,p=(n+i)/2,v=(r+s)/2,b=(i+o)/2,y=(f+v)/2,E=(p+b)/2;let S=s-e,T=o-n;const A=Math.abs((r-s)*T-(i-o)*S);if(A>hY){if(A*A<=u*(S*S+T*T)){t.push(y,E);return}}else if(S=y-(e+s)/2,T=E-(n+o)/2,S*S+T*T<=u){t.push(y,E);return}YA(t,e,n,f,p,y,E,u,c+1),YA(t,y,E,v,b,s,o,u,c+1)}function RP(t,e,n,r,i,s,o,u){let c=Math.abs(i-s);(!o&&i>s||o&&s>i)&&(c=2*Math.PI-c),u||(u=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(c/Math.PI)))),u=Math.max(u,3);let f=c/u,p=i;f*=o?-1:1;for(let v=0;v<u+1;v++){const b=Math.cos(p),y=Math.sin(p),E=e+b*r,S=n+y*r;t.push(E,S),p+=f}}function M6(t,e,n,r,i,s){const o=t[t.length-2],c=t[t.length-1]-n,f=o-e,p=i-n,v=r-e,b=Math.abs(c*v-f*p);if(b<1e-8||s===0){(t[t.length-2]!==e||t[t.length-1]!==n)&&t.push(e,n);return}const y=c*c+f*f,E=p*p+v*v,S=c*p+f*v,T=s*Math.sqrt(y)/b,A=s*Math.sqrt(E)/b,P=T*S/y,O=A*S/E,M=T*v+A*f,D=T*p+A*c,W=f*(A+P),G=c*(A+P),Y=v*(T+O),L=p*(T+O),X=Math.atan2(G-D,W-M),Z=Math.atan2(L-D,Y-M);RP(t,M+e,D+n,s,X,Z,f*p>v*c)}const p_=Math.PI*2,vC={centerX:0,centerY:0,ang1:0,ang2:0},bC=({x:t,y:e},n,r,i,s,o,u,c)=>{t*=n,e*=r;const f=i*t-s*e,p=s*t+i*e;return c.x=f+o,c.y=p+u,c};function gY(t,e){const n=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=e===1.5707963267948966?.551915024494:n,i=Math.cos(t),s=Math.sin(t),o=Math.cos(t+e),u=Math.sin(t+e);return[{x:i-s*r,y:s+i*r},{x:o+u*r,y:u-o*r},{x:o,y:u}]}const qB=(t,e,n,r)=>{const i=t*r-e*n<0?-1:1;let s=t*n+e*r;return s>1&&(s=1),s<-1&&(s=-1),i*Math.acos(s)},mY=(t,e,n,r,i,s,o,u,c,f,p,v,b)=>{const y=Math.pow(i,2),E=Math.pow(s,2),S=Math.pow(p,2),T=Math.pow(v,2);let A=y*E-y*T-E*S;A<0&&(A=0),A/=y*T+E*S,A=Math.sqrt(A)*(o===u?-1:1);const P=A*i/s*v,O=A*-s/i*p,M=f*P-c*O+(t+n)/2,D=c*P+f*O+(e+r)/2,W=(p-P)/i,G=(v-O)/s,Y=(-p-P)/i,L=(-v-O)/s,X=qB(1,0,W,G);let Z=qB(W,G,Y,L);u===0&&Z>0&&(Z-=p_),u===1&&Z<0&&(Z+=p_),b.centerX=M,b.centerY=D,b.ang1=X,b.ang2=Z};function D6(t,e,n,r,i,s,o,u=0,c=0,f=0){if(s===0||o===0)return;const p=Math.sin(u*p_/360),v=Math.cos(u*p_/360),b=v*(e-r)/2+p*(n-i)/2,y=-p*(e-r)/2+v*(n-i)/2;if(b===0&&y===0)return;s=Math.abs(s),o=Math.abs(o);const E=Math.pow(b,2)/Math.pow(s,2)+Math.pow(y,2)/Math.pow(o,2);E>1&&(s*=Math.sqrt(E),o*=Math.sqrt(E)),mY(e,n,r,i,s,o,c,f,p,v,b,y,vC);let{ang1:S,ang2:T}=vC;const{centerX:A,centerY:P}=vC;let O=Math.abs(T)/(p_/4);Math.abs(1-O)<1e-7&&(O=1);const M=Math.max(Math.ceil(O),1);T/=M;let D=t[t.length-2],W=t[t.length-1];const G={x:0,y:0};for(let Y=0;Y<M;Y++){const L=gY(S,T),{x:X,y:Z}=bC(L[0],s,o,v,p,A,P,G),{x:ee,y:be}=bC(L[1],s,o,v,p,A,P,G),{x:Te,y:he}=bC(L[2],s,o,v,p,A,P,G);AP(t,D,W,X,Z,ee,be,Te,he),D=Te,W=he,S+=T}}function B6(t,e,n){const r=(o,u)=>{const c=u.x-o.x,f=u.y-o.y,p=Math.sqrt(c*c+f*f),v=c/p,b=f/p;return{len:p,nx:v,ny:b}},i=(o,u)=>{o===0?t.moveTo(u.x,u.y):t.lineTo(u.x,u.y)};let s=e[e.length-1];for(let o=0;o<e.length;o++){const u=e[o%e.length],c=u.radius??n;if(c<=0){i(o,u),s=u;continue}const f=e[(o+1)%e.length],p=r(u,s),v=r(u,f);if(p.len<1e-4||v.len<1e-4){i(o,u),s=u;continue}let b=Math.asin(p.nx*v.ny-p.ny*v.nx),y=1,E=!1;p.nx*v.nx-p.ny*-v.ny<0?b<0?b=Math.PI+b:(b=Math.PI-b,y=-1,E=!0):b>0&&(y=-1,E=!0);const S=b/2;let T,A=Math.abs(Math.cos(S)*c/Math.sin(S));A>Math.min(p.len/2,v.len/2)?(A=Math.min(p.len/2,v.len/2),T=Math.abs(A*Math.sin(S)/Math.cos(S))):T=c;const P=u.x+v.nx*A+-v.ny*T*y,O=u.y+v.ny*A+v.nx*T*y,M=Math.atan2(p.ny,p.nx)+Math.PI/2*y,D=Math.atan2(v.ny,v.nx)-Math.PI/2*y;o===0&&t.moveTo(P+Math.cos(M)*T,O+Math.sin(M)*T),t.arc(P,O,T,M,D,E),s=u}}function k6(t,e,n,r){const i=(u,c)=>Math.sqrt((u.x-c.x)**2+(u.y-c.y)**2),s=(u,c,f)=>({x:u.x+(c.x-u.x)*f,y:u.y+(c.y-u.y)*f}),o=e.length;for(let u=0;u<o;u++){const c=e[(u+1)%o],f=c.radius??n;if(f<=0){u===0?t.moveTo(c.x,c.y):t.lineTo(c.x,c.y);continue}const p=e[u],v=e[(u+2)%o],b=i(p,c);let y;if(b<1e-4)y=c;else{const T=Math.min(b/2,f);y=s(c,p,T/b)}const E=i(v,c);let S;if(E<1e-4)S=c;else{const T=Math.min(E/2,f);S=s(c,v,T/E)}u===0?t.moveTo(y.x,y.y):t.lineTo(y.x,y.y),t.quadraticCurveTo(c.x,c.y,S.x,S.y,r)}}const vY=new vn;class I6{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Zr,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,n){return this.startPoly(e,n),this}lineTo(e,n){this._ensurePoly();const r=this._currentPoly.points,i=r[r.length-2],s=r[r.length-1];return(i!==e||s!==n)&&r.push(e,n),this}arc(e,n,r,i,s,o){this._ensurePoly(!1);const u=this._currentPoly.points;return RP(u,e,n,r,i,s,o),this}arcTo(e,n,r,i,s){this._ensurePoly();const o=this._currentPoly.points;return M6(o,e,n,r,i,s),this}arcToSvg(e,n,r,i,s,o,u){const c=this._currentPoly.points;return D6(c,this._currentPoly.lastX,this._currentPoly.lastY,o,u,e,n,r,i,s),this}bezierCurveTo(e,n,r,i,s,o,u){this._ensurePoly();const c=this._currentPoly;return AP(this._currentPoly.points,c.lastX,c.lastY,e,n,r,i,s,o,u),this}quadraticCurveTo(e,n,r,i,s){this._ensurePoly();const o=this._currentPoly;return O6(this._currentPoly.points,o.lastX,o.lastY,e,n,r,i,s),this}closePath(){return this.endPoly(!0),this}addPath(e,n){this.endPoly(),n&&!n.isIdentity()&&(e=e.clone(!0),e.transform(n));const r=this.shapePrimitives,i=r.length;for(let s=0;s<e.instructions.length;s++){const o=e.instructions[s];this[o.action](...o.data)}if(e.checkForHoles&&r.length-i>1){let s=null;for(let o=i;o<r.length;o++){const u=r[o];if(u.shape.type==="polygon"){const c=u.shape,f=s==null?void 0:s.shape;f&&f.containsPolygon(c)?(s.holes||(s.holes=[]),s.holes.push(u),r.copyWithin(o,o+1),r.length--,o--):s=u}}}return this}finish(e=!1){this.endPoly(e)}rect(e,n,r,i,s){return this.drawShape(new vn(e,n,r,i),s),this}circle(e,n,r,i){return this.drawShape(new YU(e,n,r),i),this}poly(e,n,r){const i=new Tm(e);return i.closePath=n,this.drawShape(i,r),this}regularPoly(e,n,r,i,s=0,o){i=Math.max(i|0,3);const u=-1*Math.PI/2+s,c=Math.PI*2/i,f=[];for(let p=0;p<i;p++){const v=u-p*c;f.push(e+r*Math.cos(v),n+r*Math.sin(v))}return this.poly(f,!0,o),this}roundPoly(e,n,r,i,s,o=0,u){if(i=Math.max(i|0,3),s<=0)return this.regularPoly(e,n,r,i,o);const c=r*Math.sin(Math.PI/i)-.001;s=Math.min(s,c);const f=-1*Math.PI/2+o,p=Math.PI*2/i,v=(i-2)*Math.PI/i/2;for(let b=0;b<i;b++){const y=b*p+f,E=e+r*Math.cos(y),S=n+r*Math.sin(y),T=y+Math.PI+v,A=y-Math.PI-v,P=E+s*Math.cos(T),O=S+s*Math.sin(T),M=E+s*Math.cos(A),D=S+s*Math.sin(A);b===0?this.moveTo(P,O):this.lineTo(P,O),this.quadraticCurveTo(E,S,M,D,u)}return this.closePath()}roundShape(e,n,r=!1,i){return e.length<3?this:(r?k6(this,e,n,i):B6(this,e,n),this.closePath())}filletRect(e,n,r,i,s){if(s===0)return this.rect(e,n,r,i);const o=Math.min(r,i)/2,u=Math.min(o,Math.max(-o,s)),c=e+r,f=n+i,p=u<0?-u:0,v=Math.abs(u);return this.moveTo(e,n+v).arcTo(e+p,n+p,e+v,n,v).lineTo(c-v,n).arcTo(c-p,n+p,c,n+v,v).lineTo(c,f-v).arcTo(c-p,f-p,e+r-v,f,v).lineTo(e+v,f).arcTo(e+p,f-p,e,f-v,v).closePath()}chamferRect(e,n,r,i,s,o){if(s<=0)return this.rect(e,n,r,i);const u=Math.min(s,Math.min(r,i)/2),c=e+r,f=n+i,p=[e+u,n,c-u,n,c,n+u,c,f-u,c-u,f,e+u,f,e,f-u,e,n+u];for(let v=p.length-1;v>=2;v-=2)p[v]===p[v-2]&&p[v-1]===p[v-3]&&p.splice(v-1,2);return this.poly(p,!0,o)}ellipse(e,n,r,i,s){return this.drawShape(new Cw(e,n,r,i),s),this}roundRect(e,n,r,i,s,o){return this.drawShape(new Aw(e,n,r,i,s),o),this}drawShape(e,n){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:n}),this}startPoly(e,n){let r=this._currentPoly;return r&&this.endPoly(),r=new Tm,r.points.push(e,n),this._currentPoly=r,this}endPoly(e=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=e,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Tm,e)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let r=n.shape.x,i=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const s=n.transform,o=r;r=s.a*r+s.c*i+s.tx,i=s.b*o+s.d*i+s.ty}this._currentPoly.points.push(r,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<e.instructions.length;n++){const r=e.instructions[n];this[r.action](...r.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const n=this.shapePrimitives;for(let r=0;r<n.length;r++){const i=n[r],s=i.shape.getBounds(vY);i.transform?e.addRect(s,i.transform):e.addRect(s)}return e}}class Dd{constructor(e,n=!1){this.instructions=[],this.uid=Xn("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof e=="string"?XU(e,this):this.instructions=(e==null?void 0:e.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new I6(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,n){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,n]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,n,r,i,s){const o=this.instructions[this.instructions.length-1],u=this.getLastPoint(mn.shared);let c=0,f=0;if(!o||o.action!=="bezierCurveTo")c=u.x,f=u.y;else{c=o.data[2],f=o.data[3];const p=u.x,v=u.y;c=p+(p-c),f=v+(v-f)}return this.instructions.push({action:"bezierCurveTo",data:[c,f,e,n,r,i,s]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,n,r){const i=this.instructions[this.instructions.length-1],s=this.getLastPoint(mn.shared);let o=0,u=0;if(!i||i.action!=="quadraticCurveTo")o=s.x,u=s.y;else{o=i.data[0],u=i.data[1];const c=s.x,f=s.y;o=c+(c-o),u=f+(f-u)}return this.instructions.push({action:"quadraticCurveTo",data:[o,u,e,n,r]}),this._dirty=!0,this}rect(e,n,r,i,s){return this.instructions.push({action:"rect",data:[e,n,r,i,s]}),this._dirty=!0,this}circle(e,n,r,i){return this.instructions.push({action:"circle",data:[e,n,r,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,n,r,i,s,o,u){s||(s=i/2);const c=-1*Math.PI/2+o,f=r*2,p=Math.PI*2/f,v=[];for(let b=0;b<f;b++){const y=b%2?s:i,E=b*p+c;v.push(e+y*Math.cos(E),n+y*Math.sin(E))}return this.poly(v,!0,u),this}clone(e=!1){const n=new Dd;if(n.checkForHoles=this.checkForHoles,!e)n.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const i=this.instructions[r];n.instructions.push({action:i.action,data:i.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,u=e.ty;let c=0,f=0,p=0,v=0,b=0,y=0,E=0,S=0;for(let T=0;T<this.instructions.length;T++){const A=this.instructions[T],P=A.data;switch(A.action){case"moveTo":case"lineTo":c=P[0],f=P[1],P[0]=n*c+i*f+o,P[1]=r*c+s*f+u;break;case"bezierCurveTo":p=P[0],v=P[1],b=P[2],y=P[3],c=P[4],f=P[5],P[0]=n*p+i*v+o,P[1]=r*p+s*v+u,P[2]=n*b+i*y+o,P[3]=r*b+s*y+u,P[4]=n*c+i*f+o,P[5]=r*c+s*f+u;break;case"quadraticCurveTo":p=P[0],v=P[1],c=P[2],f=P[3],P[0]=n*p+i*v+o,P[1]=r*p+s*v+u,P[2]=n*c+i*f+o,P[3]=r*c+s*f+u;break;case"arcToSvg":c=P[5],f=P[6],E=P[0],S=P[1],P[0]=n*E+i*S,P[1]=r*E+s*S,P[5]=n*c+i*f+o,P[6]=r*c+s*f+u;break;case"circle":P[4]=w0(P[3],e);break;case"rect":P[4]=w0(P[4],e);break;case"ellipse":P[8]=w0(P[8],e);break;case"roundRect":P[5]=w0(P[5],e);break;case"addPath":P[0].transform(e);break;case"poly":P[2]=w0(P[2],e);break;default:at("unknown transform action",A.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let n=this.instructions.length-1,r=this.instructions[n];if(!r)return e.x=0,e.y=0,e;for(;r.action==="closePath";){if(n--,n<0)return e.x=0,e.y=0,e;r=this.instructions[n]}switch(r.action){case"moveTo":case"lineTo":e.x=r.data[0],e.y=r.data[1];break;case"quadraticCurveTo":e.x=r.data[2],e.y=r.data[3];break;case"bezierCurveTo":e.x=r.data[4],e.y=r.data[5];break;case"arc":case"arcToSvg":e.x=r.data[5],e.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(e);break}return e}}function w0(t,e){return t?t.prepend(e):e.clone()}function ar(t,e,n){const r=t.getAttribute(e);return r?Number(r):n}function N6(t,e){const n=t.querySelectorAll("defs");for(let r=0;r<n.length;r++){const i=n[r];for(let s=0;s<i.children.length;s++){const o=i.children[s];switch(o.nodeName.toLowerCase()){case"lineargradient":e.defs[o.id]=bY(o);break;case"radialgradient":e.defs[o.id]=_Y();break}}}}function bY(t){const e=ar(t,"x1",0),n=ar(t,"y1",0),r=ar(t,"x2",1),i=ar(t,"y2",0),s=t.getAttribute("gradientUnits")||"objectBoundingBox",o=new rc(e,n,r,i,s==="objectBoundingBox"?"local":"global");for(let u=0;u<t.children.length;u++){const c=t.children[u],f=ar(c,"offset",0),p=en.shared.setValue(c.getAttribute("stop-color")).toNumber();o.addColorStop(f,p)}return o}function _Y(t){return at("[SVG Parser] Radial gradients are not yet supported"),new rc(0,0,1,0)}function qA(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const KA={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function PP(t,e){const n=t.getAttribute("style"),r={},i={},s={strokeStyle:r,fillStyle:i,useFill:!1,useStroke:!1};for(const o in KA){const u=t.getAttribute(o);u&&ZA(e,s,o,u.trim())}if(n){const o=n.split(";");for(let u=0;u<o.length;u++){const c=o[u].trim(),[f,p]=c.split(":");KA[f]&&ZA(e,s,f,p.trim())}}return{strokeStyle:s.useStroke?r:null,fillStyle:s.useFill?i:null,useFill:s.useFill,useStroke:s.useStroke}}function ZA(t,e,n,r){switch(n){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const i=qA(r);e.strokeStyle.fill=t.defs[i]}else e.strokeStyle.color=en.shared.setValue(r).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const i=qA(r);e.fillStyle.fill=t.defs[i]}else e.fillStyle.color=en.shared.setValue(r).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(r);break;case"stroke-opacity":e.strokeStyle.alpha=Number(r);break;case"opacity":e.fillStyle.alpha=Number(r),e.strokeStyle.alpha=Number(r);break}}function U6(t,e){if(typeof t=="string"){const o=document.createElement("div");o.innerHTML=t.trim(),t=o.querySelector("svg")}const n={context:e,defs:{},path:new Dd};N6(t,n);const r=t.children,{fillStyle:i,strokeStyle:s}=PP(t,n);for(let o=0;o<r.length;o++){const u=r[o];u.nodeName.toLowerCase()!=="defs"&&F6(u,n,i,s)}return e}function F6(t,e,n,r){const i=t.children,{fillStyle:s,strokeStyle:o}=PP(t,e);s&&n?n={...n,...s}:s&&(n=s),o&&r?r={...r,...o}:o&&(r=o);const u=!n&&!r;u&&(n={color:0});let c,f,p,v,b,y,E,S,T,A,P,O,M,D,W,G,Y;switch(t.nodeName.toLowerCase()){case"path":D=t.getAttribute("d"),t.getAttribute("fill-rule")==="evenodd"&&at("SVG Evenodd fill rule not supported, your svg may render incorrectly"),W=new Dd(D,!0),e.context.path(W),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"circle":E=ar(t,"cx",0),S=ar(t,"cy",0),T=ar(t,"r",0),e.context.ellipse(E,S,T,T),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"rect":c=ar(t,"x",0),f=ar(t,"y",0),G=ar(t,"width",0),Y=ar(t,"height",0),A=ar(t,"rx",0),P=ar(t,"ry",0),A||P?e.context.roundRect(c,f,G,Y,A||P):e.context.rect(c,f,G,Y),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"ellipse":E=ar(t,"cx",0),S=ar(t,"cy",0),A=ar(t,"rx",0),P=ar(t,"ry",0),e.context.beginPath(),e.context.ellipse(E,S,A,P),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"line":p=ar(t,"x1",0),v=ar(t,"y1",0),b=ar(t,"x2",0),y=ar(t,"y2",0),e.context.beginPath(),e.context.moveTo(p,v),e.context.lineTo(b,y),r&&e.context.stroke(r);break;case"polygon":M=t.getAttribute("points"),O=M.match(/\d+/g).map(L=>parseInt(L,10)),e.context.poly(O,!0),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"polyline":M=t.getAttribute("points"),O=M.match(/\d+/g).map(L=>parseInt(L,10)),e.context.poly(O,!1),r&&e.context.stroke(r);break;case"g":case"svg":break;default:{at(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}u&&(n=null);for(let L=0;L<i.length;L++)F6(i[L],e,n,r)}function yY(t){return en.isColorLike(t)}function KB(t){return t instanceof cy}function ZB(t){return t instanceof rc}function xY(t){return t instanceof ze}function SY(t,e,n){const r=en.shared.setValue(e??0);return t.color=r.toNumber(),t.alpha=r.alpha===1?n.alpha:r.alpha,t.texture=ze.WHITE,{...n,...t}}function wY(t,e,n){return t.texture=e,{...n,...t}}function QB(t,e,n){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...n,...t}}function JB(t,e,n){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...n,...t}}function EY(t,e){const n={...e,...t},r=en.shared.setValue(n.color);return n.alpha*=r.alpha,n.color=r.toNumber(),n}function vd(t,e){if(t==null)return null;const n={},r=t;return yY(t)?SY(n,t,e):xY(t)?wY(n,t,e):KB(t)?QB(n,t,e):ZB(t)?JB(n,t,e):r.fill&&KB(r.fill)?QB(r,r.fill,e):r.fill&&ZB(r.fill)?JB(r,r.fill,e):EY(r,e)}function I_(t,e){const{width:n,alignment:r,miterLimit:i,cap:s,join:o,pixelLine:u,...c}=e,f=vd(t,c);return f?{width:n,alignment:r,miterLimit:i,cap:s,join:o,pixelLine:u,...f}:null}const TY=new mn,ek=new Je,OP=class Al extends hs{constructor(){super(...arguments),this.uid=Xn("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Dd,this._transform=new Je,this._fillStyle={...Al.defaultFillStyle},this._strokeStyle={...Al.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Zr,this._boundsDirty=!0}clone(){const e=new Al;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=vd(e,Al.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=I_(e,Al.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=vd(e,Al.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=vd(e,Al.defaultStrokeStyle),this}texture(e,n,r,i,s,o){return this.instructions.push({action:"texture",data:{image:e,dx:r||0,dy:i||0,dw:s||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?en.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Dd,this}fill(e,n){let r;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="stroke"?r=i.data.path:r=this._activePath.clone(),r?(e!=null&&(n!==void 0&&typeof e=="number"&&(Qe(Tt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:n}),this._fillStyle=vd(e,Al.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:n}=this._activePath.getLastPoint(mn.shared);this._activePath.clear(),this._activePath.moveTo(e,n)}stroke(e){let n;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?n=r.data.path:n=this._activePath.clone(),n?(e!=null&&(this._strokeStyle=I_(e,Al.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const n=this.instructions[this.instructions.length-1-e],r=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(r);else{n.data.hole=r;break}}return this._initNextPathLocation(),this}arc(e,n,r,i,s,o){this._tick++;const u=this._transform;return this._activePath.arc(u.a*e+u.c*n+u.tx,u.b*e+u.d*n+u.ty,r,i,s,o),this}arcTo(e,n,r,i,s){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*n+o.tx,o.b*e+o.d*n+o.ty,o.a*r+o.c*i+o.tx,o.b*r+o.d*i+o.ty,s),this}arcToSvg(e,n,r,i,s,o,u){this._tick++;const c=this._transform;return this._activePath.arcToSvg(e,n,r,i,s,c.a*o+c.c*u+c.tx,c.b*o+c.d*u+c.ty),this}bezierCurveTo(e,n,r,i,s,o,u){this._tick++;const c=this._transform;return this._activePath.bezierCurveTo(c.a*e+c.c*n+c.tx,c.b*e+c.d*n+c.ty,c.a*r+c.c*i+c.tx,c.b*r+c.d*i+c.ty,c.a*s+c.c*o+c.tx,c.b*s+c.d*o+c.ty,u),this}closePath(){var e;return this._tick++,(e=this._activePath)==null||e.closePath(),this}ellipse(e,n,r,i){return this._tick++,this._activePath.ellipse(e,n,r,i,this._transform.clone()),this}circle(e,n,r){return this._tick++,this._activePath.circle(e,n,r,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,n){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*e+r.c*n+r.tx,r.b*e+r.d*n+r.ty),this}moveTo(e,n){this._tick++;const r=this._transform,i=this._activePath.instructions,s=r.a*e+r.c*n+r.tx,o=r.b*e+r.d*n+r.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=s,i[0].data[1]=o,this):(this._activePath.moveTo(s,o),this)}quadraticCurveTo(e,n,r,i,s){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*n+o.tx,o.b*e+o.d*n+o.ty,o.a*r+o.c*i+o.tx,o.b*r+o.d*i+o.ty,s),this}rect(e,n,r,i){return this._tick++,this._activePath.rect(e,n,r,i,this._transform.clone()),this}roundRect(e,n,r,i,s){return this._tick++,this._activePath.roundRect(e,n,r,i,s,this._transform.clone()),this}poly(e,n){return this._tick++,this._activePath.poly(e,n,this._transform.clone()),this}regularPoly(e,n,r,i,s=0,o){return this._tick++,this._activePath.regularPoly(e,n,r,i,s,o),this}roundPoly(e,n,r,i,s,o){return this._tick++,this._activePath.roundPoly(e,n,r,i,s,o),this}roundShape(e,n,r,i){return this._tick++,this._activePath.roundShape(e,n,r,i),this}filletRect(e,n,r,i,s){return this._tick++,this._activePath.filletRect(e,n,r,i,s),this}chamferRect(e,n,r,i,s,o){return this._tick++,this._activePath.chamferRect(e,n,r,i,s,o),this}star(e,n,r,i,s=0,o=0){return this._tick++,this._activePath.star(e,n,r,i,s,o,this._transform.clone()),this}svg(e){return this._tick++,U6(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,n=e){return this._transform.scale(e,n),this}setTransform(e,n,r,i,s,o){return e instanceof Je?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,n,r,i,s,o),this)}transform(e,n,r,i,s,o){return e instanceof Je?(this._transform.append(e),this):(ek.set(e,n,r,i,s,o),this._transform.append(ek),this)}translate(e,n=e){return this._transform.translate(e,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let n=0;n<this.instructions.length;n++){const r=this.instructions[n],i=r.action;if(i==="fill"){const s=r.data;e.addBounds(s.path.bounds)}else if(i==="texture"){const s=r.data;e.addFrame(s.dx,s.dy,s.dx+s.dw,s.dy+s.dh,s.transform)}if(i==="stroke"){const s=r.data,o=s.style.alignment,u=s.style.width*(1-o),c=s.path.bounds;e.addFrame(c.minX-u,c.minY-u,c.maxX+u,c.maxY+u)}}return e}containsPoint(e){var i;if(!this.bounds.containsPoint(e.x,e.y))return!1;const n=this.instructions;let r=!1;for(let s=0;s<n.length;s++){const o=n[s],u=o.data,c=u.path;if(!o.action||!c)continue;const f=u.style,p=c.shapePath.shapePrimitives;for(let v=0;v<p.length;v++){const b=p[v].shape;if(!f||!b)continue;const y=p[v].transform,E=y?y.applyInverse(e,TY):e;if(o.action==="fill")r=b.contains(E.x,E.y);else{const T=f;r=b.strokeContains(E.x,E.y,T.width,T.alignment)}const S=u.hole;if(S){const T=(i=S.shapePath)==null?void 0:i.shapePrimitives;if(T)for(let A=0;A<T.length;A++)T[A].shape.contains(E.x,E.y)&&(r=!1)}if(r)return!0}}return r}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(r),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(r)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};OP.defaultFillStyle={color:16777215,alpha:1,texture:ze.WHITE,matrix:null,fill:null,textureSpace:"local"};OP.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:ze.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let ls=OP;const tk=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function MP(t){const e=[];let n=0;for(let r=0;r<tk.length;r++){const i=`_${tk[r]}`;e[n++]=t[i]}return n=L6(t._fill,e,n),n=CY(t._stroke,e,n),n=AY(t.dropShadow,e,n),e.join("-")}function L6(t,e,n){var r;return t&&(e[n++]=t.color,e[n++]=t.alpha,e[n++]=(r=t.fill)==null?void 0:r.styleKey),n}function CY(t,e,n){return t&&(n=L6(t,e,n),e[n++]=t.width,e[n++]=t.alignment,e[n++]=t.cap,e[n++]=t.join,e[n++]=t.miterLimit),n}function AY(t,e,n){return t&&(e[n++]=t.alpha,e[n++]=t.angle,e[n++]=t.blur,e[n++]=t.distance,e[n++]=en.shared.setValue(t.color).toNumber()),n}const DP=class sm extends hs{constructor(e={}){super(),RY(e);const n={...sm.defaultTextStyle,...e};for(const r in n){const i=r;this[i]=n[r]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...sm.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...sm.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...ls.defaultFillStyle,...e},()=>{this._fill=vd({...this._originalFill},ls.defaultFillStyle)})),this._fill=vd(e===0?"black":e,ls.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...ls.defaultStrokeStyle,...e},()=>{this._stroke=I_({...this._originalStroke},ls.defaultStrokeStyle)})),this._stroke=I_(e,ls.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=MP(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const e=sm.defaultTextStyle;for(const n in e)this[n]=e[n]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new sm({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(e=!1){var r,i,s,o;if(this.removeAllListeners(),typeof e=="boolean"?e:e==null?void 0:e.texture){const u=typeof e=="boolean"?e:e==null?void 0:e.textureSource;(r=this._fill)!=null&&r.texture&&this._fill.texture.destroy(u),(i=this._originalFill)!=null&&i.texture&&this._originalFill.texture.destroy(u),(s=this._stroke)!=null&&s.texture&&this._stroke.texture.destroy(u),(o=this._originalStroke)!=null&&o.texture&&this._originalStroke.texture.destroy(u)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,n){return new Proxy(e,{set:(r,i,s)=>(r[i]=s,n==null||n(i,s),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(en.isColorLike(e)||e instanceof rc||e instanceof cy)}};DP.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};DP.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Ta=DP;function RY(t){const e=t;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const n=Ta.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??n.alpha,angle:e.dropShadowAngle??n.angle,blur:e.dropShadowBlur??n.blur,color:e.dropShadowColor??n.color,distance:e.dropShadowDistance??n.distance}}if(e.strokeThickness!==void 0){Qe(Tt,"strokeThickness is now a part of stroke");const n=e.stroke;let r={};if(en.isColorLike(n))r.color=n;else if(n instanceof rc||n instanceof cy)r.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))r=n;else throw new Error("Invalid stroke value.");t.stroke={...r,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){Qe(Tt,"gradient fill is now a fill pattern: `new FillGradient(...)`");let n;t.fontSize==null?t.fontSize=Ta.defaultTextStyle.fontSize:typeof t.fontSize=="string"?n=parseInt(t.fontSize,10):n=t.fontSize;const r=new rc({start:{x:0,y:0},end:{x:0,y:(n||0)*1.7}}),i=e.fillGradientStops.map(s=>en.shared.setValue(s).toNumber());i.forEach((s,o)=>{const u=o/(i.length-1);r.addColorStop(u,s)}),t.fill={fill:r}}}class G6{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,n){const r=Yt.get().createCanvas();r.width=e,r.height=n;const i=r.getContext("2d");return{canvas:r,context:i}}getOptimalCanvasAndContext(e,n,r=1){e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),e=$f(e),n=$f(n);const i=(e<<17)+(n<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let s=this._canvasPool[i].pop();return s||(s=this._createCanvasAndContext(e,n)),s}returnCanvasAndContext(e){const n=e.canvas,{width:r,height:i}=n,s=(r<<17)+(i<<1);e.context.clearRect(0,0,r,i),this._canvasPool[s].push(e)}clear(){this._canvasPool={}}}const Vl=new G6,PY=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function N_(t){const e=typeof t.fontSize=="number"?`${t.fontSize}px`:t.fontSize;let n=t.fontFamily;Array.isArray(t.fontFamily)||(n=t.fontFamily.split(","));for(let r=n.length-1;r>=0;r--){let i=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!PY.includes(i)&&(i=`"${i}"`),n[r]=i}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${n.join(",")}`}const _C={willReadFrequently:!0},Xo=class tt{static get experimentalLetterSpacingSupported(){let e=tt._experimentalLetterSpacingSupported;if(e!==void 0){const n=Yt.get().getCanvasRenderingContext2D().prototype;e=tt._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return e}constructor(e,n,r,i,s,o,u,c,f){this.text=e,this.style=n,this.width=r,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=u,this.maxLineWidth=c,this.fontProperties=f}static measureText(e=" ",n,r=tt._canvas,i=n.wordWrap){var P;const s=`${e}:${n.styleKey}`;if(tt._measurementCache[s])return tt._measurementCache[s];const o=N_(n),u=tt.measureFont(o);u.fontSize===0&&(u.fontSize=n.fontSize,u.ascent=n.fontSize);const c=tt.__context;c.font=o;const p=(i?tt._wordWrap(e,n,r):e).split(/(?:\r\n|\r|\n)/),v=new Array(p.length);let b=0;for(let O=0;O<p.length;O++){const M=tt._measureText(p[O],n.letterSpacing,c);v[O]=M,b=Math.max(b,M)}const y=((P=n._stroke)==null?void 0:P.width)||0;let E=b+y;n.dropShadow&&(E+=n.dropShadow.distance);const S=n.lineHeight||u.fontSize;let T=Math.max(S,u.fontSize+y)+(p.length-1)*(S+n.leading);return n.dropShadow&&(T+=n.dropShadow.distance),new tt(e,n,E,T,p,v,S+n.leading,b,u)}static _measureText(e,n,r){let i=!1;tt.experimentalLetterSpacingSupported&&(tt.experimentalLetterSpacing?(r.letterSpacing=`${n}px`,r.textLetterSpacing=`${n}px`,i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const s=r.measureText(e);let o=s.width;const u=-s.actualBoundingBoxLeft;let f=s.actualBoundingBoxRight-u;if(o>0)if(i)o-=n,f-=n;else{const p=(tt.graphemeSegmenter(e).length-1)*n;o+=p,f+=p}return Math.max(o,f)}static _wordWrap(e,n,r=tt._canvas){const i=r.getContext("2d",_C);let s=0,o="",u="";const c=Object.create(null),{letterSpacing:f,whiteSpace:p}=n,v=tt._collapseSpaces(p),b=tt._collapseNewlines(p);let y=!v;const E=n.wordWrapWidth+f,S=tt._tokenize(e);for(let T=0;T<S.length;T++){let A=S[T];if(tt._isNewline(A)){if(!b){u+=tt._addLine(o),y=!v,o="",s=0;continue}A=" "}if(v){const O=tt.isBreakingSpace(A),M=tt.isBreakingSpace(o[o.length-1]);if(O&&M)continue}const P=tt._getFromCache(A,f,c,i);if(P>E)if(o!==""&&(u+=tt._addLine(o),o="",s=0),tt.canBreakWords(A,n.breakWords)){const O=tt.wordWrapSplit(A);for(let M=0;M<O.length;M++){let D=O[M],W=D,G=1;for(;O[M+G];){const L=O[M+G];if(!tt.canBreakChars(W,L,A,M,n.breakWords))D+=L;else break;W=L,G++}M+=G-1;const Y=tt._getFromCache(D,f,c,i);Y+s>E&&(u+=tt._addLine(o),y=!1,o="",s=0),o+=D,s+=Y}}else{o.length>0&&(u+=tt._addLine(o),o="",s=0);const O=T===S.length-1;u+=tt._addLine(A,!O),y=!1,o="",s=0}else P+s>E&&(y=!1,u+=tt._addLine(o),o="",s=0),(o.length>0||!tt.isBreakingSpace(A)||y)&&(o+=A,s+=P)}return u+=tt._addLine(o,!1),u}static _addLine(e,n=!0){return e=tt._trimRight(e),e=n?`${e}
`:e,e}static _getFromCache(e,n,r,i){let s=r[e];return typeof s!="number"&&(s=tt._measureText(e,n,i)+n,r[e]=s),s}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let n=e.length-1;n>=0;n--){const r=e[n];if(!tt.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:tt._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,n){return typeof e!="string"?!1:tt._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const n=[];let r="";if(typeof e!="string")return n;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(tt.isBreakingSpace(s,o)||tt._isNewline(s)){r!==""&&(n.push(r),r=""),n.push(s);continue}r+=s}return r!==""&&n.push(r),n}static canBreakWords(e,n){return n}static canBreakChars(e,n,r,i,s){return!0}static wordWrapSplit(e){return tt.graphemeSegmenter(e)}static measureFont(e){if(tt._fonts[e])return tt._fonts[e];const n=tt._context;n.font=e;const r=n.measureText(tt.METRICS_STRING+tt.BASELINE_SYMBOL),i={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return tt._fonts[e]=i,i}static clearMetrics(e=""){e?delete tt._fonts[e]:tt._fonts={}}static get _canvas(){if(!tt.__canvas){let e;try{const n=new OffscreenCanvas(0,0),r=n.getContext("2d",_C);if(r!=null&&r.measureText)return tt.__canvas=n,n;e=Yt.get().createCanvas()}catch{e=Yt.get().createCanvas()}e.width=e.height=10,tt.__canvas=e}return tt.__canvas}static get _context(){return tt.__context||(tt.__context=tt._canvas.getContext("2d",_C)),tt.__context}};Xo.METRICS_STRING="|ÉqÅ";Xo.BASELINE_SYMBOL="M";Xo.BASELINE_MULTIPLIER=1.4;Xo.HEIGHT_MULTIPLIER=2;Xo.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(n=>n.segment)}return t=>[...t]})();Xo.experimentalLetterSpacing=!1;Xo._fonts={};Xo._newlines=[10,13];Xo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Xo._measurementCache={};let Ml=Xo;const nk=1e5;function U_(t,e,n,r=0){if(t.texture===ze.WHITE&&!t.fill)return en.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(t.fill){if(t.fill instanceof cy){const i=t.fill,s=e.createPattern(i.texture.source.resource,"repeat"),o=i.transform.copyTo(Je.shared);return o.scale(i.texture.frame.width,i.texture.frame.height),s.setTransform(o),s}else if(t.fill instanceof rc){const i=t.fill,s=i.type==="linear",o=i.textureSpace==="local";let u=1,c=1;o&&n&&(u=n.width+r,c=n.height+r);let f,p=!1;if(s){const{start:v,end:b}=i;f=e.createLinearGradient(v.x*u,v.y*c,b.x*u,b.y*c),p=Math.abs(b.x-v.x)<Math.abs((b.y-v.y)*.1)}else{const{center:v,innerRadius:b,outerCenter:y,outerRadius:E}=i;f=e.createRadialGradient(v.x*u,v.y*c,b*u,y.x*u,y.y*c,E*u)}if(p&&o&&n){const v=n.lineHeight/c;for(let b=0;b<n.lines.length;b++){const y=(b*n.lineHeight+r/2)/c;i.colorStops.forEach(E=>{const S=y+E.offset*v;f.addColorStop(Math.floor(S*nk)/nk,en.shared.setValue(E.color).toHex())})}}else i.colorStops.forEach(v=>{f.addColorStop(v.offset,en.shared.setValue(v.color).toHex())});return f}}else{const i=e.createPattern(t.texture.source.resource,"repeat"),s=t.matrix.copyTo(Je.shared);return s.scale(t.texture.frame.width,t.texture.frame.height),i.setTransform(s),i}return at("FillStyle not recognised",t),"red"}function BP(t){if(t==="")return[];typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(i[0].length===0||i[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,c=o;u<=c;u++)e.push(String.fromCharCode(u))}else e.push(...Array.from(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const z6=class V6 extends gP{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const n={...V6.defaultOptions,...e};this._textureSize=n.textureSize,this._mipmap=n.mipmap;const r=n.style.clone();n.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=ze.WHITE,r._fill.fill=null),this.applyFillAsTint=n.overrideFill;const i=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const s=N_(r);n.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/i):r.fontSize=this.baseRenderedFontSize=i,this._style=r,this._skipKerning=n.skipKerning??!1,this.resolution=n.resolution??1,this._padding=n.padding??4,this.fontMetrics=Ml.measureFont(s),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(e){var T,A;const n=BP(e).filter(P=>!this._currentChars.includes(P)).filter((P,O,M)=>M.indexOf(P)===O);if(!n.length)return;this._currentChars=[...this._currentChars,...n];let r;this._currentPageIndex===-1?r=this._nextPage():r=this.pages[this._currentPageIndex];let{canvas:i,context:s}=r.canvasAndContext,o=r.texture.source;const u=this._style;let c=this._currentX,f=this._currentY;const p=this.baseRenderedFontSize/this.baseMeasurementFontSize,v=this._padding*p;let b=0,y=!1;const E=i.width/this.resolution,S=i.height/this.resolution;for(let P=0;P<n.length;P++){const O=n[P],M=Ml.measureText(O,u,i,!1);M.lineHeight=M.height;const D=M.width*p,W=Math.ceil((u.fontStyle==="italic"?2:1)*D),G=M.height*p,Y=W+v*2,L=G+v*2;if(y=!1,O!==`
`&&O!=="\r"&&O!=="	"&&O!==" "&&(y=!0,b=Math.ceil(Math.max(L,b))),c+Y>E&&(f+=b,b=L,c=0,f+b>S)){o.update();const Z=this._nextPage();i=Z.canvasAndContext.canvas,s=Z.canvasAndContext.context,o=Z.texture.source,f=0}const X=D/p-(((T=u.dropShadow)==null?void 0:T.distance)??0)-(((A=u._stroke)==null?void 0:A.width)??0);if(this.chars[O]={id:O.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:X,kerning:{}},y){this._drawGlyph(s,M,c+v,f+v,p,u);const Z=o.width*p,ee=o.height*p,be=new vn(c/Z*o.width,f/ee*o.height,Y/Z*o.width,L/ee*o.height);this.chars[O].texture=new ze({source:o,frame:be}),c+=Math.ceil(Y)}}o.update(),this._currentX=c,this._currentY=f,this._skipKerning&&this._applyKerning(n,s)}get pageTextures(){return Qe(Tt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,n){const r=this._measureCache;for(let i=0;i<e.length;i++){const s=e[i];for(let o=0;o<this._currentChars.length;o++){const u=this._currentChars[o];let c=r[s];c||(c=r[s]=n.measureText(s).width);let f=r[u];f||(f=r[u]=n.measureText(u).width);let p=n.measureText(s+u).width,v=p-(c+f);v&&(this.chars[s].kerning[u]=v),p=n.measureText(s+u).width,v=p-(c+f),v&&(this.chars[u].kerning[s]=v)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,n=Vl.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(n.context,this._style,e);const r=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i=new ze({source:new Md({resource:n.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})}),s={canvasAndContext:n,texture:i};return this.pages[this._currentPageIndex]=s,s}_setupContext(e,n,r){n.fontSize=this.baseRenderedFontSize,e.scale(r,r),e.font=N_(n),n.fontSize=this.baseMeasurementFontSize,e.textBaseline=n.textBaseline;const i=n._stroke,s=(i==null?void 0:i.width)??0;if(i&&(e.lineWidth=s,e.lineJoin=i.join,e.miterLimit=i.miterLimit,e.strokeStyle=U_(i,e)),n._fill&&(e.fillStyle=U_(n._fill,e)),n.dropShadow){const o=n.dropShadow,u=en.shared.setValue(o.color).toArray(),c=o.blur*r,f=o.distance*r;e.shadowColor=`rgba(${u[0]*255},${u[1]*255},${u[2]*255},${o.alpha})`,e.shadowBlur=c,e.shadowOffsetX=Math.cos(o.angle)*f,e.shadowOffsetY=Math.sin(o.angle)*f}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,n,r,i,s,o){const u=n.text,c=n.fontProperties,f=o._stroke,p=((f==null?void 0:f.width)??0)*s,v=r+p/2,b=i-p/2,y=c.descent*s,E=n.lineHeight*s;o.stroke&&p&&e.strokeText(u,v,b+E-y),o._fill&&e.fillText(u,v,b+E-y)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:n,texture:r}=this.pages[e];Vl.returnCanvasAndContext(n),r.destroy(!0)}this.pages=null}};z6.defaultOptions={textureSize:512,style:new Ta,mipmap:!0};let QA=z6;function kP(t,e,n,r){const i={width:0,height:0,offsetY:0,scale:e.fontSize/n.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=n.baseLineOffset;let s=i.lines[0],o=null,u=!0;const c={width:0,start:0,index:0,positions:[],chars:[]},f=E=>{const S=s.width;for(let T=0;T<c.index;T++){const A=E.positions[T];s.chars.push(E.chars[T]),s.charPositions.push(A+S)}s.width+=E.width,u=!1,c.width=0,c.index=0,c.chars.length=0},p=()=>{let E=s.chars.length-1;if(r){let S=s.chars[E];for(;S===" ";)s.width-=n.chars[S].xAdvance,S=s.chars[--E]}i.width=Math.max(i.width,s.width),s={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},u=!0,i.lines.push(s),i.height+=n.lineHeight},v=n.baseMeasurementFontSize/e.fontSize,b=e.letterSpacing*v,y=e.wordWrapWidth*v;for(let E=0;E<t.length+1;E++){let S;const T=E===t.length;T||(S=t[E]);const A=n.chars[S]||n.chars[" "];if(/(?:\s)/.test(S)||S==="\r"||S===`
`||T){if(!u&&e.wordWrap&&s.width+c.width-b>y?(p(),f(c),T||s.charPositions.push(0)):(c.start=s.width,f(c),T||s.charPositions.push(0)),S==="\r"||S===`
`)s.width!==0&&p();else if(!T){const D=A.xAdvance+(A.kerning[o]||0)+b;s.width+=D,s.spaceWidth=D,s.spacesIndex.push(s.charPositions.length),s.chars.push(S)}}else{const M=A.kerning[o]||0,D=A.xAdvance+M+b;c.positions[c.index++]=c.width+M,c.chars.push(S),c.width+=D}o=S}return p(),e.align==="center"?OY(i):e.align==="right"?MY(i):e.align==="justify"&&DY(i),i}function OY(t){for(let e=0;e<t.lines.length;e++){const n=t.lines[e],r=t.width/2-n.width/2;for(let i=0;i<n.charPositions.length;i++)n.charPositions[i]+=r}}function MY(t){for(let e=0;e<t.lines.length;e++){const n=t.lines[e],r=t.width-n.width;for(let i=0;i<n.charPositions.length;i++)n.charPositions[i]+=r}}function DY(t){const e=t.width;for(let n=0;n<t.lines.length;n++){const r=t.lines[n];let i=0,s=r.spacesIndex[i++],o=0;const u=r.spacesIndex.length,f=(e-r.width)/u;for(let p=0;p<r.charPositions.length;p++)p===s&&(s=r.spacesIndex[i++],o+=f),r.charPositions[p]+=o}}let g2=0;class BY{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(e,n){var o;let r=`${n.fontFamily}-bitmap`,i=!0;if(n._fill.fill&&!n._stroke)r+=n._fill.fill.styleKey,i=!1;else if(n._stroke||n.dropShadow){let u=n.styleKey;u=u.substring(0,u.lastIndexOf("-")),r=`${u}-bitmap`,i=!1}if(!Un.has(r)){const u=new QA({style:n,overrideFill:i,overrideSize:!0,...this.defaultOptions});g2++,g2>50&&at("BitmapText",`You have dynamically created ${g2} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),u.once("destroy",()=>{g2--,Un.remove(r)}),Un.set(r,u)}const s=Un.get(r);return(o=s.ensureCharacters)==null||o.call(s,e),s}getLayout(e,n,r=!0){const i=this.getFont(e,n);return kP([...e],n,i,r)}measureText(e,n,r=!0){return this.getLayout(e,n,r)}install(...e){var f,p,v,b;let n=e[0];typeof n=="string"&&(n={name:n,style:e[1],chars:(f=e[2])==null?void 0:f.chars,resolution:(p=e[2])==null?void 0:p.resolution,padding:(v=e[2])==null?void 0:v.padding,skipKerning:(b=e[2])==null?void 0:b.skipKerning},Qe(Tt,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=n==null?void 0:n.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");n={...this.defaultOptions,...n};const i=n.style,s=i instanceof Ta?i:new Ta(i),o=s._fill.fill!==null&&s._fill.fill!==void 0,u=new QA({style:s,overrideFill:o,skipKerning:n.skipKerning,padding:n.padding,resolution:n.resolution,overrideSize:!1}),c=BP(n.chars);return u.ensureCharacters(c.join("")),Un.set(`${r}-bitmap`,u),u.once("destroy",()=>Un.remove(`${r}-bitmap`)),u}uninstall(e){const n=`${e}-bitmap`,r=Un.get(n);r&&r.destroy()}}const F_=new BY;class IP extends gP{constructor(e,n){super();const{textures:r,data:i}=e;Object.keys(i.pages).forEach(s=>{const o=i.pages[parseInt(s,10)],u=r[o.id];this.pages.push({texture:u})}),Object.keys(i.chars).forEach(s=>{const o=i.chars[s],{frame:u,source:c}=r[o.page],f=new vn(o.x+u.x,o.y+u.y,o.width,o.height),p=new ze({source:c,frame:f});this.chars[s]={id:s.codePointAt(0),xOffset:o.xOffset,yOffset:o.yOffset,xAdvance:o.xAdvance,kerning:o.kerning??{},texture:p}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=i.distanceField??{type:"none",range:0},this.url=n}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:n}=this.pages[e];n.destroy(!0)}this.pages=null}static install(e){F_.install(e)}static uninstall(e){F_.uninstall(e)}}const Z2={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const v in e){const b=e[v].match(/^[a-z]+/gm)[0],y=e[v].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),E={};for(const S in y){const T=y[S].split("="),A=T[0],P=T[1].replace(/"/gm,""),O=parseFloat(P),M=isNaN(O)?P:O;E[A]=M}n[b].push(E)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=n.info,[s]=n.common,[o]=n.distanceField??[];o&&(r.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),r.fontSize=parseInt(i.size,10),r.fontFamily=i.face,r.lineHeight=parseInt(s.lineHeight,10);const u=n.page;for(let v=0;v<u.length;v++)r.pages.push({id:parseInt(u[v].id,10)||0,file:u[v].file});const c={};r.baseLineOffset=r.lineHeight-parseInt(s.base,10);const f=n.char;for(let v=0;v<f.length;v++){const b=f[v],y=parseInt(b.id,10);let E=b.letter??b.char??String.fromCharCode(y);E==="space"&&(E=" "),c[y]=E,r.chars[E]={id:y,page:parseInt(b.page,10)||0,x:parseInt(b.x,10),y:parseInt(b.y,10),width:parseInt(b.width,10),height:parseInt(b.height,10),xOffset:parseInt(b.xoffset,10),yOffset:parseInt(b.yoffset,10),xAdvance:parseInt(b.xadvance,10),kerning:{}}}const p=n.kerning||[];for(let v=0;v<p.length;v++){const b=parseInt(p[v].first,10),y=parseInt(p[v].second,10),E=parseInt(p[v].amount,10);r.chars[c[y]].kerning[c[b]]=E}return r}},JA={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=t.getElementsByTagName("info")[0],r=t.getElementsByTagName("common")[0],i=t.getElementsByTagName("distanceField")[0];i&&(e.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),u=t.getElementsByTagName("kerning");e.fontSize=parseInt(n.getAttribute("size"),10),e.fontFamily=n.getAttribute("face"),e.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let f=0;f<s.length;f++)e.pages.push({id:parseInt(s[f].getAttribute("id"),10)||0,file:s[f].getAttribute("file")});const c={};e.baseLineOffset=e.lineHeight-parseInt(r.getAttribute("base"),10);for(let f=0;f<o.length;f++){const p=o[f],v=parseInt(p.getAttribute("id"),10);let b=p.getAttribute("letter")??p.getAttribute("char")??String.fromCharCode(v);b==="space"&&(b=" "),c[v]=b,e.chars[b]={id:v,page:parseInt(p.getAttribute("page"),10)||0,x:parseInt(p.getAttribute("x"),10),y:parseInt(p.getAttribute("y"),10),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10),xOffset:parseInt(p.getAttribute("xoffset"),10),yOffset:parseInt(p.getAttribute("yoffset"),10),xAdvance:parseInt(p.getAttribute("xadvance"),10),kerning:{}}}for(let f=0;f<u.length;f++){const p=parseInt(u[f].getAttribute("first"),10),v=parseInt(u[f].getAttribute("second"),10),b=parseInt(u[f].getAttribute("amount"),10);e.chars[c[v]].kerning[c[p]]=b}return e}},e3={test(t){return typeof t=="string"&&t.includes("<font>")?JA.test(Yt.get().parseXML(t)):!1},parse(t){return JA.parse(Yt.get().parseXML(t))}},kY=[".xml",".fnt"],H6={extension:{type:te.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof IP,getCacheableAssets(t,e){const n={};return t.forEach(r=>{n[r]=e,n[`${r}-bitmap`]=e}),n[`${e.fontFamily}-bitmap`]=e,n}},W6={extension:{type:te.LoadParser,priority:Oa.Normal},name:"loadBitmapFont",test(t){return kY.includes(Ls.extname(t).toLowerCase())},async testParse(t){return Z2.test(t)||e3.test(t)},async parse(t,e,n){const r=Z2.test(t)?Z2.parse(t):e3.parse(t),{src:i}=e,{pages:s}=r,o=[],u=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let v=0;v<s.length;++v){const b=s[v].file;let y=Ls.join(Ls.dirname(i),b);y=wS(y,i),o.push({src:y,data:u})}const c=await n.load(o),f=o.map(v=>c[v.src]);return new IP({data:r,textures:f},i)},async load(t,e){return await(await Yt.get().fetch(t)).text()},async unload(t,e,n){await Promise.all(t.pages.map(r=>n.unload(r.texture.source._sourceOrigin))),t.destroy()}};class $6{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const j6={extension:{type:te.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof ze),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};async function NP(t){if("Image"in globalThis)return new Promise(e=>{const n=new Image;n.onload=()=>{e(!0)},n.onerror=()=>{e(!1)},n.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const X6={extension:{type:te.DetectionParser,priority:1},test:async()=>NP("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},rk=["png","jpg","jpeg"],Y6={extension:{type:te.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...rk],remove:async t=>t.filter(e=>!rk.includes(e))},IY="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Uw(t){return IY?!1:document.createElement("video").canPlayType(t)!==""}const q6={extension:{type:te.DetectionParser,priority:0},test:async()=>Uw("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},K6={extension:{type:te.DetectionParser,priority:0},test:async()=>Uw("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},Z6={extension:{type:te.DetectionParser,priority:0},test:async()=>Uw("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},Q6={extension:{type:te.DetectionParser,priority:0},test:async()=>NP("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};let J6=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,n,r)=>(this._parsersValidated=!1,e[n]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{var o,u;let i=null,s=null;if(n.loadParser&&(s=this._parserHash[n.loadParser],s||at(`[Assets] specified load parser "${n.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const f=this.parsers[c];if(f.load&&((o=f.test)!=null&&o.call(f,e,n,this))){s=f;break}}if(!s)return at(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,n,this),r.parser=s;for(let c=0;c<this.parsers.length;c++){const f=this.parsers[c];f.parse&&f.parse&&await((u=f.testParse)==null?void 0:u.call(f,i,n,this))&&(i=await f.parse(i,n,this)||i,r.parser=f)}return i})(),r}async load(e,n){this._parsersValidated||this._validateParsers();let r=0;const i={},s=B_(e),o=Qa(e,f=>({alias:[f],src:f,data:{}})),u=o.length,c=o.map(async f=>{const p=Ls.toAbsolute(f.src);if(!i[f.src])try{this.promiseCache[p]||(this.promiseCache[p]=this._getLoadPromiseAndParser(p,f)),i[f.src]=await this.promiseCache[p].promise,n&&n(++r/u)}catch(v){throw delete this.promiseCache[p],delete i[f.src],new Error(`[Loader.load] Failed to load ${p}.
${v}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=Qa(e,i=>({alias:[i],src:i})).map(async i=>{var u,c;const s=Ls.toAbsolute(i.src),o=this.promiseCache[s];if(o){const f=await o.promise;delete this.promiseCache[s],await((c=(u=o.parser)==null?void 0:u.unload)==null?void 0:c.call(u,f,i,this))}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,n)=>(n.name?e[n.name]&&at(`[Assets] loadParser name conflict "${n.name}"`):at("[Assets] loadParser should have a name"),{...e,[n.name]:n}),{})}};function sp(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function ao(t,e){const n=t.split("?")[0],r=Ls.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const NY=".json",UY="application/json",eF={extension:{type:te.LoadParser,priority:Oa.Low},name:"loadJson",test(t){return sp(t,UY)||ao(t,NY)},async load(t){return await(await Yt.get().fetch(t)).json()}},FY=".txt",LY="text/plain",tF={name:"loadTxt",extension:{type:te.LoadParser,priority:Oa.Low,name:"loadTxt"},test(t){return sp(t,LY)||ao(t,FY)},async load(t){return await(await Yt.get().fetch(t)).text()}},GY=["normal","bold","100","200","300","400","500","600","700","800","900"],zY=[".ttf",".otf",".woff",".woff2"],VY=["font/ttf","font/otf","font/woff","font/woff2"],HY=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function nF(t){const e=Ls.extname(t),i=Ls.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1));let s=i.length>0;for(const u of i)if(!u.match(HY)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const WY=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function $Y(t){return WY.test(t)?t:encodeURI(t)}const rF={extension:{type:te.LoadParser,priority:Oa.Low},name:"loadWebFont",test(t){return sp(t,VY)||ao(t,zY)},async load(t,e){var r,i,s;const n=Yt.get().getFontFaceSet();if(n){const o=[],u=((r=e.data)==null?void 0:r.family)??nF(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(p=>GY.includes(p)))??["normal"],f=e.data??{};for(let p=0;p<c.length;p++){const v=c[p],b=new FontFace(u,`url(${$Y(t)})`,{...f,weight:v});await b.load(),n.add(b),o.push(b)}return Un.set(`${u}-and-url`,{url:t,fontFaces:o}),o.length===1?o[0]:o}return at("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>{Un.remove(`${e.family}-and-url`),Yt.get().getFontFaceSet().delete(e)})}};function Fw(t,e=1){var r;const n=(r=zd.RETINA_PREFIX)==null?void 0:r.exec(t);return n?parseFloat(n[1]):e}function Vd(t,e,n){t.label=n,t._sourceOrigin=n;const r=new ze({source:t,label:n}),i=()=>{delete e.promiseCache[n],Un.has(n)&&Un.remove(n)};return r.source.once("destroy",()=>{e.promiseCache[n]&&(at("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),r.once("destroy",()=>{t.destroyed||(at("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),r}const jY=".svg",XY="image/svg+xml",iF={extension:{type:te.LoadParser,priority:Oa.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return sp(t,XY)||ao(t,jY)},async load(t,e,n){var r;return((r=e.data)==null?void 0:r.parseAsGraphicsContext)??this.config.parseAsGraphicsContext?qY(t):YY(t,e,n,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function YY(t,e,n,r){var T,A,P;const s=await(await Yt.get().fetch(t)).blob(),o=URL.createObjectURL(s),u=new Image;u.src=o,u.crossOrigin=r,await u.decode(),URL.revokeObjectURL(o);const c=document.createElement("canvas"),f=c.getContext("2d"),p=((T=e.data)==null?void 0:T.resolution)||Fw(t),v=((A=e.data)==null?void 0:A.width)??u.width,b=((P=e.data)==null?void 0:P.height)??u.height;c.width=v*p,c.height=b*p,f.drawImage(u,0,0,v*p,b*p);const{parseAsGraphicsContext:y,...E}=e.data??{},S=new Md({resource:c,alphaMode:"premultiply-alpha-on-upload",resolution:p,...E});return Vd(S,n,t)}async function qY(t){const n=await(await Yt.get().fetch(t)).text(),r=new ls;return r.svg(n),r}const KY=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Cm=null,t3=class{constructor(){Cm||(Cm=URL.createObjectURL(new Blob([KY],{type:"application/javascript"}))),this.worker=new Worker(Cm)}};t3.revokeObjectURL=function(){Cm&&(URL.revokeObjectURL(Cm),Cm=null)};const ZY=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Am=null,sF=class{constructor(){Am||(Am=URL.createObjectURL(new Blob([ZY],{type:"application/javascript"}))),this.worker=new Worker(Am)}};sF.revokeObjectURL=function(){Am&&(URL.revokeObjectURL(Am),Am=null)};let ik=0,yC;class QY{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:n}=new t3;n.addEventListener("message",r=>{n.terminate(),t3.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,n){var r;return this._run("loadImageBitmap",[e,(r=n==null?void 0:n.data)==null?void 0:r.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){yC===void 0&&(yC=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<yC&&(this._createdWorkers++,e=new sF().worker,e.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this._queue.push({id:e,arguments:n,resolve:i,reject:s})});return this._next(),r}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const n=this._queue.pop(),r=n.id;this._resolveHash[ik]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:ik++,id:r})}}const n3=new QY,JY=[".jpeg",".jpg",".png",".webp",".avif"],eq=["image/jpeg","image/png","image/webp","image/avif"];async function aF(t,e){var i;const n=await Yt.get().fetch(t);if(!n.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${n.status} ${n.statusText}`);const r=await n.blob();return((i=e==null?void 0:e.data)==null?void 0:i.alphaMode)==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}const UP={name:"loadTextures",extension:{type:te.LoadParser,priority:Oa.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return sp(t,eq)||ao(t,JY)},async load(t,e,n){var s;let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await n3.isImageBitmapSupported()?r=await n3.loadImageBitmap(t,e):r=await aF(t,e):r=await new Promise((o,u)=>{r=new Image,r.crossOrigin=this.config.crossOrigin,r.src=t,r.complete?o(r):(r.onload=()=>{o(r)},r.onerror=u)});const i=new Md({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:((s=e.data)==null?void 0:s.resolution)||Fw(t),...e.data});return Vd(i,n,t)},unload(t){t.destroy(!0)}},oF=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],tq=oF.map(t=>`video/${t.substring(1)}`);function lF(t,e,n){n===void 0&&!e.startsWith("data:")?t.crossOrigin=cF(e):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}function uF(t){return new Promise((e,n)=>{t.addEventListener("canplaythrough",r),t.addEventListener("error",i),t.load();function r(){s(),e()}function i(o){s(),n(o)}function s(){t.removeEventListener("canplaythrough",r),t.removeEventListener("error",i)}})}function cF(t,e=globalThis.location){if(t.startsWith("data:"))return"";e||(e=globalThis.location);const n=new URL(t,document.baseURI);return n.hostname!==e.hostname||n.port!==e.port||n.protocol!==e.protocol?"anonymous":""}const dF={name:"loadVideo",extension:{type:te.LoadParser,name:"loadVideo"},test(t){const e=sp(t,tq),n=ao(t,oF);return e||n},async load(t,e,n){var c,f;const r={...h_.defaultOptions,resolution:((c=e.data)==null?void 0:c.resolution)||Fw(t),alphaMode:((f=e.data)==null?void 0:f.alphaMode)||await iP(),...e.data},i=document.createElement("video"),s={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(s).forEach(p=>{const v=s[p];v!==void 0&&i.setAttribute(p,v)}),r.muted===!0&&(i.muted=!0),lF(i,t,r.crossorigin);const o=document.createElement("source");let u;if(t.startsWith("data:"))u=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const p=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();u=h_.MIME_TYPES[p]||`video/${p}`}return o.src=t,u&&(o.type=u),new Promise(p=>{const v=async()=>{const b=new h_({...r,resource:i});i.removeEventListener("canplay",v),e.data.preload&&await uF(i),p(Vd(b,n,t))};i.addEventListener("canplay",v),i.appendChild(o)})},unload(t){t.destroy(!0)}},FP={extension:{type:te.ResolveParser,name:"resolveTexture"},test:UP.test,parse:t=>{var e;return{resolution:parseFloat(((e=zd.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}},hF={extension:{type:te.ResolveParser,priority:-2,name:"resolveJson"},test:t=>zd.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:FP.parse};class fF{constructor(){this._detections=[],this._initialized=!1,this.resolver=new zd,this.loader=new J6,this.cache=Un,this._backgroundLoader=new $6(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){at("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let u=e.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const n=((s=e.texturePreference)==null?void 0:s.resolution)??1,r=typeof n=="number"?[n]:n,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,n){this._initialized||await this.init();const r=B_(e),i=Qa(e).map(u=>{if(typeof u!="string"){const c=this.resolver.getAlias(u);return c.some(f=>!this.resolver.hasKey(f))&&this.add(u),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(u)||this.add({alias:u,src:u}),u}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let u=0,c=0;const f=()=>{n==null||n(++u/c)},p=o.map(v=>{const b=i[v];return c+=Object.keys(b).length,this._mapLoadToResolve(b,f).then(y=>{s[v]=y})});return await Promise.all(p),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Un.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=Un.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const i=await this.loader.load(r,n);this._backgroundLoader.active=!0;const s={};return r.forEach(o=>{const u=i[o.src],c=[o.src];o.alias&&c.push(...o.alias),c.forEach(f=>{s[f]=u}),Un.set(c,u)}),s}async unload(e){this._initialized||await this.init();const n=Qa(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=Qa(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{Un.remove(r.src)}),await this.loader.unload(n)}async _detectFormats(e){let n=[];e.preferredFormats&&(n=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?n=await r.add(n):e.skipDetections||(n=await r.remove(n));return n=n.filter((r,i)=>n.indexOf(r)===i),n}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(r=>r in e).forEach(r=>{n.config[r]=e[r]})})}}const q0=new fF;An.handleByList(te.LoadParser,q0.loader.parsers).handleByList(te.ResolveParser,q0.resolver.parsers).handleByList(te.CacheParser,q0.cache.parsers).handleByList(te.DetectionParser,q0.detections);An.add(j6,Y6,X6,Q6,q6,K6,Z6,eF,tF,rF,iF,UP,dF,W6,H6,FP,hF);const sk={loader:te.LoadParser,resolver:te.ResolveParser,cache:te.CacheParser,detection:te.DetectionParser};An.handle(te.Asset,t=>{const e=t.ref;Object.entries(sk).filter(([n])=>!!e[n]).forEach(([n,r])=>An.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(sk).filter(n=>!!e[n]).forEach(n=>An.remove(e[n]))});const nq={extension:{type:te.DetectionParser,priority:3},test:async()=>!!(await uy()||ly()),add:async t=>[...t,"basis"],remove:async t=>t.filter(e=>e!=="basis")};class hy extends br{constructor(e){super(e),this.uploadMethodId="compressed",this.resource=e.resource,this.mipLevelCount=this.resource.length}}let m2;function r3(){if(m2)return m2;const e=document.createElement("canvas").getContext("webgl");return e?(m2=[...e.getExtension("EXT_texture_compression_bptc")?["bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb"]:[],...e.getExtension("WEBGL_compressed_texture_s3tc")?["bc1-rgba-unorm","bc2-rgba-unorm","bc3-rgba-unorm"]:[],...e.getExtension("WEBGL_compressed_texture_s3tc_srgb")?["bc1-rgba-unorm-srgb","bc2-rgba-unorm-srgb","bc3-rgba-unorm-srgb"]:[],...e.getExtension("EXT_texture_compression_rgtc")?["bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm"]:[],...e.getExtension("WEBGL_compressed_texture_etc")?["etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","eac-r11unorm","eac-rg11unorm"]:[],...e.getExtension("WEBGL_compressed_texture_astc")?["astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]:[]],m2):[]}let v2;async function i3(){if(v2)return v2;const t=await Yt.get().getNavigator().gpu.requestAdapter();return v2=[...t.features.has("texture-compression-bc")?["bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb"]:[],...t.features.has("texture-compression-etc2")?["etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm"]:[],...t.features.has("texture-compression-astc")?["astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]:[]],v2}let b2;async function LP(){return b2!==void 0||(b2=await(async()=>{const t=await uy(),e=ly();if(t&&e){const n=await i3(),r=r3();return n.filter(i=>r.includes(i))}else{if(t)return await i3();if(e)return r3()}return[]})()),b2}const pF=["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8"];let _2;async function fy(){if(_2!==void 0)return _2;const t=await LP();return _2=[...pF,...t],_2}const rq=`(function () {
    'use strict';

    function createLevelBuffers(basisTexture, basisTranscoderFormat) {
      const images = basisTexture.getNumImages();
      const levels = basisTexture.getNumLevels(0);
      const success = basisTexture.startTranscoding();
      if (!success) {
        throw new Error("startTranscoding failed");
      }
      const levelBuffers = [];
      for (let levelIndex = 0; levelIndex < levels; ++levelIndex) {
        for (let sliceIndex = 0; sliceIndex < images; ++sliceIndex) {
          const transcodeSize = basisTexture.getImageTranscodedSizeInBytes(sliceIndex, levelIndex, basisTranscoderFormat);
          const levelBuffer = new Uint8Array(transcodeSize);
          const success2 = basisTexture.transcodeImage(levelBuffer, sliceIndex, levelIndex, basisTranscoderFormat, 1, 0);
          if (!success2) {
            throw new Error("transcodeImage failed");
          }
          levelBuffers.push(levelBuffer);
        }
      }
      return levelBuffers;
    }

    const gpuFormatToBasisTranscoderFormatMap = {
      "bc3-rgba-unorm": 3,
      // cTFBC3_RGBA
      "bc7-rgba-unorm": 6,
      // cTFBC7_RGBA,
      "etc2-rgba8unorm": 1,
      // cTFETC2_RGBA,
      "astc-4x4-unorm": 10,
      // cTFASTC_4x4_RGBA,
      // Uncompressed
      rgba8unorm: 13,
      // cTFRGBA32,
      rgba4unorm: 16
      // cTFRGBA4444,
    };
    function gpuFormatToBasisTranscoderFormat(transcoderFormat) {
      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported transcoderFormat: \${transcoderFormat}\`);
    }

    const settings = {
      jsUrl: "basis/basis_transcoder.js",
      wasmUrl: "basis/basis_transcoder.wasm"
    };
    let basisTranscoderFormat;
    let basisTranscodedTextureFormat;
    let basisPromise;
    async function getBasis() {
      if (!basisPromise) {
        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;
        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;
        importScripts(absoluteJsUrl);
        basisPromise = new Promise((resolve) => {
          BASIS({
            locateFile: (_file) => absoluteWasmUrl
          }).then((module) => {
            module.initializeBasis();
            resolve(module.BasisFile);
          });
        });
      }
      return basisPromise;
    }
    async function fetchBasisTexture(url, BasisTexture) {
      const basisResponse = await fetch(url);
      if (basisResponse.ok) {
        const basisArrayBuffer = await basisResponse.arrayBuffer();
        return new BasisTexture(new Uint8Array(basisArrayBuffer));
      }
      throw new Error(\`Failed to load Basis texture: \${url}\`);
    }
    const preferredTranscodedFormat = [
      "bc7-rgba-unorm",
      "astc-4x4-unorm",
      "etc2-rgba8unorm",
      "bc3-rgba-unorm",
      "rgba8unorm"
    ];
    async function load(url) {
      const BasisTexture = await getBasis();
      const basisTexture = await fetchBasisTexture(url, BasisTexture);
      const levelBuffers = createLevelBuffers(basisTexture, basisTranscoderFormat);
      return {
        width: basisTexture.getImageWidth(0, 0),
        height: basisTexture.getImageHeight(0, 0),
        format: basisTranscodedTextureFormat,
        resource: levelBuffers,
        alphaMode: "no-premultiply-alpha"
      };
    }
    async function init(jsUrl, wasmUrl, supportedTextures) {
      if (jsUrl)
        settings.jsUrl = jsUrl;
      if (wasmUrl)
        settings.wasmUrl = wasmUrl;
      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];
      basisTranscoderFormat = gpuFormatToBasisTranscoderFormat(basisTranscodedTextureFormat);
      await getBasis();
    }
    const messageHandlers = {
      init: async (data) => {
        const { jsUrl, wasmUrl, supportedTextures } = data;
        await init(jsUrl, wasmUrl, supportedTextures);
      },
      load: async (data) => {
        try {
          const textureOptions = await load(data.url);
          return {
            type: "load",
            url: data.url,
            success: true,
            textureOptions,
            transferables: textureOptions.resource?.map((arr) => arr.buffer)
          };
        } catch (e) {
          throw e;
        }
      }
    };
    self.onmessage = async (messageEvent) => {
      const message = messageEvent.data;
      const response = await messageHandlers[message.type](message);
      if (response) {
        self.postMessage(response, response.transferables);
      }
    };

})();
`;let Rm=null,gF=class{constructor(){Rm||(Rm=URL.createObjectURL(new Blob([rq],{type:"application/javascript"}))),this.worker=new Worker(Rm)}};gF.revokeObjectURL=function(){Rm&&(URL.revokeObjectURL(Rm),Rm=null)};const TS={jsUrl:"https://files.pixijs.download/transcoders/basis/basis_transcoder.js",wasmUrl:"https://files.pixijs.download/transcoders/basis/basis_transcoder.wasm"};function iq(t){Object.assign(TS,t)}let E0;const mF={};function sq(t){return E0||(E0=new gF().worker,E0.onmessage=e=>{const{success:n,url:r,textureOptions:i}=e.data;n||console.warn("Failed to load Basis texture",r),mF[r](i)},E0.postMessage({type:"init",jsUrl:TS.jsUrl,wasmUrl:TS.wasmUrl,supportedTextures:t})),E0}function vF(t,e){const n=sq(e);return new Promise(r=>{mF[t]=r,n.postMessage({type:"load",url:t})})}const aq={extension:{type:te.LoadParser,priority:Oa.High,name:"loadBasis"},name:"loadBasis",test(t){return ao(t,[".basis"])},async load(t,e,n){const r=await fy(),i=await vF(t,r),s=new hy(i);return Vd(s,n,t)},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};function oq(t,e){const n=t.getNumImages(),r=t.getNumLevels(0);if(!t.startTranscoding())throw new Error("startTranscoding failed");const s=[];for(let o=0;o<r;++o)for(let u=0;u<n;++u){const c=t.getImageTranscodedSizeInBytes(u,o,e),f=new Uint8Array(c);if(!t.transcodeImage(f,u,o,e,1,0))throw new Error("transcodeImage failed");s.push(f)}return s}const lq={"bc3-rgba-unorm":3,"bc7-rgba-unorm":6,"etc2-rgba8unorm":1,"astc-4x4-unorm":10,rgba8unorm:13,rgba4unorm:16};function uq(t){const e=lq[t];if(e)return e;throw new Error(`Unsupported transcoderFormat: ${t}`)}const cq={MAGIC:0,SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19,PF_FLAGS:20,FOURCC:21,RGB_BITCOUNT:22,R_BIT_MASK:23,G_BIT_MASK:24,B_BIT_MASK:25,A_BIT_MASK:26},dq={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4};var GP=(t=>(t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT",t))(GP||{}),zP=(t=>(t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D",t))(zP||{});function ii(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}var Ms=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.R8G8B8=20]="R8G8B8",t[t.A8R8G8B8=21]="A8R8G8B8",t[t.X8R8G8B8=22]="X8R8G8B8",t[t.R5G6B5=23]="R5G6B5",t[t.X1R5G5B5=24]="X1R5G5B5",t[t.A1R5G5B5=25]="A1R5G5B5",t[t.A4R4G4B4=26]="A4R4G4B4",t[t.R3G3B2=27]="R3G3B2",t[t.A8=28]="A8",t[t.A8R3G3B2=29]="A8R3G3B2",t[t.X4R4G4B4=30]="X4R4G4B4",t[t.A2B10G10R10=31]="A2B10G10R10",t[t.A8B8G8R8=32]="A8B8G8R8",t[t.X8B8G8R8=33]="X8B8G8R8",t[t.G16R16=34]="G16R16",t[t.A2R10G10B10=35]="A2R10G10B10",t[t.A16B16G16R16=36]="A16B16G16R16",t[t.A8P8=40]="A8P8",t[t.P8=41]="P8",t[t.L8=50]="L8",t[t.A8L8=51]="A8L8",t[t.A4L4=52]="A4L4",t[t.V8U8=60]="V8U8",t[t.L6V5U5=61]="L6V5U5",t[t.X8L8V8U8=62]="X8L8V8U8",t[t.Q8W8V8U8=63]="Q8W8V8U8",t[t.V16U16=64]="V16U16",t[t.A2W10V10U10=67]="A2W10V10U10",t[t.Q16W16V16U16=110]="Q16W16V16U16",t[t.R16F=111]="R16F",t[t.G16R16F=112]="G16R16F",t[t.A16B16G16R16F=113]="A16B16G16R16F",t[t.R32F=114]="R32F",t[t.G32R32F=115]="G32R32F",t[t.A32B32G32R32F=116]="A32B32G32R32F",t[t.UYVY=ii("UYVY")]="UYVY",t[t.R8G8_B8G8=ii("RGBG")]="R8G8_B8G8",t[t.YUY2=ii("YUY2")]="YUY2",t[t.D3DFMT_G8R8_G8B8=ii("GRGB")]="D3DFMT_G8R8_G8B8",t[t.DXT1=ii("DXT1")]="DXT1",t[t.DXT2=ii("DXT2")]="DXT2",t[t.DXT3=ii("DXT3")]="DXT3",t[t.DXT4=ii("DXT4")]="DXT4",t[t.DXT5=ii("DXT5")]="DXT5",t[t.ATI1=ii("ATI1")]="ATI1",t[t.AT1N=ii("AT1N")]="AT1N",t[t.ATI2=ii("ATI2")]="ATI2",t[t.AT2N=ii("AT2N")]="AT2N",t[t.BC4U=ii("BC4U")]="BC4U",t[t.BC4S=ii("BC4S")]="BC4S",t[t.BC5U=ii("BC5U")]="BC5U",t[t.BC5S=ii("BC5S")]="BC5S",t[t.DX10=ii("DX10")]="DX10",t))(Ms||{});const s3={[Ms.DXT1]:"bc1-rgba-unorm",[Ms.DXT2]:"bc2-rgba-unorm",[Ms.DXT3]:"bc2-rgba-unorm",[Ms.DXT4]:"bc3-rgba-unorm",[Ms.DXT5]:"bc3-rgba-unorm",[Ms.ATI1]:"bc4-r-unorm",[Ms.BC4U]:"bc4-r-unorm",[Ms.BC4S]:"bc4-r-snorm",[Ms.ATI2]:"bc5-rg-unorm",[Ms.BC5U]:"bc5-rg-unorm",[Ms.BC5S]:"bc5-rg-snorm",36:"rgba16uint",110:"rgba16sint",111:"r16float",112:"rg16float",113:"rgba16float",114:"r32float",115:"rg32float",116:"rgba32float"},Ds={70:"bc1-rgba-unorm",71:"bc1-rgba-unorm",72:"bc1-rgba-unorm-srgb",73:"bc2-rgba-unorm",74:"bc2-rgba-unorm",75:"bc2-rgba-unorm-srgb",76:"bc3-rgba-unorm",77:"bc3-rgba-unorm",78:"bc3-rgba-unorm-srgb",79:"bc4-r-unorm",80:"bc4-r-unorm",81:"bc4-r-snorm",82:"bc5-rg-unorm",83:"bc5-rg-unorm",84:"bc5-rg-snorm",94:"bc6h-rgb-ufloat",95:"bc6h-rgb-ufloat",96:"bc6h-rgb-float",97:"bc7-rgba-unorm",98:"bc7-rgba-unorm",99:"bc7-rgba-unorm-srgb",28:"rgba8unorm",29:"rgba8unorm-srgb",87:"bgra8unorm",91:"bgra8unorm-srgb",41:"r32float",49:"rg8unorm",56:"r16uint",61:"r8unorm",24:"rgb10a2unorm",11:"rgba16uint",13:"rgba16sint",10:"rgba16float",54:"r16float",34:"rg16float",16:"rg32float",2:"rgba32float"},_t={MAGIC_VALUE:542327876,MAGIC_SIZE:4,HEADER_SIZE:124,HEADER_DX10_SIZE:20,PIXEL_FORMAT_FLAGS:{ALPHAPIXELS:1,ALPHA:2,FOURCC:4,RGB:64,RGBA:65,YUV:512,LUMINANCE:131072,LUMINANCEA:131073},RESOURCE_MISC_TEXTURECUBE:4,HEADER_FIELDS:cq,HEADER_DX10_FIELDS:dq,DXGI_FORMAT:GP,D3D10_RESOURCE_DIMENSION:zP,D3DFMT:Ms},bF={"bc1-rgba-unorm":8,"bc1-rgba-unorm-srgb":8,"bc2-rgba-unorm":16,"bc2-rgba-unorm-srgb":16,"bc3-rgba-unorm":16,"bc3-rgba-unorm-srgb":16,"bc4-r-unorm":8,"bc4-r-snorm":8,"bc5-rg-unorm":16,"bc5-rg-snorm":16,"bc6h-rgb-ufloat":16,"bc6h-rgb-float":16,"bc7-rgba-unorm":16,"bc7-rgba-unorm-srgb":16};function _F(t,e){const{format:n,fourCC:r,width:i,height:s,dataOffset:o,mipmapCount:u}=fq(t);if(!e.includes(n))throw new Error(`Unsupported texture format: ${r} ${n}, supported: ${e}`);if(u<=1)return{format:n,width:i,height:s,resource:[new Uint8Array(t,o)],alphaMode:"no-premultiply-alpha"};const c=hq(n,i,s,o,u,t);return{format:n,width:i,height:s,resource:c,alphaMode:"no-premultiply-alpha"}}function hq(t,e,n,r,i,s){const o=[],u=bF[t];let c=e,f=n,p=r;for(let v=0;v<i;++v){const b=Math.ceil(Math.max(4,c)/4)*4,y=Math.ceil(Math.max(4,f)/4)*4,E=u?b/4*y/4*u:c*f*4,S=new Uint8Array(s,p,E);o.push(S),p+=E,c=Math.max(c>>1,1),f=Math.max(f>>1,1)}return o}function fq(t){const e=new Uint32Array(t,0,_t.HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT);if(e[_t.HEADER_FIELDS.MAGIC]!==_t.MAGIC_VALUE)throw new Error("Invalid magic number in DDS header");const n=e[_t.HEADER_FIELDS.HEIGHT],r=e[_t.HEADER_FIELDS.WIDTH],i=Math.max(1,e[_t.HEADER_FIELDS.MIPMAP_COUNT]),s=e[_t.HEADER_FIELDS.PF_FLAGS],o=e[_t.HEADER_FIELDS.FOURCC],u=pq(e,s,o,t),c=_t.MAGIC_SIZE+_t.HEADER_SIZE+(o===_t.D3DFMT.DX10?_t.HEADER_DX10_SIZE:0);return{format:u,fourCC:o,width:r,height:n,dataOffset:c,mipmapCount:i}}function pq(t,e,n,r){if(e&_t.PIXEL_FORMAT_FLAGS.FOURCC){if(n===_t.D3DFMT.DX10){const i=new Uint32Array(r,_t.MAGIC_SIZE+_t.HEADER_SIZE,_t.HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT);if(i[_t.HEADER_DX10_FIELDS.MISC_FLAG]===_t.RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSParser does not support cubemap textures");if(i[_t.HEADER_DX10_FIELDS.RESOURCE_DIMENSION]===_t.D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");const u=i[_t.HEADER_DX10_FIELDS.DXGI_FORMAT];if(u in Ds)return Ds[u];throw new Error(`DDSParser cannot parse texture data with DXGI format ${u}`)}if(n in s3)return s3[n];throw new Error(`DDSParser cannot parse texture data with fourCC format ${n}`)}if(e&_t.PIXEL_FORMAT_FLAGS.RGB||e&_t.PIXEL_FORMAT_FLAGS.RGBA)return gq(t);throw e&_t.PIXEL_FORMAT_FLAGS.YUV?new Error("DDSParser does not supported YUV uncompressed texture data."):e&_t.PIXEL_FORMAT_FLAGS.LUMINANCE||e&_t.PIXEL_FORMAT_FLAGS.LUMINANCEA?new Error("DDSParser does not support single-channel (lumninance) texture data!"):e&_t.PIXEL_FORMAT_FLAGS.ALPHA||e&_t.PIXEL_FORMAT_FLAGS.ALPHAPIXELS?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}function gq(t){const e=t[_t.HEADER_FIELDS.RGB_BITCOUNT],n=t[_t.HEADER_FIELDS.R_BIT_MASK],r=t[_t.HEADER_FIELDS.G_BIT_MASK],i=t[_t.HEADER_FIELDS.B_BIT_MASK],s=t[_t.HEADER_FIELDS.A_BIT_MASK];switch(e){case 32:if(n===255&&r===65280&&i===16711680&&s===4278190080)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_R8G8B8A8_UNORM];if(n===16711680&&r===65280&&i===255&&s===4278190080)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_B8G8R8A8_UNORM];if(n===1072693248&&r===1047552&&i===1023&&s===3221225472)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_R10G10B10A2_UNORM];if(n===65535&&r===4294901760&&i===0&&s===0)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_R16G16_UNORM];if(n===4294967295&&r===0&&i===0&&s===0)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_R32_FLOAT];break;case 24:break;case 16:if(n===31744&&r===992&&i===31&&s===32768)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_B5G5R5A1_UNORM];if(n===63488&&r===2016&&i===31&&s===0)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_B5G6R5_UNORM];if(n===3840&&r===240&&i===15&&s===61440)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_B4G4R4A4_UNORM];if(n===255&&r===0&&i===0&&s===65280)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_R8G8_UNORM];if(n===65535&&r===0&&i===0&&s===0)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_R16_UNORM];break;case 8:if(n===255&&r===0&&i===0&&s===0)return Ds[_t.DXGI_FORMAT.DXGI_FORMAT_R8_UNORM];break}throw new Error(`DDSParser does not support uncompressed texture with configuration:
                bitCount = ${e}, rBitMask = ${n}, gBitMask = ${r}, aBitMask = ${s}`)}const mq={extension:{type:te.LoadParser,priority:Oa.High,name:"loadDDS"},name:"loadDDS",test(t){return ao(t,[".dds"])},async load(t,e,n){const r=await fy(),s=await(await fetch(t)).arrayBuffer(),o=_F(s,r),u=new hy(o);return Vd(u,n,t)},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};var yF=(t=>(t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGBA=6408]="RGBA",t[t.RGBA8UI=36220]="RGBA8UI",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGBA8I=36238]="RGBA8I",t[t.RGBA8=32856]="RGBA8",t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",t[t.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",t[t.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",t[t.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",t[t.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",t[t.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(yF||{});const vq={33776:"bc1-rgba-unorm",33777:"bc1-rgba-unorm",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",35916:"bc1-rgba-unorm-srgb",35917:"bc1-rgba-unorm-srgb",35918:"bc2-rgba-unorm-srgb",35919:"bc3-rgba-unorm-srgb",36283:"bc4-r-unorm",36284:"bc4-r-snorm",36285:"bc5-rg-unorm",36286:"bc5-rg-snorm",37488:"eac-r11unorm",37490:"eac-rg11snorm",37492:"etc2-rgb8unorm",37496:"etc2-rgba8unorm",37493:"etc2-rgb8unorm-srgb",37497:"etc2-rgba8unorm-srgb",37494:"etc2-rgb8a1unorm",37495:"etc2-rgb8a1unorm-srgb",37808:"astc-4x4-unorm",37840:"astc-4x4-unorm-srgb",37809:"astc-5x4-unorm",37841:"astc-5x4-unorm-srgb",37810:"astc-5x5-unorm",37842:"astc-5x5-unorm-srgb",37811:"astc-6x5-unorm",37843:"astc-6x5-unorm-srgb",37812:"astc-6x6-unorm",37844:"astc-6x6-unorm-srgb",37813:"astc-8x5-unorm",37845:"astc-8x5-unorm-srgb",37814:"astc-8x6-unorm",37846:"astc-8x6-unorm-srgb",37815:"astc-8x8-unorm",37847:"astc-8x8-unorm-srgb",37816:"astc-10x5-unorm",37848:"astc-10x5-unorm-srgb",37817:"astc-10x6-unorm",37849:"astc-10x6-unorm-srgb",37818:"astc-10x8-unorm",37850:"astc-10x8-unorm-srgb",37819:"astc-10x10-unorm",37851:"astc-10x10-unorm-srgb",37820:"astc-12x10-unorm",37852:"astc-12x10-unorm-srgb",37821:"astc-12x12-unorm",37853:"astc-12x12-unorm-srgb",36492:"bc7-rgba-unorm",36493:"bc7-rgba-unorm-srgb",36494:"bc6h-rgb-float",36495:"bc6h-rgb-ufloat",35907:"rgba8unorm-srgb",36759:"rgba8snorm",36220:"rgba8uint",36238:"rgba8sint",6408:"rgba8unorm"},bq=[171,75,84,88,32,49,49,187,13,10,26,10],_q={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},yq=64,xq=67305985,Sq={5121:1,5123:2,5124:4,5125:4,5126:4,36193:8},wq={6408:4,6407:3,33319:2,6403:1,6409:1,6410:2,6406:1},Eq={32819:2,32820:2,33635:2},Tq={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,36283:.5,36284:.5,36285:1,36286:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,37808:1,37840:1,37809:.8,37841:.8,37810:.64,37842:.64,37811:.53375,37843:.53375,37812:.445,37844:.445,37813:.4,37845:.4,37814:.33375,37846:.33375,37815:.25,37847:.25,37816:.32,37848:.32,37817:.26625,37849:.26625,37818:.2,37850:.2,37819:.16,37851:.16,37820:.13375,37852:.13375,37821:.11125,37853:.11125,36492:1,36493:1,36494:1,36495:1},gr={FILE_HEADER_SIZE:yq,FILE_IDENTIFIER:bq,FORMATS_TO_COMPONENTS:wq,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:Tq,INTERNAL_FORMAT_TO_TEXTURE_FORMATS:vq,FIELDS:_q,TYPES_TO_BYTES_PER_COMPONENT:Sq,TYPES_TO_BYTES_PER_PIXEL:Eq,ENDIANNESS:xq};function xF(t,e){const n=new DataView(t);if(!Pq(n))throw new Error("Invalid KTX identifier in header");const{littleEndian:r,glType:i,glFormat:s,glInternalFormat:o,pixelWidth:u,pixelHeight:c,numberOfMipmapLevels:f,offset:p}=Rq(n),v=gr.INTERNAL_FORMAT_TO_TEXTURE_FORMATS[o];if(!v)throw new Error(`Unknown texture format ${o}`);if(!e.includes(v))throw new Error(`Unsupported texture format: ${v}, supportedFormats: ${e}`);const b=Aq(i,s,o),y=Cq(n,i,b,u,c,p,f,r);return{format:v,width:u,height:c,resource:y,alphaMode:"no-premultiply-alpha"}}function Cq(t,e,n,r,i,s,o,u){const c=r+3&-4,f=i+3&-4;let p=r*i;e===0&&(p=c*f);let v=p*n,b=r,y=i,E=c,S=f,T=s;const A=new Array(o);for(let P=0;P<o;P++){const O=t.getUint32(T,u);let M=T+4;A[P]=new Uint8Array(t.buffer,M,v),M+=v,T+=O+4,T=T%4!==0?T+4-T%4:T,b=b>>1||1,y=y>>1||1,E=b+4-1&-4,S=y+4-1&-4,v=E*S*n}return A}function Aq(t,e,n){let r=gr.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[n];if(t!==0&&(gr.TYPES_TO_BYTES_PER_COMPONENT[t]?r=gr.TYPES_TO_BYTES_PER_COMPONENT[t]*gr.FORMATS_TO_COMPONENTS[e]:r=gr.TYPES_TO_BYTES_PER_PIXEL[t]),r===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");return r}function Rq(t){const e=t.getUint32(gr.FIELDS.ENDIANNESS,!0)===gr.ENDIANNESS,n=t.getUint32(gr.FIELDS.GL_TYPE,e),r=t.getUint32(gr.FIELDS.GL_FORMAT,e),i=t.getUint32(gr.FIELDS.GL_INTERNAL_FORMAT,e),s=t.getUint32(gr.FIELDS.PIXEL_WIDTH,e),o=t.getUint32(gr.FIELDS.PIXEL_HEIGHT,e)||1,u=t.getUint32(gr.FIELDS.PIXEL_DEPTH,e)||1,c=t.getUint32(gr.FIELDS.NUMBER_OF_ARRAY_ELEMENTS,e)||1,f=t.getUint32(gr.FIELDS.NUMBER_OF_FACES,e),p=t.getUint32(gr.FIELDS.NUMBER_OF_MIPMAP_LEVELS,e),v=t.getUint32(gr.FIELDS.BYTES_OF_KEY_VALUE_DATA,e);if(o===0||u!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(c!==1)throw new Error("WebGL does not support array textures");return{littleEndian:e,glType:n,glFormat:r,glInternalFormat:i,pixelWidth:s,pixelHeight:o,numberOfMipmapLevels:p,offset:gr.FILE_HEADER_SIZE+v}}function Pq(t){for(let e=0;e<gr.FILE_IDENTIFIER.length;e++)if(t.getUint8(e)!==gr.FILE_IDENTIFIER[e])return!1;return!0}const Oq={extension:{type:te.LoadParser,priority:Oa.High,name:"loadKTX"},name:"loadKTX",test(t){return ao(t,".ktx")},async load(t,e,n){const r=await fy(),s=await(await fetch(t)).arrayBuffer(),o=xF(s,r),u=new hy(o);return Vd(u,n,t)},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}},Mq=`(function () {
    'use strict';

    const converters = {
      rgb8unorm: {
        convertedFormat: "rgba8unorm",
        convertFunction: convertRGBtoRGBA
      },
      "rgb8unorm-srgb": {
        convertedFormat: "rgba8unorm-srgb",
        convertFunction: convertRGBtoRGBA
      }
    };
    function convertFormatIfRequired(textureOptions) {
      const format = textureOptions.format;
      if (converters[format]) {
        const convertFunction = converters[format].convertFunction;
        const levelBuffers = textureOptions.resource;
        for (let i = 0; i < levelBuffers.length; i++) {
          levelBuffers[i] = convertFunction(levelBuffers[i]);
        }
        textureOptions.format = converters[format].convertedFormat;
      }
    }
    function convertRGBtoRGBA(levelBuffer) {
      const pixelCount = levelBuffer.byteLength / 3;
      const levelBufferWithAlpha = new Uint32Array(pixelCount);
      for (let i = 0; i < pixelCount; ++i) {
        levelBufferWithAlpha[i] = levelBuffer[i * 3] + (levelBuffer[i * 3 + 1] << 8) + (levelBuffer[i * 3 + 2] << 16) + 4278190080;
      }
      return new Uint8Array(levelBufferWithAlpha.buffer);
    }

    function createLevelBuffersFromKTX(ktxTexture) {
      const levelBuffers = [];
      for (let i = 0; i < ktxTexture.numLevels; i++) {
        const imageData = ktxTexture.getImageData(i, 0, 0);
        const levelBuffer = new Uint8Array(imageData.byteLength);
        levelBuffer.set(imageData);
        levelBuffers.push(levelBuffer);
      }
      return levelBuffers;
    }

    const glFormatToGPUFormatMap = {
      6408: "rgba8unorm",
      32856: "bgra8unorm",
      //
      32857: "rgb10a2unorm",
      33189: "depth16unorm",
      33190: "depth24plus",
      33321: "r8unorm",
      33323: "rg8unorm",
      33325: "r16float",
      33326: "r32float",
      33327: "rg16float",
      33328: "rg32float",
      33329: "r8sint",
      33330: "r8uint",
      33331: "r16sint",
      33332: "r16uint",
      33333: "r32sint",
      33334: "r32uint",
      33335: "rg8sint",
      33336: "rg8uint",
      33337: "rg16sint",
      33338: "rg16uint",
      33339: "rg32sint",
      33340: "rg32uint",
      33778: "bc2-rgba-unorm",
      33779: "bc3-rgba-unorm",
      34836: "rgba32float",
      34842: "rgba16float",
      35056: "depth24plus-stencil8",
      35898: "rg11b10ufloat",
      35901: "rgb9e5ufloat",
      35907: "rgba8unorm-srgb",
      // bgra8unorm-srgb
      36012: "depth32float",
      36013: "depth32float-stencil8",
      36168: "stencil8",
      36208: "rgba32uint",
      36214: "rgba16uint",
      36220: "rgba8uint",
      36226: "rgba32sint",
      36232: "rgba16sint",
      36238: "rgba8sint",
      36492: "bc7-rgba-unorm",
      36756: "r8snorm",
      36757: "rg8snorm",
      36759: "rgba8snorm",
      37496: "etc2-rgba8unorm",
      37808: "astc-4x4-unorm"
    };
    function glFormatToGPUFormat(glInternalFormat) {
      const format = glFormatToGPUFormatMap[glInternalFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported glInternalFormat: \${glInternalFormat}\`);
    }

    const vkFormatToGPUFormatMap = {
      23: "rgb8unorm",
      // VK_FORMAT_R8G8B8_UNORM
      37: "rgba8unorm",
      // VK_FORMAT_R8G8B8A8_UNORM
      43: "rgba8unorm-srgb"
      // VK_FORMAT_R8G8B8A8_SRGB
      // TODO add more!
    };
    function vkFormatToGPUFormat(vkFormat) {
      const format = vkFormatToGPUFormatMap[vkFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported VkFormat: \${vkFormat}\`);
    }

    function getTextureFormatFromKTXTexture(ktxTexture) {
      if (ktxTexture.classId === 2) {
        return vkFormatToGPUFormat(ktxTexture.vkFormat);
      }
      return glFormatToGPUFormat(ktxTexture.glInternalformat);
    }

    const gpuFormatToBasisTranscoderFormatMap = {
      "bc3-rgba-unorm": "BC3_RGBA",
      "bc7-rgba-unorm": "BC7_M5_RGBA",
      "etc2-rgba8unorm": "ETC2_RGBA",
      "astc-4x4-unorm": "ASTC_4x4_RGBA",
      // Uncompressed
      rgba8unorm: "RGBA32",
      rg11b10ufloat: "R11F_G11F_B10F"
    };
    function gpuFormatToKTXBasisTranscoderFormat(transcoderFormat) {
      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];
      if (format) {
        return format;
      }
      throw new Error(\`Unsupported transcoderFormat: \${transcoderFormat}\`);
    }

    const settings = {
      jsUrl: "",
      wasmUrl: ""
    };
    let basisTranscoderFormat;
    let basisTranscodedTextureFormat;
    let ktxPromise;
    async function getKTX() {
      if (!ktxPromise) {
        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;
        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;
        importScripts(absoluteJsUrl);
        ktxPromise = new Promise((resolve) => {
          LIBKTX({
            locateFile: (_file) => absoluteWasmUrl
          }).then((libktx) => {
            resolve(libktx);
          });
        });
      }
      return ktxPromise;
    }
    async function fetchKTXTexture(url, ktx) {
      const ktx2Response = await fetch(url);
      if (ktx2Response.ok) {
        const ktx2ArrayBuffer = await ktx2Response.arrayBuffer();
        return new ktx.ktxTexture(new Uint8Array(ktx2ArrayBuffer));
      }
      throw new Error(\`Failed to load KTX(2) texture: \${url}\`);
    }
    const preferredTranscodedFormat = [
      "bc7-rgba-unorm",
      "astc-4x4-unorm",
      "etc2-rgba8unorm",
      "bc3-rgba-unorm",
      "rgba8unorm"
    ];
    async function load(url) {
      const ktx = await getKTX();
      const ktxTexture = await fetchKTXTexture(url, ktx);
      let format;
      if (ktxTexture.needsTranscoding) {
        format = basisTranscodedTextureFormat;
        const transcodeFormat = ktx.TranscodeTarget[basisTranscoderFormat];
        const result = ktxTexture.transcodeBasis(transcodeFormat, 0);
        if (result !== ktx.ErrorCode.SUCCESS) {
          throw new Error("Unable to transcode basis texture.");
        }
      } else {
        format = getTextureFormatFromKTXTexture(ktxTexture);
      }
      const levelBuffers = createLevelBuffersFromKTX(ktxTexture);
      const textureOptions = {
        width: ktxTexture.baseWidth,
        height: ktxTexture.baseHeight,
        format,
        mipLevelCount: ktxTexture.numLevels,
        resource: levelBuffers,
        alphaMode: "no-premultiply-alpha"
      };
      convertFormatIfRequired(textureOptions);
      return textureOptions;
    }
    async function init(jsUrl, wasmUrl, supportedTextures) {
      if (jsUrl)
        settings.jsUrl = jsUrl;
      if (wasmUrl)
        settings.wasmUrl = wasmUrl;
      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];
      basisTranscoderFormat = gpuFormatToKTXBasisTranscoderFormat(basisTranscodedTextureFormat);
      await getKTX();
    }
    const messageHandlers = {
      init: async (data) => {
        const { jsUrl, wasmUrl, supportedTextures } = data;
        await init(jsUrl, wasmUrl, supportedTextures);
      },
      load: async (data) => {
        try {
          const textureOptions = await load(data.url);
          return {
            type: "load",
            url: data.url,
            success: true,
            textureOptions,
            transferables: textureOptions.resource?.map((arr) => arr.buffer)
          };
        } catch (e) {
          throw e;
        }
      }
    };
    self.onmessage = async (messageEvent) => {
      const message = messageEvent.data;
      const response = await messageHandlers[message.type]?.(message);
      if (response) {
        self.postMessage(response, response.transferables);
      }
    };

})();
`;let Pm=null;class SF{constructor(){Pm||(Pm=URL.createObjectURL(new Blob([Mq],{type:"application/javascript"}))),this.worker=new Worker(Pm)}}SF.revokeObjectURL=function(){Pm&&(URL.revokeObjectURL(Pm),Pm=null)};const CS={jsUrl:"https://files.pixijs.download/transcoders/ktx/libktx.js",wasmUrl:"https://files.pixijs.download/transcoders/ktx/libktx.wasm"};function Dq(t){Object.assign(CS,t)}let T0;const wF={};function Bq(t){return T0||(T0=new SF().worker,T0.onmessage=e=>{const{success:n,url:r,textureOptions:i}=e.data;n||console.warn("Failed to load KTX texture",r),wF[r](i)},T0.postMessage({type:"init",jsUrl:CS.jsUrl,wasmUrl:CS.wasmUrl,supportedTextures:t})),T0}function EF(t,e){const n=Bq(e);return new Promise(r=>{wF[t]=r,n.postMessage({type:"load",url:t})})}const kq={extension:{type:te.LoadParser,priority:Oa.High,name:"loadKTX2"},name:"loadKTX2",test(t){return ao(t,".ktx2")},async load(t,e,n){const r=await fy(),i=await EF(t,r),s=new hy(i);return Vd(s,n,t)},async unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}},xC={rgb8unorm:{convertedFormat:"rgba8unorm",convertFunction:ak},"rgb8unorm-srgb":{convertedFormat:"rgba8unorm-srgb",convertFunction:ak}};function Iq(t){const e=t.format;if(xC[e]){const n=xC[e].convertFunction,r=t.resource;for(let i=0;i<r.length;i++)r[i]=n(r[i]);t.format=xC[e].convertedFormat}}function ak(t){const e=t.byteLength/3,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=t[r*3]+(t[r*3+1]<<8)+(t[r*3+2]<<16)+4278190080;return new Uint8Array(n.buffer)}function Nq(t){const e=[];for(let n=0;n<t.numLevels;n++){const r=t.getImageData(n,0,0),i=new Uint8Array(r.byteLength);i.set(r),e.push(i)}return e}const Uq={6408:"rgba8unorm",32856:"bgra8unorm",32857:"rgb10a2unorm",33189:"depth16unorm",33190:"depth24plus",33321:"r8unorm",33323:"rg8unorm",33325:"r16float",33326:"r32float",33327:"rg16float",33328:"rg32float",33329:"r8sint",33330:"r8uint",33331:"r16sint",33332:"r16uint",33333:"r32sint",33334:"r32uint",33335:"rg8sint",33336:"rg8uint",33337:"rg16sint",33338:"rg16uint",33339:"rg32sint",33340:"rg32uint",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",34836:"rgba32float",34842:"rgba16float",35056:"depth24plus-stencil8",35898:"rg11b10ufloat",35901:"rgb9e5ufloat",35907:"rgba8unorm-srgb",36012:"depth32float",36013:"depth32float-stencil8",36168:"stencil8",36208:"rgba32uint",36214:"rgba16uint",36220:"rgba8uint",36226:"rgba32sint",36232:"rgba16sint",36238:"rgba8sint",36492:"bc7-rgba-unorm",36756:"r8snorm",36757:"rg8snorm",36759:"rgba8snorm",37496:"etc2-rgba8unorm",37808:"astc-4x4-unorm"};function TF(t){const e=Uq[t];if(e)return e;throw new Error(`Unsupported glInternalFormat: ${t}`)}const Fq={23:"rgb8unorm",37:"rgba8unorm",43:"rgba8unorm-srgb"};function CF(t){const e=Fq[t];if(e)return e;throw new Error(`Unsupported VkFormat: ${t}`)}function Lq(t){return t.classId===2?CF(t.vkFormat):TF(t.glInternalformat)}const Gq={"bc3-rgba-unorm":"BC3_RGBA","bc7-rgba-unorm":"BC7_M5_RGBA","etc2-rgba8unorm":"ETC2_RGBA","astc-4x4-unorm":"ASTC_4x4_RGBA",rgba8unorm:"RGBA32",rg11b10ufloat:"R11F_G11F_B10F"};function zq(t){const e=Gq[t];if(e)return e;throw new Error(`Unsupported transcoderFormat: ${t}`)}const AS=["basis","bc7","bc6h","astc","etc2","bc5","bc4","bc3","bc2","bc1","eac"],Vq={extension:te.ResolveParser,test:t=>ao(t,[".ktx",".ktx2",".dds"]),parse:t=>{var r;let e;const n=t.split(".");if(n.length>2){const i=n[n.length-2];AS.includes(i)&&(e=i)}else e=n[n.length-1];return{resolution:parseFloat(((r=zd.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e,src:t}}};let y2;const Hq={extension:{type:te.DetectionParser,priority:2},test:async()=>!!(await uy()||ly()),add:async t=>{const e=await LP();return y2=Wq(e),[...y2,...t]},remove:async t=>y2?t.filter(e=>!(e in y2)):t};function Wq(t){const e=["basis"],n={};return t.forEach(r=>{const i=r.split("-")[0];i&&!n[i]&&(n[i]=!0,e.push(i))}),e.sort((r,i)=>{const s=AS.indexOf(r),o=AS.indexOf(i);return s===-1?1:o===-1?-1:s-o}),e}const $q=new Zr,a3=class{cull(e,n,r=!0){this._cullRecursive(e,n,r)}_cullRecursive(e,n,r=!0){if(e.cullable&&e.measurable&&e.includeInBuild){const i=e.cullArea??ay(e,r,$q);e.culled=i.x>=n.x+n.width||i.y>=n.y+n.height||i.x+i.width<=n.x||i.y+i.height<=n.y}else e.culled=!1;if(!(!e.cullableChildren||e.culled||!e.renderable||!e.measurable||!e.includeInBuild))for(let i=0;i<e.children.length;i++)this._cullRecursive(e.children[i],n,r)}};a3.shared=new a3;let AF=a3;class RF{static init(){this._renderRef=this.render.bind(this),this.render=()=>{AF.shared.cull(this.stage,this.renderer.screen),this.renderer.render({container:this.stage})}}static destroy(){this.render=this._renderRef}}RF.extension={priority:10,type:te.Application,name:"culler"};class jq extends eu{constructor(e={}){const{element:n,anchor:r,...i}=e;super({label:"DOMContainer",...i}),this.renderPipeId="dom",this.batched=!1,this._anchor=new mn(0,0),r&&(this.anchor=r),this.element=e.element||document.createElement("div")}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set element(e){this._element!==e&&(this._element=e,this.onViewUpdate())}get element(){return this._element}updateBounds(){const e=this._bounds,n=this._element;if(!n){e.minX=0,e.minY=0,e.maxX=0,e.maxY=0;return}const{offsetWidth:r,offsetHeight:i}=n;e.minX=0,e.maxX=r,e.minY=0,e.maxY=i}destroy(e=!1){var n,r;super.destroy(e),(r=(n=this._element)==null?void 0:n.parentNode)==null||r.removeChild(this._element),this._element=null,this._anchor=null}}class PF{constructor(e){this._destroyRenderableBound=this.destroyRenderable.bind(this),this._attachedDomElements=[],this._renderer=e,this._renderer.runners.postrender.add(this),this._domElement=document.createElement("div"),this._domElement.style.position="absolute",this._domElement.style.top="0",this._domElement.style.left="0",this._domElement.style.pointerEvents="none",this._domElement.style.zIndex="1000"}addRenderable(e,n){this._attachedDomElements.includes(e)||(this._attachedDomElements.push(e),e.on("destroyed",this._destroyRenderableBound))}updateRenderable(e){}validateRenderable(e){return!0}destroyRenderable(e){const n=this._attachedDomElements.indexOf(e);n!==-1&&this._attachedDomElements.splice(n,1),e.off("destroyed",this._destroyRenderableBound)}postrender(){var r;const e=this._attachedDomElements;if(e.length===0){this._domElement.remove();return}const n=this._renderer.view.canvas;this._domElement.parentNode!==n.parentNode&&((r=n.parentNode)==null||r.appendChild(this._domElement)),this._domElement.style.transform=`translate(${n.offsetLeft}px, ${n.offsetTop}px)`;for(let i=0;i<e.length;i++){const s=e[i],o=s.element;if(!s.parent||s.globalDisplayStatus<7)o.remove(),e.splice(i,1),i--;else{this._domElement.contains(o)||(o.style.position="absolute",o.style.pointerEvents="auto",this._domElement.appendChild(o));const u=s.worldTransform,c=s._anchor,f=s.width*c.x,p=s.height*c.y;o.style.transformOrigin=`${f}px ${p}px`,o.style.transform=`matrix(${u.a}, ${u.b}, ${u.c}, ${u.d}, ${u.tx-f}, ${u.ty-p})`,o.style.opacity=s.groupAlpha.toString()}}}destroy(){this._renderer.runners.postrender.remove(this);for(let e=0;e<this._attachedDomElements.length;e++){const n=this._attachedDomElements[e];n.off("destroyed",this._destroyRenderableBound),n.element.remove()}this._attachedDomElements.length=0,this._domElement.remove(),this._renderer=null}}PF.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"dom"};var C0={},Iu={},uf={},ok;function Lw(){if(ok)return uf;ok=1;function t(s,o,u){if(u===void 0&&(u=Array.prototype),s&&typeof u.find=="function")return u.find.call(s,o);for(var c=0;c<s.length;c++)if(Object.prototype.hasOwnProperty.call(s,c)){var f=s[c];if(o.call(void 0,f,c,s))return f}}function e(s,o){return o===void 0&&(o=Object),o&&typeof o.freeze=="function"?o.freeze(s):s}function n(s,o){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return uf.assign=n,uf.find=t,uf.freeze=e,uf.MIME_TYPE=r,uf.NAMESPACE=i,uf}var lk;function OF(){if(lk)return Iu;lk=1;var t=Lw(),e=t.find,n=t.NAMESPACE;function r(k){return k!==""}function i(k){return k?k.split(/[\t\n\f\r ]+/).filter(r):[]}function s(k,F){return k.hasOwnProperty(F)||(k[F]=!0),k}function o(k){if(!k)return[];var F=i(k);return Object.keys(F.reduce(s,{}))}function u(k){return function(F){return k&&k.indexOf(F)!==-1}}function c(k,F){for(var q in k)Object.prototype.hasOwnProperty.call(k,q)&&(F[q]=k[q])}function f(k,F){var q=k.prototype;if(!(q instanceof F)){let le=function(){};le.prototype=F.prototype,le=new le,c(q,le),k.prototype=q=le}q.constructor!=k&&(typeof k!="function"&&console.error("unknown Class:"+k),q.constructor=k)}var p={},v=p.ELEMENT_NODE=1,b=p.ATTRIBUTE_NODE=2,y=p.TEXT_NODE=3,E=p.CDATA_SECTION_NODE=4,S=p.ENTITY_REFERENCE_NODE=5,T=p.ENTITY_NODE=6,A=p.PROCESSING_INSTRUCTION_NODE=7,P=p.COMMENT_NODE=8,O=p.DOCUMENT_NODE=9,M=p.DOCUMENT_TYPE_NODE=10,D=p.DOCUMENT_FRAGMENT_NODE=11,W=p.NOTATION_NODE=12,G={},Y={};G.INDEX_SIZE_ERR=(Y[1]="Index size error",1),G.DOMSTRING_SIZE_ERR=(Y[2]="DOMString size error",2);var L=G.HIERARCHY_REQUEST_ERR=(Y[3]="Hierarchy request error",3);G.WRONG_DOCUMENT_ERR=(Y[4]="Wrong document",4),G.INVALID_CHARACTER_ERR=(Y[5]="Invalid character",5),G.NO_DATA_ALLOWED_ERR=(Y[6]="No data allowed",6),G.NO_MODIFICATION_ALLOWED_ERR=(Y[7]="No modification allowed",7);var X=G.NOT_FOUND_ERR=(Y[8]="Not found",8);G.NOT_SUPPORTED_ERR=(Y[9]="Not supported",9);var Z=G.INUSE_ATTRIBUTE_ERR=(Y[10]="Attribute in use",10);G.INVALID_STATE_ERR=(Y[11]="Invalid state",11),G.SYNTAX_ERR=(Y[12]="Syntax error",12),G.INVALID_MODIFICATION_ERR=(Y[13]="Invalid modification",13),G.NAMESPACE_ERR=(Y[14]="Invalid namespace",14),G.INVALID_ACCESS_ERR=(Y[15]="Invalid access",15);function ee(k,F){if(F instanceof Error)var q=F;else q=this,Error.call(this,Y[k]),this.message=Y[k],Error.captureStackTrace&&Error.captureStackTrace(this,ee);return q.code=k,F&&(this.message=this.message+": "+F),q}ee.prototype=Error.prototype,c(G,ee);function be(){}be.prototype={length:0,item:function(k){return k>=0&&k<this.length?this[k]:null},toString:function(k,F){for(var q=[],le=0;le<this.length;le++)Ut(this[le],q,k,F);return q.join("")},filter:function(k){return Array.prototype.filter.call(this,k)},indexOf:function(k){return Array.prototype.indexOf.call(this,k)}};function Te(k,F){this._node=k,this._refresh=F,he(this)}function he(k){var F=k._node._inc||k._node.ownerDocument._inc;if(k._inc!==F){var q=k._refresh(k._node);if(Le(k,"length",q.length),!k.$$length||q.length<k.$$length)for(var le=q.length;le in k;le++)Object.prototype.hasOwnProperty.call(k,le)&&delete k[le];c(q,k),k._inc=F}}Te.prototype.item=function(k){return he(this),this[k]||null},f(Te,be);function R(){}function N(k,F){for(var q=k.length;q--;)if(k[q]===F)return q}function z(k,F,q,le){if(le?F[N(F,le)]=q:F[F.length++]=q,k){q.ownerElement=k;var ke=k.ownerDocument;ke&&(le&&Ie(ke,k,le),Ce(ke,k,q))}}function K(k,F,q){var le=N(F,q);if(le>=0){for(var ke=F.length-1;le<ke;)F[le]=F[++le];if(F.length=ke,k){var We=k.ownerDocument;We&&(Ie(We,k,q),q.ownerElement=null)}}else throw new ee(X,new Error(k.tagName+"@"+q))}R.prototype={length:0,item:be.prototype.item,getNamedItem:function(k){for(var F=this.length;F--;){var q=this[F];if(q.nodeName==k)return q}},setNamedItem:function(k){var F=k.ownerElement;if(F&&F!=this._ownerElement)throw new ee(Z);var q=this.getNamedItem(k.nodeName);return z(this._ownerElement,this,k,q),q},setNamedItemNS:function(k){var F=k.ownerElement,q;if(F&&F!=this._ownerElement)throw new ee(Z);return q=this.getNamedItemNS(k.namespaceURI,k.localName),z(this._ownerElement,this,k,q),q},removeNamedItem:function(k){var F=this.getNamedItem(k);return K(this._ownerElement,this,F),F},removeNamedItemNS:function(k,F){var q=this.getNamedItemNS(k,F);return K(this._ownerElement,this,q),q},getNamedItemNS:function(k,F){for(var q=this.length;q--;){var le=this[q];if(le.localName==F&&le.namespaceURI==k)return le}return null}};function U(){}U.prototype={hasFeature:function(k,F){return!0},createDocument:function(k,F,q){var le=new we;if(le.implementation=this,le.childNodes=new be,le.doctype=q||null,q&&le.appendChild(q),F){var ke=le.createElementNS(k,F);le.appendChild(ke)}return le},createDocumentType:function(k,F,q){var le=new bn;return le.name=k,le.nodeName=k,le.publicId=F||"",le.systemId=q||"",le}};function j(){}j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(k,F){return Xr(this,k,F)},replaceChild:function(k,F){Xr(this,k,F,di),F&&this.removeChild(F)},removeChild:function(k){return ve(this,k)},appendChild:function(k){return this.insertBefore(k,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(k){return mt(this.ownerDocument||this,this,k)},normalize:function(){for(var k=this.firstChild;k;){var F=k.nextSibling;F&&F.nodeType==y&&k.nodeType==y?(this.removeChild(F),k.appendData(F.data)):(k.normalize(),k=F)}},isSupported:function(k,F){return this.ownerDocument.implementation.hasFeature(k,F)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(k){for(var F=this;F;){var q=F._nsMap;if(q){for(var le in q)if(Object.prototype.hasOwnProperty.call(q,le)&&q[le]===k)return le}F=F.nodeType==b?F.ownerDocument:F.parentNode}return null},lookupNamespaceURI:function(k){for(var F=this;F;){var q=F._nsMap;if(q&&Object.prototype.hasOwnProperty.call(q,k))return q[k];F=F.nodeType==b?F.ownerDocument:F.parentNode}return null},isDefaultNamespace:function(k){var F=this.lookupPrefix(k);return F==null}};function ne(k){return k=="<"&&"&lt;"||k==">"&&"&gt;"||k=="&"&&"&amp;"||k=='"'&&"&quot;"||"&#"+k.charCodeAt()+";"}c(p,j),c(p,j.prototype);function re(k,F){if(F(k))return!0;if(k=k.firstChild)do if(re(k,F))return!0;while(k=k.nextSibling)}function we(){this.ownerDocument=this}function Ce(k,F,q){k&&k._inc++;var le=q.namespaceURI;le===n.XMLNS&&(F._nsMap[q.prefix?q.localName:""]=q.value)}function Ie(k,F,q,le){k&&k._inc++;var ke=q.namespaceURI;ke===n.XMLNS&&delete F._nsMap[q.prefix?q.localName:""]}function nt(k,F,q){if(k&&k._inc){k._inc++;var le=F.childNodes;if(q)le[le.length++]=q;else{for(var ke=F.firstChild,We=0;ke;)le[We++]=ke,ke=ke.nextSibling;le.length=We,delete le[le.length]}}}function ve(k,F){var q=F.previousSibling,le=F.nextSibling;return q?q.nextSibling=le:k.firstChild=le,le?le.previousSibling=q:k.lastChild=q,F.parentNode=null,F.previousSibling=null,F.nextSibling=null,nt(k.ownerDocument,k),F}function Ee(k){return k&&(k.nodeType===j.DOCUMENT_NODE||k.nodeType===j.DOCUMENT_FRAGMENT_NODE||k.nodeType===j.ELEMENT_NODE)}function Fe(k){return k&&(et(k)||gt(k)||$e(k)||k.nodeType===j.DOCUMENT_FRAGMENT_NODE||k.nodeType===j.COMMENT_NODE||k.nodeType===j.PROCESSING_INSTRUCTION_NODE)}function $e(k){return k&&k.nodeType===j.DOCUMENT_TYPE_NODE}function et(k){return k&&k.nodeType===j.ELEMENT_NODE}function gt(k){return k&&k.nodeType===j.TEXT_NODE}function rt(k,F){var q=k.childNodes||[];if(e(q,et)||$e(F))return!1;var le=e(q,$e);return!(F&&le&&q.indexOf(le)>q.indexOf(F))}function qe(k,F){var q=k.childNodes||[];function le(We){return et(We)&&We!==F}if(e(q,le))return!1;var ke=e(q,$e);return!(F&&ke&&q.indexOf(ke)>q.indexOf(F))}function Xe(k,F,q){if(!Ee(k))throw new ee(L,"Unexpected parent node type "+k.nodeType);if(q&&q.parentNode!==k)throw new ee(X,"child not in parent");if(!Fe(F)||$e(F)&&k.nodeType!==j.DOCUMENT_NODE)throw new ee(L,"Unexpected node type "+F.nodeType+" for parent node type "+k.nodeType)}function tn(k,F,q){var le=k.childNodes||[],ke=F.childNodes||[];if(F.nodeType===j.DOCUMENT_FRAGMENT_NODE){var We=ke.filter(et);if(We.length>1||e(ke,gt))throw new ee(L,"More than one element or text in fragment");if(We.length===1&&!rt(k,q))throw new ee(L,"Element in fragment can not be inserted before doctype")}if(et(F)&&!rt(k,q))throw new ee(L,"Only one element can be added and only after doctype");if($e(F)){if(e(le,$e))throw new ee(L,"Only one doctype is allowed");var Et=e(le,et);if(q&&le.indexOf(Et)<le.indexOf(q))throw new ee(L,"Doctype can only be inserted before an element");if(!q&&Et)throw new ee(L,"Doctype can not be appended since element is present")}}function di(k,F,q){var le=k.childNodes||[],ke=F.childNodes||[];if(F.nodeType===j.DOCUMENT_FRAGMENT_NODE){var We=ke.filter(et);if(We.length>1||e(ke,gt))throw new ee(L,"More than one element or text in fragment");if(We.length===1&&!qe(k,q))throw new ee(L,"Element in fragment can not be inserted before doctype")}if(et(F)&&!qe(k,q))throw new ee(L,"Only one element can be added and only after doctype");if($e(F)){if(e(le,function(ji){return $e(ji)&&ji!==q}))throw new ee(L,"Only one doctype is allowed");var Et=e(le,et);if(q&&le.indexOf(Et)<le.indexOf(q))throw new ee(L,"Doctype can only be inserted before an element")}}function Xr(k,F,q,le){Xe(k,F,q),k.nodeType===j.DOCUMENT_NODE&&(le||tn)(k,F,q);var ke=F.parentNode;if(ke&&ke.removeChild(F),F.nodeType===D){var We=F.firstChild;if(We==null)return F;var Et=F.lastChild}else We=Et=F;var hr=q?q.previousSibling:k.lastChild;We.previousSibling=hr,Et.nextSibling=q,hr?hr.nextSibling=We:k.firstChild=We,q==null?k.lastChild=Et:q.previousSibling=Et;do We.parentNode=k;while(We!==Et&&(We=We.nextSibling));return nt(k.ownerDocument||k,k),F.nodeType==D&&(F.firstChild=F.lastChild=null),F}function Yr(k,F){return F.parentNode&&F.parentNode.removeChild(F),F.parentNode=k,F.previousSibling=k.lastChild,F.nextSibling=null,F.previousSibling?F.previousSibling.nextSibling=F:k.firstChild=F,k.lastChild=F,nt(k.ownerDocument,k,F),F}we.prototype={nodeName:"#document",nodeType:O,doctype:null,documentElement:null,_inc:1,insertBefore:function(k,F){if(k.nodeType==D){for(var q=k.firstChild;q;){var le=q.nextSibling;this.insertBefore(q,F),q=le}return k}return Xr(this,k,F),k.ownerDocument=this,this.documentElement===null&&k.nodeType===v&&(this.documentElement=k),k},removeChild:function(k){return this.documentElement==k&&(this.documentElement=null),ve(this,k)},replaceChild:function(k,F){Xr(this,k,F,di),k.ownerDocument=this,F&&this.removeChild(F),et(k)&&(this.documentElement=k)},importNode:function(k,F){return Fn(this,k,F)},getElementById:function(k){var F=null;return re(this.documentElement,function(q){if(q.nodeType==v&&q.getAttribute("id")==k)return F=q,!0}),F},getElementsByClassName:function(k){var F=o(k);return new Te(this,function(q){var le=[];return F.length>0&&re(q.documentElement,function(ke){if(ke!==q&&ke.nodeType===v){var We=ke.getAttribute("class");if(We){var Et=k===We;if(!Et){var hr=o(We);Et=F.every(u(hr))}Et&&le.push(ke)}}}),le})},createElement:function(k){var F=new ct;F.ownerDocument=this,F.nodeName=k,F.tagName=k,F.localName=k,F.childNodes=new be;var q=F.attributes=new R;return q._ownerElement=F,F},createDocumentFragment:function(){var k=new ps;return k.ownerDocument=this,k.childNodes=new be,k},createTextNode:function(k){var F=new qs;return F.ownerDocument=this,F.appendData(k),F},createComment:function(k){var F=new Ks;return F.ownerDocument=this,F.appendData(k),F},createCDATASection:function(k){var F=new Zs;return F.ownerDocument=this,F.appendData(k),F},createProcessingInstruction:function(k,F){var q=new fe;return q.ownerDocument=this,q.tagName=q.nodeName=q.target=k,q.nodeValue=q.data=F,q},createAttribute:function(k){var F=new on;return F.ownerDocument=this,F.name=k,F.nodeName=k,F.localName=k,F.specified=!0,F},createEntityReference:function(k){var F=new lo;return F.ownerDocument=this,F.nodeName=k,F},createElementNS:function(k,F){var q=new ct,le=F.split(":"),ke=q.attributes=new R;return q.childNodes=new be,q.ownerDocument=this,q.nodeName=F,q.tagName=F,q.namespaceURI=k,le.length==2?(q.prefix=le[0],q.localName=le[1]):q.localName=F,ke._ownerElement=q,q},createAttributeNS:function(k,F){var q=new on,le=F.split(":");return q.ownerDocument=this,q.nodeName=F,q.name=F,q.namespaceURI=k,q.specified=!0,le.length==2?(q.prefix=le[0],q.localName=le[1]):q.localName=F,q}},f(we,j);function ct(){this._nsMap={}}ct.prototype={nodeType:v,hasAttribute:function(k){return this.getAttributeNode(k)!=null},getAttribute:function(k){var F=this.getAttributeNode(k);return F&&F.value||""},getAttributeNode:function(k){return this.attributes.getNamedItem(k)},setAttribute:function(k,F){var q=this.ownerDocument.createAttribute(k);q.value=q.nodeValue=""+F,this.setAttributeNode(q)},removeAttribute:function(k){var F=this.getAttributeNode(k);F&&this.removeAttributeNode(F)},appendChild:function(k){return k.nodeType===D?this.insertBefore(k,null):Yr(this,k)},setAttributeNode:function(k){return this.attributes.setNamedItem(k)},setAttributeNodeNS:function(k){return this.attributes.setNamedItemNS(k)},removeAttributeNode:function(k){return this.attributes.removeNamedItem(k.nodeName)},removeAttributeNS:function(k,F){var q=this.getAttributeNodeNS(k,F);q&&this.removeAttributeNode(q)},hasAttributeNS:function(k,F){return this.getAttributeNodeNS(k,F)!=null},getAttributeNS:function(k,F){var q=this.getAttributeNodeNS(k,F);return q&&q.value||""},setAttributeNS:function(k,F,q){var le=this.ownerDocument.createAttributeNS(k,F);le.value=le.nodeValue=""+q,this.setAttributeNode(le)},getAttributeNodeNS:function(k,F){return this.attributes.getNamedItemNS(k,F)},getElementsByTagName:function(k){return new Te(this,function(F){var q=[];return re(F,function(le){le!==F&&le.nodeType==v&&(k==="*"||le.tagName==k)&&q.push(le)}),q})},getElementsByTagNameNS:function(k,F){return new Te(this,function(q){var le=[];return re(q,function(ke){ke!==q&&ke.nodeType===v&&(k==="*"||ke.namespaceURI===k)&&(F==="*"||ke.localName==F)&&le.push(ke)}),le})}},we.prototype.getElementsByTagName=ct.prototype.getElementsByTagName,we.prototype.getElementsByTagNameNS=ct.prototype.getElementsByTagNameNS,f(ct,j);function on(){}on.prototype.nodeType=b,f(on,j);function Ir(){}Ir.prototype={data:"",substringData:function(k,F){return this.data.substring(k,k+F)},appendData:function(k){k=this.data+k,this.nodeValue=this.data=k,this.length=k.length},insertData:function(k,F){this.replaceData(k,0,F)},appendChild:function(k){throw new Error(Y[L])},deleteData:function(k,F){this.replaceData(k,F,"")},replaceData:function(k,F,q){var le=this.data.substring(0,k),ke=this.data.substring(k+F);q=le+q+ke,this.nodeValue=this.data=q,this.length=q.length}},f(Ir,j);function qs(){}qs.prototype={nodeName:"#text",nodeType:y,splitText:function(k){var F=this.data,q=F.substring(k);F=F.substring(0,k),this.data=this.nodeValue=F,this.length=F.length;var le=this.ownerDocument.createTextNode(q);return this.parentNode&&this.parentNode.insertBefore(le,this.nextSibling),le}},f(qs,Ir);function Ks(){}Ks.prototype={nodeName:"#comment",nodeType:P},f(Ks,Ir);function Zs(){}Zs.prototype={nodeName:"#cdata-section",nodeType:E},f(Zs,Ir);function bn(){}bn.prototype.nodeType=M,f(bn,j);function Nr(){}Nr.prototype.nodeType=W,f(Nr,j);function dr(){}dr.prototype.nodeType=T,f(dr,j);function lo(){}lo.prototype.nodeType=S,f(lo,j);function ps(){}ps.prototype.nodeName="#document-fragment",ps.prototype.nodeType=D,f(ps,j);function fe(){}fe.prototype.nodeType=A,f(fe,j);function ye(){}ye.prototype.serializeToString=function(k,F,q){return Re.call(k,F,q)},j.prototype.toString=Re;function Re(k,F){var q=[],le=this.nodeType==9&&this.documentElement||this,ke=le.prefix,We=le.namespaceURI;if(We&&ke==null){var ke=le.lookupPrefix(We);if(ke==null)var Et=[{namespace:We,prefix:null}]}return Ut(this,q,k,F,Et),q.join("")}function Ue(k,F,q){var le=k.prefix||"",ke=k.namespaceURI;if(!ke||le==="xml"&&ke===n.XML||ke===n.XMLNS)return!1;for(var We=q.length;We--;){var Et=q[We];if(Et.prefix===le)return Et.namespace!==ke}return!0}function Ye(k,F,q){k.push(" ",F,'="',q.replace(/[<>&"\t\n\r]/g,ne),'"')}function Ut(k,F,q,le,ke){if(ke||(ke=[]),le)if(k=le(k),k){if(typeof k=="string"){F.push(k);return}}else return;switch(k.nodeType){case v:var We=k.attributes,Et=We.length,qn=k.firstChild,hr=k.tagName;q=n.isHTML(k.namespaceURI)||q;var ji=hr;if(!q&&!k.prefix&&k.namespaceURI){for(var yr,_n=0;_n<We.length;_n++)if(We.item(_n).name==="xmlns"){yr=We.item(_n).value;break}if(!yr)for(var Yn=ke.length-1;Yn>=0;Yn--){var Jr=ke[Yn];if(Jr.prefix===""&&Jr.namespace===k.namespaceURI){yr=Jr.namespace;break}}if(yr!==k.namespaceURI)for(var Yn=ke.length-1;Yn>=0;Yn--){var Jr=ke[Yn];if(Jr.namespace===k.namespaceURI){Jr.prefix&&(ji=Jr.prefix+":"+hr);break}}}F.push("<",ji);for(var Qs=0;Qs<Et;Qs++){var gs=We.item(Qs);gs.prefix=="xmlns"?ke.push({prefix:gs.localName,namespace:gs.value}):gs.nodeName=="xmlns"&&ke.push({prefix:"",namespace:gs.value})}for(var Qs=0;Qs<Et;Qs++){var gs=We.item(Qs);if(Ue(gs,q,ke)){var uo=gs.prefix||"",qo=gs.namespaceURI;Ye(F,uo?"xmlns:"+uo:"xmlns",qo),ke.push({prefix:uo,namespace:qo})}Ut(gs,F,q,le,ke)}if(hr===ji&&Ue(k,q,ke)){var uo=k.prefix||"",qo=k.namespaceURI;Ye(F,uo?"xmlns:"+uo:"xmlns",qo),ke.push({prefix:uo,namespace:qo})}if(qn||q&&!/^(?:meta|link|img|br|hr|input)$/i.test(hr)){if(F.push(">"),q&&/^script$/i.test(hr))for(;qn;)qn.data?F.push(qn.data):Ut(qn,F,q,le,ke.slice()),qn=qn.nextSibling;else for(;qn;)Ut(qn,F,q,le,ke.slice()),qn=qn.nextSibling;F.push("</",ji,">")}else F.push("/>");return;case O:case D:for(var qn=k.firstChild;qn;)Ut(qn,F,q,le,ke.slice()),qn=qn.nextSibling;return;case b:return Ye(F,k.name,k.value);case y:return F.push(k.data.replace(/[<&>]/g,ne));case E:return F.push("<![CDATA[",k.data,"]]>");case P:return F.push("<!--",k.data,"-->");case M:var fc=k.publicId,Xi=k.systemId;if(F.push("<!DOCTYPE ",k.name),fc)F.push(" PUBLIC ",fc),Xi&&Xi!="."&&F.push(" ",Xi),F.push(">");else if(Xi&&Xi!=".")F.push(" SYSTEM ",Xi,">");else{var co=k.internalSubset;co&&F.push(" [",co,"]"),F.push(">")}return;case A:return F.push("<?",k.target," ",k.data,"?>");case S:return F.push("&",k.nodeName,";");default:F.push("??",k.nodeName)}}function Fn(k,F,q){var le;switch(F.nodeType){case v:le=F.cloneNode(!1),le.ownerDocument=k;case D:break;case b:q=!0;break}if(le||(le=F.cloneNode(!1)),le.ownerDocument=k,le.parentNode=null,q)for(var ke=F.firstChild;ke;)le.appendChild(Fn(k,ke,q)),ke=ke.nextSibling;return le}function mt(k,F,q){var le=new F.constructor;for(var ke in F)if(Object.prototype.hasOwnProperty.call(F,ke)){var We=F[ke];typeof We!="object"&&We!=le[ke]&&(le[ke]=We)}switch(F.childNodes&&(le.childNodes=new be),le.ownerDocument=k,le.nodeType){case v:var Et=F.attributes,hr=le.attributes=new R,ji=Et.length;hr._ownerElement=le;for(var yr=0;yr<ji;yr++)le.setAttributeNode(mt(k,Et.item(yr),!0));break;case b:q=!0}if(q)for(var _n=F.firstChild;_n;)le.appendChild(mt(k,_n,q)),_n=_n.nextSibling;return le}function Le(k,F,q){k[F]=q}try{if(Object.defineProperty){let k=function(F){switch(F.nodeType){case v:case D:var q=[];for(F=F.firstChild;F;)F.nodeType!==7&&F.nodeType!==8&&q.push(k(F)),F=F.nextSibling;return q.join("");default:return F.nodeValue}};Object.defineProperty(Te.prototype,"length",{get:function(){return he(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return k(this)},set:function(F){switch(this.nodeType){case v:case D:for(;this.firstChild;)this.removeChild(this.firstChild);(F||String(F))&&this.appendChild(this.ownerDocument.createTextNode(F));break;default:this.data=F,this.value=F,this.nodeValue=F}}}),Le=function(F,q,le){F["$$"+q]=le}}}catch{}return Iu.DocumentType=bn,Iu.DOMException=ee,Iu.DOMImplementation=U,Iu.Element=ct,Iu.Node=j,Iu.NodeList=be,Iu.XMLSerializer=ye,Iu}var A0={},SC={},uk;function Xq(){return uk||(uk=1,function(t){var e=Lw().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES}(SC)),SC}var x2={},ck;function Yq(){if(ck)return x2;ck=1;var t=Lw().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+n.source+"*(?::"+e.source+n.source+"*)?$"),i=0,s=1,o=2,u=3,c=4,f=5,p=6,v=7;function b(L,X){this.message=L,this.locator=X,Error.captureStackTrace&&Error.captureStackTrace(this,b)}b.prototype=new Error,b.prototype.name=b.name;function y(){}y.prototype={parse:function(L,X,Z){var ee=this.domBuilder;ee.startDocument(),M(X,X={}),E(L,X,Z,ee,this.errorHandler),ee.endDocument()}};function E(L,X,Z,ee,be){function Te(ct){if(ct>65535){ct-=65536;var on=55296+(ct>>10),Ir=56320+(ct&1023);return String.fromCharCode(on,Ir)}else return String.fromCharCode(ct)}function he(ct){var on=ct.slice(1,-1);return Object.hasOwnProperty.call(Z,on)?Z[on]:on.charAt(0)==="#"?Te(parseInt(on.substr(1).replace("x","0x"))):(be.error("entity not found:"+ct),ct)}function R(ct){if(ct>we){var on=L.substring(we,ct).replace(/&#?\w+;/g,he);j&&N(we),ee.characters(on,0,ct-we),we=ct}}function N(ct,on){for(;ct>=K&&(on=U.exec(L));)z=on.index,K=z+on[0].length,j.lineNumber++;j.columnNumber=ct-z+1}for(var z=0,K=0,U=/.*(?:\r\n?|\n)|.*$/g,j=ee.locator,ne=[{currentNSMap:X}],re={},we=0;;){try{var Ce=L.indexOf("<",we);if(Ce<0){if(!L.substr(we).match(/^\s*$/)){var Ie=ee.doc,nt=Ie.createTextNode(L.substr(we));Ie.appendChild(nt),ee.currentElement=nt}return}switch(Ce>we&&R(Ce),L.charAt(Ce+1)){case"/":var Xe=L.indexOf(">",Ce+3),ve=L.substring(Ce+2,Xe).replace(/[ \t\n\r]+$/g,""),Ee=ne.pop();Xe<0?(ve=L.substring(Ce+2).replace(/[\s<].*/,""),be.error("end tag name: "+ve+" is not complete:"+Ee.tagName),Xe=Ce+1+ve.length):ve.match(/\s</)&&(ve=ve.replace(/[\s<].*/,""),be.error("end tag name: "+ve+" maybe not complete"),Xe=Ce+1+ve.length);var Fe=Ee.localNSMap,$e=Ee.tagName==ve,et=$e||Ee.tagName&&Ee.tagName.toLowerCase()==ve.toLowerCase();if(et){if(ee.endElement(Ee.uri,Ee.localName,ve),Fe)for(var gt in Fe)Object.prototype.hasOwnProperty.call(Fe,gt)&&ee.endPrefixMapping(gt);$e||be.fatalError("end tag name: "+ve+" is not match the current start tagName:"+Ee.tagName)}else ne.push(Ee);Xe++;break;case"?":j&&N(Ce),Xe=W(L,Ce,ee);break;case"!":j&&N(Ce),Xe=D(L,Ce,ee,be);break;default:j&&N(Ce);var rt=new G,qe=ne[ne.length-1].currentNSMap,Xe=T(L,Ce,rt,qe,he,be),tn=rt.length;if(!rt.closed&&O(L,Xe,rt.tagName,re)&&(rt.closed=!0,Z.nbsp||be.warning("unclosed xml attribute")),j&&tn){for(var di=S(j,{}),Xr=0;Xr<tn;Xr++){var Yr=rt[Xr];N(Yr.offset),Yr.locator=S(j,{})}ee.locator=di,A(rt,ee,qe)&&ne.push(rt),ee.locator=j}else A(rt,ee,qe)&&ne.push(rt);t.isHTML(rt.uri)&&!rt.closed?Xe=P(L,Xe,rt.tagName,he,ee):Xe++}}catch(ct){if(ct instanceof b)throw ct;be.error("element parse error: "+ct),Xe=-1}Xe>we?we=Xe:R(Math.max(Ce,we)+1)}}function S(L,X){return X.lineNumber=L.lineNumber,X.columnNumber=L.columnNumber,X}function T(L,X,Z,ee,be,Te){function he(j,ne,re){Z.attributeNames.hasOwnProperty(j)&&Te.fatalError("Attribute "+j+" redefined"),Z.addValue(j,ne.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,be),re)}for(var R,N,z=++X,K=i;;){var U=L.charAt(z);switch(U){case"=":if(K===s)R=L.slice(X,z),K=u;else if(K===o)K=u;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(K===u||K===s)if(K===s&&(Te.warning('attribute value must after "="'),R=L.slice(X,z)),X=z+1,z=L.indexOf(U,X),z>0)N=L.slice(X,z),he(R,N,X-1),K=f;else throw new Error("attribute value no end '"+U+"' match");else if(K==c)N=L.slice(X,z),he(R,N,X),Te.warning('attribute "'+R+'" missed start quot('+U+")!!"),X=z+1,K=f;else throw new Error('attribute value must after "="');break;case"/":switch(K){case i:Z.setTagName(L.slice(X,z));case f:case p:case v:K=v,Z.closed=!0;case c:case s:break;case o:Z.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Te.error("unexpected end of input"),K==i&&Z.setTagName(L.slice(X,z)),z;case">":switch(K){case i:Z.setTagName(L.slice(X,z));case f:case p:case v:break;case c:case s:N=L.slice(X,z),N.slice(-1)==="/"&&(Z.closed=!0,N=N.slice(0,-1));case o:K===o&&(N=R),K==c?(Te.warning('attribute "'+N+'" missed quot(")!'),he(R,N,X)):((!t.isHTML(ee[""])||!N.match(/^(?:disabled|checked|selected)$/i))&&Te.warning('attribute "'+N+'" missed value!! "'+N+'" instead!!'),he(N,N,X));break;case u:throw new Error("attribute value missed!!")}return z;case"":U=" ";default:if(U<=" ")switch(K){case i:Z.setTagName(L.slice(X,z)),K=p;break;case s:R=L.slice(X,z),K=o;break;case c:var N=L.slice(X,z);Te.warning('attribute "'+N+'" missed quot(")!!'),he(R,N,X);case f:K=p;break}else switch(K){case o:Z.tagName,(!t.isHTML(ee[""])||!R.match(/^(?:disabled|checked|selected)$/i))&&Te.warning('attribute "'+R+'" missed value!! "'+R+'" instead2!!'),he(R,R,X),X=z,K=s;break;case f:Te.warning('attribute space is required"'+R+'"!!');case p:K=s,X=z;break;case u:K=c,X=z;break;case v:throw new Error("elements closed character '/' and '>' must be connected to")}}z++}}function A(L,X,Z){for(var ee=L.tagName,be=null,U=L.length;U--;){var Te=L[U],he=Te.qName,R=Te.value,j=he.indexOf(":");if(j>0)var N=Te.prefix=he.slice(0,j),z=he.slice(j+1),K=N==="xmlns"&&z;else z=he,N=null,K=he==="xmlns"&&"";Te.localName=z,K!==!1&&(be==null&&(be={},M(Z,Z={})),Z[K]=be[K]=R,Te.uri=t.XMLNS,X.startPrefixMapping(K,R))}for(var U=L.length;U--;){Te=L[U];var N=Te.prefix;N&&(N==="xml"&&(Te.uri=t.XML),N!=="xmlns"&&(Te.uri=Z[N||""]))}var j=ee.indexOf(":");j>0?(N=L.prefix=ee.slice(0,j),z=L.localName=ee.slice(j+1)):(N=null,z=L.localName=ee);var ne=L.uri=Z[N||""];if(X.startElement(ne,z,ee,L),L.closed){if(X.endElement(ne,z,ee),be)for(N in be)Object.prototype.hasOwnProperty.call(be,N)&&X.endPrefixMapping(N)}else return L.currentNSMap=Z,L.localNSMap=be,!0}function P(L,X,Z,ee,be){if(/^(?:script|textarea)$/i.test(Z)){var Te=L.indexOf("</"+Z+">",X),he=L.substring(X+1,Te);if(/[&<]/.test(he))return/^script$/i.test(Z)?(be.characters(he,0,he.length),Te):(he=he.replace(/&#?\w+;/g,ee),be.characters(he,0,he.length),Te)}return X+1}function O(L,X,Z,ee){var be=ee[Z];return be==null&&(be=L.lastIndexOf("</"+Z+">"),be<X&&(be=L.lastIndexOf("</"+Z)),ee[Z]=be),be<X}function M(L,X){for(var Z in L)Object.prototype.hasOwnProperty.call(L,Z)&&(X[Z]=L[Z])}function D(L,X,Z,ee){var be=L.charAt(X+2);switch(be){case"-":if(L.charAt(X+3)==="-"){var Te=L.indexOf("-->",X+4);return Te>X?(Z.comment(L,X+4,Te-X-4),Te+3):(ee.error("Unclosed comment"),-1)}else return-1;default:if(L.substr(X+3,6)=="CDATA["){var Te=L.indexOf("]]>",X+9);return Z.startCDATA(),Z.characters(L,X+9,Te-X-9),Z.endCDATA(),Te+3}var he=Y(L,X),R=he.length;if(R>1&&/!doctype/i.test(he[0][0])){var N=he[1][0],z=!1,K=!1;R>3&&(/^public$/i.test(he[2][0])?(z=he[3][0],K=R>4&&he[4][0]):/^system$/i.test(he[2][0])&&(K=he[3][0]));var U=he[R-1];return Z.startDTD(N,z,K),Z.endDTD(),U.index+U[0].length}}return-1}function W(L,X,Z){var ee=L.indexOf("?>",X);if(ee){var be=L.substring(X,ee).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return be?(be[0].length,Z.processingInstruction(be[1],be[2]),ee+2):-1}return-1}function G(){this.attributeNames={}}G.prototype={setTagName:function(L){if(!r.test(L))throw new Error("invalid tagName:"+L);this.tagName=L},addValue:function(L,X,Z){if(!r.test(L))throw new Error("invalid attribute:"+L);this.attributeNames[L]=this.length,this[this.length++]={qName:L,value:X,offset:Z}},length:0,getLocalName:function(L){return this[L].localName},getLocator:function(L){return this[L].locator},getQName:function(L){return this[L].qName},getURI:function(L){return this[L].uri},getValue:function(L){return this[L].value}};function Y(L,X){var Z,ee=[],be=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(be.lastIndex=X,be.exec(L);Z=be.exec(L);)if(ee.push(Z),Z[1])return ee}return x2.XMLReader=y,x2.ParseError=b,x2}var dk;function qq(){if(dk)return A0;dk=1;var t=Lw(),e=OF(),n=Xq(),r=Yq(),i=e.DOMImplementation,s=t.NAMESPACE,o=r.ParseError,u=r.XMLReader;function c(T){return T.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function f(T){this.options=T||{locator:{}}}f.prototype.parseFromString=function(T,A){var P=this.options,O=new u,M=P.domBuilder||new v,D=P.errorHandler,W=P.locator,G=P.xmlns||{},Y=/\/x?html?$/.test(A),L=Y?n.HTML_ENTITIES:n.XML_ENTITIES;W&&M.setDocumentLocator(W),O.errorHandler=p(D,M,W),O.domBuilder=P.domBuilder||M,Y&&(G[""]=s.HTML),G.xml=G.xml||s.XML;var X=P.normalizeLineEndings||c;return T&&typeof T=="string"?O.parse(X(T),G,L):O.errorHandler.error("invalid doc source"),M.doc};function p(T,A,P){if(!T){if(A instanceof v)return A;T=A}var O={},M=T instanceof Function;P=P||{};function D(W){var G=T[W];!G&&M&&(G=T.length==2?function(Y){T(W,Y)}:T),O[W]=G&&function(Y){G("[xmldom "+W+"]	"+Y+y(P))}||function(){}}return D("warning"),D("error"),D("fatalError"),O}function v(){this.cdata=!1}function b(T,A){A.lineNumber=T.lineNumber,A.columnNumber=T.columnNumber}v.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(T,A,P,O){var M=this.doc,D=M.createElementNS(T,P||A),W=O.length;S(this,D),this.currentElement=D,this.locator&&b(this.locator,D);for(var G=0;G<W;G++){var T=O.getURI(G),Y=O.getValue(G),P=O.getQName(G),L=M.createAttributeNS(T,P);this.locator&&b(O.getLocator(G),L),L.value=L.nodeValue=Y,D.setAttributeNode(L)}},endElement:function(T,A,P){var O=this.currentElement;O.tagName,this.currentElement=O.parentNode},startPrefixMapping:function(T,A){},endPrefixMapping:function(T){},processingInstruction:function(T,A){var P=this.doc.createProcessingInstruction(T,A);this.locator&&b(this.locator,P),S(this,P)},ignorableWhitespace:function(T,A,P){},characters:function(T,A,P){if(T=E.apply(this,arguments),T){if(this.cdata)var O=this.doc.createCDATASection(T);else var O=this.doc.createTextNode(T);this.currentElement?this.currentElement.appendChild(O):/^\s*$/.test(T)&&this.doc.appendChild(O),this.locator&&b(this.locator,O)}},skippedEntity:function(T){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(T){(this.locator=T)&&(T.lineNumber=0)},comment:function(T,A,P){T=E.apply(this,arguments);var O=this.doc.createComment(T);this.locator&&b(this.locator,O),S(this,O)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(T,A,P){var O=this.doc.implementation;if(O&&O.createDocumentType){var M=O.createDocumentType(T,A,P);this.locator&&b(this.locator,M),S(this,M),this.doc.doctype=M}},warning:function(T){console.warn("[xmldom warning]	"+T,y(this.locator))},error:function(T){console.error("[xmldom error]	"+T,y(this.locator))},fatalError:function(T){throw new o(T,this.locator)}};function y(T){if(T)return`
@`+(T.systemId||"")+"#[line:"+T.lineNumber+",col:"+T.columnNumber+"]"}function E(T,A,P){return typeof T=="string"?T.substr(A,P):T.length>=A+P||A?new java.lang.String(T,A,P)+"":T}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(T){v.prototype[T]=function(){return null}});function S(T,A){T.currentElement?T.currentElement.appendChild(A):T.doc.appendChild(A)}return A0.__DOMHandler=v,A0.normalizeLineEndings=c,A0.DOMParser=f,A0}var hk;function Kq(){if(hk)return C0;hk=1;var t=OF();return C0.DOMImplementation=t.DOMImplementation,C0.XMLSerializer=t.XMLSerializer,C0.DOMParser=qq().DOMParser,C0}var Zq=Kq();const Qq={createCanvas:(t,e)=>new OffscreenCanvas(t??0,e??0),getCanvasRenderingContext2D:()=>OffscreenCanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>globalThis.location.href,getFontFaceSet:()=>globalThis.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new Zq.DOMParser().parseFromString(t,"text/xml")};class Jq{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this._tickerAdded||!this.domElement||(Si.system.add(this._tickerUpdate,this,tc.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(Si.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events._rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY,pointerType:e.pointerType,pointerId:e.pointerId}))}_tickerUpdate(e){this._deltaTime+=e.deltaTime,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this._update())}}const Yu=new Jq;class L_ extends dv{constructor(){super(...arguments),this.client=new mn,this.movement=new mn,this.offset=new mn,this.global=new mn,this.screen=new mn}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,n,r){return e.worldTransform.applyInverse(r||this.global,n)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,r,i,s,o,u,c,f,p,v,b,y,E,S){throw new Error("Method not implemented.")}}class Ya extends L_{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class jf extends L_{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}jf.DOM_DELTA_PIXEL=0;jf.DOM_DELTA_LINE=1;jf.DOM_DELTA_PAGE=2;const eK=2048,tK=new mn,R0=new mn;class MF{constructor(e){this.dispatch=new hs,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((r,i)=>r.priority-i.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let r=0,i=n.length;r<i;r++)n[r].fn(e);else at(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){Yu.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,tK.set(e,n),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,n){if(!e.target)return;const r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=r.length-1;i<s;i++)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=r.length-2;i>=0;i--)if(e.currentTarget=r[i],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,r=this._allInteractiveElements){if(r.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(n)?n:[n];for(let s=r.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=r[s],this.notifyTarget(e,o)})}propagationPath(e){const n=[e];for(let r=0;r<eK&&e!==this.rootTarget&&e.parent;r++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestMoveRecursive(e,n,r,i,s,o=!1){let u=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||n==="dynamic")&&(Yu.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let v=p.length-1;v>=0;v--){const b=p[v],y=this.hitTestMoveRecursive(b,this._isInteractive(n)?n:b.eventMode,r,i,s,o||s(e,r));if(y){if(y.length>0&&!y[y.length-1].parent)continue;const E=e.isInteractive();(y.length>0||E)&&(E&&this._allInteractiveElements.push(e),y.push(e)),this._hitElements.length===0&&(this._hitElements=y),u=!0}}}const c=this._isInteractive(n),f=e.isInteractive();return f&&f&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:u?this._hitElements:c&&!s(e,r)&&i(e,r)?f?[e]:[]:null}hitTestRecursive(e,n,r,i,s){if(this._interactivePrune(e)||s(e,r))return null;if((e.eventMode==="dynamic"||n==="dynamic")&&(Yu.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children,f=r;for(let p=c.length-1;p>=0;p--){const v=c[p],b=this.hitTestRecursive(v,this._isInteractive(n)?n:v.eventMode,f,i,s);if(b){if(b.length>0&&!b[b.length-1].parent)continue;const y=e.isInteractive();return(b.length>0||y)&&b.push(e),b}}}const o=this._isInteractive(n),u=e.isInteractive();return o&&i(e,r)?u?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!e||!e.visible||!e.renderable||!e.measurable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren}hitPruneFn(e,n){if(e.hitArea&&(e.worldTransform.applyInverse(n,R0),!e.hitArea.contains(R0.x,R0.y)))return!0;if(e.effects&&e.effects.length)for(let r=0;r<e.effects.length;r++){const i=e.effects[r];if(i.containsPoint&&!i.containsPoint(n,this.hitTestFn))return!0}return!1}hitTestFn(e,n){return e.hitArea?!0:e!=null&&e.containsPoint?(e.worldTransform.applyInverse(n,R0),e.containsPoint(R0)):!1}notifyTarget(e,n){var s,o;if(!e.currentTarget.isInteractive())return;n??(n=e.type);const r=`on${n}`;(o=(s=e.currentTarget)[r])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this._notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this._notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof Ya)){at("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const i=n.button===2;this.dispatchEvent(n,i?"rightdown":"mousedown")}const r=this.trackingData(e.pointerId);r.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var c,f;if(!(e instanceof Ya)){at("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const n=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const r=n.pointerType==="mouse"||n.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==n.target){const p=e.type==="mousemove"?"mouseout":"pointerout",v=this.createPointerEvent(e,p,s);if(this.dispatchEvent(v,"pointerout"),r&&this.dispatchEvent(v,"mouseout"),!n.composedPath().includes(s)){const b=this.createPointerEvent(e,"pointerleave",s);for(b.eventPhase=b.AT_TARGET;b.target&&!n.composedPath().includes(b.target);)b.currentTarget=b.target,this.notifyTarget(b),r&&this.notifyTarget(b,"mouseleave"),b.target=b.target.parent;this.freeEvent(b)}this.freeEvent(v)}if(s!==n.target){const p=e.type==="mousemove"?"mouseover":"pointerover",v=this.clonePointerEvent(n,p);this.dispatchEvent(v,"pointerover"),r&&this.dispatchEvent(v,"mouseover");let b=s==null?void 0:s.parent;for(;b&&b!==this.rootTarget.parent&&b!==n.target;)b=b.parent;if(!b||b===this.rootTarget.parent){const E=this.clonePointerEvent(n,"pointerenter");for(E.eventPhase=E.AT_TARGET;E.target&&E.target!==s&&E.target!==this.rootTarget.parent;)E.currentTarget=E.target,this.notifyTarget(E),r&&this.notifyTarget(E,"mouseenter"),E.target=E.target.parent;this.freeEvent(E)}this.freeEvent(v)}const o=[],u=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(n,"pointermove"),u&&o.push("globalpointermove"),n.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(n,"touchmove"),u&&o.push("globaltouchmove")),r&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(n,"mousemove"),u&&o.push("globalmousemove"),this.cursor=(f=n.target)==null?void 0:f.cursor),o.length>0&&this.all(n,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var o;if(!(e instanceof Ya)){at("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=(o=r.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(r,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Ya)){at("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const r=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(n.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),r&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),r&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;n.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Ya)){at("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const u=r.button===2;this.dispatchEvent(r,u?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!r.composedPath().includes(s)){let u=s;for(;u&&!r.composedPath().includes(u);){if(r.currentTarget=u,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const c=r.button===2;this.notifyTarget(r,c?"rightupoutside":"mouseupoutside")}u=u.parent}delete i.pressTargetsByButton[e.button],o=u}if(o){const u=this.clonePointerEvent(r,"click");u.target=o,u.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:u.target,timeStamp:n});const c=i.clicksByButton[e.button];if(c.target===u.target&&n-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=u.target,c.timeStamp=n,u.detail=c.clickCount,u.pointerType==="mouse"){const f=u.button===2;this.dispatchEvent(u,f?"rightclick":"click")}else u.pointerType==="touch"&&this.dispatchEvent(u,"tap");this.dispatchEvent(u,"pointertap"),this.freeEvent(u)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof Ya)){at("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(r){let s=r;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof jf)){at("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let r=1;r<e.length&&e[r].parent===n;r++)n=e[r];return n}createPointerEvent(e,n,r){const i=this.allocateEvent(Ya);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=r??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof n=="string"&&(i.type=n),i}createWheelEvent(e){const n=this.allocateEvent(jf);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const r=this.allocateEvent(Ya);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=n??r.type,r}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof Ya&&n instanceof Ya&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof L_&&n instanceof L_&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.shiftKey=e.shiftKey,n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.defaultPrevented=!1,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}_notifyListeners(e,n){const r=e.currentTarget._events[n];if(r)if("fn"in r)r.once&&e.currentTarget.removeListener(n,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let i=0,s=r.length;i<s&&!e.propagationImmediatelyStopped;i++)r[i].once&&e.currentTarget.removeListener(n,r[i].fn,void 0,!0),r[i].fn.call(r[i].context,e)}}const nK=1,rK={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},VP=class o3{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new MF(null),Yu.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new Ya(null),this._rootWheelEvent=new jf(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...o3.defaultEventFeatures},{set:(n,r,i)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),n[r]=i,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{canvas:n,resolution:r}=this.renderer;this.setTargetElement(n),this.resolution=r,o3._defaultEventMode=e.eventMode??"passive",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(e){e||(e="default");let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this._currentCursor===e)return;this._currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":n&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":n&&Object.assign(this.domElement.style,r);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this._rootPointerEvent}_onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const n=this._normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,i=n.length;r<i;r++){const s=n[r],o=this._bootstrapEvent(this._rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Yu.pointerMoved();const n=this._normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this._bootstrapEvent(this._rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const r=n!==this.domElement?"outside":"",i=this._normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const u=this._bootstrapEvent(this._rootPointerEvent,i[s]);u.type+=r,this.rootBoundary.mapEvent(u)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const n=this._normalizeToPointerData(e);for(let r=0,i=n.length;r<i;r++){const s=this._bootstrapEvent(this._rootPointerEvent,n[r]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this._removeEvents(),this.domElement=e,Yu.domElement=e,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;Yu.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;Yu.removeTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(e,n,r){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(n-i.left)*(this.domElement.width/i.width)*s,e.y=(r-i.top)*(this.domElement.height/i.height)*s}_normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,i=e.changedTouches.length;r<i;r++){const s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,n.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=nK),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,n.push(r)}else n.push(e);return n}normalizeWheelEvent(e){const n=this._rootWheelEvent;return this._transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}_bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this._transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=rK[e.type]||e.type),e}_transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}};VP.extension={name:"events",type:[te.WebGLSystem,te.CanvasSystem,te.WebGPUSystem],priority:-1};VP.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let DF=VP;const iK={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(t){this.eventMode=t?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??DF.defaultEventMode},set eventMode(t){this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof n=="object"?n.signal:void 0,s=typeof n=="object"?n.once===!0:!1,o=typeof e=="function"?void 0:e;t=r?`${t}capture`:t;const u=typeof e=="function"?e:e.handleEvent,c=this;i&&i.addEventListener("abort",()=>{c.off(t,u,o)}),s?c.once(t,u,o):c.on(t,u,o)},removeEventListener(t,e,n){const r=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,i=typeof e=="function"?void 0:e;t=r?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof dv))throw new Error("Container cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};var Gw=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,BF=`
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`,l3=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
  uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
 
    var sample = textureSample(uTexture, uSampler, uv);
    
    return sample * alphaUniforms.uAlpha;
}`;const kF=class IF extends tu{constructor(e){e={...IF.defaultOptions,...e};const n=fs.from({vertex:{source:l3,entryPoint:"mainVertex"},fragment:{source:l3,entryPoint:"mainFragment"}}),r=Xs.from({vertex:Gw,fragment:BF,name:"alpha-filter"}),{alpha:i,...s}=e,o=new kr({uAlpha:{value:i,type:"f32"}});super({...s,gpuProgram:n,glProgram:r,resources:{alphaUniforms:o}})}get alpha(){return this.resources.alphaUniforms.uniforms.uAlpha}set alpha(e){this.resources.alphaUniforms.uniforms.uAlpha=e}};kF.defaultOptions={alpha:1};let sK=kF;const HP={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},aK=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function NF(t){const e=HP[t],n=e.length;let r=aK,i="";const s="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let o;for(let u=0;u<t;u++){let c=s.replace("%index%",u.toString());o=u,u>=n&&(o=t-u-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r}const oK=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function UF(t,e){const n=Math.ceil(t/2);let r=oK,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let o=0;o<t;o++){let u=s.replace("%index%",o.toString());u=u.replace("%sampleIndex%",`${o-(n-1)}.0`),i+=u,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",t.toString()),r=r.replace("%dimension%",e?"z":"w"),r}function FF(t,e){const n=UF(e,t),r=NF(e);return Xs.from({vertex:n,fragment:r,name:`blur-${t?"horizontal":"vertical"}-pass-filter`})}var LF=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function GF(t,e){const n=HP[e],r=n.length,i=[],s=[],o=[];for(let v=0;v<e;v++){i[v]=`@location(${v}) offset${v}: vec2<f32>,`,t?s[v]=`filteredCord + vec2(${v-r+1} * pixelStrength, 0.0),`:s[v]=`filteredCord + vec2(0.0, ${v-r+1} * pixelStrength),`;const b=v<r?v:e-v-1,y=n[b].toString();o[v]=`finalColor += textureSample(uTexture, uSampler, offset${v}) * ${y};`}const u=i.join(`
`),c=s.join(`
`),f=o.join(`
`),p=LF.replace("%blur-struct%",u).replace("%blur-vertex-out%",c).replace("%blur-fragment-in%",u).replace("%blur-sampling%",f).replace("%dimension%",t?"z":"w");return fs.from({vertex:{source:p,entryPoint:"mainVertex"},fragment:{source:p,entryPoint:"mainFragment"}})}const zF=class VF extends tu{constructor(e){e={...VF.defaultOptions,...e};const n=FF(e.horizontal,e.kernelSize),r=GF(e.horizontal,e.kernelSize);super({glProgram:n,gpuProgram:r,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...e}),this.horizontal=e.horizontal,this._quality=0,this.quality=e.quality,this.blur=e.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(e,n,r,i){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)e.applyFilter(this,n,r,i);else{const s=Dr.getSameSizeTexture(n);let o=n,u=s;this._state.blend=!1;const c=e.renderer.type===Ws.WEBGPU;for(let f=0;f<this.passes-1;f++){e.applyFilter(this,o,u,f===0?!0:c);const p=u;u=o,o=p}this._state.blend=!0,e.applyFilter(this,o,r,i),Dr.returnTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}};zF.defaultOptions={strength:8,quality:4,kernelSize:5};let Q2=zF;class HF extends tu{constructor(...e){let n=e[0]??{};typeof n=="number"&&(Qe(Tt,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),n={strength:n},e[1]!==void 0&&(n.quality=e[1]),e[2]!==void 0&&(n.resolution=e[2]||"inherit"),e[3]!==void 0&&(n.kernelSize=e[3])),n={...Q2.defaultOptions,...n};const{strength:r,strengthX:i,strengthY:s,quality:o,...u}=n;super({...u,compatibleRenderers:Ws.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new Q2({horizontal:!0,...n}),this.blurYFilter=new Q2({horizontal:!1,...n}),this.quality=o,this.strengthX=i??r,this.strengthY=s??r,this.repeatEdgePixels=!1}apply(e,n,r,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const u=Dr.getSameSizeTexture(n);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(e,n,u,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,u,r,i),Dr.returnTexture(u)}else o?(this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,n,r,i)):(this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(e,n,r,i))}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw new Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get strengthX(){return this.blurXFilter.blur}set strengthX(e){this.blurXFilter.blur=e,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(e){this.blurYFilter.blur=e,this.updatePadding()}get blur(){return Qe("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(e){Qe("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=e}get blurX(){return Qe("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(e){Qe("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=e}get blurY(){return Qe("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(e){Qe("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}HF.defaultOptions={strength:8,quality:4,kernelSize:5};var WF=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uColorMatrix[20];
uniform float uAlpha;

uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * 0.2);
    float diff = (randomValue - 0.5) *  0.5;

    if (uAlpha == 0.0) {
        finalColor = color;
        return;
    }

    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    vec4 result;

    result.r = (uColorMatrix[0] * color.r);
        result.r += (uColorMatrix[1] * color.g);
        result.r += (uColorMatrix[2] * color.b);
        result.r += (uColorMatrix[3] * color.a);
        result.r += uColorMatrix[4];

    result.g = (uColorMatrix[5] * color.r);
        result.g += (uColorMatrix[6] * color.g);
        result.g += (uColorMatrix[7] * color.b);
        result.g += (uColorMatrix[8] * color.a);
        result.g += uColorMatrix[9];

    result.b = (uColorMatrix[10] * color.r);
       result.b += (uColorMatrix[11] * color.g);
       result.b += (uColorMatrix[12] * color.b);
       result.b += (uColorMatrix[13] * color.a);
       result.b += uColorMatrix[14];

    result.a = (uColorMatrix[15] * color.r);
       result.a += (uColorMatrix[16] * color.g);
       result.a += (uColorMatrix[17] * color.b);
       result.a += (uColorMatrix[18] * color.a);
       result.a += uColorMatrix[19];

    vec3 rgb = mix(color.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    finalColor = vec4(rgb, result.a);
}
`,u3=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct ColorMatrixUniforms {
  uColorMatrix:array<vec4<f32>, 5>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;
@group(1) @binding(0) var<uniform> colorMatrixUniforms : ColorMatrixUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
  };
  
fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
  );
}


@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
) -> @location(0) vec4<f32> {


  var c = textureSample(uTexture, uSampler, uv);
  
  if (colorMatrixUniforms.uAlpha == 0.0) {
    return c;
  }

 
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.r /= c.a;
      c.g /= c.a;
      c.b /= c.a;
    }

    var cm = colorMatrixUniforms.uColorMatrix;


    var result = vec4<f32>(0.);

    result.r = (cm[0][0] * c.r);
    result.r += (cm[0][1] * c.g);
    result.r += (cm[0][2] * c.b);
    result.r += (cm[0][3] * c.a);
    result.r += cm[1][0];

    result.g = (cm[1][1] * c.r);
    result.g += (cm[1][2] * c.g);
    result.g += (cm[1][3] * c.b);
    result.g += (cm[2][0] * c.a);
    result.g += cm[2][1];

    result.b = (cm[2][2] * c.r);
    result.b += (cm[2][3] * c.g);
    result.b += (cm[3][0] * c.b);
    result.b += (cm[3][1] * c.a);
    result.b += cm[3][2];

    result.a = (cm[3][3] * c.r);
    result.a += (cm[4][0] * c.g);
    result.a += (cm[4][1] * c.b);
    result.a += (cm[4][2] * c.a);
    result.a += cm[4][3];

    var rgb = mix(c.rgb, result.rgb, colorMatrixUniforms.uAlpha);

    rgb.r *= result.a;
    rgb.g *= result.a;
    rgb.b *= result.a;

    return vec4(rgb, result.a);
}`;class lK extends tu{constructor(e={}){const n=new kr({uColorMatrix:{value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],type:"f32",size:20},uAlpha:{value:1,type:"f32"}}),r=fs.from({vertex:{source:u3,entryPoint:"mainVertex"},fragment:{source:u3,entryPoint:"mainFragment"}}),i=Xs.from({vertex:Gw,fragment:WF,name:"color-matrix-filter"});super({...e,gpuProgram:r,glProgram:i,resources:{colorMatrixUniforms:n}}),this.alpha=1}_loadMatrix(e,n=!1){let r=e;n&&(this._multiply(r,this.matrix,e),r=this._colorMatrix(r)),this.resources.colorMatrixUniforms.uniforms.uColorMatrix=r,this.resources.colorMatrixUniforms.update()}_multiply(e,n,r){return e[0]=n[0]*r[0]+n[1]*r[5]+n[2]*r[10]+n[3]*r[15],e[1]=n[0]*r[1]+n[1]*r[6]+n[2]*r[11]+n[3]*r[16],e[2]=n[0]*r[2]+n[1]*r[7]+n[2]*r[12]+n[3]*r[17],e[3]=n[0]*r[3]+n[1]*r[8]+n[2]*r[13]+n[3]*r[18],e[4]=n[0]*r[4]+n[1]*r[9]+n[2]*r[14]+n[3]*r[19]+n[4],e[5]=n[5]*r[0]+n[6]*r[5]+n[7]*r[10]+n[8]*r[15],e[6]=n[5]*r[1]+n[6]*r[6]+n[7]*r[11]+n[8]*r[16],e[7]=n[5]*r[2]+n[6]*r[7]+n[7]*r[12]+n[8]*r[17],e[8]=n[5]*r[3]+n[6]*r[8]+n[7]*r[13]+n[8]*r[18],e[9]=n[5]*r[4]+n[6]*r[9]+n[7]*r[14]+n[8]*r[19]+n[9],e[10]=n[10]*r[0]+n[11]*r[5]+n[12]*r[10]+n[13]*r[15],e[11]=n[10]*r[1]+n[11]*r[6]+n[12]*r[11]+n[13]*r[16],e[12]=n[10]*r[2]+n[11]*r[7]+n[12]*r[12]+n[13]*r[17],e[13]=n[10]*r[3]+n[11]*r[8]+n[12]*r[13]+n[13]*r[18],e[14]=n[10]*r[4]+n[11]*r[9]+n[12]*r[14]+n[13]*r[19]+n[14],e[15]=n[15]*r[0]+n[16]*r[5]+n[17]*r[10]+n[18]*r[15],e[16]=n[15]*r[1]+n[16]*r[6]+n[17]*r[11]+n[18]*r[16],e[17]=n[15]*r[2]+n[16]*r[7]+n[17]*r[12]+n[18]*r[17],e[18]=n[15]*r[3]+n[16]*r[8]+n[17]*r[13]+n[18]*r[18],e[19]=n[15]*r[4]+n[16]*r[9]+n[17]*r[14]+n[18]*r[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}tint(e,n){const[r,i,s]=en.shared.setValue(e).toArray(),o=[r,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,n)}greyscale(e,n){const r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,n)}grayscale(e,n){this.greyscale(e,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const r=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,u=s(o),c=r+(1-r)*o,f=o*(1-r)-u*i,p=o*(1-r)+u*i,v=o*(1-r)+u*i,b=r+o*(1-r),y=o*(1-r)-u*i,E=o*(1-r)-u*i,S=o*(1-r)+u*i,T=r+o*(1-r),A=[c,f,p,0,0,v,b,y,0,0,E,S,T,0,0,0,0,0,1,0];this._loadMatrix(A,n)}contrast(e,n){const r=(e||0)+1,i=-.5*(r-1),s=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(s,n)}saturate(e=0,n){const r=e*2/3+1,i=(r-1)*-.5,s=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(s,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,r,i,s){e||(e=.2),n||(n=.15),r||(r=16770432),i||(i=3375104);const o=en.shared,[u,c,f]=o.setValue(r).toArray(),[p,v,b]=o.setValue(i).toArray(),y=[.3,.59,.11,0,0,u,c,f,e,0,p,v,b,n,0,u-p,c-v,f-b,0,0];this._loadMatrix(y,s)}night(e,n){e||(e=.1);const r=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(r,n)}predator(e,n){const r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.resources.colorMatrixUniforms.uniforms.uColorMatrix}set matrix(e){this.resources.colorMatrixUniforms.uniforms.uColorMatrix=e}get alpha(){return this.resources.colorMatrixUniforms.uniforms.uAlpha}set alpha(e){this.resources.colorMatrixUniforms.uniforms.uAlpha=e}}var $F=`
in vec2 vTextureCoord;
in vec2 vFilterUv;

out vec4 finalColor;

uniform sampler2D uTexture;
uniform sampler2D uMapTexture;

uniform vec4 uInputClamp;
uniform highp vec4 uInputSize;
uniform mat2 uRotation;
uniform vec2 uScale;

void main()
{
    vec4 map = texture(uMapTexture, vFilterUv);
    
    vec2 offset = uInputSize.zw * (uRotation * (map.xy - 0.5)) * uScale; 

    finalColor = texture(uTexture, clamp(vTextureCoord + offset, uInputClamp.xy, uInputClamp.zw));
}
`,jF=`in vec2 aPosition;
out vec2 vTextureCoord;
out vec2 vFilterUv;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

uniform mat3 uFilterMatrix;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( void )
{
  return ( uFilterMatrix * vec3( filterTextureCoord(), 1.0)  ).xy;
}


void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
    vFilterUv = getFilterCoord();
}
`,c3=`
struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct DisplacementUniforms {
  uFilterMatrix:mat3x3<f32>,
  uScale:vec2<f32>,
  uRotation:mat2x2<f32>
};



@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : DisplacementUniforms;
@group(1) @binding(1) var uMapTexture: texture_2d<f32>;
@group(1) @binding(2) var uMapSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{

  
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var map = textureSample(uMapTexture, uMapSampler, filterUv);

    var offset =  gfu.uInputSize.zw * (filterUniforms.uRotation * (map.xy - 0.5)) * filterUniforms.uScale; 
   
    return textureSample(uTexture, uSampler, clamp(uv + offset, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
}`;class uK extends tu{constructor(...e){let n=e[0];n instanceof Vo&&(e[1]&&Qe(Tt,"DisplacementFilter now uses options object instead of params. {sprite, scale}"),n={sprite:n,scale:e[1]});const{sprite:r,scale:i,...s}=n;let o=i??20;typeof o=="number"&&(o=new mn(o,o));const u=new kr({uFilterMatrix:{value:new Je,type:"mat3x3<f32>"},uScale:{value:o,type:"vec2<f32>"},uRotation:{value:new Float32Array([0,0,0,0]),type:"mat2x2<f32>"}}),c=Xs.from({vertex:jF,fragment:$F,name:"displacement-filter"}),f=fs.from({vertex:{source:c3,entryPoint:"mainVertex"},fragment:{source:c3,entryPoint:"mainFragment"}}),p=r.texture.source;super({...s,gpuProgram:f,glProgram:c,resources:{filterUniforms:u,uMapTexture:p,uMapSampler:p.style}}),this._sprite=n.sprite,this._sprite.renderable=!1}apply(e,n,r,i){const s=this.resources.filterUniforms.uniforms;e.calculateSpriteMatrix(s.uFilterMatrix,this._sprite);const o=this._sprite.worldTransform,u=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);u!==0&&c!==0&&(s.uRotation[0]=o.a/u,s.uRotation[1]=o.b/u,s.uRotation[2]=o.c/c,s.uRotation[3]=o.d/c),this.resources.uMapTexture=this._sprite.texture.source,e.applyFilter(this,n,r,i)}get scale(){return this.resources.filterUniforms.uniforms.uScale}}var XF=`
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uTexture;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture(uTexture, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) *  uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    finalColor = color;
}
`,d3=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct NoiseUniforms {
  uNoise:f32,
  uSeed:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> noiseUniforms : NoiseUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

fn rand(co:vec2<f32>) -> f32
{
  return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}



@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var pixelPosition =  globalTextureCoord(position.xy);// / (getSize());//-  gfu.uOutputFrame.xy);
  
    
    var sample = textureSample(uTexture, uSampler, uv);
    var randomValue =  rand(pixelPosition.xy * noiseUniforms.uSeed);
    var diff = (randomValue - 0.5) * noiseUniforms.uNoise;
  
    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (sample.a > 0.0) {
      sample.r /= sample.a;
      sample.g /= sample.a;
      sample.b /= sample.a;
    }

    sample.r += diff;
    sample.g += diff;
    sample.b += diff;

    // Premultiply alpha again.
    sample.r *= sample.a;
    sample.g *= sample.a;
    sample.b *= sample.a;
    
    return sample;
}`;const YF=class qF extends tu{constructor(e={}){e={...qF.defaultOptions,...e};const n=fs.from({vertex:{source:d3,entryPoint:"mainVertex"},fragment:{source:d3,entryPoint:"mainFragment"}}),r=Xs.from({vertex:Gw,fragment:XF,name:"noise-filter"}),{noise:i,seed:s,...o}=e;super({...o,gpuProgram:n,glProgram:r,resources:{noiseUniforms:new kr({uNoise:{value:1,type:"f32"},uSeed:{value:1,type:"f32"}})}}),this.noise=i,this.seed=s??Math.random()}get noise(){return this.resources.noiseUniforms.uniforms.uNoise}set noise(e){this.resources.noiseUniforms.uniforms.uNoise=e}get seed(){return this.resources.noiseUniforms.uniforms.uSeed}set seed(e){this.resources.noiseUniforms.uniforms.uSeed=e}};YF.defaultOptions={noise:.5};let cK=YF;class KF{constructor(e){this._renderer=e}push(e,n,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:n,filterEffect:e})}pop(e,n,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){e.action==="pushFilter"?this._renderer.filter.push(e):e.action==="popFilter"&&this._renderer.filter.pop()}destroy(){this._renderer=null}}KF.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"filter"};function ZF(t,e){e.clear();const n=e.matrix;for(let r=0;r<t.length;r++){const i=t[r];i.globalDisplayStatus<7||(e.matrix=i.worldTransform,e.addBounds(i.bounds))}return e.matrix=n,e}const dK=new ip({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:2*4,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class QF{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new kr({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new zl({}),this.renderer=e}get activeBackTexture(){var e;return(e=this._activeFilterData)==null?void 0:e.backTexture}push(e){var y;const n=this.renderer,r=e.filterEffect.filters;this._filterStack[this._filterStackIndex]||(this._filterStack[this._filterStackIndex]=this._getFilterData());const i=this._filterStack[this._filterStackIndex];if(this._filterStackIndex++,r.length===0){i.skip=!0;return}const s=i.bounds;if(e.renderables?ZF(e.renderables,s):e.filterEffect.filterArea?(s.clear(),s.addRect(e.filterEffect.filterArea),s.applyMatrix(e.container.worldTransform)):e.container.getFastGlobalBounds(!0,s),e.container){const S=(e.container.renderGroup||e.container.parentRenderGroup).cacheToLocalTransform;S&&s.applyMatrix(S)}const o=n.renderTarget.renderTarget.colorTexture.source;let u=1/0,c=0,f=!0,p=!1,v=!1,b=!0;for(let E=0;E<r.length;E++){const S=r[E];if(u=Math.min(u,S.resolution==="inherit"?o._resolution:S.resolution),c+=S.padding,S.antialias==="off"?f=!1:S.antialias==="inherit"&&f&&(f=o.antialias),S.clipToViewport||(b=!1),!!!(S.compatibleRenderers&n.type)){v=!1;break}if(S.blendRequired&&!(((y=n.backBuffer)==null?void 0:y.useBackBuffer)??!0)){at("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),v=!1;break}v=S.enabled||v,p||(p=S.blendRequired)}if(!v){i.skip=!0;return}if(b){const E=n.renderTarget.rootViewPort,S=n.renderTarget.renderTarget.resolution;s.fitBounds(0,E.width/S,0,E.height/S)}if(s.scale(u).ceil().scale(1/u).pad(c|0),!s.isPositive){i.skip=!0;return}i.skip=!1,i.bounds=s,i.blendRequired=p,i.container=e.container,i.filterEffect=e.filterEffect,i.previousRenderSurface=n.renderTarget.renderSurface,i.inputTexture=Dr.getOptimalTexture(s.width,s.height,u,f),n.renderTarget.bind(i.inputTexture,!0),n.globalUniforms.push({offset:s})}pop(){const e=this.renderer;this._filterStackIndex--;const n=this._filterStack[this._filterStackIndex];if(n.skip)return;this._activeFilterData=n;const r=n.inputTexture,i=n.bounds;let s=ze.EMPTY;if(e.renderTarget.finishRenderPass(),n.blendRequired){const u=this._filterStackIndex>0?this._filterStack[this._filterStackIndex-1].bounds:null,c=e.renderTarget.getRenderTarget(n.previousRenderSurface);s=this.getBackTexture(c,i,u)}n.backTexture=s;const o=n.filterEffect.filters;if(this._globalFilterBindGroup.setResource(r.source.style,2),this._globalFilterBindGroup.setResource(s.source,3),e.globalUniforms.pop(),o.length===1)o[0].apply(this,r,n.previousRenderSurface,!1),Dr.returnTexture(r);else{let u=n.inputTexture,c=Dr.getOptimalTexture(i.width,i.height,u.source._resolution,!1),f=0;for(f=0;f<o.length-1;++f){o[f].apply(this,u,c,!0);const v=u;u=c,c=v}o[f].apply(this,u,n.previousRenderSurface,!1),Dr.returnTexture(u),Dr.returnTexture(c)}n.blendRequired&&Dr.returnTexture(s)}getBackTexture(e,n,r){const i=e.colorTexture.source._resolution,s=Dr.getOptimalTexture(n.width,n.height,i,!1);let o=n.minX,u=n.minY;r&&(o-=r.minX,u-=r.minY),o=Math.floor(o*i),u=Math.floor(u*i);const c=Math.ceil(n.width*i),f=Math.ceil(n.height*i);return this.renderer.renderTarget.copyToTexture(e,s,{x:o,y:u},{width:c,height:f},{x:0,y:0}),s}applyFilter(e,n,r,i){const s=this.renderer,o=this._filterStack[this._filterStackIndex],u=o.bounds,c=mn.shared,p=o.previousRenderSurface===r;let v=this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution,b=this._filterStackIndex-1;for(;b>0&&this._filterStack[b].skip;)--b;b>0&&(v=this._filterStack[b].inputTexture.source._resolution);const y=this._filterGlobalUniforms,E=y.uniforms,S=E.uOutputFrame,T=E.uInputSize,A=E.uInputPixel,P=E.uInputClamp,O=E.uGlobalFrame,M=E.uOutputTexture;if(p){let G=this._filterStackIndex;for(;G>0;){G--;const Y=this._filterStack[this._filterStackIndex-1];if(!Y.skip){c.x=Y.bounds.minX,c.y=Y.bounds.minY;break}}S[0]=u.minX-c.x,S[1]=u.minY-c.y}else S[0]=0,S[1]=0;S[2]=n.frame.width,S[3]=n.frame.height,T[0]=n.source.width,T[1]=n.source.height,T[2]=1/T[0],T[3]=1/T[1],A[0]=n.source.pixelWidth,A[1]=n.source.pixelHeight,A[2]=1/A[0],A[3]=1/A[1],P[0]=.5*A[2],P[1]=.5*A[3],P[2]=n.frame.width*T[2]-.5*A[2],P[3]=n.frame.height*T[3]-.5*A[3];const D=this.renderer.renderTarget.rootRenderTarget.colorTexture;O[0]=c.x*v,O[1]=c.y*v,O[2]=D.source.width*v,O[3]=D.source.height*v;const W=this.renderer.renderTarget.getRenderTarget(r);if(s.renderTarget.bind(r,!!i),r instanceof ze?(M[0]=r.frame.width,M[1]=r.frame.height):(M[0]=W.width,M[1]=W.height),M[2]=W.isRoot?-1:1,y.update(),s.renderPipes.uniformBatch){const G=s.renderPipes.uniformBatch.getUboResource(y);this._globalFilterBindGroup.setResource(G,0)}else this._globalFilterBindGroup.setResource(y,0);this._globalFilterBindGroup.setResource(n.source,1),this._globalFilterBindGroup.setResource(n.source.style,2),e.groups[0]=this._globalFilterBindGroup,s.encoder.draw({geometry:dK,shader:e,state:e._state,topology:"triangle-list"}),s.type===Ws.WEBGL&&s.renderTarget.finishRenderPass()}_getFilterData(){return{skip:!1,inputTexture:null,bounds:new Zr,container:null,filterEffect:null,blendRequired:!1,previousRenderSurface:null}}calculateSpriteMatrix(e,n){const r=this._activeFilterData,i=e.set(r.inputTexture._source.width,0,0,r.inputTexture._source.height,r.bounds.minX,r.bounds.minY),s=n.worldTransform.copyTo(Je.shared),o=n.renderGroup||n.parentRenderGroup;return o&&o.cacheToLocalTransform&&s.prepend(o.cacheToLocalTransform),s.invert(),i.prepend(s),i.scale(1/n.texture.frame.width,1/n.texture.frame.height),i.translate(n.anchor.x,n.anchor.y),i}}QF.extension={type:[te.WebGLSystem,te.WebGPUSystem],name:"filter"};var JF=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha;
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    float a = alphaMul * masky.r * npmAlpha * clip;

    if (uInverse == 1.0) {
        a = 1.0 - a;
    }

    finalColor = original * a;
}
`,eL=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`,h3=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
  uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>,
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;
    var uAlpha = filterUniforms.uAlpha;

    var clip = step(3.5,
      step(maskClamp.x, filterUv.x) +
      step(maskClamp.y, filterUv.y) +
      step(filterUv.x, maskClamp.z) +
      step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

    var a: f32 = alphaMul * mask.r * uAlpha * clip;

    if (filterUniforms.uInverse == 1.0) {
        a = 1.0 - a;
    }

    return source * a;
}
`;class tL extends tu{constructor(e){const{sprite:n,...r}=e,i=new XR(n.texture),s=new kr({uFilterMatrix:{value:new Je,type:"mat3x3<f32>"},uMaskClamp:{value:i.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:e.inverse?1:0,type:"f32"}}),o=fs.from({vertex:{source:h3,entryPoint:"mainVertex"},fragment:{source:h3,entryPoint:"mainFragment"}}),u=Xs.from({vertex:eL,fragment:JF,name:"mask-filter"});super({...r,gpuProgram:o,glProgram:u,resources:{filterUniforms:s,uMaskTexture:n.texture.source}}),this.sprite=n,this._textureMatrix=i}set inverse(e){this.resources.filterUniforms.uniforms.uInverse=e?1:0}get inverse(){return this.resources.filterUniforms.uniforms.uInverse===1}apply(e,n,r,i){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,n,r,i)}}var hK=`fn getLuminosity(c: vec3<f32>) -> f32 {
  return 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;
}

fn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32> {
  let d: f32 = lum - getLuminosity(c);
  let newColor: vec3<f32> = c.rgb + vec3<f32>(d, d, d);

  // clip back into legal range
  let newLum: f32 = getLuminosity(newColor);
  let cMin: f32 = min(newColor.r, min(newColor.g, newColor.b));
  let cMax: f32 = max(newColor.r, max(newColor.g, newColor.b));

  let t1: f32 = newLum / (newLum - cMin);
  let t2: f32 = (1.0 - newLum) / (cMax - newLum);

  let finalColor = mix(vec3<f32>(newLum, newLum, newLum), newColor, select(select(1.0, t2, cMax > 1.0), t1, cMin < 0.0));

  return finalColor;
}

fn getSaturation(c: vec3<f32>) -> f32 {
  return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));
}

// Set saturation if color components are sorted in ascending order.
fn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32> {
  var result: vec3<f32>;
  if (cSorted.z > cSorted.x) {
    let newY = (((cSorted.y - cSorted.x) * s) / (cSorted.z - cSorted.x));
    result = vec3<f32>(0.0, newY, s);
  } else {
    result = vec3<f32>(0.0, 0.0, 0.0);
  }
  return vec3<f32>(result.x, result.y, result.z);
}

fn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32> {
    var result: vec3<f32> = c;

    if (c.r <= c.g && c.r <= c.b) {
        if (c.g <= c.b) {
            result = setSaturationMinMidMax(result, s);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.r, result.b, result.g);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.r, temp.b, temp.g);
        }
    } else if (c.g <= c.r && c.g <= c.b) {
        if (c.r <= c.b) {
            var temp: vec3<f32> = vec3<f32>(result.g, result.r, result.b);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.g, temp.r, temp.b);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.g, result.b, result.r);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.g, temp.b, temp.r);
        }
    } else {
        if (c.r <= c.g) {
            var temp: vec3<f32> = vec3<f32>(result.b, result.r, result.g);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.b, temp.r, temp.g);
        } else {
            var temp: vec3<f32> = vec3<f32>(result.b, result.g, result.r);
            temp = setSaturationMinMidMax(temp, s);
            result = vec3<f32>(temp.b, temp.g, temp.r);
        }
    }

    return result;
}`;function f3(t,e,n,r,i,s,o,u){const c=o-n,f=u-r,p=i-n,v=s-r,b=t-n,y=e-r,E=c*c+f*f,S=c*p+f*v,T=c*b+f*y,A=p*p+v*v,P=p*b+v*y,O=1/(E*A-S*S),M=(A*T-S*P)*O,D=(E*P-S*T)*O;return M>=0&&D>=0&&M+D<1}class WP{constructor(e=0,n=0,r=0,i=0,s=0,o=0){this.type="triangle",this.x=e,this.y=n,this.x2=r,this.y2=i,this.x3=s,this.y3=o}contains(e,n){const r=(this.x-this.x3)*(n-this.y3)-(this.y-this.y3)*(e-this.x3),i=(this.x2-this.x)*(n-this.y)-(this.y2-this.y)*(e-this.x);if(r<0!=i<0&&r!==0&&i!==0)return!1;const s=(this.x3-this.x2)*(n-this.y2)-(this.y3-this.y2)*(e-this.x2);return s===0||s<0==r+i<=0}strokeContains(e,n,r,i=.5){const s=r/2,o=s*s,{x:u,x2:c,x3:f,y:p,y2:v,y3:b}=this;return f_(e,n,u,p,c,b)<=o||f_(e,n,c,v,f,b)<=o||f_(e,n,f,b,u,p)<=o}clone(){return new WP(this.x,this.y,this.x2,this.y2,this.x3,this.y3)}copyFrom(e){return this.x=e.x,this.y=e.y,this.x2=e.x2,this.y2=e.y2,this.x3=e.x3,this.y3=e.y3,this}copyTo(e){return e.copyFrom(this),e}getBounds(e){e||(e=new vn);const n=Math.min(this.x,this.x2,this.x3),r=Math.max(this.x,this.x2,this.x3),i=Math.min(this.y,this.y2,this.y3),s=Math.max(this.y,this.y2,this.y3);return e.x=n,e.y=i,e.width=r-n,e.height=s-i,e}}const nL=class rL{constructor(e){this._tick=()=>{this.timeout=setTimeout(this._processQueue,0)},this._processQueue=()=>{const{queue:n}=this;let r=0;for(;n.length&&r<rL.uploadsPerFrame;){const i=n.shift();this.uploadQueueItem(i),r++}n.length?Si.system.addOnce(this._tick,this,tc.UTILITY):this._resolve()},this.renderer=e,this.queue=[],this.resolves=[]}getQueue(){return[...this.queue]}add(e){const n=Array.isArray(e)?e:[e];for(const r of n)r instanceof Ei?this._addContainer(r):this.resolveQueueItem(r,this.queue);return this}_addContainer(e){this.resolveQueueItem(e,this.queue);for(const n of e.children)this._addContainer(n)}upload(e){return e&&this.add(e),new Promise(n=>{this.queue.length?(this.resolves.push(n),this.dedupeQueue(),Si.system.addOnce(this._tick,this,tc.UTILITY)):n()})}dedupeQueue(){const e=Object.create(null);let n=0;for(let r=0;r<this.queue.length;r++){const i=this.queue[r];e[i.uid]||(e[i.uid]=!0,this.queue[n++]=i)}this.queue.length=n}_resolve(){const{resolves:e}=this,n=e.slice(0);e.length=0;for(const r of n)r()}};nL.uploadsPerFrame=4;let iL=nL;class Bd extends eu{constructor(e){e instanceof ls&&(e={context:e});const{context:n,roundPixels:r,...i}=e||{};super({label:"Graphics",...i}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new ls,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=r??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||(e==null?void 0:e.context)===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,n){return this.context[e](...n),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new Bd(this._context.clone()):(this._ownedContext=null,new Bd(this._context))}lineStyle(e,n,r){Qe(Tt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),n&&(i.color=n),r&&(i.alpha=r),this.context.strokeStyle=i,this}beginFill(e,n){Qe(Tt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return e!==void 0&&(r.color=e),n!==void 0&&(r.alpha=n),this.context.fillStyle=r,this}endFill(){Qe(Tt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==ls.defaultStrokeStyle.width||e.color!==ls.defaultStrokeStyle.color||e.alpha!==ls.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return Qe(Tt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return Qe(Tt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return Qe(Tt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return Qe(Tt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return Qe(Tt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return Qe(Tt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}const sL=class aL extends ip{constructor(...e){let n=e[0]??{};n instanceof Float32Array&&(Qe(Tt,"use new MeshGeometry({ positions, uvs, indices }) instead"),n={positions:n,uvs:e[1],indices:e[2]}),n={...aL.defaultOptions,...n};const r=n.positions||new Float32Array([0,0,1,0,1,1,0,1]);let i=n.uvs;i||(n.positions?i=new Float32Array(r.length):i=new Float32Array([0,0,1,0,1,1,0,1]));const s=n.indices||new Uint32Array([0,1,2,0,2,3]),o=n.shrinkBuffersToFit,u=new cs({data:r,label:"attribute-mesh-positions",shrinkToFit:o,usage:Wt.VERTEX|Wt.COPY_DST}),c=new cs({data:i,label:"attribute-mesh-uvs",shrinkToFit:o,usage:Wt.VERTEX|Wt.COPY_DST}),f=new cs({data:s,label:"index-mesh-buffer",shrinkToFit:o,usage:Wt.INDEX|Wt.COPY_DST});super({attributes:{aPosition:{buffer:u,format:"float32x2",stride:2*4,offset:0},aUV:{buffer:c,format:"float32x2",stride:2*4,offset:0}},indexBuffer:f,topology:n.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};sL.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let Hd=sL;class mv extends eu{constructor(...e){let n=e[0];n instanceof ip&&(Qe(Tt,"Mesh: use new Mesh({ geometry, shader }) instead"),n={geometry:n,shader:e[1]},e[3]&&(Qe(Tt,"Mesh: drawMode argument has been removed, use geometry.topology instead"),n.geometry.topology=e[3]));const{geometry:r,shader:i,texture:s,roundPixels:o,state:u,...c}=n;super({label:"Mesh",...c}),this.renderPipeId="mesh",this._shader=null,this.allowChildren=!1,this.shader=i??null,this.texture=s??(i==null?void 0:i.texture)??ze.WHITE,this.state=u??Ea.for2d(),this._geometry=r,this._geometry.on("update",this.onViewUpdate,this),this.roundPixels=o??!1}get material(){return Qe(Tt,"mesh.material property has been removed, use mesh.shader instead"),this._shader}set shader(e){this._shader!==e&&(this._shader=e,this.onViewUpdate())}get shader(){return this._shader}set geometry(e){var n;this._geometry!==e&&((n=this._geometry)==null||n.off("update",this.onViewUpdate,this),e.on("update",this.onViewUpdate,this),this._geometry=e,this.onViewUpdate())}get geometry(){return this._geometry}set texture(e){e||(e=ze.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this.shader&&(this.shader.texture=e),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}get batched(){return this._shader||(this.state.data&12)!==0?!1:this._geometry instanceof Hd?this._geometry.batchMode==="auto"?this._geometry.positions.length/2<=100:this._geometry.batchMode==="batch":!1}get bounds(){return this._geometry.bounds}updateBounds(){this._bounds=this._geometry.bounds}containsPoint(e){const{x:n,y:r}=e;if(!this.bounds.containsPoint(n,r))return!1;const i=this.geometry.getBuffer("aPosition").data,s=this.geometry.topology==="triangle-strip"?3:1;if(this.geometry.getIndex()){const o=this.geometry.getIndex().data,u=o.length;for(let c=0;c+2<u;c+=s){const f=o[c]*2,p=o[c+1]*2,v=o[c+2]*2;if(f3(n,r,i[f],i[f+1],i[p],i[p+1],i[v],i[v+1]))return!0}}else{const o=i.length/2;for(let u=0;u+2<o;u+=s){const c=u*2,f=(u+1)*2,p=(u+2)*2;if(f3(n,r,i[c],i[c+1],i[f],i[f+1],i[p],i[p+1]))return!0}}return!1}destroy(e){var r;if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const i=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(i)}(r=this._geometry)==null||r.off("update",this.onViewUpdate,this),this._texture=null,this._geometry=null,this._shader=null}}class G_ extends Vo{constructor(...e){let n=e[0];Array.isArray(e[0])&&(n={textures:e[0],autoUpdate:e[1]});const{animationSpeed:r=1,autoPlay:i=!1,autoUpdate:s=!0,loop:o=!0,onComplete:u=null,onFrameChange:c=null,onLoop:f=null,textures:p,updateAnchor:v=!1,...b}=n,[y]=p;super({...b,texture:y instanceof ze?y:y.texture}),this._textures=null,this._durations=null,this._autoUpdate=s,this._isConnectedToTicker=!1,this.animationSpeed=r,this.loop=o,this.updateAnchor=v,this.onComplete=u,this.onFrameChange=c,this.onLoop=f,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=p,i&&this.play()}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Si.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Si.shared.add(this.update,this,tc.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const n=e.deltaTime,r=this.animationSpeed*n,i=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=r/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const o=Math.sign(this.animationSpeed*n);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this._updateTexture())}_updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this.texture=this._textures[e],this.updateAnchor&&this.texture.defaultAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const n=[];for(let r=0;r<e.length;++r)n.push(ze.from(e[r]));return new G_(n)}static fromImages(e){const n=[];for(let r=0;r<e.length;++r)n.push(ze.from(e[r]));return new G_(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ze)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Si.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Si.shared.add(this.update,this),this._isConnectedToTicker=!0))}}class oL{constructor({matrix:e,observer:n}={}){this.dirty=!0,this._matrix=e??new Je,this.observer=n,this.position=new Mr(this,0,0),this.scale=new Mr(this,1,1),this.pivot=new Mr(this,0,0),this.skew=new Mr(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const e=this._matrix;return this.dirty&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this.dirty=!1),e}_onUpdate(e){var n;this.dirty=!0,e===this.skew&&this.updateSkew(),(n=this.observer)==null||n._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(e){e.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this.skew))}}const lL=class J2 extends eu{constructor(...e){let n=e[0]||{};n instanceof ze&&(n={texture:n}),e.length>1&&(Qe(Tt,"use new TilingSprite({ texture, width:100, height:100 }) instead"),n.width=e[1],n.height=e[2]),n={...J2.defaultOptions,...n};const{texture:r,anchor:i,tilePosition:s,tileScale:o,tileRotation:u,width:c,height:f,applyAnchorToTexture:p,roundPixels:v,...b}=n??{};super({label:"TilingSprite",...b}),this.renderPipeId="tilingSprite",this.batched=!0,this.allowChildren=!1,this._anchor=new Mr({_onUpdate:()=>{this.onViewUpdate()}}),this.applyAnchorToTexture=p,this.texture=r,this._width=c??r.width,this._height=f??r.height,this._tileTransform=new oL({observer:{_onUpdate:()=>this.onViewUpdate()}}),i&&(this.anchor=i),this.tilePosition=s,this.tileScale=o,this.tileRotation=u,this.roundPixels=v??!1}static from(e,n={}){return typeof e=="string"?new J2({texture:Un.get(e),...n}):new J2({texture:e,...n})}get uvRespectAnchor(){return at("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture}set uvRespectAnchor(e){at("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture=e}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(e){this._texture.textureMatrix.clampMargin=e}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get tilePosition(){return this._tileTransform.position}set tilePosition(e){this._tileTransform.position.copyFrom(e)}get tileScale(){return this._tileTransform.scale}set tileScale(e){typeof e=="number"?this._tileTransform.scale.set(e):this._tileTransform.scale.copyFrom(e)}set tileRotation(e){this._tileTransform.rotation=e}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}set texture(e){e||(e=ze.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}set width(e){this._width=e,this.onViewUpdate()}get width(){return this._width}set height(e){this._height=e,this.onViewUpdate()}get height(){return this._height}setSize(e,n){typeof e=="object"&&(n=e.height??e.width,e=e.width),this._width=e,this._height=n??e,this.onViewUpdate()}getSize(e){return e||(e={}),e.width=this._width,e.height=this._height,e}updateBounds(){const e=this._bounds,n=this._anchor,r=this._width,i=this._height;e.minX=-n._x*r,e.maxX=e.minX+r,e.minY=-n._y*i,e.maxY=e.minY+i}containsPoint(e){const n=this._width,r=this._height,i=-n*this._anchor._x;let s=0;return e.x>=i&&e.x<=i+n&&(s=-r*this._anchor._y,e.y>=s&&e.y<=s+r)}destroy(e=!1){if(super.destroy(e),this._anchor=null,this._tileTransform=null,this._bounds=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(r)}this._texture=null}};lL.defaultOptions={texture:ze.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let uL=lL;class zw extends eu{constructor(e,n){const{text:r,resolution:i,style:s,anchor:o,width:u,height:c,roundPixels:f,...p}=e;super({...p}),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=n,this.text=r??"",this.style=s,this.resolution=i??null,this.allowChildren=!1,this._anchor=new Mr({_onUpdate:()=>{this.onViewUpdate()}}),o&&(this.anchor=o),this.roundPixels=f??!1,u!==void 0&&(this.width=u),c!==void 0&&(this.height=c)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var n;e||(e={}),(n=this._style)==null||n.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this.bounds.width),n!==void 0&&this._setHeight(n,this.bounds.height)}containsPoint(e){const n=this.bounds.width,r=this.bounds.height,i=-n*this.anchor.x;let s=0;return e.x>=i&&e.x<=i+n&&(s=-r*this.anchor.y,e.y>=s&&e.y<=s+r)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}_getKey(){return`${this.text}:${this._style.styleKey}:${this._resolution}`}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e!=null&&e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function Vw(t,e){let n=t[0]??{};return(typeof n=="string"||t[1])&&(Qe(Tt,`use new ${e}({ text: "hi!", style }) instead`),n={text:n,style:t[1]}),n}class Hw extends zw{constructor(...e){const n=Vw(e,"Text");super(n,Ta),this.renderPipeId="text"}updateBounds(){const e=this._bounds,n=this._anchor,r=Ml.measureText(this._text,this._style),{width:i,height:s}=r;e.minX=-n._x*i,e.maxX=e.minX+i,e.minY=-n._y*s,e.maxY=e.minY+s}}class cL extends iL{resolveQueueItem(e,n){return e instanceof Ei?this.resolveContainerQueueItem(e,n):e instanceof br||e instanceof ze?n.push(e.source):e instanceof ls&&n.push(e),null}resolveContainerQueueItem(e,n){e instanceof Vo||e instanceof uL||e instanceof mv?n.push(e.texture.source):e instanceof Hw?n.push(e):e instanceof Bd?n.push(e.context):e instanceof G_&&e.textures.forEach(r=>{r.source?n.push(r.source):n.push(r.texture.source)})}resolveGraphicsContextQueueItem(e){this.renderer.graphicsContext.getGpuContext(e);const{instructions:n}=e;for(const r of n)if(r.action==="texture"){const{image:i}=r.data;return i.source}else if(r.action==="fill"){const{texture:i}=r.data.style;return i.source}return null}}class dL extends zw{constructor(...e){var n;const r=Vw(e,"BitmapText");r.style??(r.style=r.style||{}),(n=r.style).fill??(n.fill=16777215),super(r,Ta),this.renderPipeId="bitmapText"}updateBounds(){const e=this._bounds,n=this._anchor,r=F_.measureText(this.text,this._style),i=r.scale,s=r.offsetY*i;let o=r.width*i,u=r.height*i;const c=this._style._stroke;c&&(o+=c.width,u+=c.width),e.minX=-n._x*o,e.maxX=e.minX+o,e.minY=-n._y*(u+s),e.maxY=e.minY+u}set resolution(e){e!==null&&at("[BitmapText] dynamically updating the resolution is not supported. Resolution should be managed by the BitmapFont.")}get resolution(){return this._resolution}}function hL(t){const e=t._stroke,n=t._fill,i=[`div { ${[`color: ${en.shared.setValue(n.color).toHex()}`,`font-size: ${t.fontSize}px`,`font-family: ${t.fontFamily}`,`font-weight: ${t.fontWeight}`,`font-style: ${t.fontStyle}`,`font-variant: ${t.fontVariant}`,`letter-spacing: ${t.letterSpacing}px`,`text-align: ${t.align}`,`padding: ${t.padding}px`,`white-space: ${t.whiteSpace==="pre"&&t.wordWrap?"pre-wrap":t.whiteSpace}`,...t.lineHeight?[`line-height: ${t.lineHeight}px`]:[],...t.wordWrap?[`word-wrap: ${t.breakWords?"break-all":"break-word"}`,`max-width: ${t.wordWrapWidth}px`]:[],...e?[pL(e)]:[],...t.dropShadow?[fL(t.dropShadow)]:[],...t.cssOverrides].join(";")} }`];return fK(t.tagStyles,i),i.join(" ")}function fL(t){const e=en.shared.setValue(t.color).setAlpha(t.alpha).toHexa(),n=Math.round(Math.cos(t.angle)*t.distance),r=Math.round(Math.sin(t.angle)*t.distance),i=`${n}px ${r}px`;return t.blur>0?`text-shadow: ${i} ${t.blur}px ${e}`:`text-shadow: ${i} ${e}`}function pL(t){return[`-webkit-text-stroke-width: ${t.width}px`,`-webkit-text-stroke-color: ${en.shared.setValue(t.color).toHex()}`,`text-stroke-width: ${t.width}px`,`text-stroke-color: ${en.shared.setValue(t.color).toHex()}`,"paint-order: stroke"].join(";")}const fk={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},pk={fill:t=>`color: ${en.shared.setValue(t).toHex()}`,breakWords:t=>`word-wrap: ${t?"break-all":"break-word"}`,stroke:pL,dropShadow:fL};function fK(t,e){for(const n in t){const r=t[n],i=[];for(const s in r)pk[s]?i.push(pk[s](r[s])):fk[s]&&i.push(fk[s].replace("{{VALUE}}",r[s]));e.push(`${n} { ${i.join(";")} }`)}}class Xf extends Ta{constructor(e={}){super(e),this._cssOverrides=[],this.cssOverrides??(this.cssOverrides=e.cssOverrides),this.tagStyles=e.tagStyles??{}}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=MP(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new Xf({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow?{...this.dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=hL(this)),this._cssStyle}addOverride(...e){const n=e.filter(r=>!this.cssOverrides.includes(r));n.length>0&&(this.cssOverrides.push(...n),this.update())}removeOverride(...e){const n=e.filter(r=>this.cssOverrides.includes(r));n.length>0&&(this.cssOverrides=this.cssOverrides.filter(r=>!n.includes(r)),this.update())}set fill(e){typeof e!="string"&&typeof e!="number"&&at("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&typeof e!="string"&&typeof e!="number"&&at("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}}const p3="http://www.w3.org/2000/svg",g3="http://www.w3.org/1999/xhtml";class $P{constructor(){this.svgRoot=document.createElementNS(p3,"svg"),this.foreignObject=document.createElementNS(p3,"foreignObject"),this.domElement=document.createElementNS(g3,"div"),this.styleElement=document.createElementNS(g3,"style"),this.image=new Image;const{foreignObject:e,svgRoot:n,styleElement:r,domElement:i}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",n.appendChild(e),e.appendChild(r),e.appendChild(i)}}let gk;function jP(t,e,n,r){r||(r=gk||(gk=new $P));const{domElement:i,styleElement:s,svgRoot:o}=r;i.innerHTML=`<style>${e.cssStyle};</style><div style='padding:0'>${t}</div>`,i.setAttribute("style","transform-origin: top left; display: inline-block"),n&&(s.textContent=n),document.body.appendChild(o);const u=i.getBoundingClientRect();o.remove();const c=e.padding*2;return{width:u.width-c,height:u.height-c}}class gL extends zw{constructor(...e){const n=Vw(e,"HtmlText");super(n,Xf),this.renderPipeId="htmlText"}updateBounds(){const e=this._bounds,n=this._anchor,r=jP(this.text,this._style),{width:i,height:s}=r;e.minX=-n._x*i,e.maxX=e.minX+i,e.minY=-n._y*s,e.maxY=e.minY+s}}class mL extends cL{uploadQueueItem(e){e instanceof br?this.uploadTextureSource(e):e instanceof Hw?this.uploadText(e):e instanceof gL?this.uploadHTMLText(e):e instanceof dL?this.uploadBitmapText(e):e instanceof ls&&this.uploadGraphicsContext(e)}uploadTextureSource(e){this.renderer.texture.initSource(e)}uploadText(e){this.renderer.renderPipes.text.initGpuText(e)}uploadBitmapText(e){this.renderer.renderPipes.bitmapText.initGpuText(e)}uploadHTMLText(e){this.renderer.renderPipes.htmlText.initGpuText(e)}uploadGraphicsContext(e){this.renderer.graphicsContext.getGpuContext(e);const{instructions:n}=e;for(const r of n)if(r.action==="texture"){const{image:i}=r.data;this.uploadTextureSource(i.source)}else if(r.action==="fill"){const{texture:i}=r.data.style;this.uploadTextureSource(i.source)}return null}}class vL extends mL{destroy(){clearTimeout(this.timeout),this.renderer=null,this.queue=null,this.resolves=null}}vL.extension={type:[te.WebGLSystem,te.WebGPUSystem],name:"prepare"};class XP{constructor(){this._tempState=Ea.for2d(),this._didUploadHash={}}init(e){e.renderer.runners.contextChange.add(this)}contextChange(){this._didUploadHash={}}start(e,n,r){const i=e.renderer,s=this._didUploadHash[r.uid];i.shader.bind(r,s),s||(this._didUploadHash[r.uid]=!0),i.shader.updateUniformGroup(i.globalUniforms.uniformGroup),i.geometry.bind(n,r.glProgram)}execute(e,n){const r=e.renderer;this._tempState.blendMode=n.blendMode,r.state.set(this._tempState);const i=n.textures.textures;for(let s=0;s<n.textures.count;s++)r.texture.bind(i[s],s);r.geometry.draw(n.topology,n.size,n.start)}}XP.extension={type:[te.WebGLPipesAdaptor],name:"batch"};function pK(t){const e=[];let n=0;for(let r=0;r<t;r++)e[n]={texture:{sampleType:"float",viewDimension:"2d",multisampled:!1},binding:n,visibility:GPUShaderStage.FRAGMENT},n++,e[n]={sampler:{type:"filtering"},binding:n,visibility:GPUShaderStage.FRAGMENT},n++;return e}function gK(t){const e={};let n=0;for(let r=0;r<t;r++)e[`textureSource${r+1}`]=n++,e[`textureSampler${r+1}`]=n++;return e}const S2=Ea.for2d();class YP{start(e,n,r){const i=e.renderer,s=i.encoder,o=r.gpuProgram;this._shader=r,this._geometry=n,s.setGeometry(n,o),S2.blendMode="normal",i.pipeline.getPipeline(n,o,S2);const u=i.globalUniforms.bindGroup;s.resetBindGroup(1),s.setBindGroup(0,u,o)}execute(e,n){const r=this._shader.gpuProgram,i=e.renderer,s=i.encoder;if(!n.bindGroup){const c=n.textures;n.bindGroup=Rw(c.textures,c.count)}S2.blendMode=n.blendMode;const o=i.bindGroup.getBindGroup(n.bindGroup,r,1),u=i.pipeline.getPipeline(this._geometry,r,S2,n.topology);n.bindGroup._touch(i.textureGC.count),s.setPipeline(u),s.renderPassEncoder.setBindGroup(1,o),s.renderPassEncoder.drawIndexed(n.size,1,n.start)}}YP.extension={type:[te.WebGPUPipesAdaptor],name:"batch"};const qP=class bL{constructor(e,n){var r,i;this.state=Ea.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=e,this._adaptor=n,(i=(r=this._adaptor).init)==null||i.call(r,this)}static getBatcher(e){return new this._availableBatchers[e]}buildStart(e){let n=this._batchersByInstructionSet[e.uid];n||(n=this._batchersByInstructionSet[e.uid]=Object.create(null),n.default||(n.default=new kw)),this._activeBatches=n,this._activeBatch=this._activeBatches.default;for(const r in this._activeBatches)this._activeBatches[r].begin()}addToBatch(e,n){if(this._activeBatch.name!==e.batcherName){this._activeBatch.break(n);let r=this._activeBatches[e.batcherName];r||(r=this._activeBatches[e.batcherName]=bL.getBatcher(e.batcherName),r.begin()),this._activeBatch=r}this._activeBatch.add(e)}break(e){this._activeBatch.break(e)}buildEnd(e){this._activeBatch.break(e);const n=this._activeBatches;for(const r in n){const i=n[r],s=i.geometry;s.indexBuffer.setDataWithSize(i.indexBuffer,i.indexSize,!0),s.buffers[0].setDataWithSize(i.attributeBuffer.float32View,i.attributeSize,!1)}}upload(e){const n=this._batchersByInstructionSet[e.uid];for(const r in n){const i=n[r],s=i.geometry;i.dirty&&(i.dirty=!1,s.buffers[0].update(i.attributeSize*4))}}execute(e){if(e.action==="startBatch"){const n=e.batcher,r=n.geometry,i=n.shader;this._adaptor.start(this,r,i)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const e in this._activeBatches)this._activeBatches[e].destroy();this._activeBatches=null}};qP.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"batch"};qP._availableBatchers=Object.create(null);let KP=qP;An.handleByMap(te.Batcher,KP._availableBatchers);An.add(kw);function mK(t){const e=t.split(/([\n{}])/g).map(i=>i.trim()).filter(i=>i.length);let n="";return e.map(i=>{let s=n+i;return i==="{"?n+="    ":i==="}"&&(n=n.substr(0,n.length-4),s=n+i),s}).join(`
`)}const Om={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},_L={...Om,vertex:{...Om.vertex,header:Om.vertex.header.replace("group(1)","group(2)")}},Ww={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}},yL={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;

         
        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},xL={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;

         
        `,main:`
            outColor = texture(uTexture, vUV);
        `}},vK=new Zr;class bK extends O_{constructor(){super(),this.filters=[new tL({sprite:new Vo(ze.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}get inverse(){return this.filters[0].inverse}set inverse(e){this.filters[0].inverse=e}}class ZP{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,n,r){const i=this._renderer;if(i.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,inverse:n._maskOptions.inverse,canBundle:!1,maskedContainer:n}),e.inverse=n._maskOptions.inverse,e.renderMaskToTexture){const s=e.mask;s.includeInBuild=!0,s.collectRenderables(r,i,null),s.includeInBuild=!1}i.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:n,inverse:n._maskOptions.inverse,canBundle:!1})}pop(e,n,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,inverse:n._maskOptions.inverse,canBundle:!1})}execute(e){const n=this._renderer,r=e.mask.renderMaskToTexture;if(e.action==="pushMaskBegin"){const i=Xt.get(bK);if(i.inverse=e.inverse,r){e.mask.mask.measurable=!0;const s=ay(e.mask.mask,!0,vK);e.mask.mask.measurable=!1,s.ceil();const o=n.renderTarget.renderTarget.colorTexture.source,u=Dr.getOptimalTexture(s.width,s.height,o._resolution,o.antialias);n.renderTarget.push(u,!0),n.globalUniforms.push({offset:s,worldColor:4294967295});const c=i.sprite;c.texture=u,c.worldTransform.tx=s.minX,c.worldTransform.ty=s.minY,this._activeMaskStage.push({filterEffect:i,maskedContainer:e.maskedContainer,filterTexture:u})}else i.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:i,maskedContainer:e.maskedContainer})}else if(e.action==="pushMaskEnd"){const i=this._activeMaskStage[this._activeMaskStage.length-1];r&&(n.type===Ws.WEBGL&&n.renderTarget.finishRenderPass(),n.renderTarget.pop(),n.globalUniforms.pop()),n.filter.push({renderPipeId:"filter",action:"pushFilter",container:i.maskedContainer,filterEffect:i.filterEffect,canBundle:!1})}else if(e.action==="popMaskEnd"){n.filter.pop();const i=this._activeMaskStage.pop();r&&Dr.returnTexture(i.filterTexture),Xt.return(i.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}ZP.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"alphaMask"};class QP{constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,n,r){this._renderer.renderPipes.batch.break(r);const s=this._colorStack;s[this._colorStackIndex]=s[this._colorStackIndex-1]&e.mask;const o=this._colorStack[this._colorStackIndex];o!==this._currentColor&&(this._currentColor=o,r.add({renderPipeId:"colorMask",colorMask:o,canBundle:!1})),this._colorStackIndex++}pop(e,n,r){this._renderer.renderPipes.batch.break(r);const s=this._colorStack;this._colorStackIndex--;const o=s[this._colorStackIndex-1];o!==this._currentColor&&(this._currentColor=o,r.add({renderPipeId:"colorMask",colorMask:o,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}QP.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"colorMask"};class _K{constructor(e){this.priority=0,this.pipe="scissorMask",this.mask=e,this.mask.renderable=!1,this.mask.measurable=!1}addBounds(e,n){xw(this.mask,e,n)}addLocalBounds(e,n){Sw(this.mask,e,n)}containsPoint(e,n){const r=this.mask;return n(r,e)}reset(){this.mask.measurable=!0,this.mask=null}destroy(){this.reset()}}class JP{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,n,r){var i;const s=e,o=this._renderer;o.renderPipes.batch.break(r),o.renderPipes.blendMode.setBlendMode(s.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,inverse:n._maskOptions.inverse,canBundle:!1});const u=s.mask;u.includeInBuild=!0,this._maskHash.has(s)||this._maskHash.set(s,{instructionsStart:0,instructionsLength:0});const c=this._maskHash.get(s);c.instructionsStart=r.instructionSize,u.collectRenderables(r,o,null),u.includeInBuild=!1,o.renderPipes.batch.break(r),r.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,inverse:n._maskOptions.inverse,canBundle:!1});const f=r.instructionSize-c.instructionsStart-1;c.instructionsLength=f;const p=o.renderTarget.renderTarget.uid;(i=this._maskStackHash)[p]??(i[p]=0)}pop(e,n,r){const i=e,s=this._renderer;s.renderPipes.batch.break(r),s.renderPipes.blendMode.setBlendMode(i.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:n._maskOptions.inverse,canBundle:!1});const o=this._maskHash.get(e);for(let u=0;u<o.instructionsLength;u++)r.instructions[r.instructionSize++]=r.instructions[o.instructionsStart++];r.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var n;const r=this._renderer,i=r.renderTarget.renderTarget.uid;let s=(n=this._maskStackHash)[i]??(n[i]=0);e.action==="pushMaskBegin"?(r.renderTarget.ensureDepthStencil(),r.stencil.setStencilMode(mr.RENDERING_MASK_ADD,s),s++,r.colorMask.setMask(0)):e.action==="pushMaskEnd"?(e.inverse?r.stencil.setStencilMode(mr.INVERSE_MASK_ACTIVE,s):r.stencil.setStencilMode(mr.MASK_ACTIVE,s),r.colorMask.setMask(15)):e.action==="popMaskBegin"?(r.colorMask.setMask(0),s!==0?r.stencil.setStencilMode(mr.RENDERING_MASK_REMOVE,s):(r.renderTarget.clear(null,ks.STENCIL),r.stencil.setStencilMode(mr.DISABLED,s)),s--):e.action==="popMaskEnd"&&(e.inverse?r.stencil.setStencilMode(mr.INVERSE_MASK_ACTIVE,s):r.stencil.setStencilMode(mr.MASK_ACTIVE,s),r.colorMask.setMask(15)),this._maskStackHash[i]=s}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}JP.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"stencilMask"};var g_=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(g_||{});class SL{constructor(e,n){this._lastBindBaseLocation=-1,this._lastBindCallId=-1,this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.type=n}}class eO{constructor(e){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._minBaseLocation=0,this._nextBindBaseIndex=this._minBaseLocation,this._bindCallId=0,this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBuffers")}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){const e=this._gl=this._renderer.gl;this._gpuBuffers=Object.create(null),this._maxBindings=e.MAX_UNIFORM_BUFFER_BINDINGS?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0}getGlBuffer(e){return this._gpuBuffers[e.uid]||this.createGLBuffer(e)}bind(e){const{_gl:n}=this,r=this.getGlBuffer(e);n.bindBuffer(r.type,r.buffer)}bindBufferBase(e,n){const{_gl:r}=this;this._boundBufferBases[n]!==e&&(this._boundBufferBases[n]=e,e._lastBindBaseLocation=n,r.bindBufferBase(r.UNIFORM_BUFFER,n,e.buffer))}nextBindBase(e){this._bindCallId++,this._minBaseLocation=0,e&&(this._boundBufferBases[0]=null,this._minBaseLocation=1,this._nextBindBaseIndex<1&&(this._nextBindBaseIndex=1))}freeLocationForBufferBase(e){let n=this.getLastBindBaseLocation(e);if(n>=this._minBaseLocation)return e._lastBindCallId=this._bindCallId,n;let r=0,i=this._nextBindBaseIndex;for(;r<2;){i>=this._maxBindings&&(i=this._minBaseLocation,r++);const s=this._boundBufferBases[i];if(s&&s._lastBindCallId===this._bindCallId){i++;continue}break}return n=i,this._nextBindBaseIndex=i+1,r>=2?-1:(e._lastBindCallId=this._bindCallId,this._boundBufferBases[n]=null,n)}getLastBindBaseLocation(e){const n=e._lastBindBaseLocation;return this._boundBufferBases[n]===e?n:-1}bindBufferRange(e,n,r,i){const{_gl:s}=this;r||(r=0),n||(n=0),this._boundBufferBases[n]=null,s.bindBufferRange(s.UNIFORM_BUFFER,n||0,e.buffer,r*256,i||256)}updateBuffer(e){const{_gl:n}=this,r=this.getGlBuffer(e);if(e._updateID===r.updateID)return r;r.updateID=e._updateID,n.bindBuffer(r.type,r.buffer);const i=e.data,s=e.descriptor.usage&Wt.STATIC?n.STATIC_DRAW:n.DYNAMIC_DRAW;return i?r.byteLength>=i.byteLength?n.bufferSubData(r.type,0,i,0,e._updateSize/i.BYTES_PER_ELEMENT):(r.byteLength=i.byteLength,n.bufferData(r.type,i,s)):(r.byteLength=e.descriptor.size,n.bufferData(r.type,r.byteLength,s)),r}destroyAll(){const e=this._gl;for(const n in this._gpuBuffers)e.deleteBuffer(this._gpuBuffers[n].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(e,n){const r=this._gpuBuffers[e.uid],i=this._gl;n||i.deleteBuffer(r.buffer),this._gpuBuffers[e.uid]=null}createGLBuffer(e){const{_gl:n}=this;let r=g_.ARRAY_BUFFER;e.descriptor.usage&Wt.INDEX?r=g_.ELEMENT_ARRAY_BUFFER:e.descriptor.usage&Wt.UNIFORM&&(r=g_.UNIFORM_BUFFER);const i=new SL(n.createBuffer(),r);return this._gpuBuffers[e.uid]=i,e.on("destroy",this.onBufferDestroy,this),i}resetState(){this._boundBufferBases=Object.create(null)}}eO.extension={type:[te.WebGLSystem],name:"buffer"};const tO=class wL{constructor(e){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=e,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this._renderer.gl=e}init(e){e={...wL.defaultOptions,...e};let n=this.multiView=e.multiView;if(e.context&&n&&(at("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),n=!1),n?this.canvas=Yt.get().createCanvas(this._renderer.canvas.width,this._renderer.canvas.height):this.canvas=this._renderer.view.canvas,e.context)this.initFromContext(e.context);else{const r=this._renderer.background.alpha<1,i=e.premultipliedAlpha??!0,s=e.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(e.preferWebGLVersion,{alpha:r,premultipliedAlpha:i,antialias:s,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference??"default"})}}ensureCanvasSize(e){if(!this.multiView){e!==this.canvas&&at("multiView is disabled, but targetCanvas is not the main canvas");return}const{canvas:n}=this;(n.width<e.width||n.height<e.height)&&(n.width=Math.max(e.width,e.width),n.height=Math.max(e.height,e.height))}initFromContext(e){this.gl=e,this.webGLVersion=e instanceof Yt.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(e),this._renderer.runners.contextChange.emit(e);const n=this._renderer.view.canvas;n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(e,n){let r;const i=this.canvas;if(e===2&&(r=i.getContext("webgl2",n)),!r&&(r=i.getContext("webgl",n),!r))throw new Error("This browser does not support WebGL. Try using the canvas renderer");this.gl=r,this.initFromContext(this.gl)}getExtensions(){const{gl:e}=this,n={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc"),rgtc:e.getExtension("EXT_texture_compression_rgtc"),loseContext:e.getExtension("WEBGL_lose_context")};if(this.webGLVersion===1)this.extensions={...n,drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:e.getExtension("ANGLE_instanced_arrays"),srgb:e.getExtension("EXT_sRGB")};else{this.extensions={...n,colorBufferFloat:e.getExtension("EXT_color_buffer_float")};const r=e.getExtension("WEBGL_provoking_vertex");r&&r.provokingVertexWEBGL(r.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(e){e.preventDefault(),this._contextLossForced&&(this._contextLossForced=!1,setTimeout(()=>{var n;this.gl.isContextLost()&&((n=this.extensions.loseContext)==null||n.restoreContext())},0))}handleContextRestored(){this.getExtensions(),this._renderer.runners.contextChange.emit(this.gl)}destroy(){var n;const e=this._renderer.view.canvas;this._renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),(n=this.extensions.loseContext)==null||n.loseContext()}forceContextLoss(){var e;(e=this.extensions.loseContext)==null||e.loseContext(),this._contextLossForced=!0}validateContext(e){const n=e.getContextAttributes();n&&!n.stencil&&at("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const r=this.supports,i=this.webGLVersion===2,s=this.extensions;r.uint32Indices=i||!!s.uint32ElementIndex,r.uniformBufferObject=i,r.vertexArrayObject=i||!!s.vertexArrayObject,r.srgbTextures=i||!!s.srgb,r.nonPowOf2wrapping=i,r.nonPowOf2mipmaps=i,r.msaa=i,r.uint32Indices||at("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}};tO.extension={type:[te.WebGLSystem],name:"context"};tO.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2,multiView:!1};let EL=tO;function nO(t,e){for(const n in t.attributes){const r=t.attributes[n],i=e[n];i?(r.format??(r.format=i.format),r.offset??(r.offset=i.offset),r.instance??(r.instance=i.instance)):at(`Attribute ${n} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}yK(t)}function yK(t){const{buffers:e,attributes:n}=t,r={},i={};for(const s in e){const o=e[s];r[o.uid]=0,i[o.uid]=0}for(const s in n){const o=n[s];r[o.buffer.uid]+=nc(o.format).stride}for(const s in n){const o=n[s];o.stride??(o.stride=r[o.buffer.uid]),o.start??(o.start=i[o.buffer.uid]),i[o.buffer.uid]+=nc(o.format).stride}}var RS=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(RS||{}),rO=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(rO||{}),TL=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(TL||{}),sn=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(sn||{});const mk={uint8x2:sn.UNSIGNED_BYTE,uint8x4:sn.UNSIGNED_BYTE,sint8x2:sn.BYTE,sint8x4:sn.BYTE,unorm8x2:sn.UNSIGNED_BYTE,unorm8x4:sn.UNSIGNED_BYTE,snorm8x2:sn.BYTE,snorm8x4:sn.BYTE,uint16x2:sn.UNSIGNED_SHORT,uint16x4:sn.UNSIGNED_SHORT,sint16x2:sn.SHORT,sint16x4:sn.SHORT,unorm16x2:sn.UNSIGNED_SHORT,unorm16x4:sn.UNSIGNED_SHORT,snorm16x2:sn.SHORT,snorm16x4:sn.SHORT,float16x2:sn.HALF_FLOAT,float16x4:sn.HALF_FLOAT,float32:sn.FLOAT,float32x2:sn.FLOAT,float32x3:sn.FLOAT,float32x4:sn.FLOAT,uint32:sn.UNSIGNED_INT,uint32x2:sn.UNSIGNED_INT,uint32x3:sn.UNSIGNED_INT,uint32x4:sn.UNSIGNED_INT,sint32:sn.INT,sint32x2:sn.INT,sint32x3:sn.INT,sint32x4:sn.INT};function CL(t){return mk[t]??mk.float32}const xK={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};class iO{constructor(e){this._geometryVaoHash=Object.create(null),this._renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this._renderer.renderableGC.addManagedHash(this,"_geometryVaoHash")}contextChange(){const e=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");const n=this._renderer.context.extensions.vertexArrayObject;n&&(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i));const r=this._renderer.context.extensions.vertexAttribDivisorANGLE;r&&(e.drawArraysInstanced=(i,s,o,u)=>{r.drawArraysInstancedANGLE(i,s,o,u)},e.drawElementsInstanced=(i,s,o,u,c)=>{r.drawElementsInstancedANGLE(i,s,o,u,c)},e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s)),this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(e,n){const r=this.gl;this._activeGeometry=e;const i=this.getVao(e,n);this._activeVao!==i&&(this._activeVao=i,r.bindVertexArray(i)),this.updateBuffers()}resetState(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this._renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];n.updateBuffer(i)}}checkCompatibility(e,n){const r=e.attributes,i=n._attributeData;for(const s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,n){const r=e.attributes,i=n._attributeData,s=["g",e.uid];for(const o in r)i[o]&&s.push(o,i[o].location);return s.join("-")}getVao(e,n){var r;return((r=this._geometryVaoHash[e.uid])==null?void 0:r[n._key])||this.initGeometryVao(e,n)}initGeometryVao(e,n,r=!0){const i=this._renderer.gl,s=this._renderer.buffer;this._renderer.shader._getProgramData(n),this.checkCompatibility(e,n);const o=this.getSignature(e,n);this._geometryVaoHash[e.uid]||(this._geometryVaoHash[e.uid]=Object.create(null),e.on("destroy",this.onGeometryDestroy,this));const u=this._geometryVaoHash[e.uid];let c=u[o];if(c)return u[n._key]=c,c;nO(e,n._attributeData);const f=e.buffers;c=i.createVertexArray(),i.bindVertexArray(c);for(let p=0;p<f.length;p++){const v=f[p];s.bind(v)}return this.activateVao(e,n),u[n._key]=c,u[o]=c,i.bindVertexArray(null),c}onGeometryDestroy(e,n){const r=this._geometryVaoHash[e.uid],i=this.gl;if(r){if(n)for(const s in r)this._activeVao!==r[s]&&this.unbind(),i.deleteVertexArray(r[s]);this._geometryVaoHash[e.uid]=null}}destroyAll(e=!1){const n=this.gl;for(const r in this._geometryVaoHash){if(e)for(const i in this._geometryVaoHash[r]){const s=this._geometryVaoHash[r];this._activeVao!==s&&this.unbind(),n.deleteVertexArray(s[i])}this._geometryVaoHash[r]=null}}activateVao(e,n){var u;const r=this._renderer.gl,i=this._renderer.buffer,s=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);let o=null;for(const c in s){const f=s[c],p=f.buffer,v=i.getGlBuffer(p),b=n._attributeData[c];if(b){o!==v&&(i.bind(p),o=v);const y=b.location;r.enableVertexAttribArray(y);const E=nc(f.format),S=CL(f.format);if(((u=b.format)==null?void 0:u.substring(1,4))==="int"?r.vertexAttribIPointer(y,E.size,S,f.stride,f.offset):r.vertexAttribPointer(y,E.size,S,E.normalised,f.stride,f.offset),f.instance)if(this.hasInstance){const T=f.divisor??1;r.vertexAttribDivisor(y,T)}else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,r,i){const{gl:s}=this._renderer,o=this._activeGeometry,u=xK[e||o.topology];if(i??(i=o.instanceCount),o.indexBuffer){const c=o.indexBuffer.data.BYTES_PER_ELEMENT,f=c===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;i>1?s.drawElementsInstanced(u,n||o.indexBuffer.data.length,f,(r||0)*c,i):s.drawElements(u,n||o.indexBuffer.data.length,f,(r||0)*c)}else i>1?s.drawArraysInstanced(u,r||0,n||o.getSize(),i):s.drawArrays(u,r||0,n||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null}}iO.extension={type:[te.WebGLSystem],name:"geometry"};const SK=new ip({attributes:{aPosition:[-1,-1,3,-1,-1,3]}}),sO=class AL{constructor(e){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=e}init(e={}){const{useBackBuffer:n,antialias:r}={...AL.defaultOptions,...e};this.useBackBuffer=n,this._antialias=r,this._renderer.context.supports.msaa||(at("antialiasing, is not supported on when using the back buffer"),this._antialias=!1),this._state=Ea.for2d();const i=new Xs({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new Ma({glProgram:i,resources:{uTexture:ze.WHITE.source}})}renderStart(e){const n=this._renderer.renderTarget.getRenderTarget(e.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!n.isRoot,this._useBackBufferThisRender){const r=this._renderer.renderTarget.getRenderTarget(e.target);this._targetTexture=r.colorTexture,e.target=this._getBackBufferTexture(r.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){const e=this._renderer;e.renderTarget.finishRenderPass(),this._useBackBufferThisRender&&(e.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,e.encoder.draw({geometry:SK,shader:this._bigTriangleShader,state:this._state}))}_getBackBufferTexture(e){return this._backBufferTexture=this._backBufferTexture||new ze({source:new br({width:e.width,height:e.height,resolution:e._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(e.width,e.height,e._resolution),this._backBufferTexture}destroy(){this._backBufferTexture&&(this._backBufferTexture.destroy(),this._backBufferTexture=null)}};sO.extension={type:[te.WebGLSystem],name:"backBuffer",priority:1};sO.defaultOptions={useBackBuffer:!1};let RL=sO;class aO{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.gl.colorMask(!!(e&8),!!(e&4),!!(e&2),!!(e&1)))}}aO.extension={type:[te.WebGLSystem],name:"colorMask"};class oO{constructor(e){this.commandFinished=Promise.resolve(),this._renderer=e}setGeometry(e,n){this._renderer.geometry.bind(e,n.glProgram)}finishRenderPass(){}draw(e){const n=this._renderer,{geometry:r,shader:i,state:s,skipSync:o,topology:u,size:c,start:f,instanceCount:p}=e;n.shader.bind(i,o),n.geometry.bind(r,n.shader._activeProgram),s&&n.state.set(s),n.geometry.draw(u,c,f,p??r.instanceCount)}destroy(){this._renderer=null}}oO.extension={type:[te.WebGLSystem],name:"encoder"};class PL{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}const dc=[];dc[mr.NONE]=void 0;dc[mr.DISABLED]={stencilWriteMask:0,stencilReadMask:0};dc[mr.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}};dc[mr.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}};dc[mr.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};dc[mr.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"replace"},stencilBack:{compare:"not-equal",passOp:"replace"}};class lO{constructor(e){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:mr.NONE},this._renderTargetStencilState=Object.create(null),e.renderTarget.onRenderTargetChange.add(this)}contextChange(e){this._gl=e,this._comparisonFuncMapping={always:e.ALWAYS,never:e.NEVER,equal:e.EQUAL,"not-equal":e.NOTEQUAL,less:e.LESS,"less-equal":e.LEQUAL,greater:e.GREATER,"greater-equal":e.GEQUAL},this._stencilOpsMapping={keep:e.KEEP,zero:e.ZERO,replace:e.REPLACE,invert:e.INVERT,"increment-clamp":e.INCR,"decrement-clamp":e.DECR,"increment-wrap":e.INCR_WRAP,"decrement-wrap":e.DECR_WRAP},this.resetState()}onRenderTargetChange(e){if(this._activeRenderTarget===e)return;this._activeRenderTarget=e;let n=this._renderTargetStencilState[e.uid];n||(n=this._renderTargetStencilState[e.uid]={stencilMode:mr.DISABLED,stencilReference:0}),this.setStencilMode(n.stencilMode,n.stencilReference)}resetState(){this._stencilCache.enabled=!1,this._stencilCache.stencilMode=mr.NONE,this._stencilCache.stencilReference=0}setStencilMode(e,n){const r=this._renderTargetStencilState[this._activeRenderTarget.uid],i=this._gl,s=dc[e],o=this._stencilCache;if(r.stencilMode=e,r.stencilReference=n,e===mr.DISABLED){this._stencilCache.enabled&&(this._stencilCache.enabled=!1,i.disable(i.STENCIL_TEST));return}this._stencilCache.enabled||(this._stencilCache.enabled=!0,i.enable(i.STENCIL_TEST)),(e!==o.stencilMode||o.stencilReference!==n)&&(o.stencilMode=e,o.stencilReference=n,i.stencilFunc(this._comparisonFuncMapping[s.stencilBack.compare],n,255),i.stencilOp(i.KEEP,i.KEEP,this._stencilOpsMapping[s.stencilBack.passOp]))}}lO.extension={type:[te.WebGLSystem],name:"stencil"};class uO{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!cP())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const n=this.getUniformGroupData(e);e.buffer||(e.buffer=new cs({data:new Float32Array(n.layout.size/4),usage:Wt.UNIFORM|Wt.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const n=e._signature;let r=this._syncFunctionHash[n];if(!r){const i=Object.keys(e.uniformStructures).map(u=>e.uniformStructures[u]),s=this._adaptor.createUboElements(i),o=this._generateUboSync(s.uboElements);r=this._syncFunctionHash[n]={layout:s,syncFunction:o}}return this._syncFunctionHash[n]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,n,r){const i=this.getUniformGroupData(e);e.buffer||(e.buffer=new cs({data:new Float32Array(i.layout.size/4),usage:Wt.UNIFORM|Wt.COPY_DST}));let s=null;return n||(n=e.buffer.data,s=e.buffer.dataInt32),r||(r=0),i.syncFunction(e.uniforms,n,s,r),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const n=this.syncUniformGroup(e);return e.buffer.update(),n}destroy(){this._syncFunctionHash=null}}const cO={f32:4,i32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"vec2<i32>":8,"vec3<i32>":12,"vec4<i32>":16,"mat2x2<f32>":16*2,"mat3x3<f32>":16*3,"mat4x4<f32>":16*4};function OL(t){const e=t.map(s=>({data:s,offset:0,size:0})),n=16;let r=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=cO[o.data.type],!r)throw new Error(`Unknown type ${o.data.type}`);o.data.size>1&&(r=Math.max(r,n)*o.data.size);const u=r===12?16:r;o.size=r;const c=i%n;c>0&&n-c<u?i+=(n-c)%16:i+=(r-c%r)%r,o.offset=i,i+=r}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}const bd=[{type:"mat3x3<f32>",test:t=>t.value.a!==void 0,ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:`
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:t=>t.type==="vec4<f32>"&&t.size===1&&t.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:t=>t.type==="vec2<f32>"&&t.size===1&&t.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:t=>t.type==="vec4<f32>"&&t.size===1&&t.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:t=>t.type==="vec3<f32>"&&t.size===1&&t.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}];function dO(t,e,n,r){const i=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `];let s=0;for(let u=0;u<t.length;u++){const c=t[u],f=c.data.name;let p=!1,v=0;for(let b=0;b<bd.length;b++)if(bd[b].test(c.data)){v=c.offset/4,i.push(`name = "${f}";`,`offset += ${v-s};`,bd[b][e]||bd[b].ubo),p=!0;break}if(!p)if(c.data.size>1)v=c.offset/4,i.push(n(c,v-s));else{const b=r[c.data.type];v=c.offset/4,i.push(`
                    v = uv.${f};
                    offset += ${v-s};
                    ${b};
                `)}s=v}const o=i.join(`
`);return new Function("uv","data","dataInt32","offset",o)}function Kg(t,e){return`
        for (let i = 0; i < ${t*e}; i++) {
            data[offset + (((i / ${t})|0) * 4) + (i % ${t})] = v[i];
        }
    `}const hO={f32:`
        data[offset] = v;`,i32:`
        dataInt32[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"vec2<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];`,"vec3<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];`,"vec4<i32>":`
        dataInt32[offset] = v[0];
        dataInt32[offset + 1] = v[1];
        dataInt32[offset + 2] = v[2];
        dataInt32[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":Kg(3,2),"mat4x2<f32>":Kg(4,2),"mat2x3<f32>":Kg(2,3),"mat4x3<f32>":Kg(4,3),"mat2x4<f32>":Kg(2,4),"mat3x4<f32>":Kg(3,4)},ML={...hO,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `};function DL(t,e){const n=Math.max(cO[t.data.type]/16,1),r=t.data.value.length/t.data.size,i=(4-r%4)%4,s=t.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
        v = uv.${t.data.name};
        offset += ${e};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${t.data.size*n}; i++)
        {
            for(var j = 0; j < ${r}; j++)
            {
                ${s}[arrayOffset++] = v[t++];
            }
            ${i!==0?`arrayOffset += ${i};`:""}
        }
    `}function BL(t){return dO(t,"uboStd40",DL,hO)}class fO extends uO{constructor(){super({createUboElements:OL,generateUboSync:BL})}}fO.extension={type:[te.WebGLSystem],name:"ubo"};class kL{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new vn}init(e,n){this._renderer=e,this._renderTargetSystem=n,e.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new vn}copyToTexture(e,n,r,i,s){const o=this._renderTargetSystem,u=this._renderer,c=o.getGpuRenderTarget(e),f=u.gl;return this.finishRenderPass(e),f.bindFramebuffer(f.FRAMEBUFFER,c.resolveTargetFramebuffer),u.texture.bind(n,0),f.copyTexSubImage2D(f.TEXTURE_2D,0,s.x,s.y,r.x,r.y,i.width,i.height),n}startRenderPass(e,n=!0,r,i){const s=this._renderTargetSystem,o=e.colorTexture,u=s.getGpuRenderTarget(e);let c=i.y;e.isRoot&&(c=o.pixelHeight-i.height),e.colorTextures.forEach(v=>{this._renderer.texture.unbind(v)});const f=this._renderer.gl;f.bindFramebuffer(f.FRAMEBUFFER,u.framebuffer);const p=this._viewPortCache;(p.x!==i.x||p.y!==c||p.width!==i.width||p.height!==i.height)&&(p.x=i.x,p.y=c,p.width=i.width,p.height=i.height,f.viewport(i.x,c,i.width,i.height)),!u.depthStencilRenderBuffer&&(e.stencil||e.depth)&&this._initStencil(u),this.clear(e,n,r)}finishRenderPass(e){const r=this._renderTargetSystem.getGpuRenderTarget(e);if(!r.msaa)return;const i=this._renderer.gl;i.bindFramebuffer(i.FRAMEBUFFER,r.resolveTargetFramebuffer),i.bindFramebuffer(i.READ_FRAMEBUFFER,r.framebuffer),i.blitFramebuffer(0,0,r.width,r.height,0,0,r.width,r.height,i.COLOR_BUFFER_BIT,i.NEAREST),i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)}initGpuRenderTarget(e){const r=this._renderer.gl,i=new PL,s=e.colorTexture;return Gl.test(s.resource)?(this._renderer.context.ensureCanvasSize(e.colorTexture.resource),i.framebuffer=null,i):(this._initColor(e,i),r.bindFramebuffer(r.FRAMEBUFFER,null),i)}destroyGpuRenderTarget(e){const n=this._renderer.gl;e.framebuffer&&(n.deleteFramebuffer(e.framebuffer),e.framebuffer=null),e.resolveTargetFramebuffer&&(n.deleteFramebuffer(e.resolveTargetFramebuffer),e.resolveTargetFramebuffer=null),e.depthStencilRenderBuffer&&(n.deleteRenderbuffer(e.depthStencilRenderBuffer),e.depthStencilRenderBuffer=null),e.msaaRenderBuffer.forEach(r=>{n.deleteRenderbuffer(r)}),e.msaaRenderBuffer=null}clear(e,n,r){if(!n)return;const i=this._renderTargetSystem;typeof n=="boolean"&&(n=n?ks.ALL:ks.NONE);const s=this._renderer.gl;if(n&ks.COLOR){r??(r=i.defaultClearColor);const o=this._clearColorCache,u=r;(o[0]!==u[0]||o[1]!==u[1]||o[2]!==u[2]||o[3]!==u[3])&&(o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[3],s.clearColor(u[0],u[1],u[2],u[3]))}s.clear(n)}resizeGpuRenderTarget(e){if(e.isRoot)return;const r=this._renderTargetSystem.getGpuRenderTarget(e);this._resizeColor(e,r),(e.stencil||e.depth)&&this._resizeStencil(r)}_initColor(e,n){const r=this._renderer,i=r.gl,s=i.createFramebuffer();if(n.resolveTargetFramebuffer=s,i.bindFramebuffer(i.FRAMEBUFFER,s),n.width=e.colorTexture.source.pixelWidth,n.height=e.colorTexture.source.pixelHeight,e.colorTextures.forEach((o,u)=>{const c=o.source;c.antialias&&(r.context.supports.msaa?n.msaa=!0:at("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),r.texture.bindSource(c,0);const p=r.texture.getGlSource(c).texture;i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+u,3553,p,0)}),n.msaa){const o=i.createFramebuffer();n.framebuffer=o,i.bindFramebuffer(i.FRAMEBUFFER,o),e.colorTextures.forEach((u,c)=>{const f=i.createRenderbuffer();n.msaaRenderBuffer[c]=f})}else n.framebuffer=s;this._resizeColor(e,n)}_resizeColor(e,n){const r=e.colorTexture.source;if(n.width=r.pixelWidth,n.height=r.pixelHeight,e.colorTextures.forEach((i,s)=>{s!==0&&i.source.resize(r.width,r.height,r._resolution)}),n.msaa){const i=this._renderer,s=i.gl,o=n.framebuffer;s.bindFramebuffer(s.FRAMEBUFFER,o),e.colorTextures.forEach((u,c)=>{const f=u.source;i.texture.bindSource(f,0);const v=i.texture.getGlSource(f).internalFormat,b=n.msaaRenderBuffer[c];s.bindRenderbuffer(s.RENDERBUFFER,b),s.renderbufferStorageMultisample(s.RENDERBUFFER,4,v,f.pixelWidth,f.pixelHeight),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+c,s.RENDERBUFFER,b)})}}_initStencil(e){if(e.framebuffer===null)return;const n=this._renderer.gl,r=n.createRenderbuffer();e.depthStencilRenderBuffer=r,n.bindRenderbuffer(n.RENDERBUFFER,r),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r),this._resizeStencil(e)}_resizeStencil(e){const n=this._renderer.gl;n.bindRenderbuffer(n.RENDERBUFFER,e.depthStencilRenderBuffer),e.msaa?n.renderbufferStorageMultisample(n.RENDERBUFFER,4,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,this._renderer.context.webGLVersion===2?n.DEPTH24_STENCIL8:n.DEPTH_STENCIL,e.width,e.height)}prerender(e){const n=e.colorTexture.resource;this._renderer.context.multiView&&Gl.test(n)&&this._renderer.context.ensureCanvasSize(n)}postrender(e){if(this._renderer.context.multiView&&Gl.test(e.colorTexture.resource)){const n=this._renderer.context.canvas,r=e.colorTexture;r.context2D.drawImage(n,0,r.pixelHeight-n.height)}}}function IL(t,e,n,r,i,s){const o=s?1:-1;return t.identity(),t.a=1/r*2,t.d=o*(1/i*2),t.tx=-1-e*t.a,t.ty=-o-n*t.d,t}const am=new Map;function pO(t,e){if(!am.has(t)){const n=new ze({source:new Gl({resource:t,...e})}),r=()=>{am.get(t)===n&&am.delete(t)};n.once("destroy",r),n.source.once("destroy",r),am.set(t,n)}return am.get(t)}function wK(t){return am.has(t)}function NL(t){const e=t.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement&&document.body.contains(e)}const UL=class FL{constructor(e={}){if(this.uid=Xn("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,e={...FL.defaultOptions,...e},this.stencil=e.stencil,this.depth=e.depth,this.isRoot=e.isRoot,typeof e.colorTextures=="number"){this._managedColorTextures=!0;for(let n=0;n<e.colorTextures;n++)this.colorTextures.push(new br({width:e.width,height:e.height,resolution:e.resolution,antialias:e.antialias}))}else{this.colorTextures=[...e.colorTextures.map(r=>r.source)];const n=this.colorTexture.source;this.resize(n.width,n.height,n._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(e.depthStencilTexture||this.stencil)&&(e.depthStencilTexture instanceof ze||e.depthStencilTexture instanceof br?this.depthStencilTexture=e.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new br({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,n,r=this.resolution,i=!1){this.dirtyId++,this.colorTextures.forEach((s,o)=>{i&&o===0||s.source.resize(e,n,r)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,n,r)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(e=>{e.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};UL.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let PS=UL;class gO{constructor(e){this.rootViewPort=new vn,this.viewport=new vn,this.onRenderTargetChange=new dP("onRenderTargetChange"),this.projectionMatrix=new Je,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:n,clearColor:r,frame:i}){var s,o;this._renderTargetStack.length=0,this.push(e,n,r,i),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=NL(this.rootRenderTarget),(o=(s=this.adaptor).prerender)==null||o.call(s,this.rootRenderTarget)}postrender(){var e,n;(n=(e=this.adaptor).postrender)==null||n.call(e,this.rootRenderTarget)}bind(e,n=!0,r,i){const s=this.getRenderTarget(e),o=this.renderTarget!==s;this.renderTarget=s,this.renderSurface=e;const u=this.getGpuRenderTarget(s);(s.pixelWidth!==u.width||s.pixelHeight!==u.height)&&(this.adaptor.resizeGpuRenderTarget(s),u.width=s.pixelWidth,u.height=s.pixelHeight);const c=s.colorTexture,f=this.viewport,p=c.pixelWidth,v=c.pixelHeight;if(!i&&e instanceof ze&&(i=e.frame),i){const b=c._resolution;f.x=i.x*b+.5|0,f.y=i.y*b+.5|0,f.width=i.width*b+.5|0,f.height=i.height*b+.5|0}else f.x=0,f.y=0,f.width=p,f.height=v;return IL(this.projectionMatrix,0,0,f.width/c.resolution,f.height/c.resolution,!s.isRoot),this.adaptor.startRenderPass(s,n,r,f),o&&this.onRenderTargetChange.emit(s),s}clear(e,n=ks.ALL,r){n&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,n,r,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,n=ks.ALL,r,i){const s=this.bind(e,n,r,i);return this._renderTargetStack.push({renderTarget:s,frame:i}),s}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,n,r,i,s){r.x<0&&(i.width+=r.x,s.x-=r.x,r.x=0),r.y<0&&(i.height+=r.y,s.y-=r.y,r.y=0);const{pixelWidth:o,pixelHeight:u}=e;return i.width=Math.min(i.width,o-r.x),i.height=Math.min(i.height,u-r.y),this.adaptor.copyToTexture(e,n,r,i,s)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((e,n)=>{e!==n&&e.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let n=null;return Gl.test(e)&&(e=pO(e).source),e instanceof PS?n=e:e instanceof br&&(n=new PS({colorTextures:[e]}),Gl.test(e.source.resource)&&(n.isRoot=!0),e.once("destroy",()=>{n.destroy(),this._renderSurfaceToRenderTargetHash.delete(e);const r=this._gpuRenderTargetHash[n.uid];r&&(this._gpuRenderTargetHash[n.uid]=null,this.adaptor.destroyGpuRenderTarget(r))})),this._renderSurfaceToRenderTargetHash.set(e,n),n}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}resetState(){this.renderTarget=null,this.renderSurface=null}}class mO extends gO{constructor(e){super(e),this.adaptor=new kL,this.adaptor.init(e,this)}}mO.extension={type:[te.WebGLSystem],name:"renderTarget"};class $w extends hs{constructor({buffer:e,offset:n,size:r}){super(),this.uid=Xn("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=Xn("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=n|0,this.size=r,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=Xn("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}function LL(t,e){const n=[],r=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `];let i=!1,s=0;const o=e._getProgramData(t.glProgram);for(const c in t.groups){const f=t.groups[c];n.push(`
            resources = g[${c}].resources;
        `);for(const p in f.resources){const v=f.resources[p];if(v instanceof kr)if(v.ubo){const b=t._uniformBindMap[c][Number(p)];n.push(`
                        sS.bindUniformBlock(
                            resources[${p}],
                            '${b}',
                            ${t.glProgram._uniformBlockData[b].index}
                        );
                    `)}else n.push(`
                        ugS.updateUniformGroup(resources[${p}], p, sD);
                    `);else if(v instanceof $w){const b=t._uniformBindMap[c][Number(p)];n.push(`
                    sS.bindUniformBlock(
                        resources[${p}],
                        '${b}',
                        ${t.glProgram._uniformBlockData[b].index}
                    );
                `)}else if(v instanceof br){const b=t._uniformBindMap[c][p],y=o.uniformData[b];y&&(i||(i=!0,r.push(`
                        var tS = r.texture;
                        `)),e._gl.uniform1i(y.location,s),n.push(`
                        tS.bind(resources[${p}], ${s});
                    `),s++)}}}const u=[...r,...n].join(`
`);return new Function("r","s","sD",u)}class EK{}class GL{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}function m3(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function wC(t){const e=new Array(t);for(let n=0;n<e.length;n++)e[n]=!1;return e}function vO(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return wC(2*e);case"bvec3":return wC(3*e);case"bvec4":return wC(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}let w2=null;const vk={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},TK={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"};function bO(t,e){if(!w2){const n=Object.keys(vk);w2={};for(let r=0;r<n.length;++r){const i=n[r];w2[t[i]]=vk[i]}}return w2[e]}function zL(t,e){const n=bO(t,e);return TK[n]||"float32"}function VL(t,e,n=!1){const r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let o=0;o<i;o++){const u=e.getActiveAttrib(t,o);if(u.name.startsWith("gl_"))continue;const c=zL(e,u.type);r[u.name]={location:0,format:c,stride:nc(c).stride,offset:0,instance:!1,start:0}}const s=Object.keys(r);if(n){s.sort((o,u)=>o>u?1:-1);for(let o=0;o<s.length;o++)r[s[o]].location=o,e.bindAttribLocation(t,o,s[o]);e.linkProgram(t)}else for(let o=0;o<s.length;o++)r[s[o]].location=e.getAttribLocation(t,s[o]);return r}function HL(t,e){if(!e.ACTIVE_UNIFORM_BLOCKS)return{};const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORM_BLOCKS);for(let i=0;i<r;i++){const s=e.getActiveUniformBlockName(t,i),o=e.getUniformBlockIndex(t,s),u=e.getActiveUniformBlockParameter(t,i,e.UNIFORM_BLOCK_DATA_SIZE);n[s]={name:s,index:o,size:u}}return n}function WL(t,e){const n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),c=bO(e,s.type);n[o]={name:o,index:i,type:c,size:s.size,isArray:u,value:vO(c,s.size)}}return n}function bk(t,e){const n=t.getShaderSource(e).split(`
`).map((f,p)=>`${p}: ${f}`),r=t.getShaderInfoLog(e),i=r.split(`
`),s={},o=i.map(f=>parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(f=>f&&!s[f]?(s[f]=!0,!0):!1),u=[""];o.forEach(f=>{n[f-1]=`%c${n[f-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=n.join(`
`);u[0]=c,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function $L(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||bk(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||bk(t,r),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function jL(t,e){const n=m3(t,t.VERTEX_SHADER,e.vertex),r=m3(t,t.FRAGMENT_SHADER,e.fragment),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,r);const s=e.transformFeedbackVaryings;s&&(typeof t.transformFeedbackVaryings!="function"?at("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||$L(t,i,n,r),e._attributeData=VL(i,t,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertex)),e._uniformData=WL(i,t),e._uniformBlockData=HL(i,t),t.deleteShader(n),t.deleteShader(r);const o={};for(const c in e._uniformData){const f=e._uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:vO(f.type,f.size)}}return new GL(i,o)}const E2={textureCount:0,blockIndex:0};class _O{constructor(e){this._activeProgram=null,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_programDataHash")}contextChange(e){this._gl=e,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._activeProgram=null,this.maxTextures=rp()}bind(e,n){if(this._setProgram(e.glProgram),n)return;E2.textureCount=0,E2.blockIndex=0;let r=this._shaderSyncFunctions[e.glProgram._key];r||(r=this._shaderSyncFunctions[e.glProgram._key]=this._generateShaderSync(e,this)),this._renderer.buffer.nextBindBase(!!e.glProgram.transformFeedbackVaryings),r(this._renderer,e,E2)}updateUniformGroup(e){this._renderer.uniformGroup.updateUniformGroup(e,this._activeProgram,E2)}bindUniformBlock(e,n,r=0){const i=this._renderer.buffer,s=this._getProgramData(this._activeProgram),o=e._bufferResource;o||this._renderer.ubo.updateUniformGroup(e);const u=e.buffer,c=i.updateBuffer(u),f=i.freeLocationForBufferBase(c);if(o){const{offset:v,size:b}=e;v===0&&b===u.data.byteLength?i.bindBufferBase(c,f):i.bindBufferRange(c,f,v)}else i.getLastBindBaseLocation(c)!==f&&i.bindBufferBase(c,f);const p=this._activeProgram._uniformBlockData[n].index;s.uniformBlockBindings[r]!==f&&(s.uniformBlockBindings[r]=f,this._renderer.gl.uniformBlockBinding(s.program,p,f))}_setProgram(e){if(this._activeProgram===e)return;this._activeProgram=e;const n=this._getProgramData(e);this._gl.useProgram(n.program)}_getProgramData(e){return this._programDataHash[e._key]||this._createProgramData(e)}_createProgramData(e){const n=e._key;return this._programDataHash[n]=jL(this._gl,e),this._programDataHash[n]}destroy(){for(const e of Object.keys(this._programDataHash))this._programDataHash[e].destroy(),this._programDataHash[e]=null;this._programDataHash=null}_generateShaderSync(e,n){return LL(e,n)}resetState(){this._activeProgram=null}}_O.extension={type:[te.WebGLSystem],name:"shader"};const XL={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},YL={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"};function qL(t,e){const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(const r in t.uniforms){if(!e[r]){t.uniforms[r]instanceof kr?t.uniforms[r].ubo?n.push(`
                        renderer.shader.bindUniformBlock(uv.${r}, "${r}");
                    `):n.push(`
                        renderer.shader.updateUniformGroup(uv.${r});
                    `):t.uniforms[r]instanceof $w&&n.push(`
                        renderer.shader.bindBufferResource(uv.${r}, "${r}");
                    `);continue}const i=t.uniformStructures[r];let s=!1;for(let o=0;o<bd.length;o++){const u=bd[o];if(i.type===u.type&&u.test(i)){n.push(`name = "${r}";`,bd[o].uniform),s=!0;break}}if(!s){const u=(i.size===1?XL:YL)[i.type].replace("location",`ud["${r}"].location`);n.push(`
            cu = ud["${r}"];
            cv = cu.value;
            v = uv["${r}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}class yO{constructor(e){this._cache={},this._uniformGroupSyncHash={},this._renderer=e,this.gl=null,this._cache={}}contextChange(e){this.gl=e}updateUniformGroup(e,n,r){const i=this._renderer.shader._getProgramData(n);(!e.isStatic||e._dirtyId!==i.uniformDirtyGroups[e.uid])&&(i.uniformDirtyGroups[e.uid]=e._dirtyId,this._getUniformSyncFunction(e,n)(i.uniformData,e.uniforms,this._renderer,r))}_getUniformSyncFunction(e,n){var r;return((r=this._uniformGroupSyncHash[e._signature])==null?void 0:r[n._key])||this._createUniformSyncFunction(e,n)}_createUniformSyncFunction(e,n){const r=this._uniformGroupSyncHash[e._signature]||(this._uniformGroupSyncHash[e._signature]={}),i=this._getSignature(e,n._uniformData,"u");return this._cache[i]||(this._cache[i]=this._generateUniformsSync(e,n._uniformData)),r[n._key]=this._cache[i],r[n._key]}_generateUniformsSync(e,n){return qL(e,n)}_getSignature(e,n,r){const i=e.uniforms,s=[`${r}-`];for(const o in i)s.push(o),n[o]&&s.push(n[o].type);return s.join("-")}destroy(){this._renderer=null,this._cache=null}}yO.extension={type:[te.WebGLSystem],name:"uniformGroup"};function CK(t){return t=t.replaceAll("texture2D","texture").replaceAll("gl_FragColor","finalColor").replaceAll("varying","in"),t=`
        out vec4 finalColor;
    ${t}
    `,t}const AK={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function RK(t){return AK[t]}function KL(t){const e={};if(e.normal=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e.add=[t.ONE,t.ONE],e.multiply=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.screen=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.none=[0,0],e["normal-npm"]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e["add-npm"]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e["screen-npm"]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e.erase=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],!(t instanceof Yt.get().getWebGLRenderingContext()))e.min=[t.ONE,t.ONE,t.ONE,t.ONE,t.MIN,t.MIN],e.max=[t.ONE,t.ONE,t.ONE,t.ONE,t.MAX,t.MAX];else{const r=t.getExtension("EXT_blend_minmax");r&&(e.min=[t.ONE,t.ONE,t.ONE,t.ONE,r.MIN_EXT,r.MIN_EXT],e.max=[t.ONE,t.ONE,t.ONE,t.ONE,r.MAX_EXT,r.MAX_EXT])}return e}const PK=0,OK=1,MK=2,DK=3,BK=4,kK=5,ZL=class v3{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[PK]=this.setBlend,this.map[OK]=this.setOffset,this.map[MK]=this.setCullFace,this.map[DK]=this.setDepthTest,this.map[BK]=this.setFrontFace,this.map[kK]=this.setDepthMask,this.checks=[],this.defaultState=Ea.for2d()}contextChange(e){this.gl=e,this.blendModesMap=KL(e),this.resetState()}set(e){if(e||(e=this.defaultState),this.stateId!==e.data){let n=this.stateId^e.data,r=0;for(;n;)n&1&&this.map[r].call(this,!!(e.data&1<<r)),n>>=1,r++;this.stateId=e.data}for(let n=0;n<this.checks.length;n++)this.checks[n](this,e)}forceState(e){e||(e=this.defaultState);for(let n=0;n<this.map.length;n++)this.map[n].call(this,!!(e.data&1<<n));for(let n=0;n<this.checks.length;n++)this.checks[n](this,e);this.stateId=e.data}setBlend(e){this._updateCheck(v3._checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this._updateCheck(v3._checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(this.blendModesMap[e]||(e="normal"),e===this.blendMode)return;this.blendMode=e;const n=this.blendModesMap[e],r=this.gl;n.length===2?r.blendFunc(n[0],n[1]):r.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,r.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,n){this.gl.polygonOffset(e,n)}resetState(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(e,n){const r=this.checks.indexOf(e);n&&r===-1?this.checks.push(e):!n&&r!==-1&&this.checks.splice(r,1)}static _checkBlendMode(e,n){e.setBlendMode(n.blendMode)}static _checkPolygonOffset(e,n){e.setPolygonOffset(1,n.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}};ZL.extension={type:[te.WebGLSystem],name:"state"};let QL=ZL;class JL{constructor(e){this.target=rO.TEXTURE_2D,this.texture=e,this.width=-1,this.height=-1,this.type=sn.UNSIGNED_BYTE,this.internalFormat=RS.RGBA,this.format=RS.RGBA,this.samplerType=0}}const eG={id:"buffer",upload(t,e,n){e.width===t.width||e.height===t.height?n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.width,t.height,e.format,e.type,t.resource):n.texImage2D(e.target,0,e.internalFormat,t.width,t.height,0,e.format,e.type,t.resource),e.width=t.width,e.height=t.height}},IK={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},tG={id:"compressed",upload(t,e,n){n.pixelStorei(n.UNPACK_ALIGNMENT,4);let r=t.pixelWidth,i=t.pixelHeight;const s=!!IK[t.format];for(let o=0;o<t.resource.length;o++){const u=t.resource[o];s?n.compressedTexImage2D(n.TEXTURE_2D,o,e.internalFormat,r,i,0,u):n.texImage2D(n.TEXTURE_2D,o,e.internalFormat,r,i,0,e.format,e.type,u),r=Math.max(r>>1,1),i=Math.max(i>>1,1)}}},xO={id:"image",upload(t,e,n,r){const i=e.width,s=e.height,o=t.pixelWidth,u=t.pixelHeight,c=t.resourceWidth,f=t.resourceHeight;c<o||f<u?((i!==o||s!==u)&&n.texImage2D(e.target,0,e.internalFormat,o,u,0,e.format,e.type,null),r===2?n.texSubImage2D(n.TEXTURE_2D,0,0,0,c,f,e.format,e.type,t.resource):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,t.resource)):i===o&&s===u?n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,t.resource):r===2?n.texImage2D(e.target,0,e.internalFormat,o,u,0,e.format,e.type,t.resource):n.texImage2D(e.target,0,e.internalFormat,e.format,e.type,t.resource),e.width=o,e.height=u}},nG={id:"video",upload(t,e,n,r){if(!t.isValid){n.texImage2D(e.target,0,e.internalFormat,1,1,0,e.format,e.type,null);return}xO.upload(t,e,n,r)}},b3={linear:9729,nearest:9728},rG={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},eS={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},iG={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519};function _3(t,e,n,r,i,s,o,u){const c=s;if(!u||t.addressModeU!=="repeat"||t.addressModeV!=="repeat"||t.addressModeW!=="repeat"){const f=eS[o?"clamp-to-edge":t.addressModeU],p=eS[o?"clamp-to-edge":t.addressModeV],v=eS[o?"clamp-to-edge":t.addressModeW];e[i](c,e.TEXTURE_WRAP_S,f),e[i](c,e.TEXTURE_WRAP_T,p),e.TEXTURE_WRAP_R&&e[i](c,e.TEXTURE_WRAP_R,v)}if((!u||t.magFilter!=="linear")&&e[i](c,e.TEXTURE_MAG_FILTER,b3[t.magFilter]),n){if(!u||t.mipmapFilter!=="linear"){const f=rG[t.minFilter][t.mipmapFilter];e[i](c,e.TEXTURE_MIN_FILTER,f)}}else e[i](c,e.TEXTURE_MIN_FILTER,b3[t.minFilter]);if(r&&t.maxAnisotropy>1){const f=Math.min(t.maxAnisotropy,e.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));e[i](c,r.TEXTURE_MAX_ANISOTROPY_EXT,f)}t.compare&&e[i](c,e.TEXTURE_COMPARE_FUNC,iG[t.compare])}function sG(t){return{r8unorm:t.RED,r8snorm:t.RED,r8uint:t.RED,r8sint:t.RED,r16uint:t.RED,r16sint:t.RED,r16float:t.RED,rg8unorm:t.RG,rg8snorm:t.RG,rg8uint:t.RG,rg8sint:t.RG,r32uint:t.RED,r32sint:t.RED,r32float:t.RED,rg16uint:t.RG,rg16sint:t.RG,rg16float:t.RG,rgba8unorm:t.RGBA,"rgba8unorm-srgb":t.RGBA,rgba8snorm:t.RGBA,rgba8uint:t.RGBA,rgba8sint:t.RGBA,bgra8unorm:t.RGBA,"bgra8unorm-srgb":t.RGBA,rgb9e5ufloat:t.RGB,rgb10a2unorm:t.RGBA,rg11b10ufloat:t.RGB,rg32uint:t.RG,rg32sint:t.RG,rg32float:t.RG,rgba16uint:t.RGBA,rgba16sint:t.RGBA,rgba16float:t.RGBA,rgba32uint:t.RGBA,rgba32sint:t.RGBA,rgba32float:t.RGBA,stencil8:t.STENCIL_INDEX8,depth16unorm:t.DEPTH_COMPONENT,depth24plus:t.DEPTH_COMPONENT,"depth24plus-stencil8":t.DEPTH_STENCIL,depth32float:t.DEPTH_COMPONENT,"depth32float-stencil8":t.DEPTH_STENCIL}}function aG(t,e){let n={},r=t.RGBA;return t instanceof Yt.get().getWebGLRenderingContext()?e.srgb&&(n={"rgba8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":e.srgb.SRGB8_ALPHA8_EXT}):(n={"rgba8unorm-srgb":t.SRGB8_ALPHA8,"bgra8unorm-srgb":t.SRGB8_ALPHA8},r=t.RGBA8),{r8unorm:t.R8,r8snorm:t.R8_SNORM,r8uint:t.R8UI,r8sint:t.R8I,r16uint:t.R16UI,r16sint:t.R16I,r16float:t.R16F,rg8unorm:t.RG8,rg8snorm:t.RG8_SNORM,rg8uint:t.RG8UI,rg8sint:t.RG8I,r32uint:t.R32UI,r32sint:t.R32I,r32float:t.R32F,rg16uint:t.RG16UI,rg16sint:t.RG16I,rg16float:t.RG16F,rgba8unorm:t.RGBA,...n,rgba8snorm:t.RGBA8_SNORM,rgba8uint:t.RGBA8UI,rgba8sint:t.RGBA8I,bgra8unorm:r,rgb9e5ufloat:t.RGB9_E5,rgb10a2unorm:t.RGB10_A2,rg11b10ufloat:t.R11F_G11F_B10F,rg32uint:t.RG32UI,rg32sint:t.RG32I,rg32float:t.RG32F,rgba16uint:t.RGBA16UI,rgba16sint:t.RGBA16I,rgba16float:t.RGBA16F,rgba32uint:t.RGBA32UI,rgba32sint:t.RGBA32I,rgba32float:t.RGBA32F,stencil8:t.STENCIL_INDEX8,depth16unorm:t.DEPTH_COMPONENT16,depth24plus:t.DEPTH_COMPONENT24,"depth24plus-stencil8":t.DEPTH24_STENCIL8,depth32float:t.DEPTH_COMPONENT32F,"depth32float-stencil8":t.DEPTH32F_STENCIL8,...e.s3tc?{"bc1-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":e.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...e.s3tc_sRGB?{"bc1-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...e.rgtc?{"bc4-r-unorm":e.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":e.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":e.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":e.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...e.bptc?{"bc6h-rgb-float":e.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":e.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":e.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":e.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...e.etc?{"etc2-rgb8unorm":e.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":e.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":e.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":e.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":e.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":e.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":e.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":e.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...e.astc?{"astc-4x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":e.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}function oG(t){return{r8unorm:t.UNSIGNED_BYTE,r8snorm:t.BYTE,r8uint:t.UNSIGNED_BYTE,r8sint:t.BYTE,r16uint:t.UNSIGNED_SHORT,r16sint:t.SHORT,r16float:t.HALF_FLOAT,rg8unorm:t.UNSIGNED_BYTE,rg8snorm:t.BYTE,rg8uint:t.UNSIGNED_BYTE,rg8sint:t.BYTE,r32uint:t.UNSIGNED_INT,r32sint:t.INT,r32float:t.FLOAT,rg16uint:t.UNSIGNED_SHORT,rg16sint:t.SHORT,rg16float:t.HALF_FLOAT,rgba8unorm:t.UNSIGNED_BYTE,"rgba8unorm-srgb":t.UNSIGNED_BYTE,rgba8snorm:t.BYTE,rgba8uint:t.UNSIGNED_BYTE,rgba8sint:t.BYTE,bgra8unorm:t.UNSIGNED_BYTE,"bgra8unorm-srgb":t.UNSIGNED_BYTE,rgb9e5ufloat:t.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:t.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:t.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:t.UNSIGNED_INT,rg32sint:t.INT,rg32float:t.FLOAT,rgba16uint:t.UNSIGNED_SHORT,rgba16sint:t.SHORT,rgba16float:t.HALF_FLOAT,rgba32uint:t.UNSIGNED_INT,rgba32sint:t.INT,rgba32float:t.FLOAT,stencil8:t.UNSIGNED_BYTE,depth16unorm:t.UNSIGNED_SHORT,depth24plus:t.UNSIGNED_INT,"depth24plus-stencil8":t.UNSIGNED_INT_24_8,depth32float:t.FLOAT,"depth32float-stencil8":t.FLOAT_32_UNSIGNED_INT_24_8_REV}}function NK(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let n=0;n<e;n+=4){const r=t[n+3];if(r!==0){const i=255.001/r;t[n]=t[n]*i+.5,t[n+1]=t[n+1]*i+.5,t[n+2]=t[n+2]*i+.5}}}const UK=4;class SO{constructor(e){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:xO,buffer:eG,video:nG,compressed:tG},this._premultiplyAlpha=!1,this._useSeparateSamplers=!1,this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_glTextures"),this._renderer.renderableGC.addManagedHash(this,"_glSamplers")}contextChange(e){this._gl=e,this._mapFormatToInternalFormat||(this._mapFormatToInternalFormat=aG(e,this._renderer.context.extensions),this._mapFormatToType=oG(e),this._mapFormatToFormat=sG(e)),this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null),this._premultiplyAlpha=!1;for(let n=0;n<16;n++)this.bind(ze.EMPTY,n)}initSource(e){this.bind(e)}bind(e,n=0){const r=e.source;e?(this.bindSource(r,n),this._useSeparateSamplers&&this._bindSampler(r.style,n)):(this.bindSource(null,n),this._useSeparateSamplers&&this._bindSampler(null,n))}bindSource(e,n=0){const r=this._gl;if(e._touched=this._renderer.textureGC.count,this._boundTextures[n]!==e){this._boundTextures[n]=e,this._activateLocation(n),e||(e=ze.EMPTY.source);const i=this.getGlSource(e);r.bindTexture(i.target,i.texture)}}_bindSampler(e,n=0){const r=this._gl;if(!e){this._boundSamplers[n]=null,r.bindSampler(n,null);return}const i=this._getGlSampler(e);this._boundSamplers[n]!==i&&(this._boundSamplers[n]=i,r.bindSampler(n,i))}unbind(e){const n=e.source,r=this._boundTextures,i=this._gl;for(let s=0;s<r.length;s++)if(r[s]===n){this._activateLocation(s);const o=this.getGlSource(n);i.bindTexture(o.target,null),r[s]=null}}_activateLocation(e){this._activeTextureLocation!==e&&(this._activeTextureLocation=e,this._gl.activeTexture(this._gl.TEXTURE0+e))}_initSource(e){const n=this._gl,r=new JL(n.createTexture());if(r.type=this._mapFormatToType[e.format],r.internalFormat=this._mapFormatToInternalFormat[e.format],r.format=this._mapFormatToFormat[e.format],e.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||e.isPowerOfTwo)){const i=Math.max(e.width,e.height);e.mipLevelCount=Math.floor(Math.log2(i))+1}return this._glTextures[e.uid]=r,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceUpdate,this),e.on("styleChange",this.onStyleChange,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),this.updateStyle(e,!1),r}onStyleChange(e){this.updateStyle(e,!1)}updateStyle(e,n){const r=this._gl,i=this.getGlSource(e);r.bindTexture(r.TEXTURE_2D,i.texture),this._boundTextures[this._activeTextureLocation]=e,_3(e.style,r,e.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",r.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!e.isPowerOfTwo,n)}onSourceUnload(e){const n=this._glTextures[e.uid];n&&(this.unbind(e),this._glTextures[e.uid]=null,this._gl.deleteTexture(n.texture))}onSourceUpdate(e){const n=this._gl,r=this.getGlSource(e);n.bindTexture(n.TEXTURE_2D,r.texture),this._boundTextures[this._activeTextureLocation]=e;const i=e.alphaMode==="premultiply-alpha-on-upload";this._premultiplyAlpha!==i&&(this._premultiplyAlpha=i,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i)),this._uploads[e.uploadMethodId]?this._uploads[e.uploadMethodId].upload(e,r,n,this._renderer.context.webGLVersion):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e.pixelWidth,e.pixelHeight,0,n.RGBA,n.UNSIGNED_BYTE,null),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e,!1)}onUpdateMipmaps(e,n=!0){n&&this.bindSource(e,0);const r=this.getGlSource(e);this._gl.generateMipmap(r.target)}onSourceDestroy(e){e.off("destroy",this.onSourceDestroy,this),e.off("update",this.onSourceUpdate,this),e.off("resize",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("styleChange",this.onStyleChange,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}_initSampler(e){const n=this._gl,r=this._gl.createSampler();return this._glSamplers[e._resourceId]=r,_3(e,n,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",r,!1,!0),this._glSamplers[e._resourceId]}_getGlSampler(e){return this._glSamplers[e._resourceId]||this._initSampler(e)}getGlSource(e){return this._glTextures[e.uid]||this._initSource(e)}generateCanvas(e){const{pixels:n,width:r,height:i}=this.getPixels(e),s=Yt.get().createCanvas();s.width=r,s.height=i;const o=s.getContext("2d");if(o){const u=o.createImageData(r,i);u.data.set(n),o.putImageData(u,0,0)}return s}getPixels(e){const n=e.source.resolution,r=e.frame,i=Math.max(Math.round(r.width*n),1),s=Math.max(Math.round(r.height*n),1),o=new Uint8Array(UK*i*s),u=this._renderer,c=u.renderTarget.getRenderTarget(e),f=u.renderTarget.getGpuRenderTarget(c),p=u.gl;return p.bindFramebuffer(p.FRAMEBUFFER,f.resolveTargetFramebuffer),p.readPixels(Math.round(r.x*n),Math.round(r.y*n),i,s,p.RGBA,p.UNSIGNED_BYTE,o),{pixels:new Uint8ClampedArray(o.buffer),width:i,height:s}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null,this._renderer=null}resetState(){this._activeTextureLocation=-1,this._boundTextures.fill(ze.EMPTY.source),this._boundSamplers=Object.create(null)}}SO.extension={type:[te.WebGLSystem],name:"texture"};class wO{init(){const e=new kr({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new Je,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),n=rp(),r=fv({name:"graphics",bits:[Ow,Dw(n),Ww,gv]});this.shader=new Ma({glProgram:r,resources:{localUniforms:e,batchSamplers:Bw(n)}})}execute(e,n){const r=n.context,i=r.customShader||this.shader,s=e.renderer,o=s.graphicsContext,{batcher:u,instructions:c}=o.getContextRenderData(r);i.groups[0]=s.globalUniforms.bindGroup,s.state.set(e.state),s.shader.bind(i),s.geometry.bind(u.geometry,i.glProgram);const f=c.instructions;for(let p=0;p<c.instructionSize;p++){const v=f[p];if(v.size){for(let b=0;b<v.textures.count;b++)s.texture.bind(v.textures.textures[b],b);s.geometry.draw(v.topology,v.size,v.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}wO.extension={type:[te.WebGLPipesAdaptor],name:"graphics"};class EO{init(){const e=fv({name:"mesh",bits:[Ww,xL,gv]});this._shader=new Ma({glProgram:e,resources:{uTexture:ze.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new Je}}}})}execute(e,n){const r=e.renderer;let i=n._shader;if(i){if(!i.glProgram){at("Mesh shader has no glProgram",n.shader);return}}else{i=this._shader;const s=n.texture,o=s.source;i.resources.uTexture=o,i.resources.uSampler=o.style,i.resources.textureUniforms.uniforms.uTextureMatrix=s.textureMatrix.mapCoord}i.groups[100]=r.globalUniforms.bindGroup,i.groups[101]=e.localUniformsBindGroup,r.encoder.draw({geometry:n._geometry,shader:i,state:n.state})}destroy(){this._shader.destroy(!0),this._shader=null}}EO.extension={type:[te.WebGLPipesAdaptor],name:"mesh"};class TO{constructor(e){this._renderer=e}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(e,n){this._renderer.renderPipes.batch.break(n),n.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}TO.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"customRender"};class py{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}}function OS(t,e){const n=t.instructionSet,r=n.instructions;for(let i=0;i<n.instructionSize;i++){const s=r[i];e[s.renderPipeId].execute(s)}}const FK=new Je;class CO{constructor(e){this._renderer=e}addRenderGroup(e,n){e.isCachedAsTexture?this._addRenderableCacheAsTexture(e,n):this._addRenderableDirect(e,n)}execute(e){e.isRenderable&&(e.isCachedAsTexture?this._executeCacheAsTexture(e):this._executeDirect(e))}destroy(){this._renderer=null}_addRenderableDirect(e,n){this._renderer.renderPipes.batch.break(n),e._batchableRenderGroup&&(Xt.return(e._batchableRenderGroup),e._batchableRenderGroup=null),n.add(e)}_addRenderableCacheAsTexture(e,n){const r=e._batchableRenderGroup??(e._batchableRenderGroup=Xt.get(py));r.renderable=e.root,r.transform=e.root.relativeGroupTransform,r.texture=e.texture,r.bounds=e._textureBounds,n.add(e),this._renderer.renderPipes.batch.addToBatch(r,n)}_executeCacheAsTexture(e){if(e.textureNeedsUpdate){e.textureNeedsUpdate=!1;const n=FK.identity().translate(-e._textureBounds.x,-e._textureBounds.y);this._renderer.renderTarget.push(e.texture,!0,null,e.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:n,worldColor:4294967295}),OS(e,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),e._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(e){this._renderer.globalUniforms.push({worldTransformMatrix:e.inverseParentTextureTransform,worldColor:e.worldColorAlpha}),OS(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}CO.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"renderGroup"};function MS(t,e){e||(e=0);for(let n=e;n<t.length&&t[n];n++)t[n]=null}const LK=new Ei,_k=Em|D_|yw;function AO(t,e=!1){lG(t);const n=t.childrenToUpdate,r=t.updateTick++;for(const i in n){const s=Number(i),o=n[i],u=o.list,c=o.index;for(let f=0;f<c;f++){const p=u[f];p.parentRenderGroup===t&&p.relativeRenderGroupDepth===s&&RO(p,r,0)}MS(u,c),o.index=0}if(e)for(let i=0;i<t.renderGroupChildren.length;i++)AO(t.renderGroupChildren[i],e)}function lG(t){const e=t.root;let n;if(t.renderGroupParent){const r=t.renderGroupParent;t.worldTransform.appendFrom(e.relativeGroupTransform,r.worldTransform),t.worldColor=M_(e.groupColor,r.worldColor),n=e.groupAlpha*r.worldAlpha}else t.worldTransform.copyFrom(e.localTransform),t.worldColor=e.localColor,n=e.localAlpha;n=n<0?0:n>1?1:n,t.worldAlpha=n,t.worldColorAlpha=t.worldColor+((n*255|0)<<24)}function RO(t,e,n){if(e===t.updateTick)return;t.updateTick=e,t.didChange=!1;const r=t.localTransform;t.updateLocalTransform();const i=t.parent;if(i&&!i.renderGroup?(n|=t._updateFlags,t.relativeGroupTransform.appendFrom(r,i.relativeGroupTransform),n&_k&&yk(t,i,n)):(n=t._updateFlags,t.relativeGroupTransform.copyFrom(r),n&_k&&yk(t,LK,n)),!t.renderGroup){const s=t.children,o=s.length;for(let f=0;f<o;f++)RO(s[f],e,n);const u=t.parentRenderGroup,c=t;c.renderPipeId&&!u.structureDidChange&&u.updateRenderable(c)}}function yk(t,e,n){if(n&D_){t.groupColor=M_(t.localColor,e.groupColor);let r=t.localAlpha*e.groupAlpha;r=r<0?0:r>1?1:r,t.groupAlpha=r,t.groupColorAlpha=t.groupColor+((r*255|0)<<24)}n&yw&&(t.groupBlendMode=t.localBlendMode==="inherit"?e.groupBlendMode:t.localBlendMode),n&Em&&(t.globalDisplayStatus=t.localDisplayStatus&e.globalDisplayStatus),t._updateFlags=0}function uG(t,e){const{list:n,index:r}=t.childrenRenderablesToUpdate;let i=!1;for(let s=0;s<r;s++){const o=n[s];if(i=e[o.renderPipeId].validateRenderable(o),i)break}return t.structureDidChange=i,i}const GK=new Je;class PO{constructor(e){this._renderer=e}render({container:e,transform:n}){const r=e.parent,i=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const s=this._renderer;let o=GK;n&&(o=o.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(n));const u=s.renderPipes;this._updateCachedRenderGroups(e.renderGroup,null),this._updateRenderGroups(e.renderGroup),s.globalUniforms.start({worldTransformMatrix:n?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),OS(e.renderGroup,u),u.uniformBatch&&u.uniformBatch.renderEnd(),n&&e.renderGroup.localTransform.copyFrom(o),e.parent=r,e.renderGroup.renderGroupParent=i}destroy(){this._renderer=null}_updateCachedRenderGroups(e,n){if(e.isCachedAsTexture){if(!e.updateCacheTexture)return;n=e}e._parentCacheAsTextureRenderGroup=n;for(let r=e.renderGroupChildren.length-1;r>=0;r--)this._updateCachedRenderGroups(e.renderGroupChildren[r],n);if(e.invalidateMatrices(),e.isCachedAsTexture){if(e.textureNeedsUpdate){const r=e.root.getLocalBounds();r.ceil();const i=e.texture;e.texture&&Dr.returnTexture(e.texture);const s=this._renderer,o=e.textureOptions.resolution||s.view.resolution,u=e.textureOptions.antialias??s.view.antialias;e.texture=Dr.getOptimalTexture(r.width,r.height,o,u),e._textureBounds||(e._textureBounds=new Zr),e._textureBounds.copyFrom(r),i!==e.texture&&e.renderGroupParent&&(e.renderGroupParent.structureDidChange=!0)}}else e.texture&&(Dr.returnTexture(e.texture),e.texture=null)}_updateRenderGroups(e){const n=this._renderer,r=n.renderPipes;if(e.runOnRender(n),e.instructionSet.renderPipes=r,e.structureDidChange?MS(e.childrenRenderablesToUpdate.list,0):uG(e,r),AO(e),e.structureDidChange?(e.structureDidChange=!1,this._buildInstructions(e,n)):this._updateRenderables(e),e.childrenRenderablesToUpdate.index=0,n.renderPipes.batch.upload(e.instructionSet),!(e.isCachedAsTexture&&!e.textureNeedsUpdate))for(let i=0;i<e.renderGroupChildren.length;i++)this._updateRenderGroups(e.renderGroupChildren[i])}_updateRenderables(e){const{list:n,index:r}=e.childrenRenderablesToUpdate;for(let i=0;i<r;i++){const s=n[i];s.didViewUpdate&&e.updateRenderable(s)}MS(n,r)}_buildInstructions(e,n){const r=e.root,i=e.instructionSet;i.reset();const s=n.renderPipes?n:n.batch.renderer,o=s.renderPipes;o.batch.buildStart(i),o.blendMode.buildStart(),o.colorMask.buildStart(),r.sortableChildren&&r.sortChildren(),r.collectRenderablesWithEffects(i,s,null),o.batch.buildEnd(i),o.blendMode.buildEnd(i)}}PO.extension={type:[te.WebGLSystem,te.WebGPUSystem,te.CanvasSystem],name:"renderGroup"};class OO{constructor(e){this._gpuSpriteHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuSpriteHash")}addRenderable(e,n){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,n)}updateRenderable(e){const n=this._gpuSpriteHash[e.uid];e.didViewUpdate&&this._updateBatchableSprite(e,n),n._batcher.updateElement(n)}validateRenderable(e){const n=this._getGpuSprite(e);return!n._batcher.checkAndUpdateTexture(n,e._texture)}destroyRenderable(e){const n=this._gpuSpriteHash[e.uid];Xt.return(n),this._gpuSpriteHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_updateBatchableSprite(e,n){n.bounds=e.visualBounds,n.texture=e._texture}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const n=Xt.get(py);return n.renderable=e,n.transform=e.groupTransform,n.texture=e._texture,n.bounds=e.visualBounds,n.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=n,e.on("destroyed",this._destroyRenderableBound),n}destroy(){for(const e in this._gpuSpriteHash)Xt.return(this._gpuSpriteHash[e]);this._gpuSpriteHash=null,this._renderer=null}}OO.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"sprite"};const MO=class cG{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new en(0),this.color=this._backgroundColor,this.alpha=1}init(e){e={...cG.defaultOptions,...e},this.clearBeforeRender=e.clearBeforeRender,this.color=e.background||e.backgroundColor||this._backgroundColor,this.alpha=e.backgroundAlpha,this._backgroundColor.setAlpha(e.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};MO.extension={type:[te.WebGLSystem,te.WebGPUSystem,te.CanvasSystem],name:"background",priority:0};MO.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let dG=MO;const m_={};An.handle(te.BlendMode,t=>{if(!t.name)throw new Error("BlendMode extension must have a name property");m_[t.name]=t.ref},t=>{delete m_[t.name]});class DO{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}setBlendMode(e,n,r){if(this._activeBlendMode===n){this._isAdvanced&&this._renderableList.push(e);return}this._activeBlendMode=n,this._isAdvanced&&this._endAdvancedBlendMode(r),this._isAdvanced=!!m_[n],this._isAdvanced&&(this._beginAdvancedBlendMode(r),this._renderableList.push(e))}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const n=this._activeBlendMode;if(!m_[n]){at(`Unable to assign BlendMode: '${n}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}let r=this._filterHash[n];r||(r=this._filterHash[n]=new O_,r.filters=[new m_[n]]);const i={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:r,canBundle:!1};this._renderableList=i.renderables,e.add(i)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}DO.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"blendMode"};const EC={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},BO=class hG{constructor(e){this._renderer=e}_normalizeOptions(e,n={}){return e instanceof Ei||e instanceof ze?{target:e,...n}:{...n,...e}}async image(e){const n=new Image;return n.src=await this.base64(e),n}async base64(e){e=this._normalizeOptions(e,hG.defaultImageOptions);const{format:n,quality:r}=e,i=this.canvas(e);if(i.toBlob!==void 0)return new Promise((s,o)=>{i.toBlob(u=>{if(!u){o(new Error("ICanvas.toBlob failed!"));return}const c=new FileReader;c.onload=()=>s(c.result),c.onerror=o,c.readAsDataURL(u)},EC[n],r)});if(i.toDataURL!==void 0)return i.toDataURL(EC[n],r);if(i.convertToBlob!==void 0){const s=await i.convertToBlob({type:EC[n],quality:r});return new Promise((o,u)=>{const c=new FileReader;c.onload=()=>o(c.result),c.onerror=u,c.readAsDataURL(s)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){e=this._normalizeOptions(e);const n=e.target,r=this._renderer;if(n instanceof ze)return r.texture.generateCanvas(n);const i=r.textureGenerator.generateTexture(e),s=r.texture.generateCanvas(i);return i.destroy(!0),s}pixels(e){e=this._normalizeOptions(e);const n=e.target,r=this._renderer,i=n instanceof ze?n:r.textureGenerator.generateTexture(e),s=r.texture.getPixels(i);return n instanceof Ei&&i.destroy(!0),s}texture(e){return e=this._normalizeOptions(e),e.target instanceof ze?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const n=this.canvas(e),r=document.createElement("a");r.download=e.filename??"image.png",r.href=n.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}log(e){const n=e.width??200;e=this._normalizeOptions(e);const r=this.canvas(e),i=r.toDataURL();console.log(`[Pixi Texture] ${r.width}px ${r.height}px`);const s=["font-size: 1px;",`padding: ${n}px 300px;`,`background: url(${i}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}destroy(){this._renderer=null}};BO.extension={type:[te.WebGLSystem,te.WebGPUSystem],name:"extract"};BO.defaultImageOptions={format:"png",quality:1};let fG=BO;class jw extends ze{static create(e){return new jw({source:new br(e)})}resize(e,n,r){return this.source.resize(e,n,r),this}}const zK=new vn,VK=new Zr,HK=[0,0,0,0];class kO{constructor(e){this._renderer=e}generateTexture(e){var f;e instanceof Ei&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const n=e.resolution||this._renderer.resolution,r=e.antialias||this._renderer.view.antialias,i=e.target;let s=e.clearColor;s?s=Array.isArray(s)&&s.length===4?s:en.shared.setValue(s).toArray():s=HK;const o=((f=e.frame)==null?void 0:f.copyTo(zK))||_w(i,VK).rectangle;o.width=Math.max(o.width,1/n)|0,o.height=Math.max(o.height,1/n)|0;const u=jw.create({...e.textureSourceOptions,width:o.width,height:o.height,resolution:n,antialias:r}),c=Je.shared.translate(-o.x,-o.y);return this._renderer.render({container:i,transform:c,target:u,clearColor:s}),u.source.updateMipmaps(),u}destroy(){this._renderer=null}}kO.extension={type:[te.WebGLSystem,te.WebGPUSystem],name:"textureGenerator"};function WK(t,e,n,r){n[r++]=(t>>16&255)/255,n[r++]=(t>>8&255)/255,n[r++]=(t&255)/255,n[r++]=e}function vv(t,e,n){const r=(t>>24&255)/255;e[n++]=(t&255)/255*r,e[n++]=(t>>8&255)/255*r,e[n++]=(t>>16&255)/255*r,e[n++]=r}class IO{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:n,worldTransformMatrix:r,worldColor:i,offset:s}){const o=this._renderer.renderTarget.renderTarget,u=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{worldTransformMatrix:new Je,worldColor:4294967295,offset:new mn},c={projectionMatrix:n||this._renderer.renderTarget.projectionMatrix,resolution:e||o.size,worldTransformMatrix:r||u.worldTransformMatrix,worldColor:i||u.worldColor,offset:s||u.offset,bindGroup:null},f=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(f);const p=f.uniforms;p.uProjectionMatrix=c.projectionMatrix,p.uResolution=c.resolution,p.uWorldTransformMatrix.copyFrom(c.worldTransformMatrix),p.uWorldTransformMatrix.tx-=c.offset.x,p.uWorldTransformMatrix.ty-=c.offset.y,vv(c.worldColor,p.uWorldColorAlpha,0),f.update();let v;this._renderer.renderPipes.uniformBatch?v=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(f,!1):(v=this._bindGroupPool.pop()||new zl,this._activeBindGroups.push(v),v.setResource(f,0)),c.bindGroup=v,this._currentGlobalUniformData=c}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===Ws.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new kr({uProjectionMatrix:{value:new Je,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new Je,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}IO.extension={type:[te.WebGLSystem,te.WebGPUSystem,te.CanvasSystem],name:"globalUniforms"};let $K=1;class NO{constructor(){this._tasks=[],this._offset=0}init(){Si.system.add(this._update,this)}repeat(e,n,r=!0){const i=$K++;let s=0;return r&&(this._offset+=1e3,s=this._offset),this._tasks.push({func:e,duration:n,start:performance.now(),offset:s,last:performance.now(),repeat:!0,id:i}),i}cancel(e){for(let n=0;n<this._tasks.length;n++)if(this._tasks[n].id===e){this._tasks.splice(n,1);return}}_update(){const e=performance.now();for(let n=0;n<this._tasks.length;n++){const r=this._tasks[n];if(e-r.offset-r.last>=r.duration){const i=e-r.start;r.func(i),r.last=e}}}destroy(){Si.system.remove(this._update,this),this._tasks.length=0}}NO.extension={type:[te.WebGLSystem,te.WebGPUSystem,te.CanvasSystem],name:"scheduler",priority:0};let xk=!1;function pG(t){if(!xk){if(Yt.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const e=[`%c  %c  %c  %c  %c PixiJS %c v${k_} (${t}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...e)}else globalThis.console&&globalThis.console.log(`PixiJS ${k_} - ${t} - http://www.pixijs.com/`);xk=!0}}class Xw{constructor(e){this._renderer=e}init(e){if(e.hello){let n=this._renderer.name;this._renderer.type===Ws.WEBGL&&(n+=` ${this._renderer.context.webGLVersion}`),pG(n)}}}Xw.extension={type:[te.WebGLSystem,te.WebGPUSystem,te.CanvasSystem],name:"hello",priority:-2};Xw.defaultOptions={hello:!1};function gG(t){let e=!1;for(const r in t)if(t[r]==null){e=!0;break}if(!e)return t;const n=Object.create(null);for(const r in t){const i=t[r];i&&(n[r]=i)}return n}function mG(t){let e=0;for(let n=0;n<t.length;n++)t[n]==null?e++:t[n-e]=t[n];return t.length-=e,t}let jK=0;const UO=class vG{constructor(e){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=e}init(e){e={...vG.defaultOptions,...e},this.maxUnusedTime=e.renderableGCMaxUnusedTime,this._frequency=e.renderableGCFrequency,this.enabled=e.renderableGCActive}get enabled(){return!!this._handler}set enabled(e){this.enabled!==e&&(e?(this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(const n of this._managedHashes)n.context[n.hash]=gG(n.context[n.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(const n of this._managedArrays)mG(n.context[n.hash])},this._frequency)):(this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)))}addManagedHash(e,n){this._managedHashes.push({context:e,hash:n})}addManagedArray(e,n){this._managedArrays.push({context:e,hash:n})}prerender({container:e}){this._now=performance.now(),e.renderGroup.gcTick=jK++,this._updateInstructionGCTick(e.renderGroup,e.renderGroup.gcTick)}addRenderable(e){this.enabled&&(e._lastUsed===-1&&(this._managedRenderables.push(e),e.once("destroyed",this._removeRenderable,this)),e._lastUsed=this._now)}run(){var s;const e=this._now,n=this._managedRenderables,r=this._renderer.renderPipes;let i=0;for(let o=0;o<n.length;o++){const u=n[o];if(u===null){i++;continue}const c=u.renderGroup??u.parentRenderGroup,f=((s=c==null?void 0:c.instructionSet)==null?void 0:s.gcTick)??-1;if(((c==null?void 0:c.gcTick)??0)===f&&(u._lastUsed=e),e-u._lastUsed>this.maxUnusedTime){if(!u.destroyed){const p=r;c&&(c.structureDidChange=!0),p[u.renderPipeId].destroyRenderable(u)}u._lastUsed=-1,i++,u.off("destroyed",this._removeRenderable,this)}else n[o-i]=u}n.length-=i}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(e){const n=this._managedRenderables.indexOf(e);n>=0&&(e.off("destroyed",this._removeRenderable,this),this._managedRenderables[n]=null)}_updateInstructionGCTick(e,n){e.instructionSet.gcTick=n;for(const r of e.renderGroupChildren)this._updateInstructionGCTick(r,n)}};UO.extension={type:[te.WebGLSystem,te.WebGPUSystem],name:"renderableGC",priority:0};UO.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let bG=UO;const FO=class _G{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(e){e={..._G.defaultOptions,...e},this.checkCountMax=e.textureGCCheckCountMax,this.maxIdle=e.textureGCAMaxIdle??e.textureGCMaxIdle,this.active=e.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let n=0;n<e.length;n++){const r=e[n];r.autoGarbageCollect&&r.resource&&r._touched>-1&&this.count-r._touched>this.maxIdle&&(r._touched=-1,r.unload())}}destroy(){this._renderer=null}};FO.extension={type:[te.WebGLSystem,te.WebGPUSystem],name:"textureGC"};FO.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:60*60,textureGCCheckCountMax:600};let yG=FO;const LO=class xG{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(e){e={...xG.defaultOptions,...e},e.view&&(Qe(Tt,"ViewSystem.view has been renamed to ViewSystem.canvas"),e.canvas=e.view),this.screen=new vn(0,0,e.width,e.height),this.canvas=e.canvas||Yt.get().createCanvas(),this.antialias=!!e.antialias,this.texture=pO(this.canvas,e),this.renderTarget=new PS({colorTextures:[this.texture],depth:!!e.depth,isRoot:!0}),this.texture.source.transparent=e.backgroundAlpha<1,this.resolution=e.resolution}resize(e,n,r){this.texture.source.resize(e,n,r),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(e=!1){(typeof e=="boolean"?e:!!(e!=null&&e.removeView))&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};LO.extension={type:[te.WebGLSystem,te.WebGPUSystem,te.CanvasSystem],name:"view",priority:0};LO.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};let SG=LO;const GO=[dG,IO,Xw,SG,PO,yG,kO,fG,fP,bG,NO],zO=[DO,KP,OO,CO,ZP,JP,QP,TO],XK=[...GO,fO,RL,EL,eO,SO,mO,iO,yO,_O,oO,QL,lO,aO],YK=[...zO],qK=[XP,EO,wO],wG=[],EG=[],TG=[];An.handleByNamedList(te.WebGLSystem,wG);An.handleByNamedList(te.WebGLPipes,EG);An.handleByNamedList(te.WebGLPipesAdaptor,TG);An.add(...XK,...YK,...qK);class CG extends oy{constructor(){const e={name:"webgl",type:Ws.WEBGL,systems:wG,renderPipes:EG,renderPipeAdaptors:TG};super(e)}}const KK=Object.freeze(Object.defineProperty({__proto__:null,WebGLRenderer:CG},Symbol.toStringTag,{value:"Module"}));class VO{constructor(e){this._hash=Object.create(null),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_hash")}contextChange(e){this._gpu=e}getBindGroup(e,n,r){return e._updateKey(),this._hash[e._key]||this._createBindGroup(e,n,r)}_createBindGroup(e,n,r){const i=this._gpu.device,s=n.layout[r],o=[],u=this._renderer;for(const p in s){const v=e.resources[p]??e.resources[s[p]];let b;if(v._resourceType==="uniformGroup"){const y=v;u.ubo.updateUniformGroup(y);const E=y.buffer;b={buffer:u.buffer.getGPUBuffer(E),offset:0,size:E.descriptor.size}}else if(v._resourceType==="buffer"){const y=v;b={buffer:u.buffer.getGPUBuffer(y),offset:0,size:y.descriptor.size}}else if(v._resourceType==="bufferResource"){const y=v;b={buffer:u.buffer.getGPUBuffer(y.buffer),offset:y.offset,size:y.size}}else if(v._resourceType==="textureSampler"){const y=v;b=u.texture.getGpuSampler(y)}else if(v._resourceType==="textureSource"){const y=v;b=u.texture.getGpuSource(y).createView({})}o.push({binding:s[p],resource:b})}const c=u.shader.getProgramData(n).bindGroups[r],f=i.createBindGroup({layout:c,entries:o});return this._hash[e._key]=f,f}destroy(){for(const e of Object.keys(this._hash))this._hash[e]=null;this._hash=null,this._renderer=null}}VO.extension={type:[te.WebGPUSystem],name:"bindGroup"};class HO{constructor(e){this._gpuBuffers=Object.create(null),this._managedBuffers=[],e.renderableGC.addManagedHash(this,"_gpuBuffers")}contextChange(e){this._gpu=e}getGPUBuffer(e){return this._gpuBuffers[e.uid]||this.createGPUBuffer(e)}updateBuffer(e){const n=this._gpuBuffers[e.uid]||this.createGPUBuffer(e),r=e.data;return e._updateID&&r&&(e._updateID=0,this._gpu.device.queue.writeBuffer(n,0,r.buffer,0,(e._updateSize||r.byteLength)+3&-4)),n}destroyAll(){for(const e in this._gpuBuffers)this._gpuBuffers[e].destroy();this._gpuBuffers={}}createGPUBuffer(e){this._gpuBuffers[e.uid]||(e.on("update",this.updateBuffer,this),e.on("change",this.onBufferChange,this),e.on("destroy",this.onBufferDestroy,this),this._managedBuffers.push(e));const n=this._gpu.device.createBuffer(e.descriptor);return e._updateID=0,e.data&&(ES(e.data.buffer,n.getMappedRange()),n.unmap()),this._gpuBuffers[e.uid]=n,n}onBufferChange(e){this._gpuBuffers[e.uid].destroy(),e._updateID=0,this._gpuBuffers[e.uid]=this.createGPUBuffer(e)}onBufferDestroy(e){this._managedBuffers.splice(this._managedBuffers.indexOf(e),1),this._destroyBuffer(e)}destroy(){this._managedBuffers.forEach(e=>this._destroyBuffer(e)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(e){this._gpuBuffers[e.uid].destroy(),e.off("update",this.updateBuffer,this),e.off("change",this.onBufferChange,this),e.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[e.uid]=null}}HO.extension={type:[te.WebGPUSystem],name:"buffer"};function ZK(t,e){const n=t.descriptor.size,r=e.gpu.device,i=new cs({data:new Float32Array(24e5),usage:Wt.MAP_READ|Wt.COPY_DST}),s=e.buffer.createGPUBuffer(i),o=r.createCommandEncoder();o.copyBufferToBuffer(e.buffer.getGPUBuffer(t),0,s,0,n),r.queue.submit([o.finish()]),s.mapAsync(GPUMapMode.READ,0,n).then(()=>{s.getMappedRange(0,n),s.unmap()})}class AG{constructor({minUniformOffsetAlignment:e}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=e,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(e){if(e>this._minUniformOffsetAlignment/4)throw new Error(`UniformBufferBatch: array is too large: ${e*4}`);const n=this.byteIndex;let r=n+e*4;if(r=Math.ceil(r/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,r>this.data.length*4)throw new Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=r,n}addGroup(e){const n=this.addEmptyGroup(e.length);for(let r=0;r<e.length;r++)this.data[n/4+r]=e[r];return n}destroy(){this.data=null}}class WO{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.pipeline.setColorMask(e))}destroy(){this._renderer=null,this._colorMaskCache=null}}WO.extension={type:[te.WebGPUSystem],name:"colorMask"};class Yw{constructor(e){this._renderer=e}async init(e){return this._initPromise?this._initPromise:(this._initPromise=this._createDeviceAndAdaptor(e).then(n=>{this.gpu=n,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise)}contextChange(e){this._renderer.gpu=e}async _createDeviceAndAdaptor(e){const n=await Yt.get().getNavigator().gpu.requestAdapter({powerPreference:e.powerPreference,forceFallbackAdapter:e.forceFallbackAdapter}),r=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter(s=>n.features.has(s)),i=await n.requestDevice({requiredFeatures:r});return{adapter:n,device:i}}destroy(){this.gpu=null,this._renderer=null}}Yw.extension={type:[te.WebGPUSystem],name:"device"};Yw.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1};class $O{constructor(e){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=e}renderStart(){this.commandFinished=new Promise(e=>{this._resolveCommandFinished=e}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(e){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(e.descriptor)}endRenderPass(){this.renderPassEncoder&&this.renderPassEncoder.end(),this.renderPassEncoder=null}setViewport(e){this.renderPassEncoder.setViewport(e.x,e.y,e.width,e.height,0,1)}setPipelineFromGeometryProgramAndState(e,n,r,i){const s=this._renderer.pipeline.getPipeline(e,n,r,i);this.setPipeline(s)}setPipeline(e){this._boundPipeline!==e&&(this._boundPipeline=e,this.renderPassEncoder.setPipeline(e))}_setVertexBuffer(e,n){this._boundVertexBuffer[e]!==n&&(this._boundVertexBuffer[e]=n,this.renderPassEncoder.setVertexBuffer(e,this._renderer.buffer.updateBuffer(n)))}_setIndexBuffer(e){if(this._boundIndexBuffer===e)return;this._boundIndexBuffer=e;const n=e.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(e),n)}resetBindGroup(e){this._boundBindGroup[e]=null}setBindGroup(e,n,r){if(this._boundBindGroup[e]===n)return;this._boundBindGroup[e]=n,n._touch(this._renderer.textureGC.count);const i=this._renderer.bindGroup.getBindGroup(n,r,e);this.renderPassEncoder.setBindGroup(e,i)}setGeometry(e,n){const r=this._renderer.pipeline.getBufferNamesToBind(e,n);for(const i in r)this._setVertexBuffer(i,e.attributes[r[i]].buffer);e.indexBuffer&&this._setIndexBuffer(e.indexBuffer)}_setShaderBindGroups(e,n){for(const r in e.groups){const i=e.groups[r];n||this._syncBindGroup(i),this.setBindGroup(r,i,e.gpuProgram)}}_syncBindGroup(e){for(const n in e.resources){const r=e.resources[n];r.isUniformGroup&&this._renderer.ubo.updateUniformGroup(r)}}draw(e){const{geometry:n,shader:r,state:i,topology:s,size:o,start:u,instanceCount:c,skipSync:f}=e;this.setPipelineFromGeometryProgramAndState(n,r.gpuProgram,i,s),this.setGeometry(n,r.gpuProgram),this._setShaderBindGroups(r,f),n.indexBuffer?this.renderPassEncoder.drawIndexed(o||n.indexBuffer.data.length,c??n.instanceCount,u||0):this.renderPassEncoder.draw(o||n.getSize(),c??n.instanceCount,u||0)}finishRenderPass(){this.renderPassEncoder&&(this.renderPassEncoder.end(),this.renderPassEncoder=null)}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){const e=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(e);const n=this._boundPipeline,r={...this._boundVertexBuffer},i=this._boundIndexBuffer,s={...this._boundBindGroup};this._clearCache();const o=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(o.x,o.y,o.width,o.height,0,1),this.setPipeline(n);for(const u in r)this._setVertexBuffer(u,r[u]);for(const u in s)this.setBindGroup(u,s[u],null);this._setIndexBuffer(i)}_clearCache(){for(let e=0;e<16;e++)this._boundBindGroup[e]=null,this._boundVertexBuffer[e]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(e){this._gpu=e}}$O.extension={type:[te.WebGPUSystem],name:"encoder",priority:1};class jO{constructor(e){this._renderTargetStencilState=Object.create(null),this._renderer=e,e.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(e){let n=this._renderTargetStencilState[e.uid];n||(n=this._renderTargetStencilState[e.uid]={stencilMode:mr.DISABLED,stencilReference:0}),this._activeRenderTarget=e,this.setStencilMode(n.stencilMode,n.stencilReference)}setStencilMode(e,n){const r=this._renderTargetStencilState[this._activeRenderTarget.uid];r.stencilMode=e,r.stencilReference=n;const i=this._renderer;i.pipeline.setStencilMode(e),i.encoder.renderPassEncoder.setStencilReference(n)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}jO.extension={type:[te.WebGPUSystem],name:"stencil"};const v_={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}};function RG(t){const e=t.map(r=>({data:r,offset:0,size:0}));let n=0;for(let r=0;r<e.length;r++){const i=e[r];let s=v_[i.data.type].size;const o=v_[i.data.type].align;if(!v_[i.data.type])throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${i.data.type}`);i.data.size>1&&(s=Math.max(s,o)*i.data.size),n=Math.ceil(n/o)*o,i.size=s,i.offset=n,n+=s}return n=Math.ceil(n/16)*16,{uboElements:e,size:n}}function PG(t,e){const{size:n,align:r}=v_[t.data.type],i=(r-n)/4,s=t.data.type.indexOf("i32")>=0?"dataInt32":"data";return`
         v = uv.${t.data.name};
         ${e!==0?`offset += ${e};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${t.data.size*(n/4)}; i++)
         {
             for(var j = 0; j < ${n/4}; j++)
             {
                 ${s}[arrayOffset++] = v[t++];
             }
             ${i!==0?`arrayOffset += ${i};`:""}
         }
     `}function OG(t){return dO(t,"uboWgsl",PG,ML)}class XO extends uO{constructor(){super({createUboElements:RG,generateUboSync:OG})}}XO.extension={type:[te.WebGPUSystem],name:"ubo"};const ud=128;class YO{constructor(e){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_bindGroupHash"),this._batchBuffer=new AG({minUniformOffsetAlignment:ud});const n=256/ud;for(let r=0;r<n;r++){let i=Wt.UNIFORM|Wt.COPY_DST;r===0&&(i|=Wt.COPY_SRC),this._buffers.push(new cs({data:this._batchBuffer.data,usage:i}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(const e in this._bindGroupHash)this._bindGroupHash[e]=null;this._batchBuffer.clear()}getUniformBindGroup(e,n){if(!n&&this._bindGroupHash[e.uid])return this._bindGroupHash[e.uid];this._renderer.ubo.ensureUniformGroup(e);const r=e.buffer.data,i=this._batchBuffer.addEmptyGroup(r.length);return this._renderer.ubo.syncUniformGroup(e,this._batchBuffer.data,i/4),this._bindGroupHash[e.uid]=this._getBindGroup(i/ud),this._bindGroupHash[e.uid]}getUboResource(e){this._renderer.ubo.updateUniformGroup(e);const n=e.buffer.data,r=this._batchBuffer.addGroup(n);return this._getBufferResource(r/ud)}getArrayBindGroup(e){const n=this._batchBuffer.addGroup(e);return this._getBindGroup(n/ud)}getArrayBufferResource(e){const r=this._batchBuffer.addGroup(e)/ud;return this._getBufferResource(r)}_getBufferResource(e){if(!this._bufferResources[e]){const n=this._buffers[e%2];this._bufferResources[e]=new $w({buffer:n,offset:(e/2|0)*256,size:ud})}return this._bufferResources[e]}_getBindGroup(e){if(!this._bindGroups[e]){const n=new zl({0:this._getBufferResource(e)});this._bindGroups[e]=n}return this._bindGroups[e]}_uploadBindGroups(){const e=this._renderer.buffer,n=this._buffers[0];n.update(this._batchBuffer.byteIndex),e.updateBuffer(n);const r=this._renderer.gpu.device.createCommandEncoder();for(let i=1;i<this._buffers.length;i++){const s=this._buffers[i];r.copyBufferToBuffer(e.getGPUBuffer(n),ud,e.getGPUBuffer(s),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([r.finish()])}destroy(){for(let e=0;e<this._bindGroups.length;e++)this._bindGroups[e].destroy();this._bindGroups=null,this._bindGroupHash=null;for(let e=0;e<this._buffers.length;e++)this._buffers[e].destroy();this._buffers=null;for(let e=0;e<this._bufferResources.length;e++)this._bufferResources[e].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}YO.extension={type:[te.WebGPUPipes],name:"uniformBatch"};const QK={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};function JK(t,e,n,r,i){return t<<24|e<<16|n<<10|r<<5|i}function eZ(t,e,n,r){return n<<6|t<<3|r<<1|e}class qO{constructor(e){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._bindingNamesCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=e}contextChange(e){this._gpu=e,this.setStencilMode(mr.DISABLED),this._updatePipeHash()}setMultisampleCount(e){this._multisampleCount!==e&&(this._multisampleCount=e,this._updatePipeHash())}setRenderTarget(e){this._multisampleCount=e.msaaSamples,this._depthStencilAttachment=e.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(e){this._colorMask!==e&&(this._colorMask=e,this._updatePipeHash())}setStencilMode(e){this._stencilMode!==e&&(this._stencilMode=e,this._stencilState=dc[e],this._updatePipeHash())}setPipeline(e,n,r,i){const s=this.getPipeline(e,n,r);i.setPipeline(s)}getPipeline(e,n,r,i){e._layoutKey||(nO(e,n.attributeData),this._generateBufferKey(e)),i||(i=e.topology);const s=JK(e._layoutKey,n._layoutKey,r.data,r._blendModeId,QK[i]);return this._pipeCache[s]?this._pipeCache[s]:(this._pipeCache[s]=this._createPipeline(e,n,r,i),this._pipeCache[s])}_createPipeline(e,n,r,i){const s=this._gpu.device,o=this._createVertexBufferLayouts(e,n),u=this._renderer.state.getColorTargets(r);u[0].writeMask=this._stencilMode===mr.RENDERING_MASK_ADD?0:this._colorMask;const c=this._renderer.shader.getProgramData(n).pipeline,f={vertex:{module:this._getModule(n.vertex.source),entryPoint:n.vertex.entryPoint,buffers:o},fragment:{module:this._getModule(n.fragment.source),entryPoint:n.fragment.entryPoint,targets:u},primitive:{topology:i,cullMode:r.cullMode},layout:c,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};return this._depthStencilAttachment&&(f.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:r.depthTest,depthCompare:r.depthTest?"less":"always"}),s.createRenderPipeline(f)}_getModule(e){return this._moduleCache[e]||this._createModule(e)}_createModule(e){const n=this._gpu.device;return this._moduleCache[e]=n.createShaderModule({code:e}),this._moduleCache[e]}_generateBufferKey(e){const n=[];let r=0;const i=Object.keys(e.attributes).sort();for(let o=0;o<i.length;o++){const u=e.attributes[i[o]];n[r++]=u.offset,n[r++]=u.format,n[r++]=u.stride,n[r++]=u.instance}const s=n.join("|");return e._layoutKey=Jm(s,"geometry"),e._layoutKey}_generateAttributeLocationsKey(e){const n=[];let r=0;const i=Object.keys(e.attributeData).sort();for(let o=0;o<i.length;o++){const u=e.attributeData[i[o]];n[r++]=u.location}const s=n.join("|");return e._attributeLocationsKey=Jm(s,"programAttributes"),e._attributeLocationsKey}getBufferNamesToBind(e,n){const r=e._layoutKey<<16|n._attributeLocationsKey;if(this._bindingNamesCache[r])return this._bindingNamesCache[r];const i=this._createVertexBufferLayouts(e,n),s=Object.create(null),o=n.attributeData;for(let u=0;u<i.length;u++){const f=Object.values(i[u].attributes)[0].shaderLocation;for(const p in o)if(o[p].location===f){s[u]=p;break}}return this._bindingNamesCache[r]=s,s}_createVertexBufferLayouts(e,n){n._attributeLocationsKey||this._generateAttributeLocationsKey(n);const r=e._layoutKey<<16|n._attributeLocationsKey;if(this._bufferLayoutsCache[r])return this._bufferLayoutsCache[r];const i=[];return e.buffers.forEach(s=>{const o={arrayStride:0,stepMode:"vertex",attributes:[]},u=o.attributes;for(const c in n.attributeData){const f=e.attributes[c];(f.divisor??1)!==1&&at(`Attribute ${c} has an invalid divisor value of '${f.divisor}'. WebGPU only supports a divisor value of 1`),f.buffer===s&&(o.arrayStride=f.stride,o.stepMode=f.instance?"instance":"vertex",u.push({shaderLocation:n.attributeData[c].location,offset:f.offset,format:f.format}))}u.length&&i.push(o)}),this._bufferLayoutsCache[r]=i,i}_updatePipeHash(){const e=eZ(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);this._pipeStateCaches[e]||(this._pipeStateCaches[e]=Object.create(null)),this._pipeCache=this._pipeStateCaches[e]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}qO.extension={type:[te.WebGPUSystem],name:"pipeline"};class MG{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}class DG{init(e,n){this._renderer=e,this._renderTargetSystem=n}copyToTexture(e,n,r,i,s){const o=this._renderer,u=this._getGpuColorTexture(e),c=o.texture.getGpuSource(n.source);return o.encoder.commandEncoder.copyTextureToTexture({texture:u,origin:r},{texture:c,origin:s},i),n}startRenderPass(e,n=!0,r,i){const o=this._renderTargetSystem.getGpuRenderTarget(e),u=this.getDescriptor(e,n,r);o.descriptor=u,this._renderer.pipeline.setRenderTarget(o),this._renderer.encoder.beginRenderPass(o),this._renderer.encoder.setViewport(i)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(e){const n=this._renderTargetSystem.getGpuRenderTarget(e);return n.contexts[0]?n.contexts[0].getCurrentTexture():this._renderer.texture.getGpuSource(e.colorTextures[0].source)}getDescriptor(e,n,r){typeof n=="boolean"&&(n=n?ks.ALL:ks.NONE);const i=this._renderTargetSystem,s=i.getGpuRenderTarget(e),o=e.colorTextures.map((f,p)=>{const v=s.contexts[p];let b,y;v?b=v.getCurrentTexture().createView():b=this._renderer.texture.getGpuSource(f).createView({mipLevelCount:1}),s.msaaTextures[p]&&(y=b,b=this._renderer.texture.getTextureView(s.msaaTextures[p]));const E=n&ks.COLOR?"clear":"load";return r??(r=i.defaultClearColor),{view:b,resolveTarget:y,clearValue:r,storeOp:"store",loadOp:E}});let u;if((e.stencil||e.depth)&&!e.depthStencilTexture&&(e.ensureDepthStencilTexture(),e.depthStencilTexture.source.sampleCount=s.msaa?4:1),e.depthStencilTexture){const f=n&ks.STENCIL?"clear":"load",p=n&ks.DEPTH?"clear":"load";u={view:this._renderer.texture.getGpuSource(e.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:f,depthClearValue:1,depthLoadOp:p,depthStoreOp:"store"}}return{colorAttachments:o,depthStencilAttachment:u}}clear(e,n=!0,r,i){if(!n)return;const{gpu:s,encoder:o}=this._renderer,u=s.device;if(o.commandEncoder===null){const f=u.createCommandEncoder(),p=this.getDescriptor(e,n,r),v=f.beginRenderPass(p);v.setViewport(i.x,i.y,i.width,i.height,0,1),v.end();const b=f.finish();u.queue.submit([b])}else this.startRenderPass(e,n,r,i)}initGpuRenderTarget(e){e.isRoot=!0;const n=new MG;return e.colorTextures.forEach((r,i)=>{if(Gl.test(r.resource)){const s=r.resource.getContext("webgpu"),o=r.transparent?"premultiplied":"opaque";try{s.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:o})}catch(u){console.error(u)}n.contexts[i]=s}if(n.msaa=r.source.antialias,r.source.antialias){const s=new br({width:0,height:0,sampleCount:4});n.msaaTextures[i]=s}}),n.msaa&&(n.msaaSamples=4,e.depthStencilTexture&&(e.depthStencilTexture.source.sampleCount=4)),n}destroyGpuRenderTarget(e){e.contexts.forEach(n=>{n.unconfigure()}),e.msaaTextures.forEach(n=>{n.destroy()}),e.msaaTextures.length=0,e.contexts.length=0}ensureDepthStencilTexture(e){const n=this._renderTargetSystem.getGpuRenderTarget(e);e.depthStencilTexture&&n.msaa&&(e.depthStencilTexture.source.sampleCount=4)}resizeGpuRenderTarget(e){const n=this._renderTargetSystem.getGpuRenderTarget(e);n.width=e.width,n.height=e.height,n.msaa&&e.colorTextures.forEach((r,i)=>{const s=n.msaaTextures[i];s==null||s.resize(r.source.width,r.source.height,r.source._resolution)})}}class KO extends gO{constructor(e){super(e),this.adaptor=new DG,this.adaptor.init(e,this)}}KO.extension={type:[te.WebGPUSystem],name:"renderTarget"};class ZO{constructor(){this._gpuProgramData=Object.create(null)}contextChange(e){this._gpu=e,this.maxTextures=e.device.limits.maxSampledTexturesPerShaderStage}getProgramData(e){return this._gpuProgramData[e._layoutKey]||this._createGPUProgramData(e)}_createGPUProgramData(e){const n=this._gpu.device,r=e.gpuLayout.map(s=>n.createBindGroupLayout({entries:s})),i={bindGroupLayouts:r};return this._gpuProgramData[e._layoutKey]={bindGroups:r,pipeline:n.createPipelineLayout(i)},this._gpuProgramData[e._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}ZO.extension={type:[te.WebGPUSystem],name:"shader"};const ds={};ds.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}};ds.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}};ds.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}};ds.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};ds.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}};ds.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}};ds["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}};ds["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}};ds["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}};ds.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};ds.min={alpha:{srcFactor:"one",dstFactor:"one",operation:"min"},color:{srcFactor:"one",dstFactor:"one",operation:"min"}};ds.max={alpha:{srcFactor:"one",dstFactor:"one",operation:"max"},color:{srcFactor:"one",dstFactor:"one",operation:"max"}};class QO{constructor(){this.defaultState=new Ea,this.defaultState.blend=!0}contextChange(e){this.gpu=e}getColorTargets(e){return[{format:"bgra8unorm",writeMask:0,blend:ds[e.blendMode]||ds.normal}]}destroy(){this.gpu=null}}QO.extension={type:[te.WebGPUSystem],name:"state"};const BG={type:"image",upload(t,e,n){const r=t.resource,i=(t.pixelWidth|0)*(t.pixelHeight|0),s=r.byteLength/i;n.device.queue.writeTexture({texture:e},r,{offset:0,rowsPerImage:t.pixelHeight,bytesPerRow:t.pixelHeight*s},{width:t.pixelWidth,height:t.pixelHeight,depthOrArrayLayers:1})}},JO={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},tZ={blockBytes:4,blockWidth:1,blockHeight:1},kG={type:"compressed",upload(t,e,n){let r=t.pixelWidth,i=t.pixelHeight;const s=JO[t.format]||tZ;for(let o=0;o<t.resource.length;o++){const u=t.resource[o],c=Math.ceil(r/s.blockWidth)*s.blockBytes;n.device.queue.writeTexture({texture:e,mipLevel:o},u,{offset:0,bytesPerRow:c},{width:Math.ceil(r/s.blockWidth)*s.blockWidth,height:Math.ceil(i/s.blockHeight)*s.blockHeight,depthOrArrayLayers:1}),r=Math.max(r>>1,1),i=Math.max(i>>1,1)}}},eM={type:"image",upload(t,e,n){const r=t.resource;if(!r)return;const i=Math.min(e.width,t.resourceWidth||t.pixelWidth),s=Math.min(e.height,t.resourceHeight||t.pixelHeight),o=t.alphaMode==="premultiply-alpha-on-upload";n.device.queue.copyExternalImageToTexture({source:r},{texture:e,premultipliedAlpha:o},{width:i,height:s})}},IG={type:"video",upload(t,e,n){eM.upload(t,e,n)}};class NG{constructor(e){this.device=e,this.sampler=e.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(e){let n=this.pipelines[e];return n||(this.mipmapShaderModule||(this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `})),n=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:e}]}}),this.pipelines[e]=n),n}generateMipmap(e){const n=this._getMipmapPipeline(e.format);if(e.dimension==="3d"||e.dimension==="1d")throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");let r=e;const i=e.depthOrArrayLayers||1,s=e.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!s){const c={size:{width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:i},format:e.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:e.mipLevelCount-1};r=this.device.createTexture(c)}const o=this.device.createCommandEncoder({}),u=n.getBindGroupLayout(0);for(let c=0;c<i;++c){let f=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:c,arrayLayerCount:1}),p=s?1:0;for(let v=1;v<e.mipLevelCount;++v){const b=r.createView({baseMipLevel:p++,mipLevelCount:1,dimension:"2d",baseArrayLayer:c,arrayLayerCount:1}),y=o.beginRenderPass({colorAttachments:[{view:b,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),E=this.device.createBindGroup({layout:u,entries:[{binding:0,resource:this.sampler},{binding:1,resource:f}]});y.setPipeline(n),y.setBindGroup(0,E),y.draw(3,1,0,0),y.end(),f=b}}if(!s){const c={width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:i};for(let f=1;f<e.mipLevelCount;++f)o.copyTextureToTexture({texture:r,mipLevel:f-1},{texture:e,mipLevel:f},c),c.width=Math.ceil(c.width/2),c.height=Math.ceil(c.height/2)}return this.device.queue.submit([o.finish()]),s||r.destroy(),e}}class tM{constructor(e){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:eM,buffer:BG,video:IG,compressed:kG},this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuSources"),e.renderableGC.addManagedHash(this,"_gpuSamplers"),e.renderableGC.addManagedHash(this,"_bindGroupHash"),e.renderableGC.addManagedHash(this,"_textureViewHash")}contextChange(e){this._gpu=e}initSource(e){if(e.autoGenerateMipmaps){const c=Math.max(e.pixelWidth,e.pixelHeight);e.mipLevelCount=Math.floor(Math.log2(c))+1}let n=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;e.uploadMethodId!=="compressed"&&(n|=GPUTextureUsage.RENDER_ATTACHMENT,n|=GPUTextureUsage.COPY_SRC);const r=JO[e.format]||{blockWidth:1,blockHeight:1},i=Math.ceil(e.pixelWidth/r.blockWidth)*r.blockWidth,s=Math.ceil(e.pixelHeight/r.blockHeight)*r.blockHeight,o={label:e.label,size:{width:i,height:s},format:e.format,sampleCount:e.sampleCount,mipLevelCount:e.mipLevelCount,dimension:e.dimension,usage:n},u=this._gpu.device.createTexture(o);return this._gpuSources[e.uid]=u,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceResize,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),u}onSourceUpdate(e){const n=this.getGpuSource(e);n&&(this._uploads[e.uploadMethodId]&&this._uploads[e.uploadMethodId].upload(e,n,this._gpu),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e))}onSourceUnload(e){const n=this._gpuSources[e.uid];n&&(this._gpuSources[e.uid]=null,n.destroy())}onUpdateMipmaps(e){this._mipmapGenerator||(this._mipmapGenerator=new NG(this._gpu.device));const n=this.getGpuSource(e);this._mipmapGenerator.generateMipmap(n)}onSourceDestroy(e){e.off("update",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("destroy",this.onSourceDestroy,this),e.off("resize",this.onSourceResize,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}onSourceResize(e){const n=this._gpuSources[e.uid];n?(n.width!==e.pixelWidth||n.height!==e.pixelHeight)&&(this._textureViewHash[e.uid]=null,this._bindGroupHash[e.uid]=null,this.onSourceUnload(e),this.initSource(e)):this.initSource(e)}_initSampler(e){return this._gpuSamplers[e._resourceId]=this._gpu.device.createSampler(e),this._gpuSamplers[e._resourceId]}getGpuSampler(e){return this._gpuSamplers[e._resourceId]||this._initSampler(e)}getGpuSource(e){return this._gpuSources[e.uid]||this.initSource(e)}getTextureBindGroup(e){return this._bindGroupHash[e.uid]??this._createTextureBindGroup(e)}_createTextureBindGroup(e){const n=e.source;return this._bindGroupHash[e.uid]=new zl({0:n,1:n.style,2:new kr({uTextureMatrix:{type:"mat3x3<f32>",value:e.textureMatrix.mapCoord}})}),this._bindGroupHash[e.uid]}getTextureView(e){const n=e.source;return this._textureViewHash[n.uid]??this._createTextureView(n)}_createTextureView(e){return this._textureViewHash[e.uid]=this.getGpuSource(e).createView(),this._textureViewHash[e.uid]}generateCanvas(e){const n=this._renderer,r=n.gpu.device.createCommandEncoder(),i=Yt.get().createCanvas();i.width=e.source.pixelWidth,i.height=e.source.pixelHeight;const s=i.getContext("webgpu");return s.configure({device:n.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:Yt.get().getNavigator().gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),r.copyTextureToTexture({texture:n.texture.getGpuSource(e.source),origin:{x:0,y:0}},{texture:s.getCurrentTexture()},{width:i.width,height:i.height}),n.gpu.device.queue.submit([r.finish()]),i}getPixels(e){const n=this.generateCanvas(e),r=Vl.getOptimalCanvasAndContext(n.width,n.height),i=r.context;i.drawImage(n,0,0);const{width:s,height:o}=n,u=i.getImageData(0,0,s,o),c=new Uint8ClampedArray(u.data.buffer);return Vl.returnCanvasAndContext(r),{pixels:c,width:s,height:o}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null;for(const e of Object.keys(this._bindGroupHash)){const n=Number(e),r=this._bindGroupHash[n];r==null||r.destroy(),this._bindGroupHash[n]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}tM.extension={type:[te.WebGPUSystem],name:"texture"};class nM{init(){const e=new kr({uTransformMatrix:{value:new Je,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),n=hv({name:"graphics",bits:[Pw,Mw(rp()),_L,pv]});this.shader=new Ma({gpuProgram:n,resources:{localUniforms:e}})}execute(e,n){const r=n.context,i=r.customShader||this.shader,s=e.renderer,o=s.graphicsContext,{batcher:u,instructions:c}=o.getContextRenderData(r),f=s.encoder;f.setGeometry(u.geometry,i.gpuProgram);const p=s.globalUniforms.bindGroup;f.setBindGroup(0,p,i.gpuProgram);const v=s.renderPipes.uniformBatch.getUniformBindGroup(i.resources.localUniforms,!0);f.setBindGroup(2,v,i.gpuProgram);const b=c.instructions;let y=null;for(let E=0;E<c.instructionSize;E++){const S=b[E];if(S.topology!==y&&(y=S.topology,f.setPipelineFromGeometryProgramAndState(u.geometry,i.gpuProgram,e.state,S.topology)),i.groups[1]=S.bindGroup,!S.gpuBindGroup){const T=S.textures;S.bindGroup=Rw(T.textures,T.count),S.gpuBindGroup=s.bindGroup.getBindGroup(S.bindGroup,i.gpuProgram,1)}f.setBindGroup(1,S.bindGroup,i.gpuProgram),f.renderPassEncoder.drawIndexed(S.size,1,S.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}nM.extension={type:[te.WebGPUPipesAdaptor],name:"graphics"};class rM{init(){const e=hv({name:"mesh",bits:[Om,yL,pv]});this._shader=new Ma({gpuProgram:e,resources:{uTexture:ze.EMPTY._source,uSampler:ze.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new Je}}}})}execute(e,n){const r=e.renderer;let i=n._shader;if(!i)i=this._shader,i.groups[2]=r.texture.getTextureBindGroup(n.texture);else if(!i.gpuProgram){at("Mesh shader has no gpuProgram",n.shader);return}const s=i.gpuProgram;if(s.autoAssignGlobalUniforms&&(i.groups[0]=r.globalUniforms.bindGroup),s.autoAssignLocalUniforms){const o=e.localUniforms;i.groups[1]=r.renderPipes.uniformBatch.getUniformBindGroup(o,!0)}r.encoder.draw({geometry:n._geometry,shader:i,state:n.state})}destroy(){this._shader.destroy(!0),this._shader=null}}rM.extension={type:[te.WebGPUPipesAdaptor],name:"mesh"};const nZ=[...GO,XO,$O,Yw,HO,tM,KO,ZO,QO,qO,WO,jO,VO],rZ=[...zO,YO],iZ=[YP,rM,nM],UG=[],FG=[],LG=[];An.handleByNamedList(te.WebGPUSystem,UG);An.handleByNamedList(te.WebGPUPipes,FG);An.handleByNamedList(te.WebGPUPipesAdaptor,LG);An.add(...nZ,...rZ,...iZ);class GG extends oy{constructor(){const e={name:"webgpu",type:Ws.WEBGPU,systems:UG,renderPipes:FG,renderPipeAdaptors:LG};super(e)}}const sZ=Object.freeze(Object.defineProperty({__proto__:null,WebGPURenderer:GG},Symbol.toStringTag,{value:"Module"})),Sk={POINTS:"point-list",LINES:"line-list",LINE_STRIP:"line-strip",TRIANGLES:"triangle-list",TRIANGLE_STRIP:"triangle-strip"},aZ=new Proxy(Sk,{get(t,e){return Qe(Tt,`DRAW_MODES.${e} is deprecated, use '${Sk[e]}' instead`),t[e]}}),oZ=new vn(0,0,1,1);function lZ(t,e,n){n||(n=oZ);const r=e.pixelWidth,i=e.pixelHeight;return t.x=n.x*r|0,t.y=n.y*i|0,t.width=n.width*r|0,t.height=n.height*i|0,t}var zG=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(zG||{}),DS=(t=>(t.CLAMP="clamp-to-edge",t.REPEAT="repeat",t.MIRRORED_REPEAT="mirror-repeat",t))(DS||{});const uZ=new Proxy(DS,{get(t,e){return Qe(Tt,`DRAW_MODES.${e} is deprecated, use '${DS[e]}' instead`),t[e]}});var BS=(t=>(t.NEAREST="nearest",t.LINEAR="linear",t))(BS||{});const cZ=new Proxy(BS,{get(t,e){return Qe(Tt,`DRAW_MODES.${e} is deprecated, use '${BS[e]}' instead`),t[e]}});class dZ{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,r){const i=n.width,s=n.height;if(r){const o=e.width/2/i,u=e.height/2/s,c=e.x/i+o,f=e.y/s+u;r=Ht.add(r,Ht.NW),this.x0=c+o*Ht.uX(r),this.y0=f+u*Ht.uY(r),r=Ht.add(r,2),this.x1=c+o*Ht.uX(r),this.y1=f+u*Ht.uY(r),r=Ht.add(r,2),this.x2=c+o*Ht.uX(r),this.y2=f+u*Ht.uY(r),r=Ht.add(r,2),this.x3=c+o*Ht.uX(r),this.y3=f+u*Ht.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[pixi.js/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}let hZ=0;function fZ(){return hZ++}function pZ(t){const e=t.toString(),n=e.indexOf("{"),r=e.lastIndexOf("}");if(n===-1||r===-1)throw new Error("getFunctionBody: No body found in function definition");return e.slice(n+1,r).trim()}function gZ(t,e){return Qe("8.7.0","Use container.getFastGlobalBounds() instead"),t.getFastGlobalBounds(!0,e)}class mZ extends eu{constructor(e){typeof e=="function"&&(e={render:e});const{render:n,...r}=e;super({label:"RenderContainer",...r}),this.renderPipeId="customRender",this.batched=!1,n&&(this.render=n),this.containsPoint=e.containsPoint??(()=>!1),this.addBounds=e.addBounds??(()=>!1)}updateBounds(){this._bounds.clear(),this.addBounds(this._bounds)}render(e){}}function vZ(t,e,n){Qe("8.7.0","Please use container.collectRenderables instead.");const r=n.renderPipes?n:n.batch.renderer;return t.collectRenderables(e,r,null)}function bZ(t,e,n){const r=t>>16&255,i=t>>8&255,s=t&255,o=e>>16&255,u=e>>8&255,c=e&255,f=r+(o-r)*n,p=i+(u-i)*n,v=s+(c-s)*n;return(f<<16)+(p<<8)+v}function _Z(t,e){const n=e._scale,r=e._pivot,i=e._position,s=n._x,o=n._y,u=r._x,c=r._y;t.a=e._cx*s,t.b=e._sx*s,t.c=e._cy*o,t.d=e._sy*o,t.tx=i._x-(u*t.a+c*t.c),t.ty=i._y-(u*t.b+c*t.d)}function yZ(t,e,n){const r=t.a,i=t.b,s=t.c,o=t.d,u=t.tx,c=t.ty,f=e.a,p=e.b,v=e.c,b=e.d;n.a=r*f+i*v,n.b=r*p+i*b,n.c=s*f+o*v,n.d=s*p+o*b,n.tx=u*f+c*v+e.tx,n.ty=u*p+c*b+e.ty}class VG{constructor(e,n){this.state=Ea.for2d(),this._graphicsBatchesHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.renderer=e,this._adaptor=n,this._adaptor.init(),this.renderer.renderableGC.addManagedHash(this,"_graphicsBatchesHash")}validateRenderable(e){const n=e.context,r=!!this._graphicsBatchesHash[e.uid],i=this.renderer.graphicsContext.updateGpuContext(n);return!!(i.isBatchable||r!==i.isBatchable)}addRenderable(e,n){const r=this.renderer.graphicsContext.updateGpuContext(e.context);e.didViewUpdate&&this._rebuild(e),r.isBatchable?this._addToBatcher(e,n):(this.renderer.renderPipes.batch.break(n),n.add(e))}updateRenderable(e){const n=this._graphicsBatchesHash[e.uid];if(n)for(let r=0;r<n.length;r++){const i=n[r];i._batcher.updateElement(i)}}destroyRenderable(e){this._graphicsBatchesHash[e.uid]&&this._removeBatchForRenderable(e.uid),e.off("destroyed",this._destroyRenderableBound)}execute(e){if(!e.isRenderable)return;const n=this.renderer,r=e.context;if(!n.graphicsContext.getGpuContext(r).batches.length)return;const s=r.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const o=s.resources.localUniforms.uniforms;o.uTransformMatrix=e.groupTransform,o.uRound=n._roundPixels|e._roundPixels,vv(e.groupColorAlpha,o.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const n=!!this._graphicsBatchesHash[e.uid],r=this.renderer.graphicsContext.updateGpuContext(e.context);n&&this._removeBatchForRenderable(e.uid),r.isBatchable&&this._initBatchesForRenderable(e),e.batched=r.isBatchable}_addToBatcher(e,n){const r=this.renderer.renderPipes.batch,i=this._getBatchesForRenderable(e);for(let s=0;s<i.length;s++){const o=i[s];r.addToBatch(o,n)}}_getBatchesForRenderable(e){return this._graphicsBatchesHash[e.uid]||this._initBatchesForRenderable(e)}_initBatchesForRenderable(e){const n=e.context,r=this.renderer.graphicsContext.getGpuContext(n),i=this.renderer._roundPixels|e._roundPixels,s=r.batches.map(o=>{const u=Xt.get(Nw);return o.copyTo(u),u.renderable=e,u.roundPixels=i,u});return this._graphicsBatchesHash[e.uid]===void 0&&e.on("destroyed",this._destroyRenderableBound),this._graphicsBatchesHash[e.uid]=s,s}_removeBatchForRenderable(e){this._graphicsBatchesHash[e].forEach(n=>{Xt.return(n)}),this._graphicsBatchesHash[e]=null}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null;for(const e in this._graphicsBatchesHash)this._removeBatchForRenderable(e);this._graphicsBatchesHash=null}}VG.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"graphics"};const xZ={rectangle:wP,polygon:SP,triangle:EP,circle:Qu,ellipse:Qu,roundedRectangle:Qu};function SZ(t){t instanceof Dd&&(t={path:t,textureMatrix:null,out:null});const e=[],n=[],r=[],i=t.path.shapePath,s=t.textureMatrix;i.shapePrimitives.forEach(({shape:c,transform:f})=>{const p=r.length,v=e.length/2,b=[],y=xZ[c.type];y.build(c,b),f&&Iw(b,f),y.triangulate(b,e,2,v,r,p);const E=n.length/2;s?(f&&s.append(f.clone().invert()),bP(e,2,v,n,E,2,e.length/2-v,s)):_P(n,E,2,e.length/2-v)});const o=t.out;return o?(o.positions=new Float32Array(e),o.uvs=new Float32Array(n),o.indices=new Uint32Array(r),o):new Hd({positions:new Float32Array(e),uvs:new Float32Array(n),indices:new Uint32Array(r)})}const HG=class WG extends Ei{constructor(e={}){e={...WG.defaultOptions,...e},super(),this.renderLayerChildren=[],this.sortableChildren=e.sortableChildren,this.sortFunction=e.sortFunction}attach(...e){for(let n=0;n<e.length;n++){const r=e[n];if(r.parentRenderLayer){if(r.parentRenderLayer===this)continue;r.parentRenderLayer.detach(r)}this.renderLayerChildren.push(r),r.parentRenderLayer=this;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0)}return e[0]}detach(...e){for(let n=0;n<e.length;n++){const r=e[n],i=this.renderLayerChildren.indexOf(r);i!==-1&&this.renderLayerChildren.splice(i,1),r.parentRenderLayer=null;const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0)}return e[0]}detachAll(){const e=this.renderLayerChildren;for(let n=0;n<e.length;n++)e[n].parentRenderLayer=null;this.renderLayerChildren.length=0}collectRenderables(e,n,r){const i=this.renderLayerChildren,s=i.length;this.sortableChildren&&this.sortRenderLayerChildren();for(let o=0;o<s;o++)i[o].parent||at("Container must be added to both layer and scene graph. Layers only handle render order - the scene graph is required for transforms (addChild)",i[o]),i[o].collectRenderables(e,n,this)}sortRenderLayerChildren(){this.renderLayerChildren.sort(this.sortFunction)}_getGlobalBoundsRecursive(e,n,r){if(!e)return;const i=this.renderLayerChildren;for(let s=0;s<i.length;s++)i[s]._getGlobalBoundsRecursive(!0,n,this)}};HG.defaultOptions={sortableChildren:!1,sortFunction:(t,e)=>t.zIndex-e.zIndex};let $G=HG;const wZ=$G,jG=class XG extends Hd{constructor(...e){super({});let n=e[0]??{};typeof n=="number"&&(Qe(Tt,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),n={width:n,height:e[1],verticesX:e[2],verticesY:e[3]}),this.build(n)}build(e){e={...XG.defaultOptions,...e},this.verticesX=this.verticesX??e.verticesX,this.verticesY=this.verticesY??e.verticesY,this.width=this.width??e.width,this.height=this.height??e.height;const n=this.verticesX*this.verticesY,r=[],i=[],s=[],o=this.verticesX-1,u=this.verticesY-1,c=this.width/o,f=this.height/u;for(let v=0;v<n;v++){const b=v%this.verticesX,y=v/this.verticesX|0;r.push(b*c,y*f),i.push(b/o,y/u)}const p=o*u;for(let v=0;v<p;v++){const b=v%o,y=v/o|0,E=y*this.verticesX+b,S=y*this.verticesX+b+1,T=(y+1)*this.verticesX+b,A=(y+1)*this.verticesX+b+1;s.push(E,S,T,S,A,T)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint32Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};jG.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let qw=jG;function YG(t,e,n,r){const i=n.buffers[0],s=i.data,{verticesX:o,verticesY:u}=n,c=t/(o-1),f=e/(u-1);let p=0;const v=r[0],b=r[1],y=r[2],E=r[3],S=r[4],T=r[5],A=r[6],P=r[7],O=r[8];for(let M=0;M<s.length;M+=2){const D=p%o*c,W=(p/o|0)*f,G=v*D+b*W+y,Y=E*D+S*W+T,L=A*D+P*W+O;s[M]=G/L,s[M+1]=Y/L,p++}i.update()}function qG(t,e){const n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],u=e[5],c=e[6],f=e[7],p=e[8];return t[0]=o*p-u*f,t[1]=i*f-r*p,t[2]=r*u-i*o,t[3]=u*c-s*p,t[4]=n*p-i*c,t[5]=i*s-n*u,t[6]=s*f-o*c,t[7]=r*c-n*f,t[8]=n*o-r*s,t}function KG(t,e,n){const r=e[0],i=e[1],s=e[2],o=e[3],u=e[4],c=e[5],f=e[6],p=e[7],v=e[8],b=n[0],y=n[1],E=n[2],S=n[3],T=n[4],A=n[5],P=n[6],O=n[7],M=n[8];return t[0]=b*r+y*o+E*f,t[1]=b*i+y*u+E*p,t[2]=b*s+y*c+E*v,t[3]=S*r+T*o+A*f,t[4]=S*i+T*u+A*p,t[5]=S*s+T*c+A*v,t[6]=P*r+O*o+M*f,t[7]=P*i+O*u+M*p,t[8]=P*s+O*c+M*v,t}function EZ(t,e,n){const r=n[0],i=n[1],s=n[2];return t[0]=e[0]*r+e[1]*i+e[2]*s,t[1]=e[3]*r+e[4]*i+e[5]*s,t[2]=e[6]*r+e[7]*i+e[8]*s,t}const TZ=[0,0,0,0,0,0,0,0,0],CZ=[0,0,0],T2=[0,0,0];function wk(t,e,n,r,i,s,o,u,c){const f=TZ;f[0]=e,f[1]=r,f[2]=s,f[3]=n,f[4]=i,f[5]=o,f[6]=1,f[7]=1,f[8]=1;const p=qG(t,f);T2[0]=u,T2[1]=c,T2[2]=1;const v=EZ(CZ,p,T2),b=t;return t[0]=v[0],t[1]=0,t[2]=0,t[3]=0,t[4]=v[1],t[5]=0,t[6]=0,t[7]=0,t[8]=v[2],KG(t,b,f)}const AZ=[0,0,0,0,0,0,0,0,0],RZ=[0,0,0,0,0,0,0,0,0];function ZG(t,e,n,r,i,s,o,u,c,f,p,v,b,y,E,S,T){const A=wk(AZ,e,n,s,o,f,p,y,E),P=wk(RZ,r,i,u,c,v,b,S,T);return KG(t,qG(A,A),P)}class QG extends qw{constructor(e){super(e),this._projectionMatrix=[0,0,0,0,0,0,0,0,0];const{width:n,height:r}=e;this.corners=[0,0,n,0,n,r,0,r]}setCorners(e,n,r,i,s,o,u,c){const f=this.corners;f[0]=e,f[1]=n,f[2]=r,f[3]=i,f[4]=s,f[5]=o,f[6]=u,f[7]=c,this.updateProjection()}updateProjection(){const{width:e,height:n}=this,r=this.corners,i=ZG(this._projectionMatrix,0,0,r[0],r[1],e,0,r[2],r[3],e,n,r[4],r[5],0,n,r[6],r[7]);YG(e,n,this,i)}}const JG=class ez extends mv{constructor(e){e={...ez.defaultOptions,...e};const{texture:n,verticesX:r,verticesY:i,...s}=e,o=new QG(zo({width:n.width,height:n.height,verticesX:r,verticesY:i}));super(zo({...s,geometry:o})),this._texture=n,this.geometry.setCorners(e.x0,e.y0,e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)}textureUpdated(){const e=this.geometry;if(!e)return;const{width:n,height:r}=this.texture;(e.width!==n||e.height!==r)&&(e.width=n,e.height=r,e.updateProjection())}set texture(e){this._texture!==e&&(super.texture=e,this.textureUpdated())}get texture(){return this._texture}setCorners(e,n,r,i,s,o,u,c){this.geometry.setCorners(e,n,r,i,s,o,u,c)}};JG.defaultOptions={texture:ze.WHITE,verticesX:10,verticesY:10,x0:0,y0:0,x1:100,y1:0,x2:100,y2:100,x3:0,y3:100};let PZ=JG;class OZ extends mv{constructor(e){const{texture:n,verticesX:r,verticesY:i,...s}=e,o=new qw(zo({width:n.width,height:n.height,verticesX:r,verticesY:i}));super(zo({...s,geometry:o,texture:n})),this.texture=n,this.autoResize=!0}textureUpdated(){const e=this.geometry,{width:n,height:r}=this.texture;this.autoResize&&(e.width!==n||e.height!==r)&&(e.width=n,e.height=r,e.build({}))}set texture(e){var n;(n=this._texture)==null||n.off("update",this.textureUpdated,this),super.texture=e,e.on("update",this.textureUpdated,this),this.textureUpdated()}get texture(){return this._texture}destroy(e){this.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const tz=class nz extends Hd{constructor(e){const{width:n,points:r,textureScale:i}={...nz.defaultOptions,...e};super({positions:new Float32Array(r.length*4),uvs:new Float32Array(r.length*4),indices:new Uint32Array((r.length-1)*6)}),this.points=r,this._width=n,this.textureScale=i,this._build()}get width(){return this._width}_build(){const e=this.points;if(!e)return;const n=this.getBuffer("aPosition"),r=this.getBuffer("aUV"),i=this.getIndex();if(e.length<1)return;n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),r.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=r.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,c=e[0];const f=this._width*this.textureScale,p=e.length;for(let b=0;b<p;b++){const y=b*4;if(this.textureScale>0){const E=c.x-e[b].x,S=c.y-e[b].y,T=Math.sqrt(E*E+S*S);c=e[b],u+=T/f}else u=b/(p-1);s[y]=u,s[y+1]=0,s[y+2]=u,s[y+3]=1}let v=0;for(let b=0;b<p-1;b++){const y=b*2;o[v++]=y,o[v++]=y+1,o[v++]=y+2,o[v++]=y+2,o[v++]=y+1,o[v++]=y+3}r.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let n=e[0],r,i=0,s=0;const o=this.buffers[0].data,u=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let f=0;f<u;f++){const p=e[f],v=f*4;f<e.length-1?r=e[f+1]:r=p,s=-(r.x-n.x),i=r.y-n.y;const b=Math.sqrt(i*i+s*s);b<1e-6?(i=0,s=0):(i/=b,s/=b,i*=c,s*=c),o[v]=p.x+i,o[v+1]=p.y+s,o[v+2]=p.x-i,o[v+3]=p.y-s,n=p}this.buffers[0].update()}update(){this.textureScale>0?this._build():this.updateVertices()}};tz.defaultOptions={width:200,points:[],textureScale:0};let rz=tz;const iz=class sz extends mv{constructor(e){const{texture:n,points:r,textureScale:i,...s}={...sz.defaultOptions,...e},o=new rz(zo({width:n.height,points:r,textureScale:i}));i>0&&(n.source.style.addressMode="repeat"),super(zo({...s,texture:n,geometry:o})),this.autoUpdate=!0,this.onRender=this._render}_render(){const e=this.geometry;(this.autoUpdate||e._width!==this.texture.height)&&(e._width=this.texture.height,e.update())}};iz.defaultOptions={textureScale:0};let MZ=iz;class DZ extends mv{constructor(e){const{texture:n,vertices:r,uvs:i,indices:s,topology:o,...u}=e,c=new Hd(zo({positions:r,uvs:i,indices:s,topology:o}));super(zo({...u,texture:n,geometry:c})),this.autoUpdate=!0,this.onRender=this._render}get vertices(){return this.geometry.getBuffer("aPosition").data}set vertices(e){this.geometry.getBuffer("aPosition").data=e}_render(){this.autoUpdate&&this.geometry.getBuffer("aPosition").update()}}class Kw{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(e){this._topology=e}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(e){this.texture!==e&&(this.texture=e,this._textureMatrixUpdateId=-1)}get uvs(){const n=this.geometry.getBuffer("aUV"),r=n.data;let i=r;const s=this.texture.textureMatrix;return s.isSimple||(i=this._transformedUvs,(this._textureMatrixUpdateId!==s._updateID||this._uvUpdateId!==n._updateID)&&((!i||i.length<r.length)&&(i=this._transformedUvs=new Float32Array(r.length)),this._textureMatrixUpdateId=s._updateID,this._uvUpdateId=n._updateID,s.multiplyUvs(r,i))),i}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}function BZ(t,e){const{width:n,height:r}=t.frame;return e.scale(1/n,1/r),e}class az{constructor(e,n){this.localUniforms=new kr({uTransformMatrix:{value:new Je,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new zl({0:this.localUniforms}),this._meshDataHash=Object.create(null),this._gpuBatchableMeshHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.renderer=e,this._adaptor=n,this._adaptor.init(),e.renderableGC.addManagedHash(this,"_gpuBatchableMeshHash"),e.renderableGC.addManagedHash(this,"_meshDataHash")}validateRenderable(e){const n=this._getMeshData(e),r=n.batched,i=e.batched;if(n.batched=i,r!==i)return!0;if(i){const s=e._geometry;if(s.indices.length!==n.indexSize||s.positions.length!==n.vertexSize)return n.indexSize=s.indices.length,n.vertexSize=s.positions.length,!0;const o=this._getBatchableMesh(e);return o.texture.uid!==e._texture.uid&&(o._textureMatrixUpdateId=-1),!o._batcher.checkAndUpdateTexture(o,e._texture)}return!1}addRenderable(e,n){const r=this.renderer.renderPipes.batch,{batched:i}=this._getMeshData(e);if(i){const s=this._getBatchableMesh(e);s.setTexture(e._texture),s.geometry=e._geometry,r.addToBatch(s,n)}else r.break(n),n.add(e)}updateRenderable(e){if(e.batched){const n=this._gpuBatchableMeshHash[e.uid];n.setTexture(e._texture),n.geometry=e._geometry,n._batcher.updateElement(n)}}destroyRenderable(e){this._meshDataHash[e.uid]=null;const n=this._gpuBatchableMeshHash[e.uid];n&&(Xt.return(n),this._gpuBatchableMeshHash[e.uid]=null),e.off("destroyed",this._destroyRenderableBound)}execute(e){if(!e.isRenderable)return;e.state.blendMode=ev(e.groupBlendMode,e.texture._source);const n=this.localUniforms;n.uniforms.uTransformMatrix=e.groupTransform,n.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,n.update(),vv(e.groupColorAlpha,n.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){return this._meshDataHash[e.uid]||this._initMeshData(e)}_initMeshData(e){var n,r;return this._meshDataHash[e.uid]={batched:e.batched,indexSize:(n=e._geometry.indices)==null?void 0:n.length,vertexSize:(r=e._geometry.positions)==null?void 0:r.length},e.on("destroyed",this._destroyRenderableBound),this._meshDataHash[e.uid]}_getBatchableMesh(e){return this._gpuBatchableMeshHash[e.uid]||this._initBatchableMesh(e)}_initBatchableMesh(e){const n=Xt.get(Kw);return n.renderable=e,n.setTexture(e._texture),n.transform=e.groupTransform,n.roundPixels=this.renderer._roundPixels|e._roundPixels,this._gpuBatchableMeshHash[e.uid]=n,n}destroy(){for(const e in this._gpuBatchableMeshHash)this._gpuBatchableMeshHash[e]&&Xt.return(this._gpuBatchableMeshHash[e]);this._gpuBatchableMeshHash=null,this._meshDataHash=null,this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}az.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"mesh"};class oz{execute(e,n){const r=e.state,i=e.renderer,s=n.shader||e.defaultShader;s.resources.uTexture=n.texture._source,s.resources.uniforms=e.localUniforms;const o=i.gl,u=e.getBuffers(n);i.shader.bind(s),i.state.set(r),i.geometry.bind(u.geometry,s.glProgram);const f=u.geometry.indexBuffer.data.BYTES_PER_ELEMENT===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;o.drawElements(o.TRIANGLES,n.particleChildren.length*6,f,0)}}class lz{execute(e,n){const r=e.renderer,i=n.shader||e.defaultShader;i.groups[0]=r.renderPipes.uniformBatch.getUniformBindGroup(e.localUniforms,!0),i.groups[1]=r.texture.getTextureBindGroup(n.texture);const s=e.state,o=e.getBuffers(n);r.encoder.draw({geometry:o.geometry,shader:n.shader||e.defaultShader,state:s,size:n.particleChildren.length*6})}}function y3(t,e=null){const n=t*6;if(n>65535?e||(e=new Uint32Array(n)):e||(e=new Uint16Array(n)),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function uz(t){return{dynamicUpdate:Ek(t,!0),staticUpdate:Ek(t,!1)}}function Ek(t,e){const n=[];n.push(`
      
        var index = 0;

        for (let i = 0; i < ps.length; ++i)
        {
            const p = ps[i];

            `);let r=0;for(const s in t){const o=t[s];if(e!==o.dynamic)continue;n.push(`offset = index + ${r}`),n.push(o.code);const u=nc(o.format);r+=u.stride/4}n.push(`
            index += stride * 4;
        }
    `),n.unshift(`
        var stride = ${r};
    `);const i=n.join(`
`);return new Function("ps","f32v","u32v",i)}class cz{constructor(e){this._size=0,this._generateParticleUpdateCache={};const n=this._size=e.size??1e3,r=e.properties;let i=0,s=0;for(const p in r){const v=r[p],b=nc(v.format);v.dynamic?s+=b.stride:i+=b.stride}this._dynamicStride=s/4,this._staticStride=i/4,this.staticAttributeBuffer=new Cf(n*4*i),this.dynamicAttributeBuffer=new Cf(n*4*s),this.indexBuffer=y3(n);const o=new ip;let u=0,c=0;this._staticBuffer=new cs({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:Wt.VERTEX|Wt.COPY_DST}),this._dynamicBuffer=new cs({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:Wt.VERTEX|Wt.COPY_DST});for(const p in r){const v=r[p],b=nc(v.format);v.dynamic?(o.addAttribute(v.attributeName,{buffer:this._dynamicBuffer,stride:this._dynamicStride*4,offset:u*4,format:v.format}),u+=b.size):(o.addAttribute(v.attributeName,{buffer:this._staticBuffer,stride:this._staticStride*4,offset:c*4,format:v.format}),c+=b.size)}o.addIndex(this.indexBuffer);const f=this.getParticleUpdate(r);this._dynamicUpload=f.dynamicUpdate,this._staticUpload=f.staticUpdate,this.geometry=o}getParticleUpdate(e){const n=kZ(e);return this._generateParticleUpdateCache[n]?this._generateParticleUpdateCache[n]:(this._generateParticleUpdateCache[n]=this.generateParticleUpdate(e),this._generateParticleUpdateCache[n])}generateParticleUpdate(e){return uz(e)}update(e,n){e.length>this._size&&(n=!0,this._size=Math.max(e.length,this._size*1.5|0),this.staticAttributeBuffer=new Cf(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new Cf(this._size*this._dynamicStride*4*4),this.indexBuffer=y3(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0));const r=this.dynamicAttributeBuffer;if(this._dynamicUpload(e,r.float32View,r.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,e.length*this._dynamicStride*4,!0),n){const i=this.staticAttributeBuffer;this._staticUpload(e,i.float32View,i.uint32View),this._staticBuffer.setDataWithSize(i.float32View,e.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}function kZ(t){const e=[];for(const n in t){const r=t[n];e.push(n,r.code,r.dynamic?"d":"s")}return e.join("_")}var dz=`varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
    vec4 color = texture2D(uTexture, vUV) * vColor;
    gl_FragColor = color;
}`,hz=`attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
    float cosRotation = cos(aRotation);
    float sinRotation = sin(aRotation);
    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

    vec2 v = vec2(x, y);
    v = v + aPosition;

    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    if(uRound == 1.0)
    {
        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
    }

    vUV = aUV;
    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`,x3=`
struct ParticleUniforms {
  uProjectionMatrix:mat3x3<f32>,
  uColor:vec4<f32>,
  uResolution:vec2<f32>,
  uRoundPixels:f32,
};

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) color : vec4<f32>,
  };
@vertex
fn mainVertex(
  @location(0) aVertex: vec2<f32>,
  @location(1) aPosition: vec2<f32>,
  @location(2) aUV: vec2<f32>,
  @location(3) aColor: vec4<f32>,
  @location(4) aRotation: f32,
) -> VSOutput {
  
   let v = vec2(
       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
   ) + aPosition;

   let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

  return VSOutput(
   position,
   aUV,
   vColor,
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) color: vec4<f32>,
  @builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

    var sample = textureSample(uTexture, uSampler, uv) * color;
   
    return sample;
}`;class fz extends Ma{constructor(){const e=Xs.from({vertex:hz,fragment:dz}),n=fs.from({fragment:{source:x3,entryPoint:"mainFragment"},vertex:{source:x3,entryPoint:"mainVertex"}});super({glProgram:e,gpuProgram:n,resources:{uTexture:ze.WHITE.source,uSampler:new jR({}),uniforms:{uTranslationMatrix:{value:new Je,type:"mat3x3<f32>"},uColor:{value:new en(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}class iM{constructor(e,n){this.state=Ea.for2d(),this._gpuBufferHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this.localUniforms=new kr({uTranslationMatrix:{value:new Je,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=e,this.adaptor=n,this.defaultShader=new fz,this.state=Ea.for2d()}validateRenderable(e){return!1}addRenderable(e,n){this.renderer.renderPipes.batch.break(n),n.add(e)}getBuffers(e){return this._gpuBufferHash[e.uid]||this._initBuffer(e)}_initBuffer(e){return this._gpuBufferHash[e.uid]=new cz({size:e.particleChildren.length,properties:e._properties}),e.on("destroyed",this._destroyRenderableBound),this._gpuBufferHash[e.uid]}updateRenderable(e){}destroyRenderable(e){this._gpuBufferHash[e.uid].destroy(),this._gpuBufferHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}execute(e){const n=e.particleChildren;if(n.length===0)return;const r=this.renderer,i=this.getBuffers(e);e.texture||(e.texture=n[0].texture);const s=this.state;i.update(n,e._childrenDirty),e._childrenDirty=!1,s.blendMode=ev(e.blendMode,e.texture._source);const o=this.localUniforms.uniforms,u=o.uTranslationMatrix;e.worldTransform.copyTo(u),u.prepend(r.globalUniforms.globalUniformData.projectionMatrix),o.uResolution=r.globalUniforms.globalUniformData.resolution,o.uRound=r._roundPixels|e._roundPixels,vv(e.groupColorAlpha,o.uColor,0),this.adaptor.execute(this,e)}destroy(){this.defaultShader&&(this.defaultShader.destroy(),this.defaultShader=null)}}class pz extends iM{constructor(e){super(e,new oz)}}pz.extension={type:[te.WebGLPipes],name:"particle"};class gz extends iM{constructor(e){super(e,new lz)}}gz.extension={type:[te.WebGPUPipes],name:"particle"};const mz=class S3{constructor(e){if(e instanceof ze)this.texture=e,SS(this,S3.defaultOptions,{});else{const n={...S3.defaultOptions,...e};SS(this,n,{})}}get alpha(){return this._alpha}set alpha(e){this._alpha=Math.min(Math.max(e,0),1),this._updateColor()}get tint(){return wm(this._tint)}set tint(e){typeof e=="number"?this._tint=e:this._tint=en.shared.setValue(e??16777215).toBgrNumber(),this._updateColor()}_updateColor(){this.color=this._tint+((this._alpha*255|0)<<24)}};mz.defaultOptions={anchorX:0,anchorY:0,x:0,y:0,scaleX:1,scaleY:1,rotation:0,tint:16777215,alpha:1};let IZ=mz;const w3={vertex:{attributeName:"aVertex",format:"float32x2",code:`
            const texture = p.texture;
            const sx = p.scaleX;
            const sy = p.scaleY;
            const ax = p.anchorX;
            const ay = p.anchorY;
            const trim = texture.trim;
            const orig = texture.orig;

            if (trim)
            {
                w1 = trim.x - (ax * orig.width);
                w0 = w1 + trim.width;

                h1 = trim.y - (ay * orig.height);
                h0 = h1 + trim.height;
            }
            else
            {
                w1 = -ax * (orig.width);
                w0 = w1 + orig.width;

                h1 = -ay * (orig.height);
                h0 = h1 + orig.height;
            }

            f32v[offset] = w1 * sx;
            f32v[offset + 1] = h1 * sy;

            f32v[offset + stride] = w0 * sx;
            f32v[offset + stride + 1] = h1 * sy;

            f32v[offset + (stride * 2)] = w0 * sx;
            f32v[offset + (stride * 2) + 1] = h0 * sy;

            f32v[offset + (stride * 3)] = w1 * sx;
            f32v[offset + (stride * 3) + 1] = h0 * sy;
        `,dynamic:!1},position:{attributeName:"aPosition",format:"float32x2",code:`
            var x = p.x;
            var y = p.y;

            f32v[offset] = x;
            f32v[offset + 1] = y;

            f32v[offset + stride] = x;
            f32v[offset + stride + 1] = y;

            f32v[offset + (stride * 2)] = x;
            f32v[offset + (stride * 2) + 1] = y;

            f32v[offset + (stride * 3)] = x;
            f32v[offset + (stride * 3) + 1] = y;
        `,dynamic:!0},rotation:{attributeName:"aRotation",format:"float32",code:`
            var rotation = p.rotation;

            f32v[offset] = rotation;
            f32v[offset + stride] = rotation;
            f32v[offset + (stride * 2)] = rotation;
            f32v[offset + (stride * 3)] = rotation;
        `,dynamic:!1},uvs:{attributeName:"aUV",format:"float32x2",code:`
            var uvs = p.texture.uvs;

            f32v[offset] = uvs.x0;
            f32v[offset + 1] = uvs.y0;

            f32v[offset + stride] = uvs.x1;
            f32v[offset + stride + 1] = uvs.y1;

            f32v[offset + (stride * 2)] = uvs.x2;
            f32v[offset + (stride * 2) + 1] = uvs.y2;

            f32v[offset + (stride * 3)] = uvs.x3;
            f32v[offset + (stride * 3) + 1] = uvs.y3;
        `,dynamic:!1},color:{attributeName:"aColor",format:"unorm8x4",code:`
            const c = p.color;

            u32v[offset] = c;
            u32v[offset + stride] = c;
            u32v[offset + (stride * 2)] = c;
            u32v[offset + (stride * 3)] = c;
        `,dynamic:!1}},NZ=new Zr(0,0,0,0),vz=class E3 extends eu{constructor(e={}){e={...E3.defaultOptions,...e,dynamicProperties:{...E3.defaultOptions.dynamicProperties,...e==null?void 0:e.dynamicProperties}};const{dynamicProperties:n,shader:r,roundPixels:i,texture:s,particles:o,...u}=e;super({label:"ParticleContainer",...u}),this.renderPipeId="particle",this.batched=!1,this._childrenDirty=!1,this.texture=s||null,this.shader=r,this._properties={};for(const c in w3){const f=w3[c],p=n[c];this._properties[c]={...f,dynamic:p}}this.allowChildren=!0,this.roundPixels=i??!1,this.particleChildren=o??[]}addParticle(...e){for(let n=0;n<e.length;n++)this.particleChildren.push(e[n]);return this.onViewUpdate(),e[0]}removeParticle(...e){let n=!1;for(let r=0;r<e.length;r++){const i=this.particleChildren.indexOf(e[r]);i>-1&&(this.particleChildren.splice(i,1),n=!0)}return n&&this.onViewUpdate(),e[0]}update(){this._childrenDirty=!0}onViewUpdate(){this._childrenDirty=!0,super.onViewUpdate()}get bounds(){return NZ}updateBounds(){}destroy(e=!1){var r,i;if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const s=typeof e=="boolean"?e:e==null?void 0:e.textureSource,o=this.texture??((r=this.particleChildren[0])==null?void 0:r.texture);o&&o.destroy(s)}this.texture=null,(i=this.shader)==null||i.destroy()}removeParticles(e,n){const r=this.particleChildren.splice(e,n);return this.onViewUpdate(),r}removeParticleAt(e){const n=this.particleChildren.splice(e,1);return this.onViewUpdate(),n[0]}addParticleAt(e,n){return this.particleChildren.splice(n,0,e),this.onViewUpdate(),e}addChild(...e){throw new Error("ParticleContainer.addChild() is not available. Please use ParticleContainer.addParticle()")}removeChild(...e){throw new Error("ParticleContainer.removeChild() is not available. Please use ParticleContainer.removeParticle()")}removeChildren(e,n){throw new Error("ParticleContainer.removeChildren() is not available. Please use ParticleContainer.removeParticles()")}removeChildAt(e){throw new Error("ParticleContainer.removeChildAt() is not available. Please use ParticleContainer.removeParticleAt()")}getChildAt(e){throw new Error("ParticleContainer.getChildAt() is not available. Please use ParticleContainer.getParticleAt()")}setChildIndex(e,n){throw new Error("ParticleContainer.setChildIndex() is not available. Please use ParticleContainer.setParticleIndex()")}getChildIndex(e){throw new Error("ParticleContainer.getChildIndex() is not available. Please use ParticleContainer.getParticleIndex()")}addChildAt(e,n){throw new Error("ParticleContainer.addChildAt() is not available. Please use ParticleContainer.addParticleAt()")}swapChildren(e,n){throw new Error("ParticleContainer.swapChildren() is not available. Please use ParticleContainer.swapParticles()")}reparentChild(...e){throw new Error("ParticleContainer.reparentChild() is not available with the particle container")}reparentChildAt(e,n){throw new Error("ParticleContainer.reparentChildAt() is not available with the particle container")}};vz.defaultOptions={dynamicProperties:{vertex:!1,position:!0,rotation:!1,uvs:!1,color:!1},roundPixels:!1};let UZ=vz;const bz=class _z extends qw{constructor(e={}){e={..._z.defaultOptions,...e},super({width:e.width,height:e.height,verticesX:4,verticesY:4}),this.update(e)}update(e){var n,r;this.width=e.width??this.width,this.height=e.height??this.height,this._originalWidth=e.originalWidth??this._originalWidth,this._originalHeight=e.originalHeight??this._originalHeight,this._leftWidth=e.leftWidth??this._leftWidth,this._rightWidth=e.rightWidth??this._rightWidth,this._topHeight=e.topHeight??this._topHeight,this._bottomHeight=e.bottomHeight??this._bottomHeight,this._anchorX=(n=e.anchor)==null?void 0:n.x,this._anchorY=(r=e.anchor)==null?void 0:r.y,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,{width:n,height:r,_leftWidth:i,_rightWidth:s,_topHeight:o,_bottomHeight:u,_anchorX:c,_anchorY:f}=this,p=i+s,v=n>p?1:n/p,b=o+u,y=r>b?1:r/b,E=Math.min(v,y),S=c*n,T=f*r;e[0]=e[8]=e[16]=e[24]=-S,e[2]=e[10]=e[18]=e[26]=i*E-S,e[4]=e[12]=e[20]=e[28]=n-s*E-S,e[6]=e[14]=e[22]=e[30]=n-S,e[1]=e[3]=e[5]=e[7]=-T,e[9]=e[11]=e[13]=e[15]=o*E-T,e[17]=e[19]=e[21]=e[23]=r-u*E-T,e[25]=e[27]=e[29]=e[31]=r-T,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const n=1/this._originalWidth,r=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.getBuffer("aUV").update()}};bz.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let fd=bz;const yz=class xz extends eu{constructor(e){var b,y,E,S;e instanceof ze&&(e={texture:e});const{width:n,height:r,anchor:i,leftWidth:s,rightWidth:o,topHeight:u,bottomHeight:c,texture:f,roundPixels:p,...v}=e;super({label:"NineSliceSprite",...v}),this.renderPipeId="nineSliceSprite",this.batched=!0,this._leftWidth=s??((b=f==null?void 0:f.defaultBorders)==null?void 0:b.left)??fd.defaultOptions.leftWidth,this._topHeight=u??((y=f==null?void 0:f.defaultBorders)==null?void 0:y.top)??fd.defaultOptions.topHeight,this._rightWidth=o??((E=f==null?void 0:f.defaultBorders)==null?void 0:E.right)??fd.defaultOptions.rightWidth,this._bottomHeight=c??((S=f==null?void 0:f.defaultBorders)==null?void 0:S.bottom)??fd.defaultOptions.bottomHeight,this._width=n??f.width??fd.defaultOptions.width,this._height=r??f.height??fd.defaultOptions.height,this.allowChildren=!1,this.texture=f??xz.defaultOptions.texture,this.roundPixels=p??!1,this._anchor=new Mr({_onUpdate:()=>{this.onViewUpdate()}}),i?this.anchor=i:this.texture.defaultAnchor&&(this.anchor=this.texture.defaultAnchor)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return this._width}set width(e){this._width=e,this.onViewUpdate()}get height(){return this._height}set height(e){this._height=e,this.onViewUpdate()}setSize(e,n){typeof e=="object"&&(n=e.height??e.width,e=e.width),this._width=e,this._height=n??e,this.onViewUpdate()}getSize(e){return e||(e={}),e.width=this._width,e.height=this._height,e}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this.onViewUpdate()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this.onViewUpdate()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this.onViewUpdate()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this.onViewUpdate()}get texture(){return this._texture}set texture(e){e||(e=ze.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get originalWidth(){return this._texture.width}get originalHeight(){return this._texture.height}destroy(e){if(super.destroy(e),typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.textureSource;this._texture.destroy(r)}this._texture=null}updateBounds(){const e=this._bounds,n=this._anchor,r=this._width,i=this._height;e.minX=-n._x*r,e.maxX=e.minX+r,e.minY=-n._y*i,e.maxY=e.minY+i}};yz.defaultOptions={texture:ze.EMPTY};let Sz=yz;class FZ extends Sz{constructor(...e){let n=e[0];n instanceof ze&&(Qe(Tt,"NineSlicePlane now uses the options object {texture, leftWidth, rightWidth, topHeight, bottomHeight}"),n={texture:n,leftWidth:e[1],topHeight:e[2],rightWidth:e[3],bottomHeight:e[4]}),Qe(Tt,"NineSlicePlane is deprecated. Use NineSliceSprite instead."),super(n)}}class wz{constructor(e){this._gpuSpriteHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuSpriteHash")}addRenderable(e,n){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,n)}updateRenderable(e){const n=this._gpuSpriteHash[e.uid];e.didViewUpdate&&this._updateBatchableSprite(e,n),n._batcher.updateElement(n)}validateRenderable(e){const n=this._getGpuSprite(e);return!n._batcher.checkAndUpdateTexture(n,e._texture)}destroyRenderable(e){const n=this._gpuSpriteHash[e.uid];Xt.return(n.geometry),Xt.return(n),this._gpuSpriteHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_updateBatchableSprite(e,n){n.geometry.update(e),n.setTexture(e._texture)}_getGpuSprite(e){return this._gpuSpriteHash[e.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const n=Xt.get(Kw);return n.geometry=Xt.get(fd),n.renderable=e,n.transform=e.groupTransform,n.texture=e._texture,n.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuSpriteHash[e.uid]=n,e.didViewUpdate||this._updateBatchableSprite(e,n),e.on("destroyed",this._destroyRenderableBound),n}destroy(){for(const e in this._gpuSpriteHash)this._gpuSpriteHash[e].geometry.destroy();this._gpuSpriteHash=null,this._renderer=null}}wz.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"nineSliceSprite"};const Ez={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            } 

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},Tz={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;
        
        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);
        
        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0
    
        `}};let TC,CC;class Cz extends Ma{constructor(){TC??(TC=hv({name:"tiling-sprite-shader",bits:[Om,Ez,pv]})),CC??(CC=fv({name:"tiling-sprite-shader",bits:[Ww,Tz,gv]}));const e=new kr({uMapCoord:{value:new Je,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new Je,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:CC,gpuProgram:TC,resources:{localUniforms:new kr({uTransformMatrix:{value:new Je,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:ze.EMPTY.source,uSampler:ze.EMPTY.source.style}})}updateUniforms(e,n,r,i,s,o){const u=this.resources.tilingUniforms,c=o.width,f=o.height,p=o.textureMatrix,v=u.uniforms.uTextureTransform;v.set(r.a*c/e,r.b*c/n,r.c*f/e,r.d*f/n,r.tx/e,r.ty/n),v.invert(),u.uniforms.uMapCoord=p.mapCoord,u.uniforms.uClampFrame=p.uClampFrame,u.uniforms.uClampOffset=p.uClampOffset,u.uniforms.uTextureTransform=v,u.uniforms.uSizeAnchor[0]=e,u.uniforms.uSizeAnchor[1]=n,u.uniforms.uSizeAnchor[2]=i,u.uniforms.uSizeAnchor[3]=s,o&&(this.resources.uTexture=o.source,this.resources.uSampler=o.source.style)}}class Az extends Hd{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}function Rz(t,e){const n=t.anchor.x,r=t.anchor.y;e[0]=-n*t.width,e[1]=-r*t.height,e[2]=(1-n)*t.width,e[3]=-r*t.height,e[4]=(1-n)*t.width,e[5]=(1-r)*t.height,e[6]=-n*t.width,e[7]=(1-r)*t.height}function Pz(t,e,n,r){let i=0;const s=t.length/(e||2),o=r.a,u=r.b,c=r.c,f=r.d,p=r.tx,v=r.ty;for(n*=e;i<s;){const b=t[n],y=t[n+1];t[n]=o*b+c*y+p,t[n+1]=u*b+f*y+v,n+=e,i++}}function Oz(t,e){const n=t.texture,r=n.frame.width,i=n.frame.height;let s=0,o=0;t.applyAnchorToTexture&&(s=t.anchor.x,o=t.anchor.y),e[0]=e[6]=-s,e[2]=e[4]=1-s,e[1]=e[3]=-o,e[5]=e[7]=1-o;const u=Je.shared;u.copyFrom(t._tileTransform.matrix),u.tx/=t.width,u.ty/=t.height,u.invert(),u.scale(t.width/r,t.height/i),Pz(e,2,0,u)}const C2=new Az;class Mz{constructor(e){this._state=Ea.default2d,this._tilingSpriteDataHash=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_tilingSpriteDataHash")}validateRenderable(e){const n=this._getTilingSpriteData(e),r=n.canBatch;this._updateCanBatch(e);const i=n.canBatch;if(i&&i===r){const{batchableMesh:s}=n;return!s._batcher.checkAndUpdateTexture(s,e.texture)}return r!==i}addRenderable(e,n){const r=this._renderer.renderPipes.batch;this._updateCanBatch(e);const i=this._getTilingSpriteData(e),{geometry:s,canBatch:o}=i;if(o){i.batchableMesh||(i.batchableMesh=new Kw);const u=i.batchableMesh;e.didViewUpdate&&(this._updateBatchableMesh(e),u.geometry=s,u.renderable=e,u.transform=e.groupTransform,u.setTexture(e._texture)),u.roundPixels=this._renderer._roundPixels|e._roundPixels,r.addToBatch(u,n)}else r.break(n),i.shader||(i.shader=new Cz),this.updateRenderable(e),n.add(e)}execute(e){const{shader:n}=this._tilingSpriteDataHash[e.uid];n.groups[0]=this._renderer.globalUniforms.bindGroup;const r=n.resources.localUniforms.uniforms;r.uTransformMatrix=e.groupTransform,r.uRound=this._renderer._roundPixels|e._roundPixels,vv(e.groupColorAlpha,r.uColor,0),this._state.blendMode=ev(e.groupBlendMode,e.texture._source),this._renderer.encoder.draw({geometry:C2,shader:n,state:this._state})}updateRenderable(e){const n=this._getTilingSpriteData(e),{canBatch:r}=n;if(r){const{batchableMesh:i}=n;e.didViewUpdate&&this._updateBatchableMesh(e),i._batcher.updateElement(i)}else if(e.didViewUpdate){const{shader:i}=n;i.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}}destroyRenderable(e){var r;const n=this._getTilingSpriteData(e);n.batchableMesh=null,(r=n.shader)==null||r.destroy(),this._tilingSpriteDataHash[e.uid]=null,e.off("destroyed",this._destroyRenderableBound)}_getTilingSpriteData(e){return this._tilingSpriteDataHash[e.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const n=new Hd({indices:C2.indices,positions:C2.positions.slice(),uvs:C2.uvs.slice()});return this._tilingSpriteDataHash[e.uid]={canBatch:!0,renderable:e,geometry:n},e.on("destroyed",this._destroyRenderableBound),this._tilingSpriteDataHash[e.uid]}_updateBatchableMesh(e){const n=this._getTilingSpriteData(e),{geometry:r}=n,i=e.texture.source.style;i.addressMode!=="repeat"&&(i.addressMode="repeat",i.update()),Oz(e,r.uvs),Rz(e,r.positions)}destroy(){for(const e in this._tilingSpriteDataHash)this.destroyRenderable(this._tilingSpriteDataHash[e].renderable);this._tilingSpriteDataHash=null,this._renderer=null}_updateCanBatch(e){const n=this._getTilingSpriteData(e),r=e.texture;let i=!0;return this._renderer.type===Ws.WEBGL&&(i=this._renderer.context.supports.nonPowOf2wrapping),n.canBatch=r.textureMatrix.isSimple&&(i||r.source.isPowerOfTwo),n.canBatch}}Mz.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"tilingSprite"};const Dz={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:` 
            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
        `}},Bz={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:` 
            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
        `}},kz={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {
                
                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));
            
                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
                var coverage: f32 = pow(shapeColor.a * alpha, gamma);

                return coverage;
             
            }
        `}},Iz={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {
                
                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));
               
                // SDF
                median = min(median, msdfColor.a);
            
                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
           
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                // Gamma correction for coverage-like alpha
                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
                float gamma = mix(1.0, 1.0 / 2.2, luma);
                float coverage = pow(shapeColor.a * alpha, gamma);  
              
                return coverage;
            }
        `}};let AC,RC;class Nz extends Ma{constructor(){const e=new kr({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new Je,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}}),n=rp();AC??(AC=hv({name:"sdf-shader",bits:[Pw,Mw(n),Dz,kz,pv]})),RC??(RC=fv({name:"sdf-shader",bits:[Ow,Dw(n),Bz,Iz,gv]})),super({glProgram:RC,gpuProgram:AC,resources:{localUniforms:e,batchSamplers:Bw(n)}})}}class Uz{constructor(e){this._gpuBitmapText={},this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBitmapText")}validateRenderable(e){const n=this._getGpuBitmapText(e);return e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,n)),this._renderer.renderPipes.graphics.validateRenderable(n)}addRenderable(e,n){const r=this._getGpuBitmapText(e);Tk(e,r),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,r)),this._renderer.renderPipes.graphics.addRenderable(r,n),r.context.customShader&&this._updateDistanceField(e)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableByUid(e.uid)}_destroyRenderableByUid(e){const n=this._gpuBitmapText[e].context;n.customShader&&(Xt.return(n.customShader),n.customShader=null),Xt.return(this._gpuBitmapText[e]),this._gpuBitmapText[e]=null}updateRenderable(e){const n=this._getGpuBitmapText(e);Tk(e,n),this._renderer.renderPipes.graphics.updateRenderable(n),n.context.customShader&&this._updateDistanceField(e)}_updateContext(e,n){const{context:r}=n,i=F_.getFont(e.text,e._style);r.clear(),i.distanceField.type!=="none"&&(r.customShader||(r.customShader=Xt.get(Nz)));const s=Array.from(e.text),o=e._style;let u=i.baseLineOffset;const c=kP(s,o,i,!0);let f=0;const p=o.padding,v=c.scale;let b=c.width,y=c.height+c.offsetY;o._stroke&&(b+=o._stroke.width/v,y+=o._stroke.width/v),r.translate(-e._anchor._x*b-p,-e._anchor._y*y-p).scale(v,v);const E=i.applyFillAsTint?o._fill.color:16777215;for(let S=0;S<c.lines.length;S++){const T=c.lines[S];for(let A=0;A<T.charPositions.length;A++){const P=s[f++],O=i.chars[P];O!=null&&O.texture&&r.texture(O.texture,E||"black",Math.round(T.charPositions[A]+O.xOffset),Math.round(u+O.yOffset))}u+=i.lineHeight}}_getGpuBitmapText(e){return this._gpuBitmapText[e.uid]||this.initGpuText(e)}initGpuText(e){const n=Xt.get(Bd);return this._gpuBitmapText[e.uid]=n,this._updateContext(e,n),e.on("destroyed",this._destroyRenderableBound),this._gpuBitmapText[e.uid]}_updateDistanceField(e){const n=this._getGpuBitmapText(e).context,r=e._style.fontFamily,i=Un.get(`${r}-bitmap`),{a:s,b:o,c:u,d:c}=e.groupTransform,f=Math.sqrt(s*s+o*o),p=Math.sqrt(u*u+c*c),v=(Math.abs(f)+Math.abs(p))/2,b=i.baseRenderedFontSize/e._style.fontSize,y=v*i.distanceField.range*(1/b);n.customShader.resources.localUniforms.uniforms.uDistance=y}destroy(){for(const e in this._gpuBitmapText)this._destroyRenderableByUid(e);this._gpuBitmapText=null,this._renderer=null}}Uz.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"bitmapText"};function Tk(t,e){e.groupTransform=t.groupTransform,e.groupColorAlpha=t.groupColorAlpha,e.groupColor=t.groupColor,e.groupBlendMode=t.groupBlendMode,e.globalDisplayStatus=t.globalDisplayStatus,e.groupTransform=t.groupTransform,e.localDisplayStatus=t.localDisplayStatus,e.groupAlpha=t.groupAlpha,e._roundPixels=t._roundPixels}function kS(t,e){const{texture:n,bounds:r}=t;YR(r,e._anchor,n);const i=e._style.padding;r.minX-=i,r.minY-=i,r.maxX-=i,r.maxY-=i}class Fz{constructor(e){this._gpuText=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.runners.resolutionChange.add(this),this._renderer.renderableGC.addManagedHash(this,"_gpuText")}resolutionChange(){for(const e in this._gpuText){const n=this._gpuText[e];if(!n)continue;const r=n.batchableSprite.renderable;r._autoResolution&&(r._resolution=this._renderer.resolution,r.onViewUpdate())}}validateRenderable(e){const n=this._getGpuText(e),r=e._getKey();return n.textureNeedsUploading?(n.textureNeedsUploading=!1,!0):n.currentKey!==r}addRenderable(e,n){const i=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(i,n)}updateRenderable(e){const r=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),r._batcher.updateElement(r)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const n=this._gpuText[e];this._renderer.htmlText.decreaseReferenceCount(n.currentKey),Xt.return(n.batchableSprite),this._gpuText[e]=null}_updateText(e){const n=e._getKey(),r=this._getGpuText(e),i=r.batchableSprite;r.currentKey!==n&&this._updateGpuText(e).catch(s=>{console.error(s)}),e._didTextUpdate=!1,kS(i,e)}async _updateGpuText(e){e._didTextUpdate=!1;const n=this._getGpuText(e);if(n.generatingTexture)return;const r=e._getKey();this._renderer.htmlText.decreaseReferenceCount(n.currentKey),n.generatingTexture=!0,n.currentKey=r;const i=e.resolution??this._renderer.resolution,s=await this._renderer.htmlText.getManagedTexture(e.text,i,e._style,e._getKey()),o=n.batchableSprite;o.texture=n.texture=s,n.generatingTexture=!1,n.textureNeedsUploading=!0,e.onViewUpdate(),kS(o,e)}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const n={texture:ze.EMPTY,currentKey:"--",batchableSprite:Xt.get(py),textureNeedsUploading:!1,generatingTexture:!1},r=n.batchableSprite;return r.renderable=e,r.transform=e.groupTransform,r.texture=ze.EMPTY,r.bounds={minX:0,maxX:1,minY:0,maxY:0},r.roundPixels=this._renderer._roundPixels|e._roundPixels,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,this._gpuText[e.uid]=n,e.on("destroyed",this._destroyRenderableBound),n}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}Fz.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"htmlText"};function Lz(){const{userAgent:t}=Yt.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}const LZ=new Zr;function sM(t,e,n,r){const i=LZ;i.minX=0,i.minY=0,i.maxX=t.width/r|0,i.maxY=t.height/r|0;const s=Dr.getOptimalTexture(i.width,i.height,r,!1);return s.source.uploadMethodId="image",s.source.resource=t,s.source.alphaMode="premultiply-alpha-on-upload",s.frame.width=e/r,s.frame.height=n/r,s.source.emit("update",s.source),s.updateUvs(),s}function Gz(t,e){const n=e.fontFamily,r=[],i={},s=/font-family:([^;"\s]+)/g,o=t.match(s);function u(c){i[c]||(r.push(c),i[c]=!0)}if(Array.isArray(n))for(let c=0;c<n.length;c++)u(n[c]);else u(n);o&&o.forEach(c=>{const f=c.split(":")[1].trim();u(f)});for(const c in e.tagStyles){const f=e.tagStyles[c].fontFamily;u(f)}return r}async function zz(t){const n=await(await Yt.get().fetch(t)).blob(),r=new FileReader;return await new Promise((s,o)=>{r.onloadend=()=>s(r.result),r.onerror=o,r.readAsDataURL(n)})}async function T3(t,e){const n=await zz(e);return`@font-face {
        font-family: "${t.fontFamily}";
        src: url('${n}');
        font-weight: ${t.fontWeight};
        font-style: ${t.fontStyle};
    }`}const K0=new Map;async function Vz(t,e,n){const r=t.filter(i=>Un.has(`${i}-and-url`)).map((i,s)=>{if(!K0.has(i)){const{url:o}=Un.get(`${i}-and-url`);s===0?K0.set(i,T3({fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:i},o)):K0.set(i,T3({fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:i},o))}return K0.get(i)});return(await Promise.all(r)).join(`
`)}function Hz(t,e,n,r,i){const{domElement:s,styleElement:o,svgRoot:u}=i;s.innerHTML=`<style>${e.cssStyle}</style><div style='padding:0;'>${t}</div>`,s.setAttribute("style",`transform: scale(${n});transform-origin: top left; display: inline-block`),o.textContent=r;const{width:c,height:f}=i.image;return u.setAttribute("width",c.toString()),u.setAttribute("height",f.toString()),new XMLSerializer().serializeToString(u)}function Wz(t,e){const n=Vl.getOptimalCanvasAndContext(t.width,t.height,e),{context:r}=n;return r.clearRect(0,0,t.width,t.height),r.drawImage(t,0,0),n}function $z(t,e,n){return new Promise(async r=>{n&&await new Promise(i=>setTimeout(i,100)),t.onload=()=>{r()},t.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(e)}`,t.crossOrigin="anonymous"})}class aM{constructor(e){this._activeTextures={},this._renderer=e,this._createCanvas=e.type===Ws.WEBGPU}getTexture(e){return this._buildTexturePromise(e.text,e.resolution,e.style)}getManagedTexture(e,n,r,i){if(this._activeTextures[i])return this._increaseReferenceCount(i),this._activeTextures[i].promise;const s=this._buildTexturePromise(e,n,r).then(o=>(this._activeTextures[i].texture=o,o));return this._activeTextures[i]={texture:null,promise:s,usageCount:1},s}async _buildTexturePromise(e,n,r){const i=Xt.get($P),s=Gz(e,r),o=await Vz(s,r,Xf.defaultTextStyle),u=jP(e,r,o,i),c=Math.ceil(Math.ceil(Math.max(1,u.width)+r.padding*2)*n),f=Math.ceil(Math.ceil(Math.max(1,u.height)+r.padding*2)*n),p=i.image,v=2;p.width=(c|0)+v,p.height=(f|0)+v;const b=Hz(e,r,n,o,i);await $z(p,b,Lz()&&s.length>0);const y=p;let E;this._createCanvas&&(E=Wz(p,n));const S=sM(E?E.canvas:y,p.width-v,p.height-v,n);return this._createCanvas&&(this._renderer.texture.initSource(S.source),Vl.returnCanvasAndContext(E)),Xt.return(i),S}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}decreaseReferenceCount(e){const n=this._activeTextures[e];n&&(n.usageCount--,n.usageCount===0&&(n.texture?this._cleanUp(n):n.promise.then(r=>{n.texture=r,this._cleanUp(n)}).catch(()=>{at("HTMLTextSystem: Failed to clean texture")}),this._activeTextures[e]=null))}_cleanUp(e){Dr.returnTexture(e.texture),e.texture.source.resource=null,e.texture.source.uploadMethodId="unknown"}getReferenceCount(e){return this._activeTextures[e].usageCount}destroy(){this._activeTextures=null}}aM.extension={type:[te.WebGLSystem,te.WebGPUSystem,te.CanvasSystem],name:"htmlText"};aM.defaultFontOptions={fontFamily:"Arial",fontStyle:"normal",fontWeight:"normal"};class jz{constructor(e){this._gpuText=Object.create(null),this._destroyRenderableBound=this.destroyRenderable.bind(this),this._renderer=e,this._renderer.runners.resolutionChange.add(this),this._renderer.renderableGC.addManagedHash(this,"_gpuText")}resolutionChange(){for(const e in this._gpuText){const n=this._gpuText[e];if(!n)continue;const r=n.batchableSprite.renderable;r._autoResolution&&(r._resolution=this._renderer.resolution,r.onViewUpdate())}}validateRenderable(e){const n=this._getGpuText(e),r=e._getKey();return n.currentKey!==r}addRenderable(e,n){const i=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),this._renderer.renderPipes.batch.addToBatch(i,n)}updateRenderable(e){const r=this._getGpuText(e).batchableSprite;e._didTextUpdate&&this._updateText(e),r._batcher.updateElement(r)}destroyRenderable(e){e.off("destroyed",this._destroyRenderableBound),this._destroyRenderableById(e.uid)}_destroyRenderableById(e){const n=this._gpuText[e];this._renderer.canvasText.decreaseReferenceCount(n.currentKey),Xt.return(n.batchableSprite),this._gpuText[e]=null}_updateText(e){const n=e._getKey(),r=this._getGpuText(e),i=r.batchableSprite;r.currentKey!==n&&this._updateGpuText(e),e._didTextUpdate=!1,kS(i,e)}_updateGpuText(e){const n=this._getGpuText(e),r=n.batchableSprite;n.texture&&this._renderer.canvasText.decreaseReferenceCount(n.currentKey),n.texture=r.texture=this._renderer.canvasText.getManagedTexture(e),n.currentKey=e._getKey(),r.texture=n.texture}_getGpuText(e){return this._gpuText[e.uid]||this.initGpuText(e)}initGpuText(e){const n={texture:null,currentKey:"--",batchableSprite:Xt.get(py)};return n.batchableSprite.renderable=e,n.batchableSprite.transform=e.groupTransform,n.batchableSprite.bounds={minX:0,maxX:1,minY:0,maxY:0},n.batchableSprite.roundPixels=this._renderer._roundPixels|e._roundPixels,this._gpuText[e.uid]=n,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,this._updateText(e),e.on("destroyed",this._destroyRenderableBound),n}destroy(){for(const e in this._gpuText)this._destroyRenderableById(e);this._gpuText=null,this._renderer=null}}jz.extension={type:[te.WebGLPipes,te.WebGPUPipes,te.CanvasPipes],name:"text"};function Ck(t,e,n){for(let r=0,i=4*n*e;r<e;++r,i+=4)if(t[i+3]!==0)return!1;return!0}function Ak(t,e,n,r,i){const s=4*e;for(let o=r,u=r*s+4*n;o<=i;++o,u+=s)if(t[u+3]!==0)return!1;return!0}function Xz(t,e=1){const{width:n,height:r}=t,i=t.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const o=i.getImageData(0,0,n,r).data;let u=0,c=0,f=n-1,p=r-1;for(;c<r&&Ck(o,n,c);)++c;if(c===r)return vn.EMPTY;for(;Ck(o,n,p);)--p;for(;Ak(o,n,u,c,p);)++u;for(;Ak(o,n,f,c,p);)--f;return++f,++p,new vn(u/e,c/e,(f-u)/e,(p-c)/e)}class Yz{constructor(e){this._activeTextures={},this._renderer=e}getTextureSize(e,n,r){const i=Ml.measureText(e||" ",r);let s=Math.ceil(Math.ceil(Math.max(1,i.width)+r.padding*2)*n),o=Math.ceil(Math.ceil(Math.max(1,i.height)+r.padding*2)*n);return s=Math.ceil(s-1e-6),o=Math.ceil(o-1e-6),s=$f(s),o=$f(o),{width:s,height:o}}getTexture(e,n,r,i){typeof e=="string"&&(Qe("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:r,resolution:n}),e.style instanceof Ta||(e.style=new Ta(e.style));const{texture:s,canvasAndContext:o}=this.createTextureAndCanvas(e);return this._renderer.texture.initSource(s._source),Vl.returnCanvasAndContext(o),s}createTextureAndCanvas(e){const{text:n,style:r}=e,i=e.resolution??this._renderer.resolution,s=Ml.measureText(n||" ",r),o=Math.ceil(Math.ceil(Math.max(1,s.width)+r.padding*2)*i),u=Math.ceil(Math.ceil(Math.max(1,s.height)+r.padding*2)*i),c=Vl.getOptimalCanvasAndContext(o,u),{canvas:f}=c;this.renderTextToCanvas(n,r,i,c);const p=sM(f,o,u,i);if(r.trim){const v=Xz(f,i);p.frame.copyFrom(v),p.updateUvs()}return{texture:p,canvasAndContext:c}}getManagedTexture(e){e._resolution=e._autoResolution?this._renderer.resolution:e.resolution;const n=e._getKey();if(this._activeTextures[n])return this._increaseReferenceCount(n),this._activeTextures[n].texture;const{texture:r,canvasAndContext:i}=this.createTextureAndCanvas(e);return this._activeTextures[n]={canvasAndContext:i,texture:r,usageCount:1},r}_increaseReferenceCount(e){this._activeTextures[e].usageCount++}returnTexture(e){const n=e.source;n.resource=null,n.uploadMethodId="unknown",n.alphaMode="no-premultiply-alpha",Dr.returnTexture(e)}decreaseReferenceCount(e){const n=this._activeTextures[e];n.usageCount--,n.usageCount===0&&(Vl.returnCanvasAndContext(n.canvasAndContext),this.returnTexture(n.texture),this._activeTextures[e]=null)}getReferenceCount(e){return this._activeTextures[e].usageCount}renderTextToCanvas(e,n,r,i){var P,O,M,D;const{canvas:s,context:o}=i,u=N_(n),c=Ml.measureText(e||" ",n),f=c.lines,p=c.lineHeight,v=c.lineWidths,b=c.maxLineWidth,y=c.fontProperties,E=s.height;if(o.resetTransform(),o.scale(r,r),o.textBaseline=n.textBaseline,(P=n._stroke)!=null&&P.width){const W=n._stroke;o.lineWidth=W.width,o.miterLimit=W.miterLimit,o.lineJoin=W.join,o.lineCap=W.cap}o.font=u;let S,T;const A=n.dropShadow?2:1;for(let W=0;W<A;++W){const G=n.dropShadow&&W===0,Y=G?Math.ceil(Math.max(1,E)+n.padding*2):0,L=Y*r;if(G){o.fillStyle="black",o.strokeStyle="black";const ee=n.dropShadow,be=ee.color,Te=ee.alpha;o.shadowColor=en.shared.setValue(be).setAlpha(Te).toRgbaString();const he=ee.blur*r,R=ee.distance*r;o.shadowBlur=he,o.shadowOffsetX=Math.cos(ee.angle)*R,o.shadowOffsetY=Math.sin(ee.angle)*R+L}else{if(o.fillStyle=n._fill?U_(n._fill,o,c):null,(O=n._stroke)!=null&&O.width){const ee=n._stroke.width*n._stroke.alignment;o.strokeStyle=U_(n._stroke,o,c,ee)}o.shadowColor="black"}let X=(p-y.fontSize)/2;p-y.fontSize<0&&(X=0);const Z=((M=n._stroke)==null?void 0:M.width)??0;for(let ee=0;ee<f.length;ee++)S=Z/2,T=Z/2+ee*p+y.ascent+X,n.align==="right"?S+=b-v[ee]:n.align==="center"&&(S+=(b-v[ee])/2),(D=n._stroke)!=null&&D.width&&this._drawLetterSpacing(f[ee],n,i,S+n.padding,T+n.padding-Y,!0),n._fill!==void 0&&this._drawLetterSpacing(f[ee],n,i,S+n.padding,T+n.padding-Y)}}_drawLetterSpacing(e,n,r,i,s,o=!1){const{context:u}=r,c=n.letterSpacing;let f=!1;if(Ml.experimentalLetterSpacingSupported&&(Ml.experimentalLetterSpacing?(u.letterSpacing=`${c}px`,u.textLetterSpacing=`${c}px`,f=!0):(u.letterSpacing="0px",u.textLetterSpacing="0px")),c===0||f){o?u.strokeText(e,i,s):u.fillText(e,i,s);return}let p=i;const v=Ml.graphemeSegmenter(e);let b=u.measureText(e).width,y=0;for(let E=0;E<v.length;++E){const S=v[E];o?u.strokeText(S,p,s):u.fillText(S,p,s);let T="";for(let A=E+1;A<v.length;++A)T+=v[A];y=u.measureText(T).width,p+=b-y+c,b=y}}destroy(){this._activeTextures=null}}Yz.extension={type:[te.WebGLSystem,te.WebGPUSystem,te.CanvasSystem],name:"canvasText"};function GZ(t,e){return e instanceof Ta||e instanceof Xf?e:t==="html"?new Xf(e):new Ta(e)}async function zZ(t,e,n=200){const r=await e.extract.base64(t);await e.encoder.commandFinished;const i=n;console.log(`logging texture ${t.source.width}px ${t.source.height}px`);const s=["font-size: 1px;",`padding: ${i}px 300px;`,`background: url(${r}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}const VZ=["#000080","#228B22","#8B0000","#4169E1","#008080","#800000","#9400D3","#FF8C00","#556B2F","#8B008B"];let HZ=0;function qz(t,e=0,n={color:"#000000"}){t.renderGroup&&(n.color=VZ[HZ++]);let r="";for(let o=0;o<e;o++)r+="    ";let i=t.label;!i&&t instanceof Vo&&(i=`sprite:${t.texture.label}`);let s=`%c ${r}|- ${i} (worldX:${t.worldTransform.tx}, relativeRenderX:${t.relativeGroupTransform.tx}, renderX:${t.groupTransform.tx}, localX:${t.x})`;t.renderGroup&&(s+=" (RenderGroup)"),t.filters&&(s+="(*filters)"),console.log(s,`color:${n.color}; font-weight:bold;`),e++;for(let o=0;o<t.children.length;o++){const u=t.children[o];qz(u,e,{...n})}}function Kz(t,e=0,n={index:0,color:"#000000"}){let r="";for(let s=0;s<e;s++)r+="    ";const i=`%c ${r}- ${n.index}: ${t.root.label} worldX:${t.worldTransform.tx}`;console.log(i,`color:${n.color}; font-weight:bold;`),e++;for(let s=0;s<t.renderGroupChildren.length;s++){const o=t.renderGroupChildren[s];Kz(o,e,{...n,index:s})}}An.add(l8,u8);const WZ=Object.freeze(Object.defineProperty({__proto__:null,AbstractBitmapFont:gP,AbstractRenderer:oy,AbstractText:zw,AccessibilitySystem:wX,AlphaFilter:sK,AlphaMask:tP,AlphaMaskPipe:ZP,AnimatedSprite:G_,Application:pP,ApplicationInitHook:hP,Assets:q0,AssetsClass:fF,BLEND_TO_NPM:QU,BUFFER_TYPE:g_,BackgroundLoader:$6,BackgroundSystem:dG,Batch:e6,BatchGeometry:s6,BatchTextureArray:JU,BatchableGraphics:Nw,BatchableMesh:Kw,BatchableSprite:py,Batcher:r6,BatcherPipe:KP,BigPool:Xt,BindGroup:zl,BindGroupSystem:VO,BitmapFont:IP,BitmapFontManager:F_,BitmapText:dL,BitmapTextPipe:Uz,BlendModeFilter:_r,BlendModePipe:DO,BlurFilter:HF,BlurFilterPass:Q2,Bounds:Zr,BrowserAdapter:G8,Buffer:cs,BufferImageSource:mw,BufferResource:$w,BufferUsage:Wt,CLEAR:ks,Cache:Un,CanvasPool:Vl,CanvasPoolClass:G6,CanvasSource:Gl,CanvasTextMetrics:Ml,CanvasTextPipe:jz,CanvasTextSystem:Yz,Circle:YU,Color:en,ColorBlend:_U,ColorBurnBlend:yU,ColorDodgeBlend:xU,ColorMask:nP,ColorMaskPipe:QP,ColorMatrixFilter:lK,CompressedSource:hy,Container:Ei,Culler:AF,CullerPlugin:RF,CustomRenderPipe:TO,D3D10_RESOURCE_DIMENSION:zP,D3DFMT:Ms,DATA_URI:BX,DDS:_t,DEG_TO_RAD:h8,DEPRECATED_SCALE_MODES:BS,DEPRECATED_WRAP_MODES:DS,DOMAdapter:Yt,DOMContainer:jq,DOMPipe:PF,DRAW_MODES:aZ,DXGI_FORMAT:GP,DXGI_TO_TEXTURE_FORMAT:Ds,DarkenBlend:SU,DefaultBatcher:kw,DefaultShader:b6,DifferenceBlend:wU,DisplacementFilter:uK,DivideBlend:EU,DynamicBitmapFont:QA,Ellipse:Cw,EventBoundary:MF,EventEmitter:hs,EventSystem:DF,EventsTicker:Yu,ExclusionBlend:TU,ExtensionType:te,ExtractSystem:fG,FOURCC_TO_TEXTURE_FORMAT:s3,FederatedContainer:iK,FederatedEvent:dv,FederatedMouseEvent:L_,FederatedPointerEvent:Ya,FederatedWheelEvent:jf,FillGradient:rc,FillPattern:cy,Filter:tu,FilterEffect:O_,FilterPipe:KF,FilterSystem:QF,FontStylePromiseCache:K0,GAUSSIAN_VALUES:HP,GL_FORMATS:RS,GL_INTERNAL_FORMAT:yF,GL_TARGETS:rO,GL_TYPES:sn,GL_WRAP_MODES:TL,GenerateTextureSystem:kO,Geometry:ip,GlBackBufferSystem:RL,GlBatchAdaptor:XP,GlBuffer:SL,GlBufferSystem:eO,GlColorMaskSystem:aO,GlContextSystem:EL,GlEncoderSystem:oO,GlGeometrySystem:iO,GlGraphicsAdaptor:wO,GlMeshAdaptor:EO,GlParticleContainerAdaptor:oz,GlParticleContainerPipe:pz,GlProgram:Xs,GlProgramData:GL,GlRenderTarget:PL,GlRenderTargetAdaptor:kL,GlRenderTargetSystem:mO,GlShaderSystem:_O,GlStateSystem:QL,GlStencilSystem:lO,GlTexture:JL,GlTextureSystem:SO,GlUboSystem:fO,GlUniformGroupSystem:yO,GlobalUniformSystem:IO,GpuBatchAdaptor:YP,GpuBlendModesToPixi:ds,GpuBufferSystem:HO,GpuColorMaskSystem:WO,GpuDeviceSystem:Yw,GpuEncoderSystem:$O,GpuGraphicsAdaptor:nM,GpuGraphicsContext:R6,GpuMeshAdapter:rM,GpuMipmapGenerator:NG,GpuParticleContainerAdaptor:lz,GpuParticleContainerPipe:gz,GpuProgram:fs,GpuReadBuffer:ZK,GpuRenderTarget:MG,GpuRenderTargetAdaptor:DG,GpuRenderTargetSystem:KO,GpuShaderSystem:ZO,GpuStateSystem:QO,GpuStencilModesToPixi:dc,GpuStencilSystem:jO,GpuTextureSystem:tM,GpuUboSystem:XO,GpuUniformBatchPipe:YO,Graphics:Bd,GraphicsContext:ls,GraphicsContextRenderData:P6,GraphicsContextSystem:CP,GraphicsPath:Dd,GraphicsPipe:VG,HTMLText:gL,HTMLTextPipe:Fz,HTMLTextRenderData:$P,HTMLTextStyle:Xf,HTMLTextSystem:aM,HardLightBlend:CU,HardMixBlend:AU,HelloSystem:Xw,IGLUniformData:EK,ImageSource:Md,InstructionSet:JR,KTX:gr,LightenBlend:RU,LinearBurnBlend:PU,LinearDodgeBlend:OU,LinearLightBlend:MU,Loader:J6,LoaderParserPriority:Oa,LuminosityBlend:DU,MSAA_QUALITY:zG,MaskEffectManager:xS,MaskEffectManagerClass:A8,MaskFilter:tL,Matrix:Je,Mesh:mv,MeshGeometry:Hd,MeshPipe:az,MeshPlane:OZ,MeshRope:MZ,MeshSimple:DZ,NOOP:$R,NegationBlend:BU,NineSliceGeometry:fd,NineSlicePlane:FZ,NineSliceSprite:Sz,NineSliceSpritePipe:wz,NoiseFilter:cK,ObservablePoint:Mr,OverlayBlend:kU,PI_2:c8,Particle:IZ,ParticleBuffer:cz,ParticleContainer:UZ,ParticleContainerPipe:iM,ParticleShader:fz,PerspectiveMesh:PZ,PerspectivePlaneGeometry:QG,PinLightBlend:IU,PipelineSystem:qO,PlaneGeometry:qw,Point:mn,Polygon:Tm,Pool:vw,PoolGroupClass:w8,PrepareBase:iL,PrepareQueue:cL,PrepareSystem:vL,PrepareUpload:mL,QuadGeometry:Az,RAD_TO_DEG:d8,Rectangle:vn,RenderContainer:mZ,RenderGroup:L8,RenderGroupPipe:CO,RenderGroupSystem:PO,RenderLayer:wZ,RenderLayerClass:$G,RenderTarget:PS,RenderTargetSystem:gO,RenderTexture:jw,RenderableGCSystem:bG,RendererInitHook:fP,RendererType:Ws,ResizePlugin:$U,Resolver:zd,RopeGeometry:rz,RoundedRectangle:Aw,SCALE_MODES:cZ,STENCIL_MODES:mr,SVGParser:U6,SaturationBlend:NU,SchedulerSystem:NO,ScissorMask:_K,SdfShader:Nz,Shader:Ma,ShaderStage:cm,ShapePath:I6,SharedRenderPipes:zO,SharedSystems:GO,SoftLightBlend:UU,Sprite:Vo,SpritePipe:OO,Spritesheet:BA,State:Ea,StencilMask:rP,StencilMaskPipe:JP,SubtractBlend:FU,SystemRunner:dP,TEXTURE_FORMAT_BLOCK_SIZE:bF,Text:Hw,TextStyle:Ta,Texture:ze,TextureGCSystem:yG,TextureMatrix:XR,TexturePool:Dr,TexturePoolClass:F8,TextureSource:br,TextureStyle:jR,TextureUvs:dZ,Ticker:Si,TickerListener:Y2,TickerPlugin:jU,TilingSprite:uL,TilingSpritePipe:Mz,TilingSpriteShader:Cz,Transform:oL,Triangle:WP,UNIFORM_TO_ARRAY_SETTERS:YL,UNIFORM_TO_SINGLE_SETTERS:XL,UNIFORM_TYPES_MAP:cU,UNIFORM_TYPES_VALUES:lP,UPDATE_BLEND:yw,UPDATE_COLOR:D_,UPDATE_PRIORITY:tc,UPDATE_TRANSFORM:oX,UPDATE_VISIBLE:Em,UboBatch:AG,UboSystem:uO,UniformGroup:kr,VERSION:k_,VideoSource:h_,ViewContainer:eu,ViewSystem:SG,ViewableBuffer:Cf,VividLightBlend:LU,WGSL_ALIGN_SIZE_DATA:v_,WGSL_TO_STD40_SIZE:cO,WRAP_MODES:uZ,WebGLRenderer:CG,WebGPURenderer:GG,WebWorkerAdapter:Qq,WorkerManager:n3,_getGlobalBounds:KR,accessibilityTarget:EX,addBits:zA,addMaskBounds:xw,addMaskLocalBounds:Sw,addProgramDefines:eU,alphaFrag:BF,alphaWgsl:l3,applyMatrix:Pz,applyProjectiveTransformationToPlane:YG,applyStyleParams:_3,assignWithIgnore:SS,autoDetectEnvironment:PX,autoDetectRenderer:HU,autoDetectSource:cX,basisTranscoderUrls:TS,bgr2rgb:wm,bitmapFontCachePlugin:H6,bitmapFontTextParser:Z2,bitmapFontXMLParser:JA,bitmapFontXMLStringParser:e3,blendTemplateFrag:mU,blendTemplateVert:vU,blendTemplateWgsl:bU,blockDataMap:JO,blurTemplateWgsl:LF,boundsPool:Ll,browserExt:l8,buildAdaptiveBezier:AP,buildAdaptiveQuadratic:O6,buildArc:RP,buildArcTo:M6,buildArcToSvg:D6,buildCircle:Qu,buildContextBatches:A6,buildEllipse:x6,buildGeometryFromPath:SZ,buildLine:E6,buildPixelLine:T6,buildPolygon:SP,buildRectangle:wP,buildRoundedRectangle:S6,buildSimpleUvs:_P,buildTriangle:EP,buildUvs:bP,cacheAsTextureMixin:E8,cacheTextureArray:j6,calculateProjection:IL,checkChildrenDidChange:QR,checkDataUrl:sp,checkExtension:ao,checkMaxIfStatementsInShader:KU,childrenHelperMixin:T8,cleanArray:mG,cleanHash:gG,clearList:MS,closePointEps:yP,collectAllRenderables:vZ,collectRenderablesMixin:C8,color32BitToUniform:vv,colorBit:Pw,colorBitGl:Ow,colorMatrixFilterFrag:WF,colorMatrixFilterWgsl:u3,colorToUniform:WK,compareModeToGlCompare:iG,compileHighShader:l6,compileHighShaderGl:u6,compileHighShaderGlProgram:fv,compileHighShaderGpuProgram:hv,compileHooks:VA,compileInputs:HA,compileOutputs:o6,compileShader:m3,compute2DProjection:ZG,convertFormatIfRequired:Iq,convertToList:Qa,copySearchParams:wS,createIdFromString:Jm,createIndicesForQuads:y3,createLevelBuffers:oq,createLevelBuffersFromKTX:Nq,createStringVariations:j8,createTexture:Vd,createUboElementsSTD40:OL,createUboElementsWGSL:RG,createUboSyncFunction:dO,createUboSyncFunctionSTD40:BL,createUboSyncFunctionWGSL:OG,crossOrigin:lF,cullingMixin:S8,curveEps:$A,defaultFilterVert:Gw,defaultValue:vO,definedProps:zo,deprecation:Qe,detectAvif:X6,detectBasis:nq,detectCompressed:Hq,detectDefaults:Y6,detectMp4:q6,detectOgv:K6,detectVideoAlphaMode:iP,detectWebm:Z6,detectWebp:Q6,determineCrossOrigin:cF,displacementFrag:$F,displacementVert:jF,displacementWgsl:c3,earcut:GU,effectsMixin:R8,ensureAttributes:nO,ensureIsBuffer:vP,ensurePrecision:tU,ensureTextOptions:Vw,ensureTextStyle:GZ,executeInstructions:OS,extensions:An,extractAttributesFromGlProgram:VL,extractAttributesFromGpuProgram:aU,extractFontFamilies:Gz,extractStructAndGroups:q2,extractSvgUrlId:qA,fastCopy:ES,findHooksRx:a6,findMixin:P8,fontStringFromTextStyle:N_,formatShader:mK,fragmentGPUTemplate:f6,fragmentGlTemplate:g6,generateArraySyncSTD40:DL,generateArraySyncWGSL:PG,generateBlurFragSource:NF,generateBlurGlProgram:FF,generateBlurProgram:GF,generateBlurVertSource:UF,generateGPULayout:pK,generateGpuLayoutGroups:oU,generateLayout:gK,generateLayoutHash:lU,generateParticleUpdateFunction:uz,generateProgram:jL,generateShaderSyncCode:LL,generateTextStyleKey:MP,generateTextureBatchBit:Mw,generateTextureBatchBitGl:Dw,generateTextureMatrix:C6,generateUID:fZ,generateUniformsSync:qL,getAdjustedBlendModeBlend:ev,getAttributeInfoFromFormat:nc,getBatchSamplersUniformGroup:Bw,getBitmapTextLayout:kP,getCanvasBoundingBox:Xz,getCanvasFillStyle:U_,getCanvasTexture:pO,getDefaultUniformValue:dU,getFastGlobalBounds:gZ,getFastGlobalBoundsMixin:O8,getFontCss:Vz,getFontFamilyName:nF,getGeometryBounds:i6,getGlTypeFromFormat:CL,getGlobalBounds:ay,getGlobalMixin:M8,getGlobalRenderableBounds:ZF,getLocalBounds:_w,getMatrixRelativeToParent:eP,getMaxFragmentPrecision:J8,getMaxTexturesPerBatch:rp,getOrientationOfPoints:w6,getParent:B8,getPo2TextureFromSource:sM,getResolutionOfUrl:Fw,getSVGUrl:Hz,getSupportedCompressedTextureFormats:LP,getSupportedGPUCompressedTextureFormats:i3,getSupportedGlCompressedTextureFormats:r3,getSupportedTextureFormats:fy,getTemporaryCanvasFromImage:Wz,getTestContext:oP,getTextureBatchBindGroup:Rw,getTextureDefaultMatrix:BZ,getTextureFormatFromKTXTexture:Lq,getUboData:HL,getUniformData:WL,getUrlExtension:X8,glFormatToGPUFormat:TF,glUploadBufferImageResource:eG,glUploadCompressedTextureResource:tG,glUploadImageResource:xO,glUploadVideoResource:nG,globalUniformsBit:m6,globalUniformsBitGl:v6,globalUniformsUBOBitGl:KX,gpuFormatToBasisTranscoderFormat:uq,gpuFormatToKTXBasisTranscoderFormat:zq,gpuUploadBufferImageResource:BG,gpuUploadCompressedTextureResource:kG,gpuUploadImageResource:eM,gpuUploadVideoResource:IG,groupD8:Ht,hasCachedCanvasTexture:wK,hslWgsl:hK,hslgl:Ew,hslgpu:Tw,injectBits:WA,insertVersion:nU,isMobile:Z8,isPow2:PA,isRenderingToScreen:NL,isSafari:Lz,isSingleItem:B_,isWebGLSupported:ly,isWebGPUSupported:uy,ktxTranscoderUrls:CS,loadBasis:aq,loadBasisOnWorker:vF,loadBitmapFont:W6,loadDDS:mq,loadEnvironmentExtensions:uP,loadFontAsBase64:zz,loadFontCSS:T3,loadImageBitmap:aF,loadJson:eF,loadKTX:Oq,loadKTX2:kq,loadKTX2onWorker:EF,loadSVGImage:$z,loadSvg:iF,loadTextures:UP,loadTxt:tF,loadVideoTextures:dF,loadWebFont:rF,localUniformBit:Om,localUniformBitGl:Ww,localUniformBitGroup2:_L,localUniformMSDFBit:Dz,localUniformMSDFBitGl:Bz,log2:jj,logDebugTexture:zZ,logProgramError:$L,logRenderGroupScene:Kz,logScene:qz,mSDFBit:kz,mSDFBitGl:Iz,mapFormatToGlFormat:sG,mapFormatToGlInternalFormat:aG,mapFormatToGlType:oG,mapGlToVertexFormat:zL,mapSize:RK,mapType:bO,mapWebGLBlendModesToPixi:KL,maskFrag:JF,maskVert:eL,maskWgsl:h3,matrixPool:Vi,measureHtmlText:jP,measureMixin:k8,migrateFragmentFromV7toV8:CK,mipmapScaleModeToGlFilter:rG,mixHexColors:bZ,multiplyColors:M_,multiplyHexColors:ZR,nextPow2:$f,noiseFrag:XF,noiseWgsl:d3,nonCompressedFormats:pF,normalizeExtensionPriority:j0,nssvg:p3,nsxhtml:g3,onRenderMixin:I8,parseAttribute:ZA,parseDDS:_F,parseFunctionBody:pZ,parseKTX:xF,parseSVGDefinitions:N6,parseSVGFloatAttribute:ar,parseSVGPath:XU,parseSVGStyle:PP,particleData:w3,particlesFrag:dz,particlesVert:hz,particlesWgsl:x3,path:Ls,pointInTriangle:f3,preloadVideo:uF,removeItems:qR,removeStructAndGroupDuplicates:uU,resetUids:$j,resolveCharacters:BP,resolveCompressedTextureUrl:Vq,resolveJsonUrl:hF,resolveTextureUrl:FP,resourceToTexture:H8,roundPixelsBit:pv,roundPixelsBitGl:gv,roundedShapeArc:B6,roundedShapeQuadraticCurve:k6,sayHello:pG,scaleModeToGlFilter:b3,setBasisTranscoderPath:iq,setKTXTranscoderPath:Dq,setPositions:Rz,setProgramName:rU,setUvs:Oz,shapeBuilders:dy,sortMixin:N8,spritesheetAsset:K8,squaredDistanceToLineSegment:f_,stripVersion:iU,styleAttributes:KA,testImageFormat:NP,testVideoFormat:Uw,textStyleToCSS:hL,textureBit:yL,textureBitGl:xL,textureFrom:W8,tilingBit:Ez,tilingBitGl:Tz,toFillStyle:vd,toLocalGlobalMixin:U8,toStrokeStyle:I_,transformVertices:Iw,triangulateWithHoles:xP,uboSyncFunctionsSTD40:hO,uboSyncFunctionsWGSL:ML,uid:Xn,uniformParsers:bd,unpremultiplyAlpha:NK,unsafeEvalSupported:cP,updateLocalTransform:_Z,updateQuadBounds:YR,updateRenderGroupTransform:lG,updateRenderGroupTransforms:AO,updateTextBounds:kS,updateTransformAndChildren:RO,updateTransformBackwards:bw,updateWorldTransform:yZ,v8_0_0:Tt,v8_3_4:p8,validFormats:AS,validateRenderables:uG,vertexGPUTemplate:h6,vertexGlTemplate:p6,viewportFromFrame:lZ,vkFormatToGPUFormat:CF,warn:at,webworkerExt:u8,wrapModeToGlAddress:eS},Symbol.toStringTag,{value:"Module"})),$Z=16245207,jZ=16777215,XZ=["#005f73","#0a9396","#94d2bd","#e9d8a6","#ee9b00","#ca6702","#bb3e03","#ae2012","#9b2226","#001219"],YZ=6011503,Zz=window.devicePixelRatio||1;var Z0={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var qZ=Z0.exports,Rk;function KZ(){return Rk||(Rk=1,function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",v=1,b=2,y=4,E=1,S=2,T=1,A=2,P=4,O=8,M=16,D=32,W=64,G=128,Y=256,L=512,X=30,Z="...",ee=800,be=16,Te=1,he=2,R=3,N=1/0,z=9007199254740991,K=17976931348623157e292,U=NaN,j=4294967295,ne=j-1,re=j>>>1,we=[["ary",G],["bind",T],["bindKey",A],["curry",O],["curryRight",M],["flip",L],["partial",D],["partialRight",W],["rearg",Y]],Ce="[object Arguments]",Ie="[object Array]",nt="[object AsyncFunction]",ve="[object Boolean]",Ee="[object Date]",Fe="[object DOMException]",$e="[object Error]",et="[object Function]",gt="[object GeneratorFunction]",rt="[object Map]",qe="[object Number]",Xe="[object Null]",tn="[object Object]",di="[object Promise]",Xr="[object Proxy]",Yr="[object RegExp]",ct="[object Set]",on="[object String]",Ir="[object Symbol]",qs="[object Undefined]",Ks="[object WeakMap]",Zs="[object WeakSet]",bn="[object ArrayBuffer]",Nr="[object DataView]",dr="[object Float32Array]",lo="[object Float64Array]",ps="[object Int8Array]",fe="[object Int16Array]",ye="[object Int32Array]",Re="[object Uint8Array]",Ue="[object Uint8ClampedArray]",Ye="[object Uint16Array]",Ut="[object Uint32Array]",Fn=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,Le=/(__e\(.*?\)|\b__t\)) \+\n'';/g,k=/&(?:amp|lt|gt|quot|#39);/g,F=/[&<>"']/g,q=RegExp(k.source),le=RegExp(F.source),ke=/<%-([\s\S]+?)%>/g,We=/<%([\s\S]+?)%>/g,Et=/<%=([\s\S]+?)%>/g,hr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ji=/^\w*$/,yr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_n=/[\\^$.*+?()[\]{}|]/g,Yn=RegExp(_n.source),Jr=/^\s+/,Qs=/\s/,gs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,uo=/\{\n\/\* \[wrapped with (.+)\] \*/,qo=/,? & /,qn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fc=/[()=,{}\[\]\/\s]/,Xi=/\\(\\)?/g,co=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pc=/\w*$/,gc=/^[-+]0x[0-9a-f]+$/i,Ur=/^0b[01]+$/i,ky=/^\[object .+?Constructor\]$/,Iy=/^0o[0-7]+$/i,au=/^(?:0|[1-9]\d*)$/,mc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mp=/($^)/,Ny=/['\n\r\u2028\u2029\\]/g,Yd="\\ud800-\\udfff",ME="\\u0300-\\u036f",vp="\\ufe20-\\ufe2f",bp="\\u20d0-\\u20ff",Ba=ME+vp+bp,_p="\\u2700-\\u27bf",Av="a-z\\xdf-\\xf6\\xf8-\\xff",vc="\\xac\\xb1\\xd7\\xf7",Rv="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Pv="\\u2000-\\u206f",DE=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ov="A-Z\\xc0-\\xd6\\xd8-\\xde",Yi="\\ufe0e\\ufe0f",Mv=vc+Rv+Pv+DE,Dv="['’]",yp="["+Yd+"]",Bv="["+Mv+"]",ou="["+Ba+"]",Uy="\\d+",ms="["+_p+"]",xp="["+Av+"]",kv="[^"+Yd+Mv+Uy+_p+Av+Ov+"]",qd="\\ud83c[\\udffb-\\udfff]",bc="(?:"+ou+"|"+qd+")",Iv="[^"+Yd+"]",Sp="(?:\\ud83c[\\udde6-\\uddff]){2}",Ko="[\\ud800-\\udbff][\\udc00-\\udfff]",_c="["+Ov+"]",Nv="\\u200d",Uv="(?:"+xp+"|"+kv+")",Fv="(?:"+_c+"|"+kv+")",Fy="(?:"+Dv+"(?:d|ll|m|re|s|t|ve))?",Ly="(?:"+Dv+"(?:D|LL|M|RE|S|T|VE))?",Kd=bc+"?",wp="["+Yi+"]?",Lv="(?:"+Nv+"(?:"+[Iv,Sp,Ko].join("|")+")"+wp+Kd+")*",yc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Gv=wp+Kd+Lv,zv="(?:"+[ms,Sp,Ko].join("|")+")"+Gv,Gy="(?:"+[Iv+ou+"?",ou,Sp,Ko,yp].join("|")+")",Zd=RegExp(Dv,"g"),ho=RegExp(ou,"g"),Qd=RegExp(qd+"(?="+qd+")|"+Gy+Gv,"g"),Jd=RegExp([_c+"?"+xp+"+"+Fy+"(?="+[Bv,_c,"$"].join("|")+")",Fv+"+"+Ly+"(?="+[Bv,_c+Uv,"$"].join("|")+")",_c+"?"+Uv+"+"+Fy,_c+"+"+Ly,xc,yc,Uy,zv].join("|"),"g"),Zo=RegExp("["+Nv+Yd+Ba+Yi+"]"),Vv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ep=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],zy=-1,yn={};yn[dr]=yn[lo]=yn[ps]=yn[fe]=yn[ye]=yn[Re]=yn[Ue]=yn[Ye]=yn[Ut]=!0,yn[Ce]=yn[Ie]=yn[bn]=yn[ve]=yn[Nr]=yn[Ee]=yn[$e]=yn[et]=yn[rt]=yn[qe]=yn[tn]=yn[Yr]=yn[ct]=yn[on]=yn[Ks]=!1;var cn={};cn[Ce]=cn[Ie]=cn[bn]=cn[Nr]=cn[ve]=cn[Ee]=cn[dr]=cn[lo]=cn[ps]=cn[fe]=cn[ye]=cn[rt]=cn[qe]=cn[tn]=cn[Yr]=cn[ct]=cn[on]=cn[Ir]=cn[Re]=cn[Ue]=cn[Ye]=cn[Ut]=!0,cn[$e]=cn[et]=cn[Ks]=!1;var Vy={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ci={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},eh=parseFloat,BE=parseInt,Cp=typeof um=="object"&&um&&um.Object===Object&&um,Hv=typeof self=="object"&&self&&self.Object===Object&&self,ir=Cp||Hv||Function("return this")(),Sc=e&&!e.nodeType&&e,Qo=Sc&&!0&&t&&!t.nodeType&&t,Hy=Qo&&Qo.exports===Sc,Wv=Hy&&Cp.process,vs=function(){try{var oe=Qo&&Qo.require&&Qo.require("util").types;return oe||Wv&&Wv.binding&&Wv.binding("util")}catch{}}(),Ap=vs&&vs.isArrayBuffer,Wy=vs&&vs.isDate,$y=vs&&vs.isMap,jy=vs&&vs.isRegExp,Xy=vs&&vs.isSet,Yy=vs&&vs.isTypedArray;function Ai(oe,Ae,Se){switch(Se.length){case 0:return oe.call(Ae);case 1:return oe.call(Ae,Se[0]);case 2:return oe.call(Ae,Se[0],Se[1]);case 3:return oe.call(Ae,Se[0],Se[1],Se[2])}return oe.apply(Ae,Se)}function kE(oe,Ae,Se,Ve){for(var dt=-1,qt=oe==null?0:oe.length;++dt<qt;){var fr=oe[dt];Ae(Ve,fr,Se(fr),oe)}return Ve}function bs(oe,Ae){for(var Se=-1,Ve=oe==null?0:oe.length;++Se<Ve&&Ae(oe[Se],Se,oe)!==!1;);return oe}function IE(oe,Ae){for(var Se=oe==null?0:oe.length;Se--&&Ae(oe[Se],Se,oe)!==!1;);return oe}function qy(oe,Ae){for(var Se=-1,Ve=oe==null?0:oe.length;++Se<Ve;)if(!Ae(oe[Se],Se,oe))return!1;return!0}function ka(oe,Ae){for(var Se=-1,Ve=oe==null?0:oe.length,dt=0,qt=[];++Se<Ve;){var fr=oe[Se];Ae(fr,Se,oe)&&(qt[dt++]=fr)}return qt}function Rp(oe,Ae){var Se=oe==null?0:oe.length;return!!Se&&wc(oe,Ae,0)>-1}function $v(oe,Ae,Se){for(var Ve=-1,dt=oe==null?0:oe.length;++Ve<dt;)if(Se(Ae,oe[Ve]))return!0;return!1}function Ln(oe,Ae){for(var Se=-1,Ve=oe==null?0:oe.length,dt=Array(Ve);++Se<Ve;)dt[Se]=Ae(oe[Se],Se,oe);return dt}function fo(oe,Ae){for(var Se=-1,Ve=Ae.length,dt=oe.length;++Se<Ve;)oe[dt+Se]=Ae[Se];return oe}function jv(oe,Ae,Se,Ve){var dt=-1,qt=oe==null?0:oe.length;for(Ve&&qt&&(Se=oe[++dt]);++dt<qt;)Se=Ae(Se,oe[dt],dt,oe);return Se}function NE(oe,Ae,Se,Ve){var dt=oe==null?0:oe.length;for(Ve&&dt&&(Se=oe[--dt]);dt--;)Se=Ae(Se,oe[dt],dt,oe);return Se}function Xv(oe,Ae){for(var Se=-1,Ve=oe==null?0:oe.length;++Se<Ve;)if(Ae(oe[Se],Se,oe))return!0;return!1}var UE=Op("length");function FE(oe){return oe.split("")}function LE(oe){return oe.match(qn)||[]}function Ky(oe,Ae,Se){var Ve;return Se(oe,function(dt,qt,fr){if(Ae(dt,qt,fr))return Ve=qt,!1}),Ve}function Pp(oe,Ae,Se,Ve){for(var dt=oe.length,qt=Se+(Ve?1:-1);Ve?qt--:++qt<dt;)if(Ae(oe[qt],qt,oe))return qt;return-1}function wc(oe,Ae,Se){return Ae===Ae?HE(oe,Ae,Se):Pp(oe,Ec,Se)}function Yv(oe,Ae,Se,Ve){for(var dt=Se-1,qt=oe.length;++dt<qt;)if(Ve(oe[dt],Ae))return dt;return-1}function Ec(oe){return oe!==oe}function Zy(oe,Ae){var Se=oe==null?0:oe.length;return Se?Dp(oe,Ae)/Se:U}function Op(oe){return function(Ae){return Ae==null?n:Ae[oe]}}function Mp(oe){return function(Ae){return oe==null?n:oe[Ae]}}function qv(oe,Ae,Se,Ve,dt){return dt(oe,function(qt,fr,Kt){Se=Ve?(Ve=!1,qt):Ae(Se,qt,fr,Kt)}),Se}function Qy(oe,Ae){var Se=oe.length;for(oe.sort(Ae);Se--;)oe[Se]=oe[Se].value;return oe}function Dp(oe,Ae){for(var Se,Ve=-1,dt=oe.length;++Ve<dt;){var qt=Ae(oe[Ve]);qt!==n&&(Se=Se===n?qt:Se+qt)}return Se}function Jo(oe,Ae){for(var Se=-1,Ve=Array(oe);++Se<oe;)Ve[Se]=Ae(Se);return Ve}function GE(oe,Ae){return Ln(Ae,function(Se){return[Se,oe[Se]]})}function Jy(oe){return oe&&oe.slice(0,Zv(oe)+1).replace(Jr,"")}function qi(oe){return function(Ae){return oe(Ae)}}function Bp(oe,Ae){return Ln(Ae,function(Se){return oe[Se]})}function Tc(oe,Ae){return oe.has(Ae)}function Cc(oe,Ae){for(var Se=-1,Ve=oe.length;++Se<Ve&&wc(Ae,oe[Se],0)>-1;);return Se}function Ac(oe,Ae){for(var Se=oe.length;Se--&&wc(Ae,oe[Se],0)>-1;);return Se}function zE(oe,Ae){for(var Se=oe.length,Ve=0;Se--;)oe[Se]===Ae&&++Ve;return Ve}var kp=Mp(Vy),ex=Mp(Ci);function tx(oe){return"\\"+Tp[oe]}function Kv(oe,Ae){return oe==null?n:oe[Ae]}function el(oe){return Zo.test(oe)}function nx(oe){return Vv.test(oe)}function rx(oe){for(var Ae,Se=[];!(Ae=oe.next()).done;)Se.push(Ae.value);return Se}function Ip(oe){var Ae=-1,Se=Array(oe.size);return oe.forEach(function(Ve,dt){Se[++Ae]=[dt,Ve]}),Se}function ix(oe,Ae){return function(Se){return oe(Ae(Se))}}function tl(oe,Ae){for(var Se=-1,Ve=oe.length,dt=0,qt=[];++Se<Ve;){var fr=oe[Se];(fr===Ae||fr===p)&&(oe[Se]=p,qt[dt++]=Se)}return qt}function Np(oe){var Ae=-1,Se=Array(oe.size);return oe.forEach(function(Ve){Se[++Ae]=Ve}),Se}function VE(oe){var Ae=-1,Se=Array(oe.size);return oe.forEach(function(Ve){Se[++Ae]=[Ve,Ve]}),Se}function HE(oe,Ae,Se){for(var Ve=Se-1,dt=oe.length;++Ve<dt;)if(oe[Ve]===Ae)return Ve;return-1}function Ki(oe,Ae,Se){for(var Ve=Se+1;Ve--;)if(oe[Ve]===Ae)return Ve;return Ve}function Ia(oe){return el(oe)?ax(oe):UE(oe)}function _s(oe){return el(oe)?Qv(oe):FE(oe)}function Zv(oe){for(var Ae=oe.length;Ae--&&Qs.test(oe.charAt(Ae)););return Ae}var sx=Mp(lu);function ax(oe){for(var Ae=Qd.lastIndex=0;Qd.test(oe);)++Ae;return Ae}function Qv(oe){return oe.match(Qd)||[]}function WE(oe){return oe.match(Jd)||[]}var Rc=function oe(Ae){Ae=Ae==null?ir:nl.defaults(ir.Object(),Ae,nl.pick(ir,Ep));var Se=Ae.Array,Ve=Ae.Date,dt=Ae.Error,qt=Ae.Function,fr=Ae.Math,Kt=Ae.Object,Up=Ae.RegExp,ox=Ae.String,Zi=Ae.TypeError,Fp=Se.prototype,$E=qt.prototype,Pc=Kt.prototype,th=Ae["__core-js_shared__"],nh=$E.toString,nn=Pc.hasOwnProperty,Js=0,Jv=function(){var h=/[^.]+$/.exec(th&&th.keys&&th.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),hi=Pc.toString,ys=nh.call(Kt),Oc=ir._,eb=Up("^"+nh.call(nn).replace(_n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uu=Hy?Ae.Buffer:n,ea=Ae.Symbol,Mc=Ae.Uint8Array,cu=uu?uu.allocUnsafe:n,rh=ix(Kt.getPrototypeOf,Kt),ih=Kt.create,du=Pc.propertyIsEnumerable,Lp=Fp.splice,Ri=ea?ea.isConcatSpreadable:n,hu=ea?ea.iterator:n,fi=ea?ea.toStringTag:n,sh=function(){try{var h=dl(Kt,"defineProperty");return h({},"",{}),h}catch{}}(),Gp=Ae.clearTimeout!==ir.clearTimeout&&Ae.clearTimeout,fu=Ve&&Ve.now!==ir.Date.now&&Ve.now,tb=Ae.setTimeout!==ir.setTimeout&&Ae.setTimeout,Dc=fr.ceil,po=fr.floor,rl=Kt.getOwnPropertySymbols,zp=uu?uu.isBuffer:n,ah=Ae.isFinite,xs=Fp.join,Ss=ix(Kt.keys,Kt),On=fr.max,Gn=fr.min,go=Ve.now,pu=Ae.parseInt,nb=fr.random,rb=Fp.reverse,oh=dl(Ae,"DataView"),xr=dl(Ae,"Map"),zn=dl(Ae,"Promise"),Ft=dl(Ae,"Set"),ta=dl(Ae,"WeakMap"),Pi=dl(Kt,"create"),Bc=ta&&new ta,ws={},lx=Eo(oh),ux=Eo(xr),lh=Eo(zn),uh=Eo(Ft),cx=Eo(ta),il=ea?ea.prototype:n,gu=il?il.valueOf:n,sl=il?il.toString:n;function V(h){if(jn(h)&&!pt(h)&&!(h instanceof Ot)){if(h instanceof Oi)return h;if(nn.call(h,"__wrapped__"))return wr(h)}return new Oi(h)}var Qi=function(){function h(){}return function(g){if(!Hn(g))return{};if(ih)return ih(g);h.prototype=g;var x=new h;return h.prototype=n,x}}();function Es(){}function Oi(h,g){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}V.templateSettings={escape:ke,evaluate:We,interpolate:Et,variable:"",imports:{_:V}},V.prototype=Es.prototype,V.prototype.constructor=V,Oi.prototype=Qi(Es.prototype),Oi.prototype.constructor=Oi;function Ot(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function ch(){var h=new Ot(this.__wrapped__);return h.__actions__=Sr(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Sr(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Sr(this.__views__),h}function Vp(){if(this.__filtered__){var h=new Ot(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function mu(){var h=this.__wrapped__.value(),g=this.__dir__,x=pt(h),C=g<0,I=x?h.length:0,$=Hx(0,I,this.__views__),Q=$.start,se=$.end,de=se-Q,Me=C?se:Q-1,Be=this.__iteratees__,Ne=Be.length,He=0,Ke=Gn(de,this.__takeCount__);if(!x||!C&&I==de&&Ke==de)return Px(h,this.__actions__);var ht=[];e:for(;de--&&He<Ke;){Me+=g;for(var Dt=-1,ft=h[Me];++Dt<Ne;){var Vt=Be[Dt],Qt=Vt.iteratee,la=Vt.type,ss=Qt(ft);if(la==he)ft=ss;else if(!ss){if(la==Te)continue e;break e}}ht[He++]=ft}return ht}Ot.prototype=Qi(Es.prototype),Ot.prototype.constructor=Ot;function Kn(h){var g=-1,x=h==null?0:h.length;for(this.clear();++g<x;){var C=h[g];this.set(C[0],C[1])}}function Hp(){this.__data__=Pi?Pi(null):{},this.size=0}function dx(h){var g=this.has(h)&&delete this.__data__[h];return this.size-=g?1:0,g}function jE(h){var g=this.__data__;if(Pi){var x=g[h];return x===c?n:x}return nn.call(g,h)?g[h]:n}function XE(h){var g=this.__data__;return Pi?g[h]!==n:nn.call(g,h)}function YE(h,g){var x=this.__data__;return this.size+=this.has(h)?0:1,x[h]=Pi&&g===n?c:g,this}Kn.prototype.clear=Hp,Kn.prototype.delete=dx,Kn.prototype.get=jE,Kn.prototype.has=XE,Kn.prototype.set=YE;function En(h){var g=-1,x=h==null?0:h.length;for(this.clear();++g<x;){var C=h[g];this.set(C[0],C[1])}}function ib(){this.__data__=[],this.size=0}function dh(h){var g=this.__data__,x=Nc(g,h);if(x<0)return!1;var C=g.length-1;return x==C?g.pop():Lp.call(g,x,1),--this.size,!0}function hh(h){var g=this.__data__,x=Nc(g,h);return x<0?n:g[x][1]}function sb(h){return Nc(this.__data__,h)>-1}function kc(h,g){var x=this.__data__,C=Nc(x,h);return C<0?(++this.size,x.push([h,g])):x[C][1]=g,this}En.prototype.clear=ib,En.prototype.delete=dh,En.prototype.get=hh,En.prototype.has=sb,En.prototype.set=kc;function Mi(h){var g=-1,x=h==null?0:h.length;for(this.clear();++g<x;){var C=h[g];this.set(C[0],C[1])}}function qE(){this.size=0,this.__data__={hash:new Kn,map:new(xr||En),string:new Kn}}function hx(h){var g=Vc(this,h).delete(h);return this.size-=g?1:0,g}function KE(h){return Vc(this,h).get(h)}function fx(h){return Vc(this,h).has(h)}function vu(h,g){var x=Vc(this,h),C=x.size;return x.set(h,g),this.size+=x.size==C?0:1,this}Mi.prototype.clear=qE,Mi.prototype.delete=hx,Mi.prototype.get=KE,Mi.prototype.has=fx,Mi.prototype.set=vu;function mo(h){var g=-1,x=h==null?0:h.length;for(this.__data__=new Mi;++g<x;)this.add(h[g])}function Wp(h){return this.__data__.set(h,c),this}function px(h){return this.__data__.has(h)}mo.prototype.add=mo.prototype.push=Wp,mo.prototype.has=px;function pi(h){var g=this.__data__=new En(h);this.size=g.size}function gx(){this.__data__=new En,this.size=0}function $p(h){var g=this.__data__,x=g.delete(h);return this.size=g.size,x}function ab(h){return this.__data__.get(h)}function mx(h){return this.__data__.has(h)}function jp(h,g){var x=this.__data__;if(x instanceof En){var C=x.__data__;if(!xr||C.length<i-1)return C.push([h,g]),this.size=++x.size,this;x=this.__data__=new Mi(C)}return x.set(h,g),this.size=x.size,this}pi.prototype.clear=gx,pi.prototype.delete=$p,pi.prototype.get=ab,pi.prototype.has=mx,pi.prototype.set=jp;function ob(h,g){var x=pt(h),C=!x&&Ro(h),I=!x&&!C&&xl(h),$=!x&&!C&&!I&&nd(h),Q=x||C||I||$,se=Q?Jo(h.length,ox):[],de=se.length;for(var Me in h)(g||nn.call(h,Me))&&!(Q&&(Me=="length"||I&&(Me=="offset"||Me=="parent")||$&&(Me=="buffer"||Me=="byteLength"||Me=="byteOffset")||sa(Me,de)))&&se.push(Me);return se}function Ic(h){var g=h.length;return g?h[ng(0,g-1)]:n}function vx(h,g){return Lh(Sr(h),ra(g,0,h.length))}function bx(h){return Lh(Sr(h))}function Na(h,g,x){(x!==n&&!Fi(h[g],x)||x===n&&!(g in h))&&na(h,g,x)}function bu(h,g,x){var C=h[g];(!(nn.call(h,g)&&Fi(C,x))||x===n&&!(g in h))&&na(h,g,x)}function Nc(h,g){for(var x=h.length;x--;)if(Fi(h[x][0],g))return x;return-1}function al(h,g,x,C){return bo(h,function(I,$,Q){g(C,I,x(I),Q)}),C}function vo(h,g){return h&&ki(g,Cr(g),h)}function fh(h,g){return h&&ki(g,Gr(g),h)}function na(h,g,x){g=="__proto__"&&sh?sh(h,g,{configurable:!0,enumerable:!0,value:x,writable:!0}):h[g]=x}function ph(h,g){for(var x=-1,C=g.length,I=Se(C),$=h==null;++x<C;)I[x]=$?n:Jh(h,g[x]);return I}function ra(h,g,x){return h===h&&(x!==n&&(h=h<=x?h:x),g!==n&&(h=h>=g?h:g)),h}function ei(h,g,x,C,I,$){var Q,se=g&v,de=g&b,Me=g&y;if(x&&(Q=I?x(h,C,I,$):x(h)),Q!==n)return Q;if(!Hn(h))return h;var Be=pt(h);if(Be){if(Q=Bb(h),!se)return Sr(h,Q)}else{var Ne=Lr(h),He=Ne==et||Ne==gt;if(xl(h))return Tb(h,se);if(Ne==tn||Ne==Ce||He&&!I){if(Q=de||He?{}:kb(h),!se)return de?Ah(h,fh(Q,h)):lg(h,vo(Q,h))}else{if(!cn[Ne])return I?h:{};Q=Ib(h,Ne,se)}}$||($=new pi);var Ke=$.get(h);if(Ke)return Ke;$.set(h,Q),I1(h)?h.forEach(function(ft){Q.add(ei(ft,g,x,ft,h,$))}):Bg(h)&&h.forEach(function(ft,Vt){Q.set(Vt,ei(ft,g,x,Vt,h,$))});var ht=Me?de?hg:dg:de?Gr:Cr,Dt=Be?n:ht(h);return bs(Dt||h,function(ft,Vt){Dt&&(Vt=ft,ft=h[Vt]),bu(Q,Vt,ei(ft,g,x,Vt,h,$))}),Q}function _x(h){var g=Cr(h);return function(x){return lb(x,h,g)}}function lb(h,g,x){var C=x.length;if(h==null)return!C;for(h=Kt(h);C--;){var I=x[C],$=g[I],Q=h[I];if(Q===n&&!(I in h)||!$(Q))return!1}return!0}function _u(h,g,x){if(typeof h!="function")throw new Zi(o);return Wc(function(){h.apply(n,x)},g)}function ol(h,g,x,C){var I=-1,$=Rp,Q=!0,se=h.length,de=[],Me=g.length;if(!se)return de;x&&(g=Ln(g,qi(x))),C?($=$v,Q=!1):g.length>=i&&($=Tc,Q=!1,g=new mo(g));e:for(;++I<se;){var Be=h[I],Ne=x==null?Be:x(Be);if(Be=C||Be!==0?Be:0,Q&&Ne===Ne){for(var He=Me;He--;)if(g[He]===Ne)continue e;de.push(Be)}else $(g,Ne,C)||de.push(Be)}return de}var bo=Pb(ti),Xp=Pb(Fc,!0);function ub(h,g){var x=!0;return bo(h,function(C,I,$){return x=!!g(C,I,$),x}),x}function ia(h,g,x){for(var C=-1,I=h.length;++C<I;){var $=h[C],Q=g($);if(Q!=null&&(se===n?Q===Q&&!vi(Q):x(Q,se)))var se=Q,de=$}return de}function Rt(h,g,x,C){var I=h.length;for(x=vt(x),x<0&&(x=-x>I?0:I+x),C=C===n||C>I?I:vt(C),C<0&&(C+=I),C=x>C?0:$a(C);x<C;)h[x++]=g;return h}function dn(h,g){var x=[];return bo(h,function(C,I,$){g(C,I,$)&&x.push(C)}),x}function Lt(h,g,x,C,I){var $=-1,Q=h.length;for(x||(x=So),I||(I=[]);++$<Q;){var se=h[$];g>0&&x(se)?g>1?Lt(se,g-1,x,C,I):fo(I,se):C||(I[I.length]=se)}return I}var Uc=Cu(),yu=Cu(!0);function ti(h,g){return h&&Uc(h,g,Cr)}function Fc(h,g){return h&&yu(h,g,Cr)}function ll(h,g){return ka(g,function(x){return aa(h[x])})}function Ts(h,g){g=yo(g,h);for(var x=0,C=g.length;h!=null&&x<C;)h=h[ln(g[x++])];return x&&x==C?h:n}function yx(h,g,x){var C=g(h);return pt(h)?C:fo(C,x(h))}function zt(h){return h==null?h===n?qs:Xe:fi&&fi in Kt(h)?Vx(h):Yx(h)}function gh(h,g){return h>g}function cb(h,g){return h!=null&&nn.call(h,g)}function xx(h,g){return h!=null&&g in Kt(h)}function Sx(h,g,x){return h>=Gn(g,x)&&h<On(g,x)}function db(h,g,x){for(var C=x?$v:Rp,I=h[0].length,$=h.length,Q=$,se=Se($),de=1/0,Me=[];Q--;){var Be=h[Q];Q&&g&&(Be=Ln(Be,qi(g))),de=Gn(Be.length,de),se[Q]=!x&&(g||I>=120&&Be.length>=120)?new mo(Q&&Be):n}Be=h[0];var Ne=-1,He=se[0];e:for(;++Ne<I&&Me.length<de;){var Ke=Be[Ne],ht=g?g(Ke):Ke;if(Ke=x||Ke!==0?Ke:0,!(He?Tc(He,ht):C(Me,ht,x))){for(Q=$;--Q;){var Dt=se[Q];if(!(Dt?Tc(Dt,ht):C(h[Q],ht,x)))continue e}He&&He.push(ht),Me.push(Ke)}}return Me}function hb(h,g,x,C){return ti(h,function(I,$,Q){g(C,x(I),$,Q)}),C}function xu(h,g,x){g=yo(g,h),h=Hc(h,g);var C=h==null?h:h[ln(ni(g))];return C==null?n:Ai(C,h,x)}function Yp(h){return jn(h)&&zt(h)==Ce}function Di(h){return jn(h)&&zt(h)==bn}function pr(h){return jn(h)&&zt(h)==Ee}function Su(h,g,x,C,I){return h===g?!0:h==null||g==null||!jn(h)&&!jn(g)?h!==h&&g!==g:mh(h,g,x,C,Su,I)}function mh(h,g,x,C,I,$){var Q=pt(h),se=pt(g),de=Q?Ie:Lr(h),Me=se?Ie:Lr(g);de=de==Ce?tn:de,Me=Me==Ce?tn:Me;var Be=de==tn,Ne=Me==tn,He=de==Me;if(He&&xl(h)){if(!xl(g))return!1;Q=!0,Be=!1}if(He&&!Be)return $||($=new pi),Q||nd(h)?Gx(h,g,x,C,I,$):zx(h,g,de,x,C,I,$);if(!(x&E)){var Ke=Be&&nn.call(h,"__wrapped__"),ht=Ne&&nn.call(g,"__wrapped__");if(Ke||ht){var Dt=Ke?h.value():h,ft=ht?g.value():g;return $||($=new pi),I(Dt,ft,x,C,$)}}return He?($||($=new pi),Fr(h,g,x,C,I,$)):!1}function qp(h){return jn(h)&&Lr(h)==rt}function vh(h,g,x,C){var I=x.length,$=I,Q=!C;if(h==null)return!$;for(h=Kt(h);I--;){var se=x[I];if(Q&&se[2]?se[1]!==h[se[0]]:!(se[0]in h))return!1}for(;++I<$;){se=x[I];var de=se[0],Me=h[de],Be=se[1];if(Q&&se[2]){if(Me===n&&!(de in h))return!1}else{var Ne=new pi;if(C)var He=C(Me,Be,de,h,g,Ne);if(!(He===n?Su(Be,Me,E|S,C,Ne):He))return!1}}return!0}function Ua(h){if(!Hn(h)||bg(h))return!1;var g=aa(h)?eb:ky;return g.test(Eo(h))}function Kp(h){return jn(h)&&zt(h)==Yr}function fb(h){return jn(h)&&Lr(h)==ct}function pb(h){return jn(h)&&Mu(h.length)&&!!yn[zt(h)]}function gb(h){return typeof h=="function"?h:h==null?me:typeof h=="object"?pt(h)?Jp(h[0],h[1]):vb(h):Zt(h)}function Zp(h){if(!Tn(h))return Ss(h);var g=[];for(var x in Kt(h))nn.call(h,x)&&x!="constructor"&&g.push(x);return g}function wx(h){if(!Hn(h))return hl(h);var g=Tn(h),x=[];for(var C in h)C=="constructor"&&(g||!nn.call(h,C))||x.push(C);return x}function Qp(h,g){return h<g}function mb(h,g){var x=-1,C=Er(h)?Se(h.length):[];return bo(h,function(I,$,Q){C[++x]=g(I,$,Q)}),C}function vb(h){var g=pg(h);return g.length==1&&g[0][2]?jx(g[0][0],g[0][1]):function(x){return x===h||vh(x,h,g)}}function Jp(h,g){return mg(h)&&$x(g)?jx(ln(h),g):function(x){var C=Jh(x,h);return C===n&&C===g?ad(x,h):Su(g,C,E|S)}}function bh(h,g,x,C,I){h!==g&&Uc(g,function($,Q){if(I||(I=new pi),Hn($))ZE(h,g,Q,x,bh,C,I);else{var se=C?C(_g(h,Q),$,Q+"",h,g,I):n;se===n&&(se=$),Na(h,Q,se)}},Gr)}function ZE(h,g,x,C,I,$,Q){var se=_g(h,x),de=_g(g,x),Me=Q.get(de);if(Me){Na(h,x,Me);return}var Be=$?$(se,de,x+"",h,g,Q):n,Ne=Be===n;if(Ne){var He=pt(de),Ke=!He&&xl(de),ht=!He&&!Ke&&nd(de);Be=de,He||Ke||ht?pt(se)?Be=se:Jn(se)?Be=Sr(se):Ke?(Ne=!1,Be=Tb(de,!0)):ht?(Ne=!1,Be=Ab(de,!0)):Be=[]:Ps(de)||Ro(de)?(Be=se,Ro(se)?Be=F1(se):(!Hn(se)||aa(se))&&(Be=kb(de))):Ne=!1}Ne&&(Q.set(de,Be),I(Be,de,C,$,Q),Q.delete(de)),Na(h,x,Be)}function bb(h,g){var x=h.length;if(x)return g+=g<0?x:0,sa(g,x)?h[g]:n}function _b(h,g,x){g.length?g=Ln(g,function($){return pt($)?function(Q){return Ts(Q,$.length===1?$[0]:$)}:$}):g=[me];var C=-1;g=Ln(g,qi(it()));var I=mb(h,function($,Q,se){var de=Ln(g,function(Me){return Me($)});return{criteria:de,index:++C,value:$}});return Qy(I,function($,Q){return Bx($,Q,x)})}function Ex(h,g){return eg(h,g,function(x,C){return ad(h,C)})}function eg(h,g,x){for(var C=-1,I=g.length,$={};++C<I;){var Q=g[C],se=Ts(h,Q);x(se,Q)&&Gc($,yo(Q,h),se)}return $}function Tx(h){return function(g){return Ts(g,h)}}function tg(h,g,x,C){var I=C?Yv:wc,$=-1,Q=g.length,se=h;for(h===g&&(g=Sr(g)),x&&(se=Ln(h,qi(x)));++$<Q;)for(var de=0,Me=g[$],Be=x?x(Me):Me;(de=I(se,Be,de,C))>-1;)se!==h&&Lp.call(se,de,1),Lp.call(h,de,1);return h}function yb(h,g){for(var x=h?g.length:0,C=x-1;x--;){var I=g[x];if(x==C||I!==$){var $=I;sa(I)?Lp.call(h,I,1):Sh(h,I)}}return h}function ng(h,g){return h+po(nb()*(g-h+1))}function Cx(h,g,x,C){for(var I=-1,$=On(Dc((g-h)/(x||1)),0),Q=Se($);$--;)Q[C?$:++I]=h,h+=x;return Q}function xb(h,g){var x="";if(!h||g<1||g>z)return x;do g%2&&(x+=h),g=po(g/2),g&&(h+=h);while(g);return x}function At(h,g){return Uh(Nb(h,g,me),h+"")}function Lc(h){return Ic(ld(h))}function rg(h,g){var x=ld(h);return Lh(x,ra(g,0,x.length))}function Gc(h,g,x,C){if(!Hn(h))return h;g=yo(g,h);for(var I=-1,$=g.length,Q=$-1,se=h;se!=null&&++I<$;){var de=ln(g[I]),Me=x;if(de==="__proto__"||de==="constructor"||de==="prototype")return h;if(I!=Q){var Be=se[de];Me=C?C(Be,de,se):n,Me===n&&(Me=Hn(Be)?Be:sa(g[I+1])?[]:{})}bu(se,de,Me),se=se[de]}return h}var _h=Bc?function(h,g){return Bc.set(h,g),h}:me,yh=sh?function(h,g){return sh(h,"toString",{configurable:!0,enumerable:!1,value:ge(g),writable:!0})}:me;function Ax(h){return Lh(ld(h))}function Ji(h,g,x){var C=-1,I=h.length;g<0&&(g=-g>I?0:I+g),x=x>I?I:x,x<0&&(x+=I),I=g>x?0:x-g>>>0,g>>>=0;for(var $=Se(I);++C<I;)$[C]=h[C+g];return $}function Rx(h,g){var x;return bo(h,function(C,I,$){return x=g(C,I,$),!x}),!!x}function xh(h,g,x){var C=0,I=h==null?C:h.length;if(typeof g=="number"&&g===g&&I<=re){for(;C<I;){var $=C+I>>>1,Q=h[$];Q!==null&&!vi(Q)&&(x?Q<=g:Q<g)?C=$+1:I=$}return I}return ig(h,g,me,x)}function ig(h,g,x,C){var I=0,$=h==null?0:h.length;if($===0)return 0;g=x(g);for(var Q=g!==g,se=g===null,de=vi(g),Me=g===n;I<$;){var Be=po((I+$)/2),Ne=x(h[Be]),He=Ne!==n,Ke=Ne===null,ht=Ne===Ne,Dt=vi(Ne);if(Q)var ft=C||ht;else Me?ft=ht&&(C||He):se?ft=ht&&He&&(C||!Ke):de?ft=ht&&He&&!Ke&&(C||!Dt):Ke||Dt?ft=!1:ft=C?Ne<=g:Ne<g;ft?I=Be+1:$=Be}return Gn($,ne)}function Sb(h,g){for(var x=-1,C=h.length,I=0,$=[];++x<C;){var Q=h[x],se=g?g(Q):Q;if(!x||!Fi(se,de)){var de=se;$[I++]=Q===0?0:Q}}return $}function sg(h){return typeof h=="number"?h:vi(h)?U:+h}function Bi(h){if(typeof h=="string")return h;if(pt(h))return Ln(h,Bi)+"";if(vi(h))return sl?sl.call(h):"";var g=h+"";return g=="0"&&1/h==-1/0?"-0":g}function _o(h,g,x){var C=-1,I=Rp,$=h.length,Q=!0,se=[],de=se;if(x)Q=!1,I=$v;else if($>=i){var Me=g?null:Fx(h);if(Me)return Np(Me);Q=!1,I=Tc,de=new mo}else de=g?[]:se;e:for(;++C<$;){var Be=h[C],Ne=g?g(Be):Be;if(Be=x||Be!==0?Be:0,Q&&Ne===Ne){for(var He=de.length;He--;)if(de[He]===Ne)continue e;g&&de.push(Ne),se.push(Be)}else I(de,Ne,x)||(de!==se&&de.push(Ne),se.push(Be))}return se}function Sh(h,g){return g=yo(g,h),h=Hc(h,g),h==null||delete h[ln(ni(g))]}function wb(h,g,x,C){return Gc(h,g,x(Ts(h,g)),C)}function wh(h,g,x,C){for(var I=h.length,$=C?I:-1;(C?$--:++$<I)&&g(h[$],$,h););return x?Ji(h,C?0:$,C?$+1:I):Ji(h,C?$+1:0,C?I:$)}function Px(h,g){var x=h;return x instanceof Ot&&(x=x.value()),jv(g,function(C,I){return I.func.apply(I.thisArg,fo([C],I.args))},x)}function Eh(h,g,x){var C=h.length;if(C<2)return C?_o(h[0]):[];for(var I=-1,$=Se(C);++I<C;)for(var Q=h[I],se=-1;++se<C;)se!=I&&($[I]=ol($[I]||Q,h[se],g,x));return _o(Lt($,1),g,x)}function Eb(h,g,x){for(var C=-1,I=h.length,$=g.length,Q={};++C<I;){var se=C<$?g[C]:n;x(Q,h[C],se)}return Q}function ag(h){return Jn(h)?h:[]}function Th(h){return typeof h=="function"?h:me}function yo(h,g){return pt(h)?h:mg(h,g)?[h]:za(rn(h))}var Ox=At;function ul(h,g,x){var C=h.length;return x=x===n?C:x,!g&&x>=C?h:Ji(h,g,x)}var Mx=Gp||function(h){return ir.clearTimeout(h)};function Tb(h,g){if(g)return h.slice();var x=h.length,C=cu?cu(x):new h.constructor(x);return h.copy(C),C}function wu(h){var g=new h.constructor(h.byteLength);return new Mc(g).set(new Mc(h)),g}function Cb(h,g){var x=g?wu(h.buffer):h.buffer;return new h.constructor(x,h.byteOffset,h.byteLength)}function og(h){var g=new h.constructor(h.source,pc.exec(h));return g.lastIndex=h.lastIndex,g}function Dx(h){return gu?Kt(gu.call(h)):{}}function Ab(h,g){var x=g?wu(h.buffer):h.buffer;return new h.constructor(x,h.byteOffset,h.length)}function Ch(h,g){if(h!==g){var x=h!==n,C=h===null,I=h===h,$=vi(h),Q=g!==n,se=g===null,de=g===g,Me=vi(g);if(!se&&!Me&&!$&&h>g||$&&Q&&de&&!se&&!Me||C&&Q&&de||!x&&de||!I)return 1;if(!C&&!$&&!Me&&h<g||Me&&x&&I&&!C&&!$||se&&x&&I||!Q&&I||!de)return-1}return 0}function Bx(h,g,x){for(var C=-1,I=h.criteria,$=g.criteria,Q=I.length,se=x.length;++C<Q;){var de=Ch(I[C],$[C]);if(de){if(C>=se)return de;var Me=x[C];return de*(Me=="desc"?-1:1)}}return h.index-g.index}function Rb(h,g,x,C){for(var I=-1,$=h.length,Q=x.length,se=-1,de=g.length,Me=On($-Q,0),Be=Se(de+Me),Ne=!C;++se<de;)Be[se]=g[se];for(;++I<Q;)(Ne||I<$)&&(Be[x[I]]=h[I]);for(;Me--;)Be[se++]=h[I++];return Be}function kx(h,g,x,C){for(var I=-1,$=h.length,Q=-1,se=x.length,de=-1,Me=g.length,Be=On($-se,0),Ne=Se(Be+Me),He=!C;++I<Be;)Ne[I]=h[I];for(var Ke=I;++de<Me;)Ne[Ke+de]=g[de];for(;++Q<se;)(He||I<$)&&(Ne[Ke+x[Q]]=h[I++]);return Ne}function Sr(h,g){var x=-1,C=h.length;for(g||(g=Se(C));++x<C;)g[x]=h[x];return g}function ki(h,g,x,C){var I=!x;x||(x={});for(var $=-1,Q=g.length;++$<Q;){var se=g[$],de=C?C(x[se],h[se],se,x,h):n;de===n&&(de=h[se]),I?na(x,se,de):bu(x,se,de)}return x}function lg(h,g){return ki(h,Bh(h),g)}function Ah(h,g){return ki(h,gg(h),g)}function Eu(h,g){return function(x,C){var I=pt(x)?kE:al,$=g?g():{};return I(x,h,it(C,2),$)}}function Tu(h){return At(function(g,x){var C=-1,I=x.length,$=I>1?x[I-1]:n,Q=I>2?x[2]:n;for($=h.length>3&&typeof $=="function"?(I--,$):n,Q&&mi(x[0],x[1],Q)&&($=I<3?n:$,I=1),g=Kt(g);++C<I;){var se=x[C];se&&h(g,se,C,$)}return g})}function Pb(h,g){return function(x,C){if(x==null)return x;if(!Er(x))return h(x,C);for(var I=x.length,$=g?I:-1,Q=Kt(x);(g?$--:++$<I)&&C(Q[$],$,Q)!==!1;);return x}}function Cu(h){return function(g,x,C){for(var I=-1,$=Kt(g),Q=C(g),se=Q.length;se--;){var de=Q[h?se:++I];if(x($[de],de,$)===!1)break}return g}}function Ix(h,g,x){var C=g&T,I=Cs(h);function $(){var Q=this&&this!==ir&&this instanceof $?I:h;return Q.apply(C?x:this,arguments)}return $}function es(h){return function(g){g=rn(g);var x=el(g)?_s(g):n,C=x?x[0]:g.charAt(0),I=x?ul(x,1).join(""):g.slice(1);return C[h]()+I}}function gi(h){return function(g){return jv(_(Po(g).replace(Zd,"")),h,"")}}function Cs(h){return function(){var g=arguments;switch(g.length){case 0:return new h;case 1:return new h(g[0]);case 2:return new h(g[0],g[1]);case 3:return new h(g[0],g[1],g[2]);case 4:return new h(g[0],g[1],g[2],g[3]);case 5:return new h(g[0],g[1],g[2],g[3],g[4]);case 6:return new h(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new h(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var x=Qi(h.prototype),C=h.apply(x,g);return Hn(C)?C:x}}function Nx(h,g,x){var C=Cs(h);function I(){for(var $=arguments.length,Q=Se($),se=$,de=Ru(I);se--;)Q[se]=arguments[se];var Me=$<3&&Q[0]!==de&&Q[$-1]!==de?[]:tl(Q,de);if($-=Me.length,$<x)return Ob(h,g,Zn,I.placeholder,n,Q,Me,n,n,x-$);var Be=this&&this!==ir&&this instanceof I?C:h;return Ai(Be,this,Q)}return I}function xo(h){return function(g,x,C){var I=Kt(g);if(!Er(g)){var $=it(x,3);g=Cr(g),x=function(se){return $(I[se],se,I)}}var Q=h(g,x,C);return Q>-1?I[$?g[Q]:Q]:n}}function Fa(h){return Mn(function(g){var x=g.length,C=x,I=Oi.prototype.thru;for(h&&g.reverse();C--;){var $=g[C];if(typeof $!="function")throw new Zi(o);if(I&&!Q&&Dh($)=="wrapper")var Q=new Oi([],!0)}for(C=Q?C:x;++C<x;){$=g[C];var se=Dh($),de=se=="wrapper"?fg($):n;de&&vg(de[0])&&de[1]==(G|O|D|Y)&&!de[4].length&&de[9]==1?Q=Q[Dh(de[0])].apply(Q,de[3]):Q=$.length==1&&vg($)?Q[se]():Q.thru($)}return function(){var Me=arguments,Be=Me[0];if(Q&&Me.length==1&&pt(Be))return Q.plant(Be).value();for(var Ne=0,He=x?g[Ne].apply(this,Me):Be;++Ne<x;)He=g[Ne].call(this,He);return He}})}function Zn(h,g,x,C,I,$,Q,se,de,Me){var Be=g&G,Ne=g&T,He=g&A,Ke=g&(O|M),ht=g&L,Dt=He?n:Cs(h);function ft(){for(var Vt=arguments.length,Qt=Se(Vt),la=Vt;la--;)Qt[la]=arguments[la];if(Ke)var ss=Ru(ft),ua=zE(Qt,ss);if(C&&(Qt=Rb(Qt,C,I,Ke)),$&&(Qt=kx(Qt,$,Q,Ke)),Vt-=ua,Ke&&Vt<Me){var Ar=tl(Qt,ss);return Ob(h,g,Zn,ft.placeholder,x,Qt,Ar,se,de,Me-Vt)}var Oo=Ne?x:this,Du=He?Oo[h]:h;return Vt=Qt.length,se?Qt=Ga(Qt,se):ht&&Vt>1&&Qt.reverse(),Be&&de<Vt&&(Qt.length=de),this&&this!==ir&&this instanceof ft&&(Du=Dt||Cs(Du)),Du.apply(Oo,Qt)}return ft}function Rh(h,g){return function(x,C){return hb(x,h,g(C),{})}}function zc(h,g){return function(x,C){var I;if(x===n&&C===n)return g;if(x!==n&&(I=x),C!==n){if(I===n)return C;typeof x=="string"||typeof C=="string"?(x=Bi(x),C=Bi(C)):(x=sg(x),C=sg(C)),I=h(x,C)}return I}}function Ph(h){return Mn(function(g){return g=Ln(g,qi(it())),At(function(x){var C=this;return h(g,function(I){return Ai(I,C,x)})})})}function Oh(h,g){g=g===n?" ":Bi(g);var x=g.length;if(x<2)return x?xb(g,h):g;var C=xb(g,Dc(h/Ia(g)));return el(g)?ul(_s(C),0,h).join(""):C.slice(0,h)}function Ux(h,g,x,C){var I=g&T,$=Cs(h);function Q(){for(var se=-1,de=arguments.length,Me=-1,Be=C.length,Ne=Se(Be+de),He=this&&this!==ir&&this instanceof Q?$:h;++Me<Be;)Ne[Me]=C[Me];for(;de--;)Ne[Me++]=arguments[++se];return Ai(He,I?x:this,Ne)}return Q}function cl(h){return function(g,x,C){return C&&typeof C!="number"&&mi(g,x,C)&&(x=C=n),g=Wa(g),x===n?(x=g,g=0):x=Wa(x),C=C===n?g<x?1:-1:Wa(C),Cx(g,x,C,h)}}function Au(h){return function(g,x){return typeof g=="string"&&typeof x=="string"||(g=Os(g),x=Os(x)),h(g,x)}}function Ob(h,g,x,C,I,$,Q,se,de,Me){var Be=g&O,Ne=Be?Q:n,He=Be?n:Q,Ke=Be?$:n,ht=Be?n:$;g|=Be?D:W,g&=~(Be?W:D),g&P||(g&=-4);var Dt=[h,g,I,Ke,Ne,ht,He,se,de,Me],ft=x.apply(n,Dt);return vg(h)&&yg(ft,Dt),ft.placeholder=C,xg(ft,h,g)}function ug(h){var g=fr[h];return function(x,C){if(x=Os(x),C=C==null?0:Gn(vt(C),292),C&&ah(x)){var I=(rn(x)+"e").split("e"),$=g(I[0]+"e"+(+I[1]+C));return I=(rn($)+"e").split("e"),+(I[0]+"e"+(+I[1]-C))}return g(x)}}var Fx=Ft&&1/Np(new Ft([,-0]))[1]==N?function(h){return new Ft(h)}:je;function Mh(h){return function(g){var x=Lr(g);return x==rt?Ip(g):x==ct?VE(g):GE(g,h(g))}}function La(h,g,x,C,I,$,Q,se){var de=g&A;if(!de&&typeof h!="function")throw new Zi(o);var Me=C?C.length:0;if(Me||(g&=-97,C=I=n),Q=Q===n?Q:On(vt(Q),0),se=se===n?se:vt(se),Me-=I?I.length:0,g&W){var Be=C,Ne=I;C=I=n}var He=de?n:fg(h),Ke=[h,g,x,C,I,Be,Ne,$,Q,se];if(He&&Nh(Ke,He),h=Ke[0],g=Ke[1],x=Ke[2],C=Ke[3],I=Ke[4],se=Ke[9]=Ke[9]===n?de?0:h.length:On(Ke[9]-Me,0),!se&&g&(O|M)&&(g&=-25),!g||g==T)var ht=Ix(h,g,x);else g==O||g==M?ht=Nx(h,g,se):(g==D||g==(T|D))&&!I.length?ht=Ux(h,g,x,C):ht=Zn.apply(n,Ke);var Dt=He?_h:yg;return xg(Dt(ht,Ke),h,g)}function cg(h,g,x,C){return h===n||Fi(h,Pc[x])&&!nn.call(C,x)?g:h}function Mb(h,g,x,C,I,$){return Hn(h)&&Hn(g)&&($.set(g,h),bh(h,g,n,Mb,$),$.delete(g)),h}function Lx(h){return Ps(h)?n:h}function Gx(h,g,x,C,I,$){var Q=x&E,se=h.length,de=g.length;if(se!=de&&!(Q&&de>se))return!1;var Me=$.get(h),Be=$.get(g);if(Me&&Be)return Me==g&&Be==h;var Ne=-1,He=!0,Ke=x&S?new mo:n;for($.set(h,g),$.set(g,h);++Ne<se;){var ht=h[Ne],Dt=g[Ne];if(C)var ft=Q?C(Dt,ht,Ne,g,h,$):C(ht,Dt,Ne,h,g,$);if(ft!==n){if(ft)continue;He=!1;break}if(Ke){if(!Xv(g,function(Vt,Qt){if(!Tc(Ke,Qt)&&(ht===Vt||I(ht,Vt,x,C,$)))return Ke.push(Qt)})){He=!1;break}}else if(!(ht===Dt||I(ht,Dt,x,C,$))){He=!1;break}}return $.delete(h),$.delete(g),He}function zx(h,g,x,C,I,$,Q){switch(x){case Nr:if(h.byteLength!=g.byteLength||h.byteOffset!=g.byteOffset)return!1;h=h.buffer,g=g.buffer;case bn:return!(h.byteLength!=g.byteLength||!$(new Mc(h),new Mc(g)));case ve:case Ee:case qe:return Fi(+h,+g);case $e:return h.name==g.name&&h.message==g.message;case Yr:case on:return h==g+"";case rt:var se=Ip;case ct:var de=C&E;if(se||(se=Np),h.size!=g.size&&!de)return!1;var Me=Q.get(h);if(Me)return Me==g;C|=S,Q.set(h,g);var Be=Gx(se(h),se(g),C,I,$,Q);return Q.delete(h),Be;case Ir:if(gu)return gu.call(h)==gu.call(g)}return!1}function Fr(h,g,x,C,I,$){var Q=x&E,se=dg(h),de=se.length,Me=dg(g),Be=Me.length;if(de!=Be&&!Q)return!1;for(var Ne=de;Ne--;){var He=se[Ne];if(!(Q?He in g:nn.call(g,He)))return!1}var Ke=$.get(h),ht=$.get(g);if(Ke&&ht)return Ke==g&&ht==h;var Dt=!0;$.set(h,g),$.set(g,h);for(var ft=Q;++Ne<de;){He=se[Ne];var Vt=h[He],Qt=g[He];if(C)var la=Q?C(Qt,Vt,He,g,h,$):C(Vt,Qt,He,h,g,$);if(!(la===n?Vt===Qt||I(Vt,Qt,x,C,$):la)){Dt=!1;break}ft||(ft=He=="constructor")}if(Dt&&!ft){var ss=h.constructor,ua=g.constructor;ss!=ua&&"constructor"in h&&"constructor"in g&&!(typeof ss=="function"&&ss instanceof ss&&typeof ua=="function"&&ua instanceof ua)&&(Dt=!1)}return $.delete(h),$.delete(g),Dt}function Mn(h){return Uh(Nb(h,n,Ni),h+"")}function dg(h){return yx(h,Cr,Bh)}function hg(h){return yx(h,Gr,gg)}var fg=Bc?function(h){return Bc.get(h)}:je;function Dh(h){for(var g=h.name+"",x=ws[g],C=nn.call(ws,g)?x.length:0;C--;){var I=x[C],$=I.func;if($==null||$==h)return I.name}return g}function Ru(h){var g=nn.call(V,"placeholder")?V:h;return g.placeholder}function it(){var h=V.iteratee||ot;return h=h===ot?gb:h,arguments.length?h(arguments[0],arguments[1]):h}function Vc(h,g){var x=h.__data__;return wo(g)?x[typeof g=="string"?"string":"hash"]:x.map}function pg(h){for(var g=Cr(h),x=g.length;x--;){var C=g[x],I=h[C];g[x]=[C,I,$x(I)]}return g}function dl(h,g){var x=Kv(h,g);return Ua(x)?x:n}function Vx(h){var g=nn.call(h,fi),x=h[fi];try{h[fi]=n;var C=!0}catch{}var I=hi.call(h);return C&&(g?h[fi]=x:delete h[fi]),I}var Bh=rl?function(h){return h==null?[]:(h=Kt(h),ka(rl(h),function(g){return du.call(h,g)}))}:kT,gg=rl?function(h){for(var g=[];h;)fo(g,Bh(h)),h=rh(h);return g}:kT,Lr=zt;(oh&&Lr(new oh(new ArrayBuffer(1)))!=Nr||xr&&Lr(new xr)!=rt||zn&&Lr(zn.resolve())!=di||Ft&&Lr(new Ft)!=ct||ta&&Lr(new ta)!=Ks)&&(Lr=function(h){var g=zt(h),x=g==tn?h.constructor:n,C=x?Eo(x):"";if(C)switch(C){case lx:return Nr;case ux:return rt;case lh:return di;case uh:return ct;case cx:return Ks}return g});function Hx(h,g,x){for(var C=-1,I=x.length;++C<I;){var $=x[C],Q=$.size;switch($.type){case"drop":h+=Q;break;case"dropRight":g-=Q;break;case"take":g=Gn(g,h+Q);break;case"takeRight":h=On(h,g-Q);break}}return{start:h,end:g}}function Db(h){var g=h.match(uo);return g?g[1].split(qo):[]}function kh(h,g,x){g=yo(g,h);for(var C=-1,I=g.length,$=!1;++C<I;){var Q=ln(g[C]);if(!($=h!=null&&x(h,Q)))break;h=h[Q]}return $||++C!=I?$:(I=h==null?0:h.length,!!I&&Mu(I)&&sa(Q,I)&&(pt(h)||Ro(h)))}function Bb(h){var g=h.length,x=new h.constructor(g);return g&&typeof h[0]=="string"&&nn.call(h,"index")&&(x.index=h.index,x.input=h.input),x}function kb(h){return typeof h.constructor=="function"&&!Tn(h)?Qi(rh(h)):{}}function Ib(h,g,x){var C=h.constructor;switch(g){case bn:return wu(h);case ve:case Ee:return new C(+h);case Nr:return Cb(h,x);case dr:case lo:case ps:case fe:case ye:case Re:case Ue:case Ye:case Ut:return Ab(h,x);case rt:return new C;case qe:case on:return new C(h);case Yr:return og(h);case ct:return new C;case Ir:return Dx(h)}}function Wx(h,g){var x=g.length;if(!x)return h;var C=x-1;return g[C]=(x>1?"& ":"")+g[C],g=g.join(x>2?", ":" "),h.replace(gs,`{
/* [wrapped with `+g+`] */
`)}function So(h){return pt(h)||Ro(h)||!!(Ri&&h&&h[Ri])}function sa(h,g){var x=typeof h;return g=g??z,!!g&&(x=="number"||x!="symbol"&&au.test(h))&&h>-1&&h%1==0&&h<g}function mi(h,g,x){if(!Hn(x))return!1;var C=typeof g;return(C=="number"?Er(x)&&sa(g,x.length):C=="string"&&g in x)?Fi(x[g],h):!1}function mg(h,g){if(pt(h))return!1;var x=typeof h;return x=="number"||x=="symbol"||x=="boolean"||h==null||vi(h)?!0:ji.test(h)||!hr.test(h)||g!=null&&h in Kt(g)}function wo(h){var g=typeof h;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?h!=="__proto__":h===null}function vg(h){var g=Dh(h),x=V[g];if(typeof x!="function"||!(g in Ot.prototype))return!1;if(h===x)return!0;var C=fg(x);return!!C&&h===C[0]}function bg(h){return!!Jv&&Jv in h}var Ih=th?aa:IT;function Tn(h){var g=h&&h.constructor,x=typeof g=="function"&&g.prototype||Pc;return h===x}function $x(h){return h===h&&!Hn(h)}function jx(h,g){return function(x){return x==null?!1:x[h]===g&&(g!==n||h in Kt(x))}}function Xx(h){var g=Xh(h,function(C){return x.size===f&&x.clear(),C}),x=g.cache;return g}function Nh(h,g){var x=h[1],C=g[1],I=x|C,$=I<(T|A|G),Q=C==G&&x==O||C==G&&x==Y&&h[7].length<=g[8]||C==(G|Y)&&g[7].length<=g[8]&&x==O;if(!($||Q))return h;C&T&&(h[2]=g[2],I|=x&T?0:P);var se=g[3];if(se){var de=h[3];h[3]=de?Rb(de,se,g[4]):se,h[4]=de?tl(h[3],p):g[4]}return se=g[5],se&&(de=h[5],h[5]=de?kx(de,se,g[6]):se,h[6]=de?tl(h[5],p):g[6]),se=g[7],se&&(h[7]=se),C&G&&(h[8]=h[8]==null?g[8]:Gn(h[8],g[8])),h[9]==null&&(h[9]=g[9]),h[0]=g[0],h[1]=I,h}function hl(h){var g=[];if(h!=null)for(var x in Kt(h))g.push(x);return g}function Yx(h){return hi.call(h)}function Nb(h,g,x){return g=On(g===n?h.length-1:g,0),function(){for(var C=arguments,I=-1,$=On(C.length-g,0),Q=Se($);++I<$;)Q[I]=C[g+I];I=-1;for(var se=Se(g+1);++I<g;)se[I]=C[I];return se[g]=x(Q),Ai(h,this,se)}}function Hc(h,g){return g.length<2?h:Ts(h,Ji(g,0,-1))}function Ga(h,g){for(var x=h.length,C=Gn(g.length,x),I=Sr(h);C--;){var $=g[C];h[C]=sa($,x)?I[$]:n}return h}function _g(h,g){if(!(g==="constructor"&&typeof h[g]=="function")&&g!="__proto__")return h[g]}var yg=Fh(_h),Wc=tb||function(h,g){return ir.setTimeout(h,g)},Uh=Fh(yh);function xg(h,g,x){var C=g+"";return Uh(h,Wx(C,qx(Db(C),x)))}function Fh(h){var g=0,x=0;return function(){var C=go(),I=be-(C-x);if(x=C,I>0){if(++g>=ee)return arguments[0]}else g=0;return h.apply(n,arguments)}}function Lh(h,g){var x=-1,C=h.length,I=C-1;for(g=g===n?C:g;++x<g;){var $=ng(x,I),Q=h[$];h[$]=h[x],h[x]=Q}return h.length=g,h}var za=Xx(function(h){var g=[];return h.charCodeAt(0)===46&&g.push(""),h.replace(yr,function(x,C,I,$){g.push(I?$.replace(Xi,"$1"):C||x)}),g});function ln(h){if(typeof h=="string"||vi(h))return h;var g=h+"";return g=="0"&&1/h==-1/0?"-0":g}function Eo(h){if(h!=null){try{return nh.call(h)}catch{}try{return h+""}catch{}}return""}function qx(h,g){return bs(we,function(x){var C="_."+x[0];g&x[1]&&!Rp(h,C)&&h.push(C)}),h.sort()}function wr(h){if(h instanceof Ot)return h.clone();var g=new Oi(h.__wrapped__,h.__chain__);return g.__actions__=Sr(h.__actions__),g.__index__=h.__index__,g.__values__=h.__values__,g}function QE(h,g,x){(x?mi(h,g,x):g===n)?g=1:g=On(vt(g),0);var C=h==null?0:h.length;if(!C||g<1)return[];for(var I=0,$=0,Q=Se(Dc(C/g));I<C;)Q[$++]=Ji(h,I,I+=g);return Q}function Kx(h){for(var g=-1,x=h==null?0:h.length,C=0,I=[];++g<x;){var $=h[g];$&&(I[C++]=$)}return I}function Zx(){var h=arguments.length;if(!h)return[];for(var g=Se(h-1),x=arguments[0],C=h;C--;)g[C-1]=arguments[C];return fo(pt(x)?Sr(x):[x],Lt(g,1))}var Vn=At(function(h,g){return Jn(h)?ol(h,Lt(g,1,Jn,!0)):[]}),Ii=At(function(h,g){var x=ni(g);return Jn(x)&&(x=n),Jn(h)?ol(h,Lt(g,1,Jn,!0),it(x,2)):[]}),To=At(function(h,g){var x=ni(g);return Jn(x)&&(x=n),Jn(h)?ol(h,Lt(g,1,Jn,!0),n,x):[]});function Qx(h,g,x){var C=h==null?0:h.length;return C?(g=x||g===n?1:vt(g),Ji(h,g<0?0:g,C)):[]}function Jx(h,g,x){var C=h==null?0:h.length;return C?(g=x||g===n?1:vt(g),g=C-g,Ji(h,0,g<0?0:g)):[]}function JE(h,g){return h&&h.length?wh(h,it(g,3),!0,!0):[]}function Ub(h,g){return h&&h.length?wh(h,it(g,3),!0):[]}function ts(h,g,x,C){var I=h==null?0:h.length;return I?(x&&typeof x!="number"&&mi(h,g,x)&&(x=0,C=I),Rt(h,g,x,C)):[]}function As(h,g,x){var C=h==null?0:h.length;if(!C)return-1;var I=x==null?0:vt(x);return I<0&&(I=On(C+I,0)),Pp(h,it(g,3),I)}function Fb(h,g,x){var C=h==null?0:h.length;if(!C)return-1;var I=C-1;return x!==n&&(I=vt(x),I=x<0?On(C+I,0):Gn(I,C-1)),Pp(h,it(g,3),I,!0)}function Ni(h){var g=h==null?0:h.length;return g?Lt(h,1):[]}function e1(h){var g=h==null?0:h.length;return g?Lt(h,N):[]}function fl(h,g){var x=h==null?0:h.length;return x?(g=g===n?1:vt(g),Lt(h,g)):[]}function Pu(h){for(var g=-1,x=h==null?0:h.length,C={};++g<x;){var I=h[g];C[I[0]]=I[1]}return C}function Co(h){return h&&h.length?h[0]:n}function Lb(h,g,x){var C=h==null?0:h.length;if(!C)return-1;var I=x==null?0:vt(x);return I<0&&(I=On(C+I,0)),wc(h,g,I)}function Gb(h){var g=h==null?0:h.length;return g?Ji(h,0,-1):[]}var Va=At(function(h){var g=Ln(h,ag);return g.length&&g[0]===h[0]?db(g):[]}),t1=At(function(h){var g=ni(h),x=Ln(h,ag);return g===ni(x)?g=n:x.pop(),x.length&&x[0]===h[0]?db(x,it(g,2)):[]}),$c=At(function(h){var g=ni(h),x=Ln(h,ag);return g=typeof g=="function"?g:n,g&&x.pop(),x.length&&x[0]===h[0]?db(x,n,g):[]});function Gh(h,g){return h==null?"":xs.call(h,g)}function ni(h){var g=h==null?0:h.length;return g?h[g-1]:n}function jc(h,g,x){var C=h==null?0:h.length;if(!C)return-1;var I=C;return x!==n&&(I=vt(x),I=I<0?On(C+I,0):Gn(I,C-1)),g===g?Ki(h,g,I):Pp(h,Ec,I,!0)}function n1(h,g){return h&&h.length?bb(h,vt(g)):n}var r1=At(Xc);function Xc(h,g){return h&&h.length&&g&&g.length?tg(h,g):h}function i1(h,g,x){return h&&h.length&&g&&g.length?tg(h,g,it(x,2)):h}function Sg(h,g,x){return h&&h.length&&g&&g.length?tg(h,g,n,x):h}var s1=Mn(function(h,g){var x=h==null?0:h.length,C=ph(h,g);return yb(h,Ln(g,function(I){return sa(I,x)?+I:I}).sort(Ch)),C});function eT(h,g){var x=[];if(!(h&&h.length))return x;var C=-1,I=[],$=h.length;for(g=it(g,3);++C<$;){var Q=h[C];g(Q,C,h)&&(x.push(Q),I.push(C))}return yb(h,I),x}function zb(h){return h==null?h:rb.call(h)}function hn(h,g,x){var C=h==null?0:h.length;return C?(x&&typeof x!="number"&&mi(h,g,x)?(g=0,x=C):(g=g==null?0:vt(g),x=x===n?C:vt(x)),Ji(h,g,x)):[]}function Rn(h,g){return xh(h,g)}function kt(h,g,x){return ig(h,g,it(x,2))}function jt(h,g){var x=h==null?0:h.length;if(x){var C=xh(h,g);if(C<x&&Fi(h[C],g))return C}return-1}function fn(h,g){return xh(h,g,!0)}function ns(h,g,x){return ig(h,g,it(x,2),!0)}function pl(h,g){var x=h==null?0:h.length;if(x){var C=xh(h,g,!0)-1;if(Fi(h[C],g))return C}return-1}function Yc(h){return h&&h.length?Sb(h):[]}function Vb(h,g){return h&&h.length?Sb(h,it(g,2)):[]}function Ao(h){var g=h==null?0:h.length;return g?Ji(h,1,g):[]}function Qn(h,g,x){return h&&h.length?(g=x||g===n?1:vt(g),Ji(h,0,g<0?0:g)):[]}function gl(h,g,x){var C=h==null?0:h.length;return C?(g=x||g===n?1:vt(g),g=C-g,Ji(h,g<0?0:g,C)):[]}function Ou(h,g){return h&&h.length?wh(h,it(g,3),!1,!0):[]}function Hb(h,g){return h&&h.length?wh(h,it(g,3)):[]}var Rs=At(function(h){return _o(Lt(h,1,Jn,!0))}),qc=At(function(h){var g=ni(h);return Jn(g)&&(g=n),_o(Lt(h,1,Jn,!0),it(g,2))}),zh=At(function(h){var g=ni(h);return g=typeof g=="function"?g:n,_o(Lt(h,1,Jn,!0),n,g)});function Ui(h){return h&&h.length?_o(h):[]}function Wb(h,g){return h&&h.length?_o(h,it(g,2)):[]}function $b(h,g){return g=typeof g=="function"?g:n,h&&h.length?_o(h,n,g):[]}function Kc(h){if(!(h&&h.length))return[];var g=0;return h=ka(h,function(x){if(Jn(x))return g=On(x.length,g),!0}),Jo(g,function(x){return Ln(h,Op(x))})}function Vh(h,g){if(!(h&&h.length))return[];var x=Kc(h);return g==null?x:Ln(x,function(C){return Ai(g,n,C)})}var ml=At(function(h,g){return Jn(h)?ol(h,g):[]}),qr=At(function(h){return Eh(ka(h,Jn))}),vl=At(function(h){var g=ni(h);return Jn(g)&&(g=n),Eh(ka(h,Jn),it(g,2))}),Zc=At(function(h){var g=ni(h);return g=typeof g=="function"?g:n,Eh(ka(h,Jn),n,g)}),Qc=At(Kc);function jb(h,g){return Eb(h||[],g||[],bu)}function Xb(h,g){return Eb(h||[],g||[],Gc)}var a1=At(function(h){var g=h.length,x=g>1?h[g-1]:n;return x=typeof x=="function"?(h.pop(),x):n,Vh(h,x)});function Jc(h){var g=V(h);return g.__chain__=!0,g}function Yb(h,g){return g(h),h}function ri(h,g){return g(h)}var o1=Mn(function(h){var g=h.length,x=g?h[0]:0,C=this.__wrapped__,I=function($){return ph($,h)};return g>1||this.__actions__.length||!(C instanceof Ot)||!sa(x)?this.thru(I):(C=C.slice(x,+x+(g?1:0)),C.__actions__.push({func:ri,args:[I],thisArg:n}),new Oi(C,this.__chain__).thru(function($){return g&&!$.length&&$.push(n),$}))});function rs(){return Jc(this)}function l1(){return new Oi(this.value(),this.__chain__)}function u1(){this.__values__===n&&(this.__values__=is(this.value()));var h=this.__index__>=this.__values__.length,g=h?n:this.__values__[this.__index__++];return{done:h,value:g}}function tT(){return this}function bl(h){for(var g,x=this;x instanceof Es;){var C=wr(x);C.__index__=0,C.__values__=n,g?I.__wrapped__=C:g=C;var I=C;x=x.__wrapped__}return I.__wrapped__=h,g}function wg(){var h=this.__wrapped__;if(h instanceof Ot){var g=h;return this.__actions__.length&&(g=new Ot(this)),g=g.reverse(),g.__actions__.push({func:ri,args:[zb],thisArg:n}),new Oi(g,this.__chain__)}return this.thru(zb)}function qb(){return Px(this.__wrapped__,this.__actions__)}var ed=Eu(function(h,g,x){nn.call(h,x)?++h[x]:na(h,x,1)});function c1(h,g,x){var C=pt(h)?qy:ub;return x&&mi(h,g,x)&&(g=n),C(h,it(g,3))}function d1(h,g){var x=pt(h)?ka:dn;return x(h,it(g,3))}var h1=xo(As),Kb=xo(Fb);function Zb(h,g){return Lt(Hh(h,g),1)}function nT(h,g){return Lt(Hh(h,g),N)}function rT(h,g,x){return x=x===n?1:vt(x),Lt(Hh(h,g),x)}function f1(h,g){var x=pt(h)?bs:bo;return x(h,it(g,3))}function Qb(h,g){var x=pt(h)?IE:Xp;return x(h,it(g,3))}var p1=Eu(function(h,g,x){nn.call(h,x)?h[x].push(g):na(h,x,[g])});function td(h,g,x,C){h=Er(h)?h:ld(h),x=x&&!C?vt(x):0;var I=h.length;return x<0&&(x=On(I+x,0)),Ig(h)?x<=I&&h.indexOf(g,x)>-1:!!I&&wc(h,g,x)>-1}var Eg=At(function(h,g,x){var C=-1,I=typeof g=="function",$=Er(h)?Se(h.length):[];return bo(h,function(Q){$[++C]=I?Ai(g,Q,x):xu(Q,g,x)}),$}),g1=Eu(function(h,g,x){na(h,x,g)});function Hh(h,g){var x=pt(h)?Ln:mb;return x(h,it(g,3))}function m1(h,g,x,C){return h==null?[]:(pt(g)||(g=g==null?[]:[g]),x=C?n:x,pt(x)||(x=x==null?[]:[x]),_b(h,g,x))}var v1=Eu(function(h,g,x){h[x?0:1].push(g)},function(){return[[],[]]});function b1(h,g,x){var C=pt(h)?jv:qv,I=arguments.length<3;return C(h,it(g,4),x,I,bo)}function _1(h,g,x){var C=pt(h)?NE:qv,I=arguments.length<3;return C(h,it(g,4),x,I,Xp)}function Tg(h,g){var x=pt(h)?ka:dn;return x(h,Yh(it(g,3)))}function y1(h){var g=pt(h)?Ic:Lc;return g(h)}function x1(h,g,x){(x?mi(h,g,x):g===n)?g=1:g=vt(g);var C=pt(h)?vx:rg;return C(h,g)}function Cn(h){var g=pt(h)?bx:Ax;return g(h)}function Jb(h){if(h==null)return 0;if(Er(h))return Ig(h)?Ia(h):h.length;var g=Lr(h);return g==rt||g==ct?h.size:Zp(h).length}function iT(h,g,x){var C=pt(h)?Xv:Rx;return x&&mi(h,g,x)&&(g=n),C(h,it(g,3))}var S1=At(function(h,g){if(h==null)return[];var x=g.length;return x>1&&mi(h,g[0],g[1])?g=[]:x>2&&mi(g[0],g[1],g[2])&&(g=[g[0]]),_b(h,Lt(g,1),[])}),Cg=fu||function(){return ir.Date.now()};function sT(h,g){if(typeof g!="function")throw new Zi(o);return h=vt(h),function(){if(--h<1)return g.apply(this,arguments)}}function w1(h,g,x){return g=x?n:g,g=h&&g==null?h.length:g,La(h,G,n,n,n,n,g)}function Wh(h,g){var x;if(typeof g!="function")throw new Zi(o);return h=vt(h),function(){return--h>0&&(x=g.apply(this,arguments)),h<=1&&(g=n),x}}var _l=At(function(h,g,x){var C=T;if(x.length){var I=tl(x,Ru(_l));C|=D}return La(h,C,g,x,I)}),Ag=At(function(h,g,x){var C=T|A;if(x.length){var I=tl(x,Ru(Ag));C|=D}return La(g,C,h,x,I)});function $h(h,g,x){g=x?n:g;var C=La(h,O,n,n,n,n,n,g);return C.placeholder=$h.placeholder,C}function Rg(h,g,x){g=x?n:g;var C=La(h,M,n,n,n,n,n,g);return C.placeholder=Rg.placeholder,C}function yl(h,g,x){var C,I,$,Q,se,de,Me=0,Be=!1,Ne=!1,He=!0;if(typeof h!="function")throw new Zi(o);g=Os(g)||0,Hn(x)&&(Be=!!x.leading,Ne="maxWait"in x,$=Ne?On(Os(x.maxWait)||0,g):$,He="trailing"in x?!!x.trailing:He);function Ke(Ar){var Oo=C,Du=I;return C=I=n,Me=Ar,Q=h.apply(Du,Oo),Q}function ht(Ar){return Me=Ar,se=Wc(Vt,g),Be?Ke(Ar):Q}function Dt(Ar){var Oo=Ar-de,Du=Ar-Me,MD=g-Oo;return Ne?Gn(MD,$-Du):MD}function ft(Ar){var Oo=Ar-de,Du=Ar-Me;return de===n||Oo>=g||Oo<0||Ne&&Du>=$}function Vt(){var Ar=Cg();if(ft(Ar))return Qt(Ar);se=Wc(Vt,Dt(Ar))}function Qt(Ar){return se=n,He&&C?Ke(Ar):(C=I=n,Q)}function la(){se!==n&&Mx(se),Me=0,C=de=I=se=n}function ss(){return se===n?Q:Qt(Cg())}function ua(){var Ar=Cg(),Oo=ft(Ar);if(C=arguments,I=this,de=Ar,Oo){if(se===n)return ht(de);if(Ne)return Mx(se),se=Wc(Vt,g),Ke(de)}return se===n&&(se=Wc(Vt,g)),Q}return ua.cancel=la,ua.flush=ss,ua}var Ha=At(function(h,g){return _u(h,1,g)}),jh=At(function(h,g,x){return _u(h,Os(g)||0,x)});function aT(h){return La(h,L)}function Xh(h,g){if(typeof h!="function"||g!=null&&typeof g!="function")throw new Zi(o);var x=function(){var C=arguments,I=g?g.apply(this,C):C[0],$=x.cache;if($.has(I))return $.get(I);var Q=h.apply(this,C);return x.cache=$.set(I,Q)||$,Q};return x.cache=new(Xh.Cache||Mi),x}Xh.Cache=Mi;function Yh(h){if(typeof h!="function")throw new Zi(o);return function(){var g=arguments;switch(g.length){case 0:return!h.call(this);case 1:return!h.call(this,g[0]);case 2:return!h.call(this,g[0],g[1]);case 3:return!h.call(this,g[0],g[1],g[2])}return!h.apply(this,g)}}function E1(h){return Wh(2,h)}var T1=Ox(function(h,g){g=g.length==1&&pt(g[0])?Ln(g[0],qi(it())):Ln(Lt(g,1),qi(it()));var x=g.length;return At(function(C){for(var I=-1,$=Gn(C.length,x);++I<$;)C[I]=g[I].call(this,C[I]);return Ai(h,this,C)})}),e0=At(function(h,g){var x=tl(g,Ru(e0));return La(h,D,n,g,x)}),Pg=At(function(h,g){var x=tl(g,Ru(Pg));return La(h,W,n,g,x)}),C1=Mn(function(h,g){return La(h,Y,n,n,n,g)});function A1(h,g){if(typeof h!="function")throw new Zi(o);return g=g===n?g:vt(g),At(h,g)}function oT(h,g){if(typeof h!="function")throw new Zi(o);return g=g==null?0:On(vt(g),0),At(function(x){var C=x[g],I=ul(x,0,g);return C&&fo(I,C),Ai(h,this,I)})}function t0(h,g,x){var C=!0,I=!0;if(typeof h!="function")throw new Zi(o);return Hn(x)&&(C="leading"in x?!!x.leading:C,I="trailing"in x?!!x.trailing:I),yl(h,g,{leading:C,maxWait:g,trailing:I})}function n0(h){return w1(h,1)}function lT(h,g){return e0(Th(g),h)}function uT(){if(!arguments.length)return[];var h=arguments[0];return pt(h)?h:[h]}function qh(h){return ei(h,y)}function cT(h,g){return g=typeof g=="function"?g:n,ei(h,y,g)}function R1(h){return ei(h,v|y)}function It(h,g){return g=typeof g=="function"?g:n,ei(h,v|y,g)}function r0(h,g){return g==null||lb(h,g,Cr(g))}function Fi(h,g){return h===g||h!==h&&g!==g}var i0=Au(gh),P1=Au(function(h,g){return h>=g}),Ro=Yp(function(){return arguments}())?Yp:function(h){return jn(h)&&nn.call(h,"callee")&&!du.call(h,"callee")},pt=Se.isArray,Og=Ap?qi(Ap):Di;function Er(h){return h!=null&&Mu(h.length)&&!aa(h)}function Jn(h){return jn(h)&&Er(h)}function dT(h){return h===!0||h===!1||jn(h)&&zt(h)==ve}var xl=zp||IT,O1=Wy?qi(Wy):pr;function M1(h){return jn(h)&&h.nodeType===1&&!Ps(h)}function Mg(h){if(h==null)return!0;if(Er(h)&&(pt(h)||typeof h=="string"||typeof h.splice=="function"||xl(h)||nd(h)||Ro(h)))return!h.length;var g=Lr(h);if(g==rt||g==ct)return!h.size;if(Tn(h))return!Zp(h).length;for(var x in h)if(nn.call(h,x))return!1;return!0}function xn(h,g){return Su(h,g)}function s0(h,g,x){x=typeof x=="function"?x:n;var C=x?x(h,g):n;return C===n?Su(h,g,n,x):!!C}function Tr(h){if(!jn(h))return!1;var g=zt(h);return g==$e||g==Fe||typeof h.message=="string"&&typeof h.name=="string"&&!Ps(h)}function hT(h){return typeof h=="number"&&ah(h)}function aa(h){if(!Hn(h))return!1;var g=zt(h);return g==et||g==gt||g==nt||g==Xr}function Dg(h){return typeof h=="number"&&h==vt(h)}function Mu(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=z}function Hn(h){var g=typeof h;return h!=null&&(g=="object"||g=="function")}function jn(h){return h!=null&&typeof h=="object"}var Bg=$y?qi($y):qp;function a0(h,g){return h===g||vh(h,g,pg(g))}function fT(h,g,x){return x=typeof x=="function"?x:n,vh(h,g,pg(g),x)}function D1(h){return k1(h)&&h!=+h}function pT(h){if(Ih(h))throw new dt(s);return Ua(h)}function B1(h){return h===null}function gT(h){return h==null}function k1(h){return typeof h=="number"||jn(h)&&zt(h)==qe}function Ps(h){if(!jn(h)||zt(h)!=tn)return!1;var g=rh(h);if(g===null)return!0;var x=nn.call(g,"constructor")&&g.constructor;return typeof x=="function"&&x instanceof x&&nh.call(x)==ys}var kg=jy?qi(jy):Kp;function o0(h){return Dg(h)&&h>=-9007199254740991&&h<=z}var I1=Xy?qi(Xy):fb;function Ig(h){return typeof h=="string"||!pt(h)&&jn(h)&&zt(h)==on}function vi(h){return typeof h=="symbol"||jn(h)&&zt(h)==Ir}var nd=Yy?qi(Yy):pb;function oa(h){return h===n}function l0(h){return jn(h)&&Lr(h)==Ks}function N1(h){return jn(h)&&zt(h)==Zs}var U1=Au(Qp),Kh=Au(function(h,g){return h<=g});function is(h){if(!h)return[];if(Er(h))return Ig(h)?_s(h):Sr(h);if(hu&&h[hu])return rx(h[hu]());var g=Lr(h),x=g==rt?Ip:g==ct?Np:ld;return x(h)}function Wa(h){if(!h)return h===0?h:0;if(h=Os(h),h===N||h===-1/0){var g=h<0?-1:1;return g*K}return h===h?h:0}function vt(h){var g=Wa(h),x=g%1;return g===g?x?g-x:g:0}function $a(h){return h?ra(vt(h),0,j):0}function Os(h){if(typeof h=="number")return h;if(vi(h))return U;if(Hn(h)){var g=typeof h.valueOf=="function"?h.valueOf():h;h=Hn(g)?g+"":g}if(typeof h!="string")return h===0?h:+h;h=Jy(h);var x=Ur.test(h);return x||Iy.test(h)?BE(h.slice(2),x?2:8):gc.test(h)?U:+h}function F1(h){return ki(h,Gr(h))}function rd(h){return h?ra(vt(h),-9007199254740991,z):h===0?h:0}function rn(h){return h==null?"":Bi(h)}var mT=Tu(function(h,g){if(Tn(g)||Er(g)){ki(g,Cr(g),h);return}for(var x in g)nn.call(g,x)&&bu(h,x,g[x])}),L1=Tu(function(h,g){ki(g,Gr(g),h)}),Ng=Tu(function(h,g,x,C){ki(g,Gr(g),h,C)}),vT=Tu(function(h,g,x,C){ki(g,Cr(g),h,C)}),bT=Mn(ph);function _T(h,g){var x=Qi(h);return g==null?x:vo(x,g)}var yT=At(function(h,g){h=Kt(h);var x=-1,C=g.length,I=C>2?g[2]:n;for(I&&mi(g[0],g[1],I)&&(C=1);++x<C;)for(var $=g[x],Q=Gr($),se=-1,de=Q.length;++se<de;){var Me=Q[se],Be=h[Me];(Be===n||Fi(Be,Pc[Me])&&!nn.call(h,Me))&&(h[Me]=$[Me])}return h}),G1=At(function(h){return h.push(n,Mb),Ai(ef,n,h)});function id(h,g){return Ky(h,it(g,3),ti)}function Zh(h,g){return Ky(h,it(g,3),Fc)}function z1(h,g){return h==null?h:Uc(h,it(g,3),Gr)}function xT(h,g){return h==null?h:yu(h,it(g,3),Gr)}function sd(h,g){return h&&ti(h,it(g,3))}function Qh(h,g){return h&&Fc(h,it(g,3))}function V1(h){return h==null?[]:ll(h,Cr(h))}function Ug(h){return h==null?[]:ll(h,Gr(h))}function Jh(h,g,x){var C=h==null?n:Ts(h,g);return C===n?x:C}function u0(h,g){return h!=null&&kh(h,g,cb)}function ad(h,g){return h!=null&&kh(h,g,xx)}var H1=Rh(function(h,g,x){g!=null&&typeof g.toString!="function"&&(g=hi.call(g)),h[g]=x},ge(me)),W1=Rh(function(h,g,x){g!=null&&typeof g.toString!="function"&&(g=hi.call(g)),nn.call(h,g)?h[g].push(x):h[g]=[x]},it),ST=At(xu);function Cr(h){return Er(h)?ob(h):Zp(h)}function Gr(h){return Er(h)?ob(h,!0):wx(h)}function wT(h,g){var x={};return g=it(g,3),ti(h,function(C,I,$){na(x,g(C,I,$),C)}),x}function ET(h,g){var x={};return g=it(g,3),ti(h,function(C,I,$){na(x,I,g(C,I,$))}),x}var TT=Tu(function(h,g,x){bh(h,g,x)}),ef=Tu(function(h,g,x,C){bh(h,g,x,C)}),Fg=Mn(function(h,g){var x={};if(h==null)return x;var C=!1;g=Ln(g,function($){return $=yo($,h),C||(C=$.length>1),$}),ki(h,hg(h),x),C&&(x=ei(x,v|b|y,Lx));for(var I=g.length;I--;)Sh(x,g[I]);return x});function c0(h,g){return od(h,Yh(it(g)))}var CT=Mn(function(h,g){return h==null?{}:Ex(h,g)});function od(h,g){if(h==null)return{};var x=Ln(hg(h),function(C){return[C]});return g=it(g),eg(h,x,function(C,I){return g(C,I[0])})}function AT(h,g,x){g=yo(g,h);var C=-1,I=g.length;for(I||(I=1,h=n);++C<I;){var $=h==null?n:h[ln(g[C])];$===n&&(C=I,$=x),h=aa($)?$.call(h):$}return h}function $1(h,g,x){return h==null?h:Gc(h,g,x)}function j1(h,g,x,C){return C=typeof C=="function"?C:n,h==null?h:Gc(h,g,x,C)}var d0=Mh(Cr),h0=Mh(Gr);function f0(h,g,x){var C=pt(h),I=C||xl(h)||nd(h);if(g=it(g,4),x==null){var $=h&&h.constructor;I?x=C?new $:[]:Hn(h)?x=aa($)?Qi(rh(h)):{}:x={}}return(I?bs:ti)(h,function(Q,se,de){return g(x,Q,se,de)}),x}function X1(h,g){return h==null?!0:Sh(h,g)}function Lg(h,g,x){return h==null?h:wb(h,g,Th(x))}function RT(h,g,x,C){return C=typeof C=="function"?C:n,h==null?h:wb(h,g,Th(x),C)}function ld(h){return h==null?[]:Bp(h,Cr(h))}function p0(h){return h==null?[]:Bp(h,Gr(h))}function g0(h,g,x){return x===n&&(x=g,g=n),x!==n&&(x=Os(x),x=x===x?x:0),g!==n&&(g=Os(g),g=g===g?g:0),ra(Os(h),g,x)}function Gg(h,g,x){return g=Wa(g),x===n?(x=g,g=0):x=Wa(x),h=Os(h),Sx(h,g,x)}function m0(h,g,x){if(x&&typeof x!="boolean"&&mi(h,g,x)&&(g=x=n),x===n&&(typeof g=="boolean"?(x=g,g=n):typeof h=="boolean"&&(x=h,h=n)),h===n&&g===n?(h=0,g=1):(h=Wa(h),g===n?(g=h,h=0):g=Wa(g)),h>g){var C=h;h=g,g=C}if(x||h%1||g%1){var I=nb();return Gn(h+I*(g-h+eh("1e-"+((I+"").length-1))),g)}return ng(h,g)}var Y1=gi(function(h,g,x){return g=g.toLowerCase(),h+(x?zg(g):g)});function zg(h){return m(rn(h).toLowerCase())}function Po(h){return h=rn(h),h&&h.replace(mc,kp).replace(ho,"")}function Sl(h,g,x){h=rn(h),g=Bi(g);var C=h.length;x=x===n?C:ra(vt(x),0,C);var I=x;return x-=g.length,x>=0&&h.slice(x,I)==g}function wl(h){return h=rn(h),h&&le.test(h)?h.replace(F,ex):h}function tf(h){return h=rn(h),h&&Yn.test(h)?h.replace(_n,"\\$&"):h}var nf=gi(function(h,g,x){return h+(x?"-":"")+g.toLowerCase()}),El=gi(function(h,g,x){return h+(x?" ":"")+g.toLowerCase()}),PT=es("toLowerCase");function q1(h,g,x){h=rn(h),g=vt(g);var C=g?Ia(h):0;if(!g||C>=g)return h;var I=(g-C)/2;return Oh(po(I),x)+h+Oh(Dc(I),x)}function rf(h,g,x){h=rn(h),g=vt(g);var C=g?Ia(h):0;return g&&C<g?h+Oh(g-C,x):h}function OT(h,g,x){h=rn(h),g=vt(g);var C=g?Ia(h):0;return g&&C<g?Oh(g-C,x)+h:h}function K1(h,g,x){return x||g==null?g=0:g&&(g=+g),pu(rn(h).replace(Jr,""),g||0)}function Vg(h,g,x){return(x?mi(h,g,x):g===n)?g=1:g=vt(g),xb(rn(h),g)}function Z1(){var h=arguments,g=rn(h[0]);return h.length<3?g:g.replace(h[1],h[2])}var MT=gi(function(h,g,x){return h+(x?"_":"")+g.toLowerCase()});function Hg(h,g,x){return x&&typeof x!="number"&&mi(h,g,x)&&(g=x=n),x=x===n?j:x>>>0,x?(h=rn(h),h&&(typeof g=="string"||g!=null&&!kg(g))&&(g=Bi(g),!g&&el(h))?ul(_s(h),0,x):h.split(g,x)):[]}var Wg=gi(function(h,g,x){return h+(x?" ":"")+m(g)});function Q1(h,g,x){return h=rn(h),x=x==null?0:ra(vt(x),0,h.length),g=Bi(g),h.slice(x,x+g.length)==g}function sf(h,g,x){var C=V.templateSettings;x&&mi(h,g,x)&&(g=n),h=rn(h),g=Ng({},g,C,cg);var I=Ng({},g.imports,C.imports,cg),$=Cr(I),Q=Bp(I,$),se,de,Me=0,Be=g.interpolate||mp,Ne="__p += '",He=Up((g.escape||mp).source+"|"+Be.source+"|"+(Be===Et?co:mp).source+"|"+(g.evaluate||mp).source+"|$","g"),Ke="//# sourceURL="+(nn.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++zy+"]")+`
`;h.replace(He,function(ft,Vt,Qt,la,ss,ua){return Qt||(Qt=la),Ne+=h.slice(Me,ua).replace(Ny,tx),Vt&&(se=!0,Ne+=`' +
__e(`+Vt+`) +
'`),ss&&(de=!0,Ne+=`';
`+ss+`;
__p += '`),Qt&&(Ne+=`' +
((__t = (`+Qt+`)) == null ? '' : __t) +
'`),Me=ua+ft.length,ft}),Ne+=`';
`;var ht=nn.call(g,"variable")&&g.variable;if(!ht)Ne=`with (obj) {
`+Ne+`
}
`;else if(fc.test(ht))throw new dt(u);Ne=(de?Ne.replace(Fn,""):Ne).replace(mt,"$1").replace(Le,"$1;"),Ne="function("+(ht||"obj")+`) {
`+(ht?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(se?", __e = _.escape":"")+(de?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var Dt=w(function(){return qt($,Ke+"return "+Ne).apply(n,Q)});if(Dt.source=Ne,Tr(Dt))throw Dt;return Dt}function v0(h){return rn(h).toLowerCase()}function $g(h){return rn(h).toUpperCase()}function J1(h,g,x){if(h=rn(h),h&&(x||g===n))return Jy(h);if(!h||!(g=Bi(g)))return h;var C=_s(h),I=_s(g),$=Cc(C,I),Q=Ac(C,I)+1;return ul(C,$,Q).join("")}function DT(h,g,x){if(h=rn(h),h&&(x||g===n))return h.slice(0,Zv(h)+1);if(!h||!(g=Bi(g)))return h;var C=_s(h),I=Ac(C,_s(g))+1;return ul(C,0,I).join("")}function jg(h,g,x){if(h=rn(h),h&&(x||g===n))return h.replace(Jr,"");if(!h||!(g=Bi(g)))return h;var C=_s(h),I=Cc(C,_s(g));return ul(C,I).join("")}function a(h,g){var x=X,C=Z;if(Hn(g)){var I="separator"in g?g.separator:I;x="length"in g?vt(g.length):x,C="omission"in g?Bi(g.omission):C}h=rn(h);var $=h.length;if(el(h)){var Q=_s(h);$=Q.length}if(x>=$)return h;var se=x-Ia(C);if(se<1)return C;var de=Q?ul(Q,0,se).join(""):h.slice(0,se);if(I===n)return de+C;if(Q&&(se+=de.length-se),kg(I)){if(h.slice(se).search(I)){var Me,Be=de;for(I.global||(I=Up(I.source,rn(pc.exec(I))+"g")),I.lastIndex=0;Me=I.exec(Be);)var Ne=Me.index;de=de.slice(0,Ne===n?se:Ne)}}else if(h.indexOf(Bi(I),se)!=se){var He=de.lastIndexOf(I);He>-1&&(de=de.slice(0,He))}return de+C}function l(h){return h=rn(h),h&&q.test(h)?h.replace(k,sx):h}var d=gi(function(h,g,x){return h+(x?" ":"")+g.toUpperCase()}),m=es("toUpperCase");function _(h,g,x){return h=rn(h),g=x?n:g,g===n?nx(h)?WE(h):LE(h):h.match(g)||[]}var w=At(function(h,g){try{return Ai(h,n,g)}catch(x){return Tr(x)?x:new dt(x)}}),B=Mn(function(h,g){return bs(g,function(x){x=ln(x),na(h,x,_l(h[x],h))}),h});function H(h){var g=h==null?0:h.length,x=it();return h=g?Ln(h,function(C){if(typeof C[1]!="function")throw new Zi(o);return[x(C[0]),C[1]]}):[],At(function(C){for(var I=-1;++I<g;){var $=h[I];if(Ai($[0],this,C))return Ai($[1],this,C)}})}function J(h){return _x(ei(h,v))}function ge(h){return function(){return h}}function Pe(h,g){return h==null||h!==h?g:h}var De=Fa(),xe=Fa(!0);function me(h){return h}function ot(h){return gb(typeof h=="function"?h:ei(h,v))}function st(h){return vb(ei(h,v))}function Sn(h,g){return Jp(h,ei(g,v))}var ce=At(function(h,g){return function(x){return xu(x,h,g)}}),ae=At(function(h,g){return function(x){return xu(h,x,g)}});function pe(h,g,x){var C=Cr(g),I=ll(g,C);x==null&&!(Hn(g)&&(I.length||!C.length))&&(x=g,g=h,h=this,I=ll(g,Cr(g)));var $=!(Hn(x)&&"chain"in x)||!!x.chain,Q=aa(h);return bs(I,function(se){var de=g[se];h[se]=de,Q&&(h.prototype[se]=function(){var Me=this.__chain__;if($||Me){var Be=h(this.__wrapped__),Ne=Be.__actions__=Sr(this.__actions__);return Ne.push({func:de,args:arguments,thisArg:h}),Be.__chain__=Me,Be}return de.apply(h,fo([this.value()],arguments))})}),h}function Oe(){return ir._===this&&(ir._=Oc),this}function je(){}function Mt(h){return h=vt(h),At(function(g){return bb(g,h)})}var Ze=Ph(Ln),lt=Ph(qy),zr=Ph(Xv);function Zt(h){return mg(h)?Op(ln(h)):Tx(h)}function Tl(h){return function(g){return h==null?n:Ts(h,g)}}var BT=cl(),O$=cl(!0);function kT(){return[]}function IT(){return!1}function M$(){return{}}function D$(){return""}function B$(){return!0}function k$(h,g){if(h=vt(h),h<1||h>z)return[];var x=j,C=Gn(h,j);g=it(g),h-=j;for(var I=Jo(C,g);++x<h;)g(x);return I}function I$(h){return pt(h)?Ln(h,ln):vi(h)?[h]:Sr(za(rn(h)))}function N$(h){var g=++Js;return rn(h)+g}var U$=zc(function(h,g){return h+g},0),F$=ug("ceil"),L$=zc(function(h,g){return h/g},1),G$=ug("floor");function z$(h){return h&&h.length?ia(h,me,gh):n}function V$(h,g){return h&&h.length?ia(h,it(g,2),gh):n}function H$(h){return Zy(h,me)}function W$(h,g){return Zy(h,it(g,2))}function $$(h){return h&&h.length?ia(h,me,Qp):n}function j$(h,g){return h&&h.length?ia(h,it(g,2),Qp):n}var X$=zc(function(h,g){return h*g},1),Y$=ug("round"),q$=zc(function(h,g){return h-g},0);function K$(h){return h&&h.length?Dp(h,me):0}function Z$(h,g){return h&&h.length?Dp(h,it(g,2)):0}return V.after=sT,V.ary=w1,V.assign=mT,V.assignIn=L1,V.assignInWith=Ng,V.assignWith=vT,V.at=bT,V.before=Wh,V.bind=_l,V.bindAll=B,V.bindKey=Ag,V.castArray=uT,V.chain=Jc,V.chunk=QE,V.compact=Kx,V.concat=Zx,V.cond=H,V.conforms=J,V.constant=ge,V.countBy=ed,V.create=_T,V.curry=$h,V.curryRight=Rg,V.debounce=yl,V.defaults=yT,V.defaultsDeep=G1,V.defer=Ha,V.delay=jh,V.difference=Vn,V.differenceBy=Ii,V.differenceWith=To,V.drop=Qx,V.dropRight=Jx,V.dropRightWhile=JE,V.dropWhile=Ub,V.fill=ts,V.filter=d1,V.flatMap=Zb,V.flatMapDeep=nT,V.flatMapDepth=rT,V.flatten=Ni,V.flattenDeep=e1,V.flattenDepth=fl,V.flip=aT,V.flow=De,V.flowRight=xe,V.fromPairs=Pu,V.functions=V1,V.functionsIn=Ug,V.groupBy=p1,V.initial=Gb,V.intersection=Va,V.intersectionBy=t1,V.intersectionWith=$c,V.invert=H1,V.invertBy=W1,V.invokeMap=Eg,V.iteratee=ot,V.keyBy=g1,V.keys=Cr,V.keysIn=Gr,V.map=Hh,V.mapKeys=wT,V.mapValues=ET,V.matches=st,V.matchesProperty=Sn,V.memoize=Xh,V.merge=TT,V.mergeWith=ef,V.method=ce,V.methodOf=ae,V.mixin=pe,V.negate=Yh,V.nthArg=Mt,V.omit=Fg,V.omitBy=c0,V.once=E1,V.orderBy=m1,V.over=Ze,V.overArgs=T1,V.overEvery=lt,V.overSome=zr,V.partial=e0,V.partialRight=Pg,V.partition=v1,V.pick=CT,V.pickBy=od,V.property=Zt,V.propertyOf=Tl,V.pull=r1,V.pullAll=Xc,V.pullAllBy=i1,V.pullAllWith=Sg,V.pullAt=s1,V.range=BT,V.rangeRight=O$,V.rearg=C1,V.reject=Tg,V.remove=eT,V.rest=A1,V.reverse=zb,V.sampleSize=x1,V.set=$1,V.setWith=j1,V.shuffle=Cn,V.slice=hn,V.sortBy=S1,V.sortedUniq=Yc,V.sortedUniqBy=Vb,V.split=Hg,V.spread=oT,V.tail=Ao,V.take=Qn,V.takeRight=gl,V.takeRightWhile=Ou,V.takeWhile=Hb,V.tap=Yb,V.throttle=t0,V.thru=ri,V.toArray=is,V.toPairs=d0,V.toPairsIn=h0,V.toPath=I$,V.toPlainObject=F1,V.transform=f0,V.unary=n0,V.union=Rs,V.unionBy=qc,V.unionWith=zh,V.uniq=Ui,V.uniqBy=Wb,V.uniqWith=$b,V.unset=X1,V.unzip=Kc,V.unzipWith=Vh,V.update=Lg,V.updateWith=RT,V.values=ld,V.valuesIn=p0,V.without=ml,V.words=_,V.wrap=lT,V.xor=qr,V.xorBy=vl,V.xorWith=Zc,V.zip=Qc,V.zipObject=jb,V.zipObjectDeep=Xb,V.zipWith=a1,V.entries=d0,V.entriesIn=h0,V.extend=L1,V.extendWith=Ng,pe(V,V),V.add=U$,V.attempt=w,V.camelCase=Y1,V.capitalize=zg,V.ceil=F$,V.clamp=g0,V.clone=qh,V.cloneDeep=R1,V.cloneDeepWith=It,V.cloneWith=cT,V.conformsTo=r0,V.deburr=Po,V.defaultTo=Pe,V.divide=L$,V.endsWith=Sl,V.eq=Fi,V.escape=wl,V.escapeRegExp=tf,V.every=c1,V.find=h1,V.findIndex=As,V.findKey=id,V.findLast=Kb,V.findLastIndex=Fb,V.findLastKey=Zh,V.floor=G$,V.forEach=f1,V.forEachRight=Qb,V.forIn=z1,V.forInRight=xT,V.forOwn=sd,V.forOwnRight=Qh,V.get=Jh,V.gt=i0,V.gte=P1,V.has=u0,V.hasIn=ad,V.head=Co,V.identity=me,V.includes=td,V.indexOf=Lb,V.inRange=Gg,V.invoke=ST,V.isArguments=Ro,V.isArray=pt,V.isArrayBuffer=Og,V.isArrayLike=Er,V.isArrayLikeObject=Jn,V.isBoolean=dT,V.isBuffer=xl,V.isDate=O1,V.isElement=M1,V.isEmpty=Mg,V.isEqual=xn,V.isEqualWith=s0,V.isError=Tr,V.isFinite=hT,V.isFunction=aa,V.isInteger=Dg,V.isLength=Mu,V.isMap=Bg,V.isMatch=a0,V.isMatchWith=fT,V.isNaN=D1,V.isNative=pT,V.isNil=gT,V.isNull=B1,V.isNumber=k1,V.isObject=Hn,V.isObjectLike=jn,V.isPlainObject=Ps,V.isRegExp=kg,V.isSafeInteger=o0,V.isSet=I1,V.isString=Ig,V.isSymbol=vi,V.isTypedArray=nd,V.isUndefined=oa,V.isWeakMap=l0,V.isWeakSet=N1,V.join=Gh,V.kebabCase=nf,V.last=ni,V.lastIndexOf=jc,V.lowerCase=El,V.lowerFirst=PT,V.lt=U1,V.lte=Kh,V.max=z$,V.maxBy=V$,V.mean=H$,V.meanBy=W$,V.min=$$,V.minBy=j$,V.stubArray=kT,V.stubFalse=IT,V.stubObject=M$,V.stubString=D$,V.stubTrue=B$,V.multiply=X$,V.nth=n1,V.noConflict=Oe,V.noop=je,V.now=Cg,V.pad=q1,V.padEnd=rf,V.padStart=OT,V.parseInt=K1,V.random=m0,V.reduce=b1,V.reduceRight=_1,V.repeat=Vg,V.replace=Z1,V.result=AT,V.round=Y$,V.runInContext=oe,V.sample=y1,V.size=Jb,V.snakeCase=MT,V.some=iT,V.sortedIndex=Rn,V.sortedIndexBy=kt,V.sortedIndexOf=jt,V.sortedLastIndex=fn,V.sortedLastIndexBy=ns,V.sortedLastIndexOf=pl,V.startCase=Wg,V.startsWith=Q1,V.subtract=q$,V.sum=K$,V.sumBy=Z$,V.template=sf,V.times=k$,V.toFinite=Wa,V.toInteger=vt,V.toLength=$a,V.toLower=v0,V.toNumber=Os,V.toSafeInteger=rd,V.toString=rn,V.toUpper=$g,V.trim=J1,V.trimEnd=DT,V.trimStart=jg,V.truncate=a,V.unescape=l,V.uniqueId=N$,V.upperCase=d,V.upperFirst=m,V.each=f1,V.eachRight=Qb,V.first=Co,pe(V,function(){var h={};return ti(V,function(g,x){nn.call(V.prototype,x)||(h[x]=g)}),h}(),{chain:!1}),V.VERSION=r,bs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){V[h].placeholder=V}),bs(["drop","take"],function(h,g){Ot.prototype[h]=function(x){x=x===n?1:On(vt(x),0);var C=this.__filtered__&&!g?new Ot(this):this.clone();return C.__filtered__?C.__takeCount__=Gn(x,C.__takeCount__):C.__views__.push({size:Gn(x,j),type:h+(C.__dir__<0?"Right":"")}),C},Ot.prototype[h+"Right"]=function(x){return this.reverse()[h](x).reverse()}}),bs(["filter","map","takeWhile"],function(h,g){var x=g+1,C=x==Te||x==R;Ot.prototype[h]=function(I){var $=this.clone();return $.__iteratees__.push({iteratee:it(I,3),type:x}),$.__filtered__=$.__filtered__||C,$}}),bs(["head","last"],function(h,g){var x="take"+(g?"Right":"");Ot.prototype[h]=function(){return this[x](1).value()[0]}}),bs(["initial","tail"],function(h,g){var x="drop"+(g?"":"Right");Ot.prototype[h]=function(){return this.__filtered__?new Ot(this):this[x](1)}}),Ot.prototype.compact=function(){return this.filter(me)},Ot.prototype.find=function(h){return this.filter(h).head()},Ot.prototype.findLast=function(h){return this.reverse().find(h)},Ot.prototype.invokeMap=At(function(h,g){return typeof h=="function"?new Ot(this):this.map(function(x){return xu(x,h,g)})}),Ot.prototype.reject=function(h){return this.filter(Yh(it(h)))},Ot.prototype.slice=function(h,g){h=vt(h);var x=this;return x.__filtered__&&(h>0||g<0)?new Ot(x):(h<0?x=x.takeRight(-h):h&&(x=x.drop(h)),g!==n&&(g=vt(g),x=g<0?x.dropRight(-g):x.take(g-h)),x)},Ot.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},Ot.prototype.toArray=function(){return this.take(j)},ti(Ot.prototype,function(h,g){var x=/^(?:filter|find|map|reject)|While$/.test(g),C=/^(?:head|last)$/.test(g),I=V[C?"take"+(g=="last"?"Right":""):g],$=C||/^find/.test(g);I&&(V.prototype[g]=function(){var Q=this.__wrapped__,se=C?[1]:arguments,de=Q instanceof Ot,Me=se[0],Be=de||pt(Q),Ne=function(Vt){var Qt=I.apply(V,fo([Vt],se));return C&&He?Qt[0]:Qt};Be&&x&&typeof Me=="function"&&Me.length!=1&&(de=Be=!1);var He=this.__chain__,Ke=!!this.__actions__.length,ht=$&&!He,Dt=de&&!Ke;if(!$&&Be){Q=Dt?Q:new Ot(this);var ft=h.apply(Q,se);return ft.__actions__.push({func:ri,args:[Ne],thisArg:n}),new Oi(ft,He)}return ht&&Dt?h.apply(this,se):(ft=this.thru(Ne),ht?C?ft.value()[0]:ft.value():ft)})}),bs(["pop","push","shift","sort","splice","unshift"],function(h){var g=Fp[h],x=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",C=/^(?:pop|shift)$/.test(h);V.prototype[h]=function(){var I=arguments;if(C&&!this.__chain__){var $=this.value();return g.apply(pt($)?$:[],I)}return this[x](function(Q){return g.apply(pt(Q)?Q:[],I)})}}),ti(Ot.prototype,function(h,g){var x=V[g];if(x){var C=x.name+"";nn.call(ws,C)||(ws[C]=[]),ws[C].push({name:g,func:x})}}),ws[Zn(n,A).name]=[{name:"wrapper",func:n}],Ot.prototype.clone=ch,Ot.prototype.reverse=Vp,Ot.prototype.value=mu,V.prototype.at=o1,V.prototype.chain=rs,V.prototype.commit=l1,V.prototype.next=u1,V.prototype.plant=bl,V.prototype.reverse=wg,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=qb,V.prototype.first=V.prototype.head,hu&&(V.prototype[hu]=tT),V},nl=Rc();Qo?((Qo.exports=nl)._=nl,Sc._=nl):ir._=nl}).call(qZ)}(Z0,Z0.exports)),Z0.exports}var ZZ=KZ();const Cd=cv(ZZ);var QZ=Object.getOwnPropertyDescriptor,JZ=(t,e,n,r)=>{for(var i=r>1?void 0:r?QZ(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=o(i)||i);return i},eQ=(t,e)=>(n,r)=>e(n,r,t);let C3=class{constructor(t){St(this,"app");this.uiState=t,this.app=new pP}get layer(){return this.app.stage}async bootstrap(){const t=document.getElementById("canvas-root");if(!t)throw new Error("Cannot find the canvas root element");await this.app.init({resizeTo:t,antialias:!0,backgroundColor:$Z,resolution:Zz,autoDensity:!0}),this.app.stage.eventMode="static",this.app.stage.hitArea=this.app.screen,this.uiState.updateCanvasViewport({width:this.app.screen.width,height:this.app.screen.height}),t.appendChild(this.app.canvas),this.watchCanvasViewportChange(t)}watchCanvasViewportChange(t){let e=!0;const n=Cd.throttle(()=>{if(e){e=!1;return}this.uiState.updateCanvasViewport({width:this.app.screen.width,height:this.app.screen.height})},250);new ResizeObserver(n).observe(t)}};C3=JZ([Gd(),eQ(0,Ns(rr.uiState))],C3);const tQ=10,b_=10,Qz=3;var nQ=Object.getOwnPropertyDescriptor,rQ=(t,e,n,r)=>{for(var i=r>1?void 0:r?nQ(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=o(i)||i);return i},A2=(t,e)=>(n,r)=>e(n,r,t);let A3=class{constructor(t,e,n,r){this.renderer=t,this.entitiesOrchestrator=e,this.gameState=n,this.ui=r}async bootstrap(){this.gameState.changeDisksCount(tQ),this.gameState.changeGameCondition("active"),await this.renderer.bootstrap(),this.entitiesOrchestrator.bootstrap(this.renderer.layer),this.ui.bootstrap()}};A3=rQ([Gd(),A2(0,Ns(rr.renderer)),A2(1,Ns(rr.entitiesOrchestrator)),A2(2,Ns(rr.gameState)),A2(3,Ns(rr.ui))],A3);var iQ=Object.getOwnPropertyDescriptor,sQ=(t,e,n,r)=>{for(var i=r>1?void 0:r?iQ(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=o(i)||i);return i};let R3=class{constructor(){St(this,"emitter");this.emitter=new hs}emit(t,e){this.emitter.emit(t,e)}on(t,e){this.emitter.on(t,e)}off(t,e){this.emitter.off(t,e)}once(t,e){this.emitter.once(t,e)}removeAllListeners(t){this.emitter.removeAllListeners(t)}};R3=sQ([Gd()],R3);const aQ=32,dm=20,oQ=10,PC=10,lQ=25,Pk=10,uQ=20;class cQ{constructor(e){St(this,"_yOffset",0);St(this,"yStart",0);St(this,"pixiPeg",new Bd);St(this,"pixiContainer",new Ei);this.id=e}get yOffset(){return this._yOffset}set yOffset(e){this._yOffset=e,this.pixiContainer.y=this.normalizeY(e)}get collisionRect(){return this.pixiContainer.getBounds()}get x(){return this.pixiContainer.x}get y(){return this.pixiContainer.y}get centerX(){return this.x+PC/2}move({x:e,y:n}){this.yStart=n,this.pixiContainer.x=this.normalizeX(e),this.pixiContainer.y=this.normalizeY(this._yOffset)}draw({layer:e,x:n,y:r,yOffset:i,height:s}){this.yStart=r,this._yOffset=i;const{pixiContainer:o}=this;s+=uQ+Pk,this.pixiPeg.roundRect(0,0,PC,s,lQ).fill(jZ),o.addChild(this.pixiPeg),o.x=this.normalizeX(n),o.y=this.normalizeY(i),e.addChild(o)}destroy(){this.pixiContainer.destroy({children:!0})}get height(){return this.pixiContainer.height}normalizeX(e){return e-PC/2}normalizeY(e){return this.yStart-this.height+Pk+e}}function dQ(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Lu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var xa={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},tv={duration:.5,overwrite:!1,delay:0},oM,wi,tr,Hl=1e8,Hi=1/Hl,P3=Math.PI*2,hQ=P3/4,fQ=0,eV=Math.sqrt,pQ=Math.cos,gQ=Math.sin,li=function(e){return typeof e=="string"},vr=function(e){return typeof e=="function"},ic=function(e){return typeof e=="number"},lM=function(e){return typeof e>"u"},Kl=function(e){return typeof e=="object"},Gs=function(e){return e!==!1},uM=function(){return typeof window<"u"},R2=function(e){return vr(e)||li(e)},tV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Wi=Array.isArray,O3=/(?:-?\.?\d|\.)+/gi,nV=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,hm=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,OC=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,rV=/[+-]=-?[.\d]+/,iV=/[^,'"\[\]\s]+/gi,mQ=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,or,Rl,M3,cM,Ca={},IS={},sV,aV=function(e){return(IS=nv(e,Ca))&&$s},dM=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},z_=function(e,n){return!n&&console.warn(e)},oV=function(e,n){return e&&(Ca[e]=n)&&IS&&(IS[e]=n)||Ca},V_=function(){return 0},vQ={suppressEvents:!0,isStart:!0,kill:!1},tS={suppressEvents:!0,kill:!1},bQ={suppressEvents:!0},hM={},Ad=[],D3={},lV,ga={},MC={},Ok=30,nS=[],fM="",pM=function(e){var n=e[0],r,i;if(Kl(n)||vr(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=nS.length;i--&&!nS[i].targetTest(n););r=nS[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new DV(e[i],r)))||e.splice(i,1);return e},Nf=function(e){return e._gsap||pM(ro(e))[0]._gsap},uV=function(e,n,r){return(r=e[n])&&vr(r)?e[n]():lM(r)&&e.getAttribute&&e.getAttribute(n)||r},zs=function(e,n){return(e=e.split(",")).forEach(n)||e},Pr=function(e){return Math.round(e*1e5)/1e5||0},Wr=function(e){return Math.round(e*1e7)/1e7||0},Mm=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},_Q=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},NS=function(){var e=Ad.length,n=Ad.slice(0),r,i;for(D3={},Ad.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},cV=function(e,n,r,i){Ad.length&&!wi&&NS(),e.render(n,r,wi&&n<0&&(e._initted||e._startAt)),Ad.length&&!wi&&NS()},dV=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(iV).length<2?n:li(e)?e.trim():e},hV=function(e){return e},Aa=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},yQ=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},nv=function(e,n){for(var r in n)e[r]=n[r];return e},Mk=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Kl(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},US=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},__=function(e){var n=e.parent||or,r=e.keyframes?yQ(Wi(e.keyframes)):Aa;if(Gs(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},xQ=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},fV=function(e,n,r,i,s){var o=e[i],u;if(s)for(u=n[s];o&&o[s]>u;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},Zw=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},kd=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Uf=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},SQ=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},B3=function(e,n,r,i){return e._startAt&&(wi?e._startAt.revert(tS):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},wQ=function t(e){return!e||e._ts&&t(e.parent)},Dk=function(e){return e._repeat?rv(e._tTime,e=e.duration()+e._rDelay)*e:0},rv=function(e,n){var r=Math.floor(e=Wr(e/n));return e&&r===e?r-1:r},FS=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Qw=function(e){return e._end=Wr(e._start+(e._tDur/Math.abs(e._ts||e._rts||Hi)||0))},Jw=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Wr(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Qw(e),r._dirty||Uf(r,e)),e},pV=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=FS(e.rawTime(),n),(!n._dur||gy(0,n.totalDuration(),r)-n._tTime>Hi)&&n.render(r,!0)),Uf(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-1e-8}},Il=function(e,n,r,i){return n.parent&&kd(n),n._start=Wr((ic(r)?r:r||e!==or?qa(e,r,n):e._time)+n._delay),n._end=Wr(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),fV(e,n,"_first","_last",e._sort?"_start":0),k3(n)||(e._recent=n),i||pV(e,n),e._ts<0&&Jw(e,e._tTime),e},gV=function(e,n){return(Ca.ScrollTrigger||dM("scrollTrigger",n))&&Ca.ScrollTrigger.create(n,e)},mV=function(e,n,r,i,s){if(mM(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!wi&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&lV!==va.frame)return Ad.push(e),e._lazy=[s,i],1},EQ=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},k3=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},TQ=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&EQ(e)&&!(!e._initted&&k3(e))||(e._ts<0||e._dp._ts<0)&&!k3(e))?0:1,u=e._rDelay,c=0,f,p,v;if(u&&e._repeat&&(c=gy(0,e._tDur,n),p=rv(c,u),e._yoyo&&p&1&&(o=1-o),p!==rv(e._tTime,u)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||wi||i||e._zTime===Hi||!n&&e._zTime){if(!e._initted&&mV(e,n,i,r,c))return;for(v=e._zTime,e._zTime=n||(r?Hi:0),r||(r=n&&!v),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,f=e._pt;f;)f.r(o,f.d),f=f._next;n<0&&B3(e,n,r,!0),e._onUpdate&&!r&&ya(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&ya(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&kd(e,1),!r&&!wi&&(ya(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},CQ=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},iv=function(e,n,r,i){var s=e._repeat,o=Wr(n)||0,u=e._tTime/e._tDur;return u&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Wr(o*(s+1)+e._rDelay*s):o,u>0&&!i&&Jw(e,e._tTime=e._tDur*u),e.parent&&Qw(e),r||Uf(e.parent,e),e},Bk=function(e){return e instanceof us?Uf(e):iv(e,e._dur)},AQ={_start:0,endTime:V_,totalDuration:V_},qa=function t(e,n,r){var i=e.labels,s=e._recent||AQ,o=e.duration()>=Hl?s.endTime(!1):e._dur,u,c,f;return li(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),f=n.substr(-1)==="%",u=n.indexOf("="),c==="<"||c===">"?(u>=0&&(n=n.replace(/=/,"")),(c==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(f?(u<0?s:r).totalDuration()/100:1)):u<0?(n in i||(i[n]=o),i[n]):(c=parseFloat(n.charAt(u-1)+n.substr(u+1)),f&&r&&(c=c/100*(Wi(r)?r[0]:r).totalDuration()),u>1?t(e,n.substr(0,u-1),r)+c:o+c)):n==null?o:+n},y_=function(e,n,r){var i=ic(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],u,c;if(i&&(o.duration=n[1]),o.parent=r,e){for(u=o,c=r;c&&!("immediateRender"in u);)u=c.vars.defaults||{},c=Gs(c.vars.inherit)&&c.parent;o.immediateRender=Gs(u.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new Hr(n[0],o,n[s+1])},Wd=function(e,n){return e||e===0?n(e):n},gy=function(e,n,r){return r<e?e:r>n?n:r},zi=function(e,n){return!li(e)||!(n=mQ.exec(e))?"":n[1]},RQ=function(e,n,r){return Wd(r,function(i){return gy(e,n,i)})},I3=[].slice,vV=function(e,n){return e&&Kl(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Kl(e[0]))&&!e.nodeType&&e!==Rl},PQ=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return li(i)&&!n||vV(i,1)?(s=r).push.apply(s,ro(i)):r.push(i)})||r},ro=function(e,n,r){return tr&&!n&&tr.selector?tr.selector(e):li(e)&&!r&&(M3||!sv())?I3.call((n||cM).querySelectorAll(e),0):Wi(e)?PQ(e,r):vV(e)?I3.call(e,0):e?[e]:[]},N3=function(e){return e=ro(e)[0]||z_("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return ro(n,r.querySelectorAll?r:r===e?z_("Invalid scope")||cM.createElement("div"):e)}},bV=function(e){return e.sort(function(){return .5-Math.random()})},_V=function(e){if(vr(e))return e;var n=Kl(e)?e:{each:e},r=Ff(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},u=i>0&&i<1,c=isNaN(i)||u,f=n.axis,p=i,v=i;return li(i)?p=v={center:.5,edges:.5,end:1}[i]||0:!u&&c&&(p=i[0],v=i[1]),function(b,y,E){var S=(E||n).length,T=o[S],A,P,O,M,D,W,G,Y,L;if(!T){if(L=n.grid==="auto"?0:(n.grid||[1,Hl])[1],!L){for(G=-1e8;G<(G=E[L++].getBoundingClientRect().left)&&L<S;);L<S&&L--}for(T=o[S]=[],A=c?Math.min(L,S)*p-.5:i%L,P=L===Hl?0:c?S*v/L-.5:i/L|0,G=0,Y=Hl,W=0;W<S;W++)O=W%L-A,M=P-(W/L|0),T[W]=D=f?Math.abs(f==="y"?M:O):eV(O*O+M*M),D>G&&(G=D),D<Y&&(Y=D);i==="random"&&bV(T),T.max=G-Y,T.min=Y,T.v=S=(parseFloat(n.amount)||parseFloat(n.each)*(L>S?S-1:f?f==="y"?S/L:L:Math.max(L,S/L))||0)*(i==="edges"?-1:1),T.b=S<0?s-S:s,T.u=zi(n.amount||n.each)||0,r=r&&S<0?PV(r):r}return S=(T[b]-T.min)/T.max||0,Wr(T.b+(r?r(S):S)*T.v)+T.u}},U3=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Wr(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(ic(r)?0:zi(r))}},yV=function(e,n){var r=Wi(e),i,s;return!r&&Kl(e)&&(i=r=e.radius||Hl,e.values?(e=ro(e.values),(s=!ic(e[0]))&&(i*=i)):e=U3(e.increment)),Wd(n,r?vr(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var u=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),f=Hl,p=0,v=e.length,b,y;v--;)s?(b=e[v].x-u,y=e[v].y-c,b=b*b+y*y):b=Math.abs(e[v]-u),b<f&&(f=b,p=v);return p=!i||f<=i?e[p]:o,s||p===o||ic(o)?p:p+zi(o)}:U3(e))},xV=function(e,n,r,i){return Wd(Wi(e)?!n:r===!0?!!(r=0):!i,function(){return Wi(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},OQ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},MQ=function(e,n){return function(r){return e(parseFloat(r))+(n||zi(r))}},DQ=function(e,n,r){return wV(e,n,0,1,r)},SV=function(e,n,r){return Wd(r,function(i){return e[~~n(i)]})},BQ=function t(e,n,r){var i=n-e;return Wi(e)?SV(e,t(0,e.length),n):Wd(r,function(s){return(i+(s-e)%i)%i+e})},kQ=function t(e,n,r){var i=n-e,s=i*2;return Wi(e)?SV(e,t(0,e.length-1),n):Wd(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},H_=function(e){for(var n=0,r="",i,s,o,u;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),u=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(u?iV:O3),r+=e.substr(n,i-n)+xV(u?s:+s[0],u?0:+s[1],+s[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},wV=function(e,n,r,i,s){var o=n-e,u=i-r;return Wd(s,function(c){return r+((c-e)/o*u||0)})},IQ=function t(e,n,r,i){var s=isNaN(e+n)?0:function(y){return(1-y)*e+y*n};if(!s){var o=li(e),u={},c,f,p,v,b;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(Wi(e)&&!Wi(n)){for(p=[],v=e.length,b=v-2,f=1;f<v;f++)p.push(t(e[f-1],e[f]));v--,s=function(E){E*=v;var S=Math.min(b,~~E);return p[S](E-S)},r=n}else i||(e=nv(Wi(e)?[]:{},e));if(!p){for(c in n)gM.call(u,e,c,"get",n[c]);s=function(E){return _M(E,u)||(o?e.p:e)}}}return Wd(r,s)},kk=function(e,n,r){var i=e.labels,s=Hl,o,u,c;for(o in i)u=i[o]-n,u<0==!!r&&u&&s>(u=Math.abs(u))&&(c=o,s=u);return c},ya=function(e,n,r){var i=e.vars,s=i[n],o=tr,u=e._ctx,c,f,p;if(s)return c=i[n+"Params"],f=i.callbackScope||e,r&&Ad.length&&NS(),u&&(tr=u),p=c?s.apply(f,c):s.call(f),tr=o,p},Q0=function(e){return kd(e),e.scrollTrigger&&e.scrollTrigger.kill(!!wi),e.progress()<1&&ya(e,"onInterrupt"),e},fm,EV=[],TV=function(e){if(e)if(e=!e.name&&e.default||e,uM()||e.headless){var n=e.name,r=vr(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:V_,render:_M,add:gM,kill:ZQ,modifier:KQ,rawVars:0},o={targetTest:0,get:0,getSetter:bM,aliases:{},register:0};if(sv(),e!==i){if(ga[n])return;Aa(i,Aa(US(e,s),o)),nv(i.prototype,nv(s,US(e,o))),ga[i.prop=n]=i,e.targetTest&&(nS.push(i),hM[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}oV(n,i),e.register&&e.register($s,i,Vs)}else EV.push(e)},In=255,J0={aqua:[0,In,In],lime:[0,In,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,In],navy:[0,0,128],white:[In,In,In],olive:[128,128,0],yellow:[In,In,0],orange:[In,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[In,0,0],pink:[In,192,203],cyan:[0,In,In],transparent:[In,In,In,0]},DC=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*In+.5|0},CV=function(e,n,r){var i=e?ic(e)?[e>>16,e>>8&In,e&In]:0:J0.black,s,o,u,c,f,p,v,b,y,E;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),J0[e])i=J0[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),u=e.charAt(3),e="#"+s+s+o+o+u+u+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&In,i&In,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&In,e&In]}else if(e.substr(0,3)==="hsl"){if(i=E=e.match(O3),!n)c=+i[0]%360/360,f=+i[1]/100,p=+i[2]/100,o=p<=.5?p*(f+1):p+f-p*f,s=p*2-o,i.length>3&&(i[3]*=1),i[0]=DC(c+1/3,s,o),i[1]=DC(c,s,o),i[2]=DC(c-1/3,s,o);else if(~e.indexOf("="))return i=e.match(nV),r&&i.length<4&&(i[3]=1),i}else i=e.match(O3)||J0.transparent;i=i.map(Number)}return n&&!E&&(s=i[0]/In,o=i[1]/In,u=i[2]/In,v=Math.max(s,o,u),b=Math.min(s,o,u),p=(v+b)/2,v===b?c=f=0:(y=v-b,f=p>.5?y/(2-v-b):y/(v+b),c=v===s?(o-u)/y+(o<u?6:0):v===o?(u-s)/y+2:(s-o)/y+4,c*=60),i[0]=~~(c+.5),i[1]=~~(f*100+.5),i[2]=~~(p*100+.5)),r&&i.length<4&&(i[3]=1),i},AV=function(e){var n=[],r=[],i=-1;return e.split(Rd).forEach(function(s){var o=s.match(hm)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},Ik=function(e,n,r){var i="",s=(e+i).match(Rd),o=n?"hsla(":"rgba(",u=0,c,f,p,v;if(!s)return e;if(s=s.map(function(b){return(b=CV(b,n,1))&&o+(n?b[0]+","+b[1]+"%,"+b[2]+"%,"+b[3]:b.join(","))+")"}),r&&(p=AV(e),c=r.c,c.join(i)!==p.c.join(i)))for(f=e.replace(Rd,"1").split(hm),v=f.length-1;u<v;u++)i+=f[u]+(~c.indexOf(u)?s.shift()||o+"0,0,0,0)":(p.length?p:s.length?s:r).shift());if(!f)for(f=e.split(Rd),v=f.length-1;u<v;u++)i+=f[u]+s[u];return i+f[v]},Rd=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in J0)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),NQ=/hsl[a]?\(/,RV=function(e){var n=e.join(" "),r;if(Rd.lastIndex=0,Rd.test(n))return r=NQ.test(n),e[1]=Ik(e[1],r),e[0]=Ik(e[0],r,AV(e[1])),!0},W_,va=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,u=[],c,f,p,v,b,y,E=function S(T){var A=t()-i,P=T===!0,O,M,D,W;if((A>e||A<0)&&(r+=A-n),i+=A,D=i-r,O=D-o,(O>0||P)&&(W=++v.frame,b=D-v.time*1e3,v.time=D=D/1e3,o+=O+(O>=s?4:s-O),M=1),P||(c=f(S)),M)for(y=0;y<u.length;y++)u[y](D,b,W,T)};return v={time:0,frame:0,tick:function(){E(!0)},deltaRatio:function(T){return b/(1e3/(T||60))},wake:function(){sV&&(!M3&&uM()&&(Rl=M3=window,cM=Rl.document||{},Ca.gsap=$s,(Rl.gsapVersions||(Rl.gsapVersions=[])).push($s.version),aV(IS||Rl.GreenSockGlobals||!Rl.gsap&&Rl||{}),EV.forEach(TV)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&v.sleep(),f=p||function(T){return setTimeout(T,o-v.time*1e3+1|0)},W_=1,E(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(c),W_=0,f=V_},lagSmoothing:function(T,A){e=T||1/0,n=Math.min(A||33,e)},fps:function(T){s=1e3/(T||240),o=v.time*1e3+s},add:function(T,A,P){var O=A?function(M,D,W,G){T(M,D,W,G),v.remove(O)}:T;return v.remove(T),u[P?"unshift":"push"](O),sv(),O},remove:function(T,A){~(A=u.indexOf(T))&&u.splice(A,1)&&y>=A&&y--},_listeners:u},v}(),sv=function(){return!W_&&va.wake()},Jt={},UQ=/^[\d.\-M][\d.\-,\s]/,FQ=/["']/g,LQ=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,u,c,f;s<o;s++)c=r[s],u=s!==o-1?c.lastIndexOf(","):c.length,f=c.substr(0,u),n[i]=isNaN(f)?f.replace(FQ,"").trim():+f,i=c.substr(u+1).trim();return n},GQ=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},zQ=function(e){var n=(e+"").split("("),r=Jt[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[LQ(n[1])]:GQ(e).split(",").map(dV)):Jt._CE&&UQ.test(e)?Jt._CE("",e):r},PV=function(e){return function(n){return 1-e(1-n)}},OV=function t(e,n){for(var r=e._first,i;r;)r instanceof us?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Ff=function(e,n){return e&&(vr(e)?e:Jt[e]||zQ(e))||n},ap=function(e,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return zs(e,function(u){Jt[u]=Ca[u]=s,Jt[o=u.toLowerCase()]=r;for(var c in s)Jt[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Jt[u+"."+c]=s[c]}),s},MV=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},BC=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/P3*(Math.asin(1/i)||0),u=function(p){return p===1?1:i*Math.pow(2,-10*p)*gQ((p-o)*s)+1},c=e==="out"?u:e==="in"?function(f){return 1-u(1-f)}:MV(u);return s=P3/s,c.config=function(f,p){return t(e,f,p)},c},kC=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:MV(r);return i.config=function(s){return t(e,s)},i};zs("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;ap(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});Jt.Linear.easeNone=Jt.none=Jt.Linear.easeIn;ap("Elastic",BC("in"),BC("out"),BC());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(u){return u<n?t*u*u:u<r?t*Math.pow(u-1.5/e,2)+.75:u<i?t*(u-=2.25/e)*u+.9375:t*Math.pow(u-2.625/e,2)+.984375};ap("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);ap("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});ap("Circ",function(t){return-(eV(1-t*t)-1)});ap("Sine",function(t){return t===1?1:-pQ(t*hQ)+1});ap("Back",kC("in"),kC("out"),kC());Jt.SteppedEase=Jt.steps=Ca.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-Hi;return function(u){return((i*gy(0,o,u)|0)+s)*r}}};tv.ease=Jt["quad.out"];zs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return fM+=t+","+t+"Params,"});var DV=function(e,n){this.id=fQ++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:uV,this.set=n?n.getSetter:bM},$_=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,iv(this,+n.duration,1,1),this.data=n.data,tr&&(this._ctx=tr,tr.data.push(this)),W_||va.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,iv(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(sv(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Jw(this,r),!s._dp||s.parent||pV(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Il(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Hi||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),cV(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Dk(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Dk(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?rv(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?FS(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-1e-8?0:this._rts,this.totalTime(gy(-Math.abs(this._delay),this._tDur,s),i!==!1),Qw(this),SQ(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(sv(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Hi&&(this._tTime-=Hi)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Il(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Gs(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?FS(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=bQ);var i=wi;return wi=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),wi=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Bk(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Bk(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(qa(this,r),Gs(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Gs(i)),this._dur||(this._zTime=-1e-8),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Hi)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=vr(r)?r:hV,u=function(){var f=i.then;i.then=null,vr(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=f),s(o),i.then=f};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?u():i._prom=u})},e.kill=function(){Q0(this)},t}();Aa($_.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var us=function(t){Jz(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Gs(r.sortChildren),or&&Il(r.parent||or,Lu(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&gV(Lu(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return y_(0,arguments,this),this},n.from=function(i,s,o){return y_(1,arguments,this),this},n.fromTo=function(i,s,o,u){return y_(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,__(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Hr(i,s,qa(this,o),1),this},n.call=function(i,s,o){return Il(this,Hr.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,u,c,f,p){return o.duration=s,o.stagger=o.stagger||u,o.onComplete=f,o.onCompleteParams=p,o.parent=this,new Hr(i,o,qa(this,c)),this},n.staggerFrom=function(i,s,o,u,c,f,p){return o.runBackwards=1,__(o).immediateRender=Gs(o.immediateRender),this.staggerTo(i,s,o,u,c,f,p)},n.staggerFromTo=function(i,s,o,u,c,f,p,v){return u.startAt=o,__(u).immediateRender=Gs(u.immediateRender),this.staggerTo(i,s,u,c,f,p,v)},n.render=function(i,s,o){var u=this._time,c=this._dirty?this.totalDuration():this._tDur,f=this._dur,p=i<=0?0:Wr(i),v=this._zTime<0!=i<0&&(this._initted||!f),b,y,E,S,T,A,P,O,M,D,W,G;if(this!==or&&p>c&&i>=0&&(p=c),p!==this._tTime||o||v){if(u!==this._time&&f&&(p+=this._time-u,i+=this._time-u),b=p,M=this._start,O=this._ts,A=!O,v&&(f||(u=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(W=this._yoyo,T=f+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(T*100+i,s,o);if(b=Wr(p%T),p===c?(S=this._repeat,b=f):(D=Wr(p/T),S=~~D,S&&S===D&&(b=f,S--),b>f&&(b=f)),D=rv(this._tTime,T),!u&&this._tTime&&D!==S&&this._tTime-D*T-this._dur<=0&&(D=S),W&&S&1&&(b=f-b,G=1),S!==D&&!this._lock){var Y=W&&D&1,L=Y===(W&&S&1);if(S<D&&(Y=!Y),u=Y?0:p%f?f:p,this._lock=1,this.render(u||(G?0:Wr(S*T)),s,!f)._lock=0,this._tTime=p,!s&&this.parent&&ya(this,"onRepeat"),this.vars.repeatRefresh&&!G&&(this.invalidate()._lock=1),u&&u!==this._time||A!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,c=this._tDur,L&&(this._lock=2,u=Y?f:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!G&&this.invalidate()),this._lock=0,!this._ts&&!A)return this;OV(this,G)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(P=CQ(this,Wr(u),Wr(b)),P&&(p-=b-(b=P._start))),this._tTime=p,this._time=b,this._act=!O,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,u=0),!u&&b&&!s&&!S&&(ya(this,"onStart"),this._tTime!==p))return this;if(b>=u&&i>=0)for(y=this._first;y;){if(E=y._next,(y._act||b>=y._start)&&y._ts&&P!==y){if(y.parent!==this)return this.render(i,s,o);if(y.render(y._ts>0?(b-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(b-y._start)*y._ts,s,o),b!==this._time||!this._ts&&!A){P=0,E&&(p+=this._zTime=-1e-8);break}}y=E}else{y=this._last;for(var X=i<0?i:b;y;){if(E=y._prev,(y._act||X<=y._end)&&y._ts&&P!==y){if(y.parent!==this)return this.render(i,s,o);if(y.render(y._ts>0?(X-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(X-y._start)*y._ts,s,o||wi&&(y._initted||y._startAt)),b!==this._time||!this._ts&&!A){P=0,E&&(p+=this._zTime=X?-1e-8:Hi);break}}y=E}}if(P&&!s&&(this.pause(),P.render(b>=u?0:-1e-8)._zTime=b>=u?1:-1,this._ts))return this._start=M,Qw(this),this.render(i,s,o);this._onUpdate&&!s&&ya(this,"onUpdate",!0),(p===c&&this._tTime>=this.totalDuration()||!p&&u)&&(M===this._start||Math.abs(O)!==Math.abs(this._ts))&&(this._lock||((i||!f)&&(p===c&&this._ts>0||!p&&this._ts<0)&&kd(this,1),!s&&!(i<0&&!u)&&(p||u||!c)&&(ya(this,p===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(ic(s)||(s=qa(this,s,i)),!(i instanceof $_)){if(Wi(i))return i.forEach(function(u){return o.add(u,s)}),this;if(li(i))return this.addLabel(i,s);if(vr(i))i=Hr.delayedCall(0,i);else return this}return this!==i?Il(this,i,s):this},n.getChildren=function(i,s,o,u){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),u===void 0&&(u=-1e8);for(var c=[],f=this._first;f;)f._start>=u&&(f instanceof Hr?s&&c.push(f):(o&&c.push(f),i&&c.push.apply(c,f.getChildren(!0,s,o)))),f=f._next;return c},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return li(i)?this.removeLabel(i):vr(i)?this.killTweensOf(i):(i.parent===this&&Zw(this,i),i===this._recent&&(this._recent=this._last),Uf(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Wr(va.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=qa(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var u=Hr.delayedCall(0,s||V_,o);return u.data="isPause",this._hasPause=1,Il(this,u,qa(this,i))},n.removePause=function(i){var s=this._first;for(i=qa(this,i);s;)s._start===i&&s.data==="isPause"&&kd(s),s=s._next},n.killTweensOf=function(i,s,o){for(var u=this.getTweensOf(i,o),c=u.length;c--;)_d!==u[c]&&u[c].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],u=ro(i),c=this._first,f=ic(s),p;c;)c instanceof Hr?_Q(c._targets,u)&&(f?(!_d||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(p=c.getTweensOf(u,s)).length&&o.push.apply(o,p),c=c._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,u=qa(o,i),c=s,f=c.startAt,p=c.onStart,v=c.onStartParams,b=c.immediateRender,y,E=Hr.to(o,Aa({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:s.duration||Math.abs((u-(f&&"time"in f?f.time:o._time))/o.timeScale())||Hi,onStart:function(){if(o.pause(),!y){var T=s.duration||Math.abs((u-(f&&"time"in f?f.time:o._time))/o.timeScale());E._dur!==T&&iv(E,T,0,1).render(E._time,!0,!0),y=1}p&&p.apply(E,v||[])}},s));return b?E.render(0):E},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,Aa({startAt:{time:qa(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),kk(this,qa(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),kk(this,qa(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Hi)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var u=this._first,c=this.labels,f;u;)u._start>=o&&(u._start+=i,u._end+=i),u=u._next;if(s)for(f in c)c[f]>=o&&(c[f]+=i);return Uf(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Uf(this)},n.totalDuration=function(i){var s=0,o=this,u=o._last,c=Hl,f,p,v;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(v=o.parent;u;)f=u._prev,u._dirty&&u.totalDuration(),p=u._start,p>c&&o._sort&&u._ts&&!o._lock?(o._lock=1,Il(o,u,p-u._delay,1)._lock=0):c=p,p<0&&u._ts&&(s-=p,(!v&&!o._dp||v&&v.smoothChildTiming)&&(o._start+=p/o._ts,o._time-=p,o._tTime-=p),o.shiftChildren(-p,!1,-1/0),c=0),u._end>s&&u._ts&&(s=u._end),u=f;iv(o,o===or&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(or._ts&&(cV(or,FS(i,or)),lV=va.frame),va.frame>=Ok){Ok+=xa.autoSleep||120;var s=or._first;if((!s||!s._ts)&&xa.autoSleep&&va._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||va.sleep()}}},e}($_);Aa(us.prototype,{_lock:0,_hasPause:0,_forcing:0});var VQ=function(e,n,r,i,s,o,u){var c=new Vs(this._pt,e,n,0,1,FV,null,s),f=0,p=0,v,b,y,E,S,T,A,P;for(c.b=r,c.e=i,r+="",i+="",(A=~i.indexOf("random("))&&(i=H_(i)),o&&(P=[r,i],o(P,e,n),r=P[0],i=P[1]),b=r.match(OC)||[];v=OC.exec(i);)E=v[0],S=i.substring(f,v.index),y?y=(y+1)%5:S.substr(-5)==="rgba("&&(y=1),E!==b[p++]&&(T=parseFloat(b[p-1])||0,c._pt={_next:c._pt,p:S||p===1?S:",",s:T,c:E.charAt(1)==="="?Mm(T,E)-T:parseFloat(E)-T,m:y&&y<4?Math.round:0},f=OC.lastIndex);return c.c=f<i.length?i.substring(f,i.length):"",c.fp=u,(rV.test(i)||A)&&(c.e=0),this._pt=c,c},gM=function(e,n,r,i,s,o,u,c,f,p){vr(i)&&(i=i(s||0,e,o));var v=e[n],b=r!=="get"?r:vr(v)?f?e[n.indexOf("set")||!vr(e["get"+n.substr(3)])?n:"get"+n.substr(3)](f):e[n]():v,y=vr(v)?f?XQ:NV:vM,E;if(li(i)&&(~i.indexOf("random(")&&(i=H_(i)),i.charAt(1)==="="&&(E=Mm(b,i)+(zi(b)||0),(E||E===0)&&(i=E))),!p||b!==i||F3)return!isNaN(b*i)&&i!==""?(E=new Vs(this._pt,e,n,+b||0,i-(b||0),typeof v=="boolean"?qQ:UV,0,y),f&&(E.fp=f),u&&E.modifier(u,this,e),this._pt=E):(!v&&!(n in e)&&dM(n,i),VQ.call(this,e,n,b,i,y,c||xa.stringFilter,f))},HQ=function(e,n,r,i,s){if(vr(e)&&(e=x_(e,s,n,r,i)),!Kl(e)||e.style&&e.nodeType||Wi(e)||tV(e))return li(e)?x_(e,s,n,r,i):e;var o={},u;for(u in e)o[u]=x_(e[u],s,n,r,i);return o},BV=function(e,n,r,i,s,o){var u,c,f,p;if(ga[e]&&(u=new ga[e]).init(s,u.rawVars?n[e]:HQ(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=c=new Vs(r._pt,s,e,0,1,u.render,u,0,u.priority),r!==fm))for(f=r._ptLookup[r._targets.indexOf(s)],p=u._props.length;p--;)f[u._props[p]]=c;return u},_d,F3,mM=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,u=i.immediateRender,c=i.lazy,f=i.onUpdate,p=i.runBackwards,v=i.yoyoEase,b=i.keyframes,y=i.autoRevert,E=e._dur,S=e._startAt,T=e._targets,A=e.parent,P=A&&A.data==="nested"?A.vars.targets:T,O=e._overwrite==="auto"&&!oM,M=e.timeline,D,W,G,Y,L,X,Z,ee,be,Te,he,R,N;if(M&&(!b||!s)&&(s="none"),e._ease=Ff(s,tv.ease),e._yEase=v?PV(Ff(v===!0?s:v,tv.ease)):0,v&&e._yoyo&&!e._repeat&&(v=e._yEase,e._yEase=e._ease,e._ease=v),e._from=!M&&!!i.runBackwards,!M||b&&!i.stagger){if(ee=T[0]?Nf(T[0]).harness:0,R=ee&&i[ee.prop],D=US(i,hM),S&&(S._zTime<0&&S.progress(1),n<0&&p&&u&&!y?S.render(-1,!0):S.revert(p&&E?tS:vQ),S._lazy=0),o){if(kd(e._startAt=Hr.set(T,Aa({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:!S&&Gs(c),startAt:null,delay:0,onUpdate:f&&function(){return ya(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(wi||!u&&!y)&&e._startAt.revert(tS),u&&E&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(p&&E&&!S){if(n&&(u=!1),G=Aa({overwrite:!1,data:"isFromStart",lazy:u&&!S&&Gs(c),immediateRender:u,stagger:0,parent:A},D),R&&(G[ee.prop]=R),kd(e._startAt=Hr.set(T,G)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(wi?e._startAt.revert(tS):e._startAt.render(-1,!0)),e._zTime=n,!u)t(e._startAt,Hi,Hi);else if(!n)return}for(e._pt=e._ptCache=0,c=E&&Gs(c)||c&&!E,W=0;W<T.length;W++){if(L=T[W],Z=L._gsap||pM(T)[W]._gsap,e._ptLookup[W]=Te={},D3[Z.id]&&Ad.length&&NS(),he=P===T?W:P.indexOf(L),ee&&(be=new ee).init(L,R||D,e,he,P)!==!1&&(e._pt=Y=new Vs(e._pt,L,be.name,0,1,be.render,be,0,be.priority),be._props.forEach(function(z){Te[z]=Y}),be.priority&&(X=1)),!ee||R)for(G in D)ga[G]&&(be=BV(G,D,e,he,L,P))?be.priority&&(X=1):Te[G]=Y=gM.call(e,L,G,"get",D[G],he,P,0,i.stringFilter);e._op&&e._op[W]&&e.kill(L,e._op[W]),O&&e._pt&&(_d=e,or.killTweensOf(L,Te,e.globalTime(n)),N=!e.parent,_d=0),e._pt&&c&&(D3[Z.id]=1)}X&&LV(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!N,b&&n<=0&&M.render(Hl,!0,!0)},WQ=function(e,n,r,i,s,o,u,c){var f=(e._pt&&e._ptCache||(e._ptCache={}))[n],p,v,b,y;if(!f)for(f=e._ptCache[n]=[],b=e._ptLookup,y=e._targets.length;y--;){if(p=b[y][n],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==n&&p.fp!==n;)p=p._next;if(!p)return F3=1,e.vars[n]="+=0",mM(e,u),F3=0,c?z_(n+" not eligible for reset"):1;f.push(p)}for(y=f.length;y--;)v=f[y],p=v._pt||v,p.s=(i||i===0)&&!s?i:p.s+(i||0)+o*p.c,p.c=r-p.s,v.e&&(v.e=Pr(r)+zi(v.e)),v.b&&(v.b=p.s+zi(v.b))},$Q=function(e,n){var r=e[0]?Nf(e[0]).harness:0,i=r&&r.aliases,s,o,u,c;if(!i)return n;s=nv({},n);for(o in i)if(o in s)for(c=i[o].split(","),u=c.length;u--;)s[c[u]]=s[o];return s},jQ=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,u;if(Wi(n))u=r[e]||(r[e]=[]),n.forEach(function(c,f){return u.push({t:f/(n.length-1)*100,v:c,e:s})});else for(o in n)u=r[o]||(r[o]=[]),o==="ease"||u.push({t:parseFloat(e),v:n[o],e:s})},x_=function(e,n,r,i,s){return vr(e)?e.call(n,r,i,s):li(e)&&~e.indexOf("random(")?H_(e):e},kV=fM+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",IV={};zs(kV+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return IV[t]=1});var Hr=function(t){Jz(e,t);function e(r,i,s,o){var u;typeof i=="number"&&(s.duration=i,i=s,s=null),u=t.call(this,o?i:__(i))||this;var c=u.vars,f=c.duration,p=c.delay,v=c.immediateRender,b=c.stagger,y=c.overwrite,E=c.keyframes,S=c.defaults,T=c.scrollTrigger,A=c.yoyoEase,P=i.parent||or,O=(Wi(r)||tV(r)?ic(r[0]):"length"in i)?[r]:ro(r),M,D,W,G,Y,L,X,Z;if(u._targets=O.length?pM(O):z_("GSAP target "+r+" not found. https://gsap.com",!xa.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=y,E||b||R2(f)||R2(p)){if(i=u.vars,M=u.timeline=new us({data:"nested",defaults:S||{},targets:P&&P.data==="nested"?P.vars.targets:O}),M.kill(),M.parent=M._dp=Lu(u),M._start=0,b||R2(f)||R2(p)){if(G=O.length,X=b&&_V(b),Kl(b))for(Y in b)~kV.indexOf(Y)&&(Z||(Z={}),Z[Y]=b[Y]);for(D=0;D<G;D++)W=US(i,IV),W.stagger=0,A&&(W.yoyoEase=A),Z&&nv(W,Z),L=O[D],W.duration=+x_(f,Lu(u),D,L,O),W.delay=(+x_(p,Lu(u),D,L,O)||0)-u._delay,!b&&G===1&&W.delay&&(u._delay=p=W.delay,u._start+=p,W.delay=0),M.to(L,W,X?X(D,L,O):0),M._ease=Jt.none;M.duration()?f=p=0:u.timeline=0}else if(E){__(Aa(M.vars.defaults,{ease:"none"})),M._ease=Ff(E.ease||i.ease||"none");var ee=0,be,Te,he;if(Wi(E))E.forEach(function(R){return M.to(O,R,">")}),M.duration();else{W={};for(Y in E)Y==="ease"||Y==="easeEach"||jQ(Y,E[Y],W,E.easeEach);for(Y in W)for(be=W[Y].sort(function(R,N){return R.t-N.t}),ee=0,D=0;D<be.length;D++)Te=be[D],he={ease:Te.e,duration:(Te.t-(D?be[D-1].t:0))/100*f},he[Y]=Te.v,M.to(O,he,ee),ee+=he.duration;M.duration()<f&&M.to({},{duration:f-M.duration()})}}f||u.duration(f=M.duration())}else u.timeline=0;return y===!0&&!oM&&(_d=Lu(u),or.killTweensOf(O),_d=0),Il(P,Lu(u),s),i.reversed&&u.reverse(),i.paused&&u.paused(!0),(v||!f&&!E&&u._start===Wr(P._time)&&Gs(v)&&wQ(Lu(u))&&P.data!=="nested")&&(u._tTime=-1e-8,u.render(Math.max(0,-p)||0)),T&&gV(Lu(u),T),u}var n=e.prototype;return n.render=function(i,s,o){var u=this._time,c=this._tDur,f=this._dur,p=i<0,v=i>c-Hi&&!p?c:i<Hi?0:i,b,y,E,S,T,A,P,O,M;if(!f)TQ(this,i,s,o);else if(v!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(b=v,O=this.timeline,this._repeat){if(S=f+this._rDelay,this._repeat<-1&&p)return this.totalTime(S*100+i,s,o);if(b=Wr(v%S),v===c?(E=this._repeat,b=f):(T=Wr(v/S),E=~~T,E&&E===T?(b=f,E--):b>f&&(b=f)),A=this._yoyo&&E&1,A&&(M=this._yEase,b=f-b),T=rv(this._tTime,S),b===u&&!o&&this._initted&&E===T)return this._tTime=v,this;E!==T&&(O&&this._yEase&&OV(O,A),this.vars.repeatRefresh&&!A&&!this._lock&&b!==S&&this._initted&&(this._lock=o=1,this.render(Wr(S*E),!0).invalidate()._lock=0))}if(!this._initted){if(mV(this,p?i:b,o,s,v))return this._tTime=0,this;if(u!==this._time&&!(o&&this.vars.repeatRefresh&&E!==T))return this;if(f!==this._dur)return this.render(i,s,o)}if(this._tTime=v,this._time=b,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=P=(M||this._ease)(b/f),this._from&&(this.ratio=P=1-P),b&&!u&&!s&&!E&&(ya(this,"onStart"),this._tTime!==v))return this;for(y=this._pt;y;)y.r(P,y.d),y=y._next;O&&O.render(i<0?i:O._dur*O._ease(b/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(p&&B3(this,i,s,o),ya(this,"onUpdate")),this._repeat&&E!==T&&this.vars.onRepeat&&!s&&this.parent&&ya(this,"onRepeat"),(v===this._tDur||!v)&&this._tTime===v&&(p&&!this._onUpdate&&B3(this,i,!0,!0),(i||!f)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&kd(this,1),!s&&!(p&&!u)&&(v||u||A)&&(ya(this,v===c?"onComplete":"onReverseComplete",!0),this._prom&&!(v<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,u,c){W_||va.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||mM(this,f),p=this._ease(f/this._dur),WQ(this,i,s,o,u,p,f,c)?this.resetTo(i,s,o,u,1):(Jw(this,0),this.parent||fV(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Q0(this):this.scrollTrigger&&this.scrollTrigger.kill(!!wi),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,_d&&_d.vars.overwrite!==!0)._first||Q0(this),this.parent&&o!==this.timeline.totalDuration()&&iv(this,this._dur*this.timeline._tDur/o,0,1),this}var u=this._targets,c=i?ro(i):u,f=this._ptLookup,p=this._pt,v,b,y,E,S,T,A;if((!s||s==="all")&&xQ(u,c))return s==="all"&&(this._pt=0),Q0(this);for(v=this._op=this._op||[],s!=="all"&&(li(s)&&(S={},zs(s,function(P){return S[P]=1}),s=S),s=$Q(u,s)),A=u.length;A--;)if(~c.indexOf(u[A])){b=f[A],s==="all"?(v[A]=s,E=b,y={}):(y=v[A]=v[A]||{},E=s);for(S in E)T=b&&b[S],T&&((!("kill"in T.d)||T.d.kill(S)===!0)&&Zw(this,T,"_pt"),delete b[S]),y!=="all"&&(y[S]=1)}return this._initted&&!this._pt&&p&&Q0(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return y_(1,arguments)},e.delayedCall=function(i,s,o,u){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:u})},e.fromTo=function(i,s,o){return y_(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return or.killTweensOf(i,s,o)},e}($_);Aa(Hr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});zs("staggerTo,staggerFrom,staggerFromTo",function(t){Hr[t]=function(){var e=new us,n=I3.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var vM=function(e,n,r){return e[n]=r},NV=function(e,n,r){return e[n](r)},XQ=function(e,n,r,i){return e[n](i.fp,r)},YQ=function(e,n,r){return e.setAttribute(n,r)},bM=function(e,n){return vr(e[n])?NV:lM(e[n])&&e.setAttribute?YQ:vM},UV=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},qQ=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},FV=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},_M=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},KQ=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},ZQ=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?Zw(this,n,"_pt"):n.dep||(r=1),n=i;return!r},QQ=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},LV=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},Vs=function(){function t(n,r,i,s,o,u,c,f,p){this.t=r,this.s=s,this.c=o,this.p=i,this.r=u||UV,this.d=c||this,this.set=f||vM,this.pr=p||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=QQ,this.m=r,this.mt=s,this.tween=i},t}();zs(fM+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return hM[t]=1});Ca.TweenMax=Ca.TweenLite=Hr;Ca.TimelineLite=Ca.TimelineMax=us;or=new us({sortChildren:!1,defaults:tv,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});xa.stringFilter=RV;var Lf=[],rS={},JQ=[],Nk=0,eJ=0,IC=function(e){return(rS[e]||JQ).map(function(n){return n()})},L3=function(){var e=Date.now(),n=[];e-Nk>2&&(IC("matchMediaInit"),Lf.forEach(function(r){var i=r.queries,s=r.conditions,o,u,c,f;for(u in i)o=Rl.matchMedia(i[u]).matches,o&&(c=1),o!==s[u]&&(s[u]=o,f=1);f&&(r.revert(),c&&n.push(r))}),IC("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),Nk=e,IC("matchMedia"))},GV=function(){function t(n,r){this.selector=r&&N3(r),this.data=[],this._r=[],this.isReverted=!1,this.id=eJ++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){vr(r)&&(s=i,i=r,r=vr);var o=this,u=function(){var f=tr,p=o.selector,v;return f&&f!==o&&f.data.push(o),s&&(o.selector=N3(s)),tr=o,v=i.apply(o,arguments),vr(v)&&o._r.push(v),tr=f,o.selector=p,o.isReverted=!1,v};return o.last=u,r===vr?u(o,function(c){return o.add(null,c)}):r?o[r]=u:u},e.ignore=function(r){var i=tr;tr=null,r(this),tr=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Hr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var u=s.getTweens(),c=s.data.length,f;c--;)f=s.data[c],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(p){return u.splice(u.indexOf(p),1)}));for(u.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,v){return v.g-p.g||-1/0}).forEach(function(p){return p.t.revert(r)}),c=s.data.length;c--;)f=s.data[c],f instanceof us?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof Hr)&&f.revert&&f.revert(r);s._r.forEach(function(p){return p(r,s)}),s.isReverted=!0}():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),i)for(var o=Lf.length;o--;)Lf[o].id===this.id&&Lf.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),tJ=function(){function t(n){this.contexts=[],this.scope=n,tr&&tr.data.push(this)}var e=t.prototype;return e.add=function(r,i,s){Kl(r)||(r={matches:r});var o=new GV(0,s||this.scope),u=o.conditions={},c,f,p;tr&&!o.selector&&(o.selector=tr.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(f in r)f==="all"?p=1:(c=Rl.matchMedia(r[f]),c&&(Lf.indexOf(o)<0&&Lf.push(o),(u[f]=c.matches)&&(p=1),c.addListener?c.addListener(L3):c.addEventListener("change",L3)));return p&&i(o,function(v){return o.add(null,v)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),LS={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return TV(i)})},timeline:function(e){return new us(e)},getTweensOf:function(e,n){return or.getTweensOf(e,n)},getProperty:function(e,n,r,i){li(e)&&(e=ro(e)[0]);var s=Nf(e||{}).get,o=r?hV:dV;return r==="native"&&(r=""),e&&(n?o((ga[n]&&ga[n].get||s)(e,n,r,i)):function(u,c,f){return o((ga[u]&&ga[u].get||s)(e,u,c,f))})},quickSetter:function(e,n,r){if(e=ro(e),e.length>1){var i=e.map(function(p){return $s.quickSetter(p,n,r)}),s=i.length;return function(p){for(var v=s;v--;)i[v](p)}}e=e[0]||{};var o=ga[n],u=Nf(e),c=u.harness&&(u.harness.aliases||{})[n]||n,f=o?function(p){var v=new o;fm._pt=0,v.init(e,r?p+r:p,fm,0,[e]),v.render(1,v),fm._pt&&_M(1,fm)}:u.set(e,c);return o?f:function(p){return f(e,c,r?p+r:p,u,1)}},quickTo:function(e,n,r){var i,s=$s.to(e,Aa((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(c,f,p){return s.resetTo(n,c,f,p)};return o.tween=s,o},isTweening:function(e){return or.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ff(e.ease,tv.ease)),Mk(tv,e||{})},config:function(e){return Mk(xa,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(u){return u&&!ga[u]&&!Ca[u]&&z_(n+" effect requires "+u+" plugin.")}),MC[n]=function(u,c,f){return r(ro(u),Aa(c||{},s),f)},o&&(us.prototype[n]=function(u,c,f){return this.add(MC[n](u,Kl(c)?c:(f=c)&&{},this),f)})},registerEase:function(e,n){Jt[e]=Ff(n)},parseEase:function(e,n){return arguments.length?Ff(e,n):Jt},getById:function(e){return or.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new us(e),i,s;for(r.smoothChildTiming=Gs(e.smoothChildTiming),or.remove(r),r._dp=0,r._time=r._tTime=or._time,i=or._first;i;)s=i._next,(n||!(!i._dur&&i instanceof Hr&&i.vars.onComplete===i._targets[0]))&&Il(r,i,i._start-i._delay),i=s;return Il(or,r,0),r},context:function(e,n){return e?new GV(e,n):tr},matchMedia:function(e){return new tJ(e)},matchMediaRefresh:function(){return Lf.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||L3()},addEventListener:function(e,n){var r=rS[e]||(rS[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=rS[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:BQ,wrapYoyo:kQ,distribute:_V,random:xV,snap:yV,normalize:DQ,getUnit:zi,clamp:RQ,splitColor:CV,toArray:ro,selector:N3,mapRange:wV,pipe:OQ,unitize:MQ,interpolate:IQ,shuffle:bV},install:aV,effects:MC,ticker:va,updateRoot:us.updateRoot,plugins:ga,globalTimeline:or,core:{PropTween:Vs,globals:oV,Tween:Hr,Timeline:us,Animation:$_,getCache:Nf,_removeLinkedListItem:Zw,reverting:function(){return wi},context:function(e){return e&&tr&&(tr.data.push(e),e._ctx=tr),tr},suppressOverwrites:function(e){return oM=e}}};zs("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return LS[t]=Hr[t]});va.add(us.updateRoot);fm=LS.to({},{duration:0});var nJ=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},rJ=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=nJ(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},NC=function(e,n){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(u){var c,f;if(li(s)&&(c={},zs(s,function(p){return c[p]=1}),s=c),n){c={};for(f in s)c[f]=n(s[f]);s=c}rJ(u,s)}}}},$s=LS.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,u,c;this.tween=r;for(o in n)c=e.getAttribute(o)||"",u=this.add(e,"setAttribute",(c||0)+"",n[o],i,s,0,0,o),u.op=o,u.b=c,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)wi?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},NC("roundProps",U3),NC("modifiers"),NC("snap",yV))||LS;Hr.version=us.version=$s.version="3.12.7";sV=1;uM()&&sv();Jt.Power0;Jt.Power1;Jt.Power2;Jt.Power3;Jt.Power4;Jt.Linear;Jt.Quad;Jt.Cubic;Jt.Quart;Jt.Quint;Jt.Strong;Jt.Elastic;Jt.Back;Jt.SteppedEase;Jt.Bounce;Jt.Sine;Jt.Expo;Jt.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Uk,yd,Dm,yM,Af,Fk,xM,iJ=function(){return typeof window<"u"},sc={},Sf=180/Math.PI,Bm=Math.PI/180,Zg=Math.atan2,Lk=1e8,SM=/([A-Z])/g,sJ=/(left|right|width|margin|padding|x)/i,aJ=/[\s,\(]\S/,Ul={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},G3=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},oJ=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},lJ=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},uJ=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},zV=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},VV=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},cJ=function(e,n,r){return e.style[n]=r},dJ=function(e,n,r){return e.style.setProperty(n,r)},hJ=function(e,n,r){return e._gsap[n]=r},fJ=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},pJ=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},gJ=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},ur="transform",Hs=ur+"Origin",mJ=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in sc&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Ul[e]||e,~e.indexOf(",")?e.split(",").forEach(function(u){return r.tfm[u]=Vu(i,u)}):this.tfm[e]=o.x?o[e]:Vu(i,e),e===Hs&&(this.tfm.zOrigin=o.zOrigin);else return Ul.transform.split(",").forEach(function(u){return t.call(r,u,n)});if(this.props.indexOf(ur)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Hs,n,"")),e=ur}(s||n)&&this.props.push(e,n,s[e])},HV=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},vJ=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?n[e[s]](e[s+2]):n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(SM,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=xM(),(!s||!s.isStart)&&!r[ur]&&(HV(r),i.zOrigin&&r[Hs]&&(r[Hs]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},WV=function(e,n){var r={target:e,props:[],revert:vJ,save:mJ};return e._gsap||$s.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},$V,z3=function(e,n){var r=yd.createElementNS?yd.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):yd.createElement(e);return r&&r.style?r:yd.createElement(e)},Wl=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(SM,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,av(n)||n,1)||""},Gk="O,Moz,ms,Ms,Webkit".split(","),av=function(e,n,r){var i=n||Af,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Gk[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Gk[o]:"")+e},V3=function(){iJ()&&window.document&&(Uk=window,yd=Uk.document,Dm=yd.documentElement,Af=z3("div")||{style:{}},z3("div"),ur=av(ur),Hs=ur+"Origin",Af.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",$V=!!av("perspective"),xM=$s.core.reverting,yM=1)},zk=function(e){var n=e.ownerSVGElement,r=z3("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),Dm.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),Dm.removeChild(r),s},Vk=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},jV=function(e){var n,r;try{n=e.getBBox()}catch{n=zk(e),r=1}return n&&(n.width||n.height)||r||(n=zk(e)),n&&!n.width&&!n.x&&!n.y?{x:+Vk(e,["x","cx","x1"])||0,y:+Vk(e,["y","cy","y1"])||0,width:0,height:0}:n},XV=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&jV(e))},Yf=function(e,n){if(n){var r=e.style,i;n in sc&&n!==Hs&&(n=ur),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(SM,"-$1").toLowerCase())):r.removeAttribute(n)}},xd=function(e,n,r,i,s,o){var u=new Vs(e._pt,n,r,0,1,o?VV:zV);return e._pt=u,u.b=i,u.e=s,e._props.push(r),u},Hk={deg:1,rad:1,turn:1},bJ={grid:1,flex:1},Id=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",u=Af.style,c=sJ.test(n),f=e.tagName.toLowerCase()==="svg",p=(f?"client":"offset")+(c?"Width":"Height"),v=100,b=i==="px",y=i==="%",E,S,T,A;if(i===o||!s||Hk[i]||Hk[o])return s;if(o!=="px"&&!b&&(s=t(e,n,r,"px")),A=e.getCTM&&XV(e),(y||o==="%")&&(sc[n]||~n.indexOf("adius")))return E=A?e.getBBox()[c?"width":"height"]:e[p],Pr(y?s/E*v:s/100*E);if(u[c?"width":"height"]=v+(b?o:i),S=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!f?e:e.parentNode,A&&(S=(e.ownerSVGElement||{}).parentNode),(!S||S===yd||!S.appendChild)&&(S=yd.body),T=S._gsap,T&&y&&T.width&&c&&T.time===va.time&&!T.uncache)return Pr(s/T.width*v);if(y&&(n==="height"||n==="width")){var P=e.style[n];e.style[n]=v+i,E=e[p],P?e.style[n]=P:Yf(e,n)}else(y||o==="%")&&!bJ[Wl(S,"display")]&&(u.position=Wl(e,"position")),S===e&&(u.position="static"),S.appendChild(Af),E=Af[p],S.removeChild(Af),u.position="absolute";return c&&y&&(T=Nf(S),T.time=va.time,T.width=S[p]),Pr(b?E*s/v:E&&s?v/E*s:0)},Vu=function(e,n,r,i){var s;return yM||V3(),n in Ul&&n!=="transform"&&(n=Ul[n],~n.indexOf(",")&&(n=n.split(",")[0])),sc[n]&&n!=="transform"?(s=X_(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:zS(Wl(e,Hs))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=GS[n]&&GS[n](e,n,r)||Wl(e,n)||uV(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Id(e,n,s,r)+r:s},_J=function(e,n,r,i){if(!r||r==="none"){var s=av(n,e,1),o=s&&Wl(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=Wl(e,"borderTopColor"))}var u=new Vs(this._pt,e.style,n,0,1,FV),c=0,f=0,p,v,b,y,E,S,T,A,P,O,M,D;if(u.b=r,u.e=i,r+="",i+="",i==="auto"&&(S=e.style[n],e.style[n]=i,i=Wl(e,n)||i,S?e.style[n]=S:Yf(e,n)),p=[r,i],RV(p),r=p[0],i=p[1],b=r.match(hm)||[],D=i.match(hm)||[],D.length){for(;v=hm.exec(i);)T=v[0],P=i.substring(c,v.index),E?E=(E+1)%5:(P.substr(-5)==="rgba("||P.substr(-5)==="hsla(")&&(E=1),T!==(S=b[f++]||"")&&(y=parseFloat(S)||0,M=S.substr((y+"").length),T.charAt(1)==="="&&(T=Mm(y,T)+M),A=parseFloat(T),O=T.substr((A+"").length),c=hm.lastIndex-O.length,O||(O=O||xa.units[n]||M,c===i.length&&(i+=O,u.e+=O)),M!==O&&(y=Id(e,n,S,O)||0),u._pt={_next:u._pt,p:P||f===1?P:",",s:y,c:A-y,m:E&&E<4||n==="zIndex"?Math.round:0});u.c=c<i.length?i.substring(c,i.length):""}else u.r=n==="display"&&i==="none"?VV:zV;return rV.test(i)&&(u.e=0),this._pt=u,u},Wk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},yJ=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=Wk[r]||r,n[1]=Wk[i]||i,n.join(" ")},xJ=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,u,c,f;if(s==="all"||s===!0)i.cssText="",c=1;else for(s=s.split(","),f=s.length;--f>-1;)u=s[f],sc[u]&&(c=1,u=u==="transformOrigin"?Hs:ur),Yf(r,u);c&&(Yf(r,ur),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",X_(r,1),o.uncache=1,HV(i)))}},GS={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Vs(e._pt,n,r,0,0,xJ);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},j_=[1,0,0,1,0,0],YV={},qV=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},$k=function(e){var n=Wl(e,ur);return qV(n)?j_:n.substr(7).match(nV).map(Pr)},wM=function(e,n){var r=e._gsap||Nf(e),i=e.style,s=$k(e),o,u,c,f;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,s=[c.a,c.b,c.c,c.d,c.e,c.f],s.join(",")==="1,0,0,1,0,0"?j_:s):(s===j_&&!e.offsetParent&&e!==Dm&&!r.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,u=e.nextElementSibling,Dm.appendChild(e)),s=$k(e),c?i.display=c:Yf(e,"display"),f&&(u?o.insertBefore(e,u):o?o.appendChild(e):Dm.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},H3=function(e,n,r,i,s,o){var u=e._gsap,c=s||wM(e,!0),f=u.xOrigin||0,p=u.yOrigin||0,v=u.xOffset||0,b=u.yOffset||0,y=c[0],E=c[1],S=c[2],T=c[3],A=c[4],P=c[5],O=n.split(" "),M=parseFloat(O[0])||0,D=parseFloat(O[1])||0,W,G,Y,L;r?c!==j_&&(G=y*T-E*S)&&(Y=M*(T/G)+D*(-S/G)+(S*P-T*A)/G,L=M*(-E/G)+D*(y/G)-(y*P-E*A)/G,M=Y,D=L):(W=jV(e),M=W.x+(~O[0].indexOf("%")?M/100*W.width:M),D=W.y+(~(O[1]||O[0]).indexOf("%")?D/100*W.height:D)),i||i!==!1&&u.smooth?(A=M-f,P=D-p,u.xOffset=v+(A*y+P*S)-A,u.yOffset=b+(A*E+P*T)-P):u.xOffset=u.yOffset=0,u.xOrigin=M,u.yOrigin=D,u.smooth=!!i,u.origin=n,u.originIsAbsolute=!!r,e.style[Hs]="0px 0px",o&&(xd(o,u,"xOrigin",f,M),xd(o,u,"yOrigin",p,D),xd(o,u,"xOffset",v,u.xOffset),xd(o,u,"yOffset",b,u.yOffset)),e.setAttribute("data-svg-origin",M+" "+D)},X_=function(e,n){var r=e._gsap||new DV(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",u="deg",c=getComputedStyle(e),f=Wl(e,Hs)||"0",p,v,b,y,E,S,T,A,P,O,M,D,W,G,Y,L,X,Z,ee,be,Te,he,R,N,z,K,U,j,ne,re,we,Ce;return p=v=b=S=T=A=P=O=M=0,y=E=1,r.svg=!!(e.getCTM&&XV(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[ur]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[ur]!=="none"?c[ur]:"")),i.scale=i.rotate=i.translate="none"),G=wM(e,r.svg),r.svg&&(r.uncache?(z=e.getBBox(),f=r.xOrigin-z.x+"px "+(r.yOrigin-z.y)+"px",N=""):N=!n&&e.getAttribute("data-svg-origin"),H3(e,N||f,!!N||r.originIsAbsolute,r.smooth!==!1,G)),D=r.xOrigin||0,W=r.yOrigin||0,G!==j_&&(Z=G[0],ee=G[1],be=G[2],Te=G[3],p=he=G[4],v=R=G[5],G.length===6?(y=Math.sqrt(Z*Z+ee*ee),E=Math.sqrt(Te*Te+be*be),S=Z||ee?Zg(ee,Z)*Sf:0,P=be||Te?Zg(be,Te)*Sf+S:0,P&&(E*=Math.abs(Math.cos(P*Bm))),r.svg&&(p-=D-(D*Z+W*be),v-=W-(D*ee+W*Te))):(Ce=G[6],re=G[7],U=G[8],j=G[9],ne=G[10],we=G[11],p=G[12],v=G[13],b=G[14],Y=Zg(Ce,ne),T=Y*Sf,Y&&(L=Math.cos(-Y),X=Math.sin(-Y),N=he*L+U*X,z=R*L+j*X,K=Ce*L+ne*X,U=he*-X+U*L,j=R*-X+j*L,ne=Ce*-X+ne*L,we=re*-X+we*L,he=N,R=z,Ce=K),Y=Zg(-be,ne),A=Y*Sf,Y&&(L=Math.cos(-Y),X=Math.sin(-Y),N=Z*L-U*X,z=ee*L-j*X,K=be*L-ne*X,we=Te*X+we*L,Z=N,ee=z,be=K),Y=Zg(ee,Z),S=Y*Sf,Y&&(L=Math.cos(Y),X=Math.sin(Y),N=Z*L+ee*X,z=he*L+R*X,ee=ee*L-Z*X,R=R*L-he*X,Z=N,he=z),T&&Math.abs(T)+Math.abs(S)>359.9&&(T=S=0,A=180-A),y=Pr(Math.sqrt(Z*Z+ee*ee+be*be)),E=Pr(Math.sqrt(R*R+Ce*Ce)),Y=Zg(he,R),P=Math.abs(Y)>2e-4?Y*Sf:0,M=we?1/(we<0?-we:we):0),r.svg&&(N=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!qV(Wl(e,ur)),N&&e.setAttribute("transform",N))),Math.abs(P)>90&&Math.abs(P)<270&&(s?(y*=-1,P+=S<=0?180:-180,S+=S<=0?180:-180):(E*=-1,P+=P<=0?180:-180)),n=n||r.uncache,r.x=p-((r.xPercent=p&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=v-((r.yPercent=v&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-v)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=b+o,r.scaleX=Pr(y),r.scaleY=Pr(E),r.rotation=Pr(S)+u,r.rotationX=Pr(T)+u,r.rotationY=Pr(A)+u,r.skewX=P+u,r.skewY=O+u,r.transformPerspective=M+o,(r.zOrigin=parseFloat(f.split(" ")[2])||!n&&r.zOrigin||0)&&(i[Hs]=zS(f)),r.xOffset=r.yOffset=0,r.force3D=xa.force3D,r.renderTransform=r.svg?wJ:$V?KV:SJ,r.uncache=0,r},zS=function(e){return(e=e.split(" "))[0]+" "+e[1]},UC=function(e,n,r){var i=zi(n);return Pr(parseFloat(n)+parseFloat(Id(e,"x",r+"px",i)))+i},SJ=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,KV(e,n)},cf="0deg",P0="0px",df=") ",KV=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,u=r.y,c=r.z,f=r.rotation,p=r.rotationY,v=r.rotationX,b=r.skewX,y=r.skewY,E=r.scaleX,S=r.scaleY,T=r.transformPerspective,A=r.force3D,P=r.target,O=r.zOrigin,M="",D=A==="auto"&&e&&e!==1||A===!0;if(O&&(v!==cf||p!==cf)){var W=parseFloat(p)*Bm,G=Math.sin(W),Y=Math.cos(W),L;W=parseFloat(v)*Bm,L=Math.cos(W),o=UC(P,o,G*L*-O),u=UC(P,u,-Math.sin(W)*-O),c=UC(P,c,Y*L*-O+O)}T!==P0&&(M+="perspective("+T+df),(i||s)&&(M+="translate("+i+"%, "+s+"%) "),(D||o!==P0||u!==P0||c!==P0)&&(M+=c!==P0||D?"translate3d("+o+", "+u+", "+c+") ":"translate("+o+", "+u+df),f!==cf&&(M+="rotate("+f+df),p!==cf&&(M+="rotateY("+p+df),v!==cf&&(M+="rotateX("+v+df),(b!==cf||y!==cf)&&(M+="skew("+b+", "+y+df),(E!==1||S!==1)&&(M+="scale("+E+", "+S+df),P.style[ur]=M||"translate(0, 0)"},wJ=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,u=r.y,c=r.rotation,f=r.skewX,p=r.skewY,v=r.scaleX,b=r.scaleY,y=r.target,E=r.xOrigin,S=r.yOrigin,T=r.xOffset,A=r.yOffset,P=r.forceCSS,O=parseFloat(o),M=parseFloat(u),D,W,G,Y,L;c=parseFloat(c),f=parseFloat(f),p=parseFloat(p),p&&(p=parseFloat(p),f+=p,c+=p),c||f?(c*=Bm,f*=Bm,D=Math.cos(c)*v,W=Math.sin(c)*v,G=Math.sin(c-f)*-b,Y=Math.cos(c-f)*b,f&&(p*=Bm,L=Math.tan(f-p),L=Math.sqrt(1+L*L),G*=L,Y*=L,p&&(L=Math.tan(p),L=Math.sqrt(1+L*L),D*=L,W*=L)),D=Pr(D),W=Pr(W),G=Pr(G),Y=Pr(Y)):(D=v,Y=b,W=G=0),(O&&!~(o+"").indexOf("px")||M&&!~(u+"").indexOf("px"))&&(O=Id(y,"x",o,"px"),M=Id(y,"y",u,"px")),(E||S||T||A)&&(O=Pr(O+E-(E*D+S*G)+T),M=Pr(M+S-(E*W+S*Y)+A)),(i||s)&&(L=y.getBBox(),O=Pr(O+i/100*L.width),M=Pr(M+s/100*L.height)),L="matrix("+D+","+W+","+G+","+Y+","+O+","+M+")",y.setAttribute("transform",L),P&&(y.style[ur]=L)},EJ=function(e,n,r,i,s){var o=360,u=li(s),c=parseFloat(s)*(u&&~s.indexOf("rad")?Sf:1),f=c-i,p=i+f+"deg",v,b;return u&&(v=s.split("_")[1],v==="short"&&(f%=o,f!==f%(o/2)&&(f+=f<0?o:-360)),v==="cw"&&f<0?f=(f+o*Lk)%o-~~(f/o)*o:v==="ccw"&&f>0&&(f=(f-o*Lk)%o-~~(f/o)*o)),e._pt=b=new Vs(e._pt,n,r,i,f,oJ),b.e=p,b.u="deg",e._props.push(r),b},jk=function(e,n){for(var r in n)e[r]=n[r];return e},TJ=function(e,n,r){var i=jk({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,u,c,f,p,v,b,y,E;i.svg?(f=r.getAttribute("transform"),r.setAttribute("transform",""),o[ur]=n,u=X_(r,1),Yf(r,ur),r.setAttribute("transform",f)):(f=getComputedStyle(r)[ur],o[ur]=n,u=X_(r,1),o[ur]=f);for(c in sc)f=i[c],p=u[c],f!==p&&s.indexOf(c)<0&&(y=zi(f),E=zi(p),v=y!==E?Id(r,c,f,E):parseFloat(f),b=parseFloat(p),e._pt=new Vs(e._pt,u,c,v,b-v,G3),e._pt.u=E||0,e._props.push(c));jk(u,i)};zs("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(u){return e<2?t+u:"border"+u+t});GS[e>1?"border"+t:t]=function(u,c,f,p,v){var b,y;if(arguments.length<4)return b=o.map(function(E){return Vu(u,E,f)}),y=b.join(" "),y.split(b[0]).length===5?b[0]:y;b=(p+"").split(" "),y={},o.forEach(function(E,S){return y[E]=b[S]=b[S]||b[(S-1)/2|0]}),u.init(c,y,v)}});var ZV={name:"css",register:V3,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,u=e.style,c=r.vars.startAt,f,p,v,b,y,E,S,T,A,P,O,M,D,W,G,Y;yM||V3(),this.styles=this.styles||WV(e),Y=this.styles.props,this.tween=r;for(S in n)if(S!=="autoRound"&&(p=n[S],!(ga[S]&&BV(S,n,r,i,e,s)))){if(y=typeof p,E=GS[S],y==="function"&&(p=p.call(r,i,e,s),y=typeof p),y==="string"&&~p.indexOf("random(")&&(p=H_(p)),E)E(this,e,S,p,r)&&(G=1);else if(S.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(S)+"").trim(),p+="",Rd.lastIndex=0,Rd.test(f)||(T=zi(f),A=zi(p)),A?T!==A&&(f=Id(e,S,f,A)+A):T&&(p+=T),this.add(u,"setProperty",f,p,i,s,0,0,S),o.push(S),Y.push(S,0,u[S]);else if(y!=="undefined"){if(c&&S in c?(f=typeof c[S]=="function"?c[S].call(r,i,e,s):c[S],li(f)&&~f.indexOf("random(")&&(f=H_(f)),zi(f+"")||f==="auto"||(f+=xa.units[S]||zi(Vu(e,S))||""),(f+"").charAt(1)==="="&&(f=Vu(e,S))):f=Vu(e,S),b=parseFloat(f),P=y==="string"&&p.charAt(1)==="="&&p.substr(0,2),P&&(p=p.substr(2)),v=parseFloat(p),S in Ul&&(S==="autoAlpha"&&(b===1&&Vu(e,"visibility")==="hidden"&&v&&(b=0),Y.push("visibility",0,u.visibility),xd(this,u,"visibility",b?"inherit":"hidden",v?"inherit":"hidden",!v)),S!=="scale"&&S!=="transform"&&(S=Ul[S],~S.indexOf(",")&&(S=S.split(",")[0]))),O=S in sc,O){if(this.styles.save(S),M||(D=e._gsap,D.renderTransform&&!n.parseTransform||X_(e,n.parseTransform),W=n.smoothOrigin!==!1&&D.smooth,M=this._pt=new Vs(this._pt,u,ur,0,1,D.renderTransform,D,0,-1),M.dep=1),S==="scale")this._pt=new Vs(this._pt,D,"scaleY",D.scaleY,(P?Mm(D.scaleY,P+v):v)-D.scaleY||0,G3),this._pt.u=0,o.push("scaleY",S),S+="X";else if(S==="transformOrigin"){Y.push(Hs,0,u[Hs]),p=yJ(p),D.svg?H3(e,p,0,W,0,this):(A=parseFloat(p.split(" ")[2])||0,A!==D.zOrigin&&xd(this,D,"zOrigin",D.zOrigin,A),xd(this,u,S,zS(f),zS(p)));continue}else if(S==="svgOrigin"){H3(e,p,1,W,0,this);continue}else if(S in YV){EJ(this,D,S,b,P?Mm(b,P+p):p);continue}else if(S==="smoothOrigin"){xd(this,D,"smooth",D.smooth,p);continue}else if(S==="force3D"){D[S]=p;continue}else if(S==="transform"){TJ(this,p,e);continue}}else S in u||(S=av(S)||S);if(O||(v||v===0)&&(b||b===0)&&!aJ.test(p)&&S in u)T=(f+"").substr((b+"").length),v||(v=0),A=zi(p)||(S in xa.units?xa.units[S]:T),T!==A&&(b=Id(e,S,f,A)),this._pt=new Vs(this._pt,O?D:u,S,b,(P?Mm(b,P+v):v)-b,!O&&(A==="px"||S==="zIndex")&&n.autoRound!==!1?uJ:G3),this._pt.u=A||0,T!==A&&A!=="%"&&(this._pt.b=f,this._pt.r=lJ);else if(S in u)_J.call(this,e,S,f,P?P+p:p);else if(S in e)this.add(e,S,f||e[S],P?P+p:p,i,s);else if(S!=="parseTransform"){dM(S,p);continue}O||(S in u?Y.push(S,0,u[S]):typeof e[S]=="function"?Y.push(S,2,e[S]()):Y.push(S,1,f||e[S])),o.push(S)}}G&&LV(this)},render:function(e,n){if(n.tween._time||!xM())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Vu,aliases:Ul,getSetter:function(e,n,r){var i=Ul[n];return i&&i.indexOf(",")<0&&(n=i),n in sc&&n!==Hs&&(e._gsap.x||Vu(e,"x"))?r&&Fk===r?n==="scale"?fJ:hJ:(Fk=r||{})&&(n==="scale"?pJ:gJ):e.style&&!lM(e.style[n])?cJ:~n.indexOf("-")?dJ:bM(e,n)},core:{_removeProperty:Yf,_getMatrix:wM}};$s.utils.checkPrefix=av;$s.core.getStyleSaver=WV;(function(t,e,n,r){var i=zs(t+","+e+","+n,function(s){sc[s]=1});zs(e,function(s){xa.units[s]="deg",YV[s]=1}),Ul[i[13]]=t+","+e,zs(r,function(s){var o=s.split(":");Ul[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");zs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){xa.units[t]="px"});$s.registerPlugin(ZV);var Hu=$s.registerPlugin(ZV)||$s;Hu.core.Tween;/*!
 * PixiPlugin 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Sd,VS,Xk,Ja,S_,QV,W3,EM,JV=function(){return typeof window<"u"},eH=function(){return Sd||JV()&&(Sd=window.gsap)&&Sd.registerPlugin&&Sd},$3=function(e){return typeof e=="function"},tH=function(e){return console.warn(e)},CJ=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],wd=.212671,qu=.71516,Dl=.072169,nH=function(e){return $3(Ja[e])?Ja[e]:Ja.filters[e]},eE=function(e,n){var r=[],i=0,s=0,o,u;for(o=0;o<4;o++){for(u=0;u<5;u++)s=u===4?e[i+4]:0,r[i+u]=e[i]*n[u]+e[i+1]*n[u+5]+e[i+2]*n[u+10]+e[i+3]*n[u+15]+s;i+=5}return r},Yk=function(e,n){var r=1-n,i=r*wd,s=r*qu,o=r*Dl;return eE([i+n,s,o,0,0,i,s+n,o,0,0,i,s,o+n,0,0,0,0,0,1,0],e)},qk=function(e,n,r){var i=VS(n),s=i[0]/255,o=i[1]/255,u=i[2]/255,c=1-r;return eE([c+r*s*wd,r*s*qu,r*s*Dl,0,0,r*o*wd,c+r*o*qu,r*o*Dl,0,0,r*u*wd,r*u*qu,c+r*u*Dl,0,0,0,0,0,1,0],e)},Kk=function(e,n){n*=Math.PI/180;var r=Math.cos(n),i=Math.sin(n);return eE([wd+r*(1-wd)+i*-.212671,qu+r*-.71516+i*-.71516,Dl+r*-.072169+i*(1-Dl),0,0,wd+r*-.212671+i*.143,qu+r*(1-qu)+i*.14,Dl+r*-.072169+i*-.283,0,0,wd+r*-.212671+i*-.787329,qu+r*-.71516+i*qu,Dl+r*(1-Dl)+i*Dl,0,0,0,0,0,1,0,0,0,0,0,1],e)},Zk=function(e,n){return eE([n,0,0,0,.5*(1-n),0,n,0,0,.5*(1-n),0,0,n,0,.5*(1-n),0,0,0,1,0],e)},rH=function(e,n){var r=nH(n),i=e.filters||[],s=i.length,o;for(r||tH(n+" not found. PixiPlugin.registerPIXI(PIXI)");--s>-1;)if(i[s]instanceof r)return i[s];return o=new r,n==="BlurFilter"&&(o.blur=0),i.push(o),e.filters=i,o},si=function(e,n,r,i){n.add(r,e,r[e],i[e]),n._props.push(e)},Qk=function(e,n){var r=nH("ColorMatrixFilter"),i=new r;return i.matrix=n,i.brightness(e,!0),i.matrix},AJ=function(e){var n={},r;for(r in e)n[r]=e[r];return n},ca={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},RJ=function(e,n,r){var i=rH(e,"ColorMatrixFilter"),s=e._gsColorMatrixFilter=e._gsColorMatrixFilter||AJ(ca),o=n.combineCMF&&!("colorMatrixFilter"in n&&!n.colorMatrixFilter),u,c,f;for(f=i.matrix,n.resolution&&(i.resolution=n.resolution),n.matrix&&n.matrix.length===f.length?(c=n.matrix,s.contrast!==1&&si("contrast",r,s,ca),s.hue&&si("hue",r,s,ca),s.brightness!==1&&si("brightness",r,s,ca),s.colorizeAmount&&(si("colorize",r,s,ca),si("colorizeAmount",r,s,ca)),s.saturation!==1&&si("saturation",r,s,ca)):(c=CJ.slice(),n.contrast!=null?(c=Zk(c,+n.contrast),si("contrast",r,s,n)):s.contrast!==1&&(o?c=Zk(c,s.contrast):si("contrast",r,s,ca)),n.hue!=null?(c=Kk(c,+n.hue),si("hue",r,s,n)):s.hue&&(o?c=Kk(c,s.hue):si("hue",r,s,ca)),n.brightness!=null?(c=Qk(+n.brightness,c),si("brightness",r,s,n)):s.brightness!==1&&(o?c=Qk(s.brightness,c):si("brightness",r,s,ca)),n.colorize!=null?(n.colorizeAmount="colorizeAmount"in n?+n.colorizeAmount:1,c=qk(c,n.colorize,n.colorizeAmount),si("colorize",r,s,n),si("colorizeAmount",r,s,n)):s.colorizeAmount&&(o?c=qk(c,s.colorize,s.colorizeAmount):(si("colorize",r,s,ca),si("colorizeAmount",r,s,ca))),n.saturation!=null?(c=Yk(c,+n.saturation),si("saturation",r,s,n)):s.saturation!==1&&(o?c=Yk(c,s.saturation):si("saturation",r,s,ca))),u=c.length;--u>-1;)c[u]!==f[u]&&r.add(f,u,f[u],c[u],"colorMatrixFilter");r._props.push("colorMatrixFilter")},PJ=function(e,n){var r=n.t,i=n.p,s=n.color,o=n.set;o(r,i,s[0]<<16|s[1]<<8|s[2])},OJ=function(e,n){var r=n.g;EM?(r.fill(),r.stroke()):r&&(r.dirty++,r.clearDirty++)},MJ=function(e,n){n.t.visible=!!n.t.alpha},Jk=function(e,n,r,i){var s=e[n],o=VS($3(s)?e[n.indexOf("set")||!$3(e["get"+n.substr(3)])?n:"get"+n.substr(3)]():s),u=VS(r);i._pt=new S_(i._pt,e,n,0,0,PJ,{t:e,p:n,color:o,set:QV(e,n)}),i.add(o,0,o[0],u[0]),i.add(o,1,o[1],u[1]),i.add(o,2,o[2],u[2])},DJ={tint:1,lineColor:1,fillColor:1,strokeColor:1},eI="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),j3={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},BJ={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},HS=Math.PI/180,iH=function(e){return typeof e=="string"},kJ=function(e){return iH(e)&&e.charAt(1)==="="?e.substr(0,2)+parseFloat(e.substr(2))*HS:e*HS},IJ=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e5)/1e5,n)},NJ=function(e,n,r,i,s,o){var u=360*(o?HS:1),c=iH(s),f=c&&s.charAt(1)==="="?+(s.charAt(0)+"1"):0,p=parseFloat(f?s.substr(2):s)*(o?HS:1),v=f?p*f:p-i,b=i+v,y,E;return c&&(y=s.split("_")[1],y==="short"&&(v%=u,v!==v%(u/2)&&(v+=v<0?u:-u)),y==="cw"&&v<0?v=(v+u*1e10)%u-~~(v/u)*u:y==="ccw"&&v>0&&(v=(v-u*1e10)%u-~~(v/u)*u)),e._pt=E=new S_(e._pt,n,r,i,v,IJ),E.e=b,E},tI=function(){if(!Xk){Sd=eH(),Ja=Xk=Ja||JV()&&window.PIXI;var e=Ja&&Ja.VERSION&&parseFloat(Ja.VERSION.split(".")[0])||0;W3=e===4,EM=e>=8,VS=function(r){return Sd.utils.splitColor((r+"").substr(0,2)==="0x"?"#"+r.substr(2):r)}}},P2,O0;for(P2=0;P2<eI.length;P2++)O0=eI[P2],j3[O0+"X"]=O0,j3[O0+"Y"]=O0;var TM={version:"3.12.7",name:"pixi",register:function(e,n,r){Sd=e,S_=r,QV=n.getSetter,tI()},headless:!0,registerPIXI:function(e){Ja=e},init:function(e,n,r,i,s){if(Ja||tI(),!Ja)return tH("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,u,c,f,p,v,b,y,E,S;for(v in n){if(o=j3[v],c=n[v],o)u=~v.charAt(v.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[o],u,e[o][u],o==="skew"?kJ(c):c,0,0,0,0,0,1);else if(v==="scale"||v==="anchor"||v==="pivot"||v==="tileScale")this.add(e[v],"x",e[v].x,c),this.add(e[v],"y",e[v].y,c);else if(v==="rotation"||v==="angle")NJ(this,e,v,e[v],c,v==="rotation");else if(BJ[v])f||(RJ(e,n.colorMatrixFilter||n,this),f=!0);else if(v==="blur"||v==="blurX"||v==="blurY"||v==="blurPadding"){if(p=rH(e,"BlurFilter"),this.add(p,v,p[v],c),n.blurPadding!==0)for(b=n.blurPadding||Math.max(p[v],c)*2,y=e.filters.length;--y>-1;)e.filters[y].padding=Math.max(e.filters[y].padding,b)}else if(DJ[v])if((v==="lineColor"||v==="fillColor"||v==="strokeColor")&&e instanceof Ja.Graphics)for(E=("fillStyle"in e)?[e]:(e.geometry||e).graphicsData,S=v.substr(0,v.length-5),EM&&S==="line"&&(S="stroke"),this._pt=new S_(this._pt,e,v,0,0,OJ,{g:e.geometry||e}),y=E.length;--y>-1;)Jk(W3?E[y]:E[y][S+"Style"],W3?v:"color",c,this);else Jk(e,v,c,this);else v==="autoAlpha"?(this._pt=new S_(this._pt,e,"visible",0,0,MJ),this.add(e,"alpha",e.alpha,c),this._props.push("alpha","visible")):v!=="resolution"&&this.add(e,v,"get",c);this._props.push(v)}}};eH()&&Sd.registerPlugin(TM);TM.registerPIXI(WZ);Hu.registerPlugin(TM);var UJ=Object.getOwnPropertyDescriptor,FJ=(t,e,n,r)=>{for(var i=r>1?void 0:r?UJ(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=o(i)||i);return i},O2=(t,e)=>(n,r)=>e(n,r,t);let X3=class{constructor(t,e,n,r){St(this,"isInitialDraw",!0);St(this,"pegEntities",[]);St(this,"grabbedDiskEntity",null);St(this,"collidedPegEntity",null);St(this,"rootLayer",null);St(this,"diskEntitiesPool",[]);St(this,"diskEntities",[]);St(this,"onDisksInteractivityChanged",()=>{this.syncEntitiesInteractivityState()});St(this,"onShowDiskWeightChanged",({show:t})=>{Hu.to(this.diskEntities,{weightTextAlphaChannel:t?1:0,stagger:.05})});St(this,"onGameConditionChanged",()=>{this.gameState.gameCondition==="finished"?Hu.to(this.diskEntities,{endGameColorAlphaChannel:1,stagger:.05}):Hu.to(this.diskEntities,{endGameColorAlphaChannel:0})});St(this,"onPegsGenerated",()=>{this.drawEntities()});St(this,"onDiskPegChange",({dstPeg:t,disk:e})=>{const n=this.pegEntities[t],r=this.findDiskEntityById(e);if(!n||!r){console.warn("Cannot find a peg entity or a disk entity");return}const i=this.gameState.pegs[t];r.move({x:n.centerX,y:this.uiState.canvasViewport.height-(i.length-1)*dm,animate:!0}),this.syncEntitiesInteractivityState()});St(this,"onDiskGrabbed",({weight:t})=>{this.grabbedDiskEntity=this.findDiskEntityById(t),this.grabbedDiskEntity});St(this,"onGrabbedDiskMove",()=>{const{grabbedDiskEntity:t}=this;if(!t)return;const e=t.collisionRect;for(const n of this.pegEntities){const r=n.collisionRect;dQ(r,e)&&(this.collidedPegEntity=n)}});St(this,"onGrabbedDiskRelease",()=>{const{grabbedDiskEntity:t,collidedPegEntity:e}=this;t&&e&&this.gameState.moveDisk({disk:t.weight,peg:e.id}),this.grabbedDiskEntity=null,this.collidedPegEntity=null});St(this,"onRendererViewportChange",()=>{const t=this.calcPegsXPositions();for(let e=0;e<t.length;e++){const n=this.pegEntities[e];if(!n)throw new Error(`Missing peg at index ${e} while recalculating the positions`);n.move({x:t[e],y:this.uiState.canvasViewport.height})}this.drawDisks()});this.eventBus=t,this.gameState=e,this.uiState=n,this.diskEntityFactory=r}bootstrap(t){this.diskEntitiesPool=Cd.range(0,b_).map(e=>{const n=this.diskEntityFactory(e);return n.draw({x:0,y:0,layer:t,weight:e}),n}),this.rootLayer=t,this.attachEventBusListeners(),this.drawEntities()}drawEntities(){this.drawPegs(),this.drawDisks(),this.isInitialDraw=!1}drawDisks(){const t=this.gameState.pegs,e=this.diskEntities;this.diskEntities=[];const n=[];for(let i=0;i<t.length;i++){const s=this.pegEntities[i],o=t[i];let u=0;for(let c=0;c<o.length;c++){const f=o[c];n.push(f);const p=this.diskEntitiesPool[f];if(!p)throw new Error("No disk entity in the disk entities pool");this.diskEntities.push(p),p.weightTextAlphaChannel=this.uiState.showDiskWeight?1:0,p.move({x:s.centerX,y:this.uiState.canvasViewport.height-u*dm,animate:p.alphaChannel!==0}),u++}Hu.to(this.diskEntities,{alphaChannel:1,stagger:.05})}const r=e.filter(i=>!n.includes(i.weight));if(!Cd.isEmpty(r)){Hu.to(r,{alphaChannel:0});for(const i of r)i.disableInteraction()}this.syncEntitiesInteractivityState()}drawPegs(){const t=this.rootLayer,e=this.gameState.pegs,n=this.calcPegsXPositions(),{disksCount:r}=this.gameState,i=(b_-r)*dm;if(this.isInitialDraw)for(let s=0;s<e.length;s++){const o=new cQ(s),u=n[s];o.draw({layer:t,x:u,y:this.uiState.canvasViewport.height,yOffset:i,height:dm*b_}),this.pegEntities.push(o)}else Hu.to(this.pegEntities,{yOffset:i})}attachEventBusListeners(){this.eventBus.on("rendererViewportUpdated",this.onRendererViewportChange),this.eventBus.on("diskGrabbed",this.onDiskGrabbed),this.eventBus.on("grabbedDiskMoved",this.onGrabbedDiskMove),this.eventBus.on("grabbedDiskReleased",this.onGrabbedDiskRelease),this.eventBus.on("diskPegChanged",this.onDiskPegChange),this.eventBus.on("pegsGenerated",this.onPegsGenerated),this.eventBus.on("gameConditionChanged",this.onGameConditionChanged),this.eventBus.on("showDiskWeightChanged",this.onShowDiskWeightChanged),this.eventBus.on("disksInteractivityChanged",this.onDisksInteractivityChanged)}syncEntitiesInteractivityState(){const t=this.gameState.pegs,{isDisksInteractive:e}=this.gameState;for(const n of t)for(let r=0;r<n.length;r++){const i=n[r],s=this.findDiskEntityById(i);s&&(e&&r===n.length-1?s.enableInteraction():s.disableInteraction())}}findDiskEntityById(t){return this.diskEntities.find(e=>e.weight===t)||null}calcPegsXPositions(){const t=this.uiState.canvasViewport.width/4,e=[];for(const n of Cd.range(1,4))e.push(t*n);return e}};X3=FJ([Gd(),O2(0,Ns(rr.eventBus)),O2(1,Ns(rr.gameState)),O2(2,Ns(rr.uiState)),O2(3,Ns(rr.diskEntityFactory))],X3);function an(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var LJ={};function tE(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:LJ}var sH=Object.assign,WS=Object.getOwnPropertyDescriptor,$l=Object.defineProperty,nE=Object.prototype,Y3=[];Object.freeze(Y3);var CM={};Object.freeze(CM);var GJ=typeof Proxy<"u",zJ=Object.toString();function aH(){GJ||an("Proxy not available")}function oH(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var pm=function(){};function Ho(t){return typeof t=="function"}function qf(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function rE(t){return t!==null&&typeof t=="object"}function Nd(t){if(!rE(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===zJ}function lH(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function iE(t,e,n){$l(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function uH(t,e,n){$l(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function op(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return rE(r)&&r[n]===!0}}function bv(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function VJ(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),r=Object.getPrototypeOf(n);return r===null}function Ku(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var cH=typeof Object.getOwnPropertySymbols<"u";function HJ(t){var e=Object.keys(t);if(!cH)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return nE.propertyIsEnumerable.call(t,r)})):e}var sE=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:cH?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function dH(t){return t===null?null:typeof t=="object"?""+t:t}function Ju(t,e){return nE.hasOwnProperty.call(t,e)}var WJ=Object.getOwnPropertyDescriptors||function(e){var n={};return sE(e).forEach(function(r){n[r]=WS(e,r)}),n};function ba(t,e){return!!(t&e)}function _a(t,e,n){return n?t|=e:t&=~e,t}function nI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XJ(r.key),r)}}function _v(t,e,n){return e&&$J(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gm(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=YJ(t))||e){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kf.apply(null,arguments)}function hH(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,q3(t,e)}function q3(t,e){return q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},q3(t,e)}function jJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XJ(t){var e=jJ(t,"string");return typeof e=="symbol"?e:e+""}function YJ(t,e){if(t){if(typeof t=="string")return nI(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nI(t,e):void 0}}var Fl=Symbol("mobx-stored-annotations");function jl(t){function e(n,r){if(vy(r))return t.decorate_20223_(n,r);my(n,r,t)}return Object.assign(e,t)}function my(t,e,n){Ju(t,Fl)||iE(t,Fl,Kf({},t[Fl])),tee(n)||(t[Fl][e]=n)}function qJ(t){return Ju(t,Fl)||iE(t,Fl,Kf({},t[Fl])),t[Fl]}function vy(t){return typeof t=="object"&&typeof t.kind=="string"}var yt=Symbol("mobx administration"),$d=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=un.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return RH(this)},e.reportChanged=function(){io(),PH(this),so()},e.toString=function(){return this.name_},_v(t,[{key:"isBeingObserved",get:function(){return ba(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=_a(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ba(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=_a(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ba(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=_a(this.flags_,t.diffValueMask_,r===1)}}])}();$d.isBeingObservedMask_=1;$d.isPendingUnobservationMask_=2;$d.diffValueMask_=4;var AM=op("Atom",$d);function fH(t,e,n){e===void 0&&(e=pm),n===void 0&&(n=pm);var r=new $d(t);return e!==pm&&ote(r,e),n!==pm&&IH(r,n),r}function KJ(t,e){return XH(t,e)}function ZJ(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var ov={structural:KJ,default:ZJ};function Zf(t,e,n){return LH(t)?t:Array.isArray(t)?nr.array(t,{name:n}):Nd(t)?nr.object(t,void 0,{name:n}):bv(t)?nr.map(t,{name:n}):Ku(t)?nr.set(t,{name:n}):typeof t=="function"&&!q_(t)&&!K_(t)?lH(t)?Jf(t):Y_(n,t):t}function QJ(t,e,n){if(t==null||hE(t)||dE(t)||up(t)||Nl(t))return t;if(Array.isArray(t))return nr.array(t,{name:n,deep:!1});if(Nd(t))return nr.object(t,void 0,{name:n,deep:!1});if(bv(t))return nr.map(t,{name:n,deep:!1});if(Ku(t))return nr.set(t,{name:n,deep:!1})}function aE(t){return t}function JJ(t,e){return XH(t,e)?e:t}var eee="override";function tee(t){return t.annotationType_===eee}function by(t,e){return{annotationType_:t,options_:e,make_:nee,extend_:ree,decorate_20223_:iee}}function nee(t,e,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(q_(n.value))return 1;var s=pH(t,this,e,n,!1);return $l(r,e,s),2}function ree(t,e,n,r){var i=pH(t,this,e,n);return t.defineProperty_(e,i,r)}function iee(t,e){var n=e.kind,r=e.name,i=e.addInitializer,s=this,o=function(f){var p,v,b,y;return Qf((p=(v=s.options_)==null?void 0:v.name)!=null?p:r.toString(),f,(b=(y=s.options_)==null?void 0:y.autoAction)!=null?b:!1)};if(n=="field")return function(c){var f,p=c;return q_(p)||(p=o(p)),(f=s.options_)!=null&&f.bound&&(p=p.bind(this),p.isMobxAction=!0),p};if(n=="method"){var u;return q_(t)||(t=o(t)),(u=this.options_)!=null&&u.bound&&i(function(){var c=this,f=c[r].bind(c);f.isMobxAction=!0,c[r]=f}),t}an("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function see(t,e,n,r){e.annotationType_,r.value}function pH(t,e,n,r,i){var s,o,u,c,f,p,v;i===void 0&&(i=Ge.safeDescriptors),see(t,e,n,r);var b=r.value;if((s=e.options_)!=null&&s.bound){var y;b=b.bind((y=t.proxy_)!=null?y:t.target_)}return{value:Qf((o=(u=e.options_)==null?void 0:u.name)!=null?o:n.toString(),b,(c=(f=e.options_)==null?void 0:f.autoAction)!=null?c:!1,(p=e.options_)!=null&&p.bound?(v=t.proxy_)!=null?v:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function gH(t,e){return{annotationType_:t,options_:e,make_:aee,extend_:oee,decorate_20223_:lee}}function aee(t,e,n,r){var i;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!Ju(t.target_,e)||!K_(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(K_(n.value))return 1;var s=mH(t,this,e,n,!1,!1);return $l(r,e,s),2}function oee(t,e,n,r){var i,s=mH(t,this,e,n,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,s,r)}function lee(t,e){var n,r=e.name,i=e.addInitializer;return K_(t)||(t=Jf(t)),(n=this.options_)!=null&&n.bound&&i(function(){var s=this,o=s[r].bind(s);o.isMobXFlow=!0,s[r]=o}),t}function uee(t,e,n,r){e.annotationType_,r.value}function mH(t,e,n,r,i,s){s===void 0&&(s=Ge.safeDescriptors),uee(t,e,n,r);var o=r.value;if(K_(o)||(o=Jf(o)),i){var u;o=o.bind((u=t.proxy_)!=null?u:t.target_),o.isMobXFlow=!0}return{value:o,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function RM(t,e){return{annotationType_:t,options_:e,make_:cee,extend_:dee,decorate_20223_:hee}}function cee(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function dee(t,e,n,r){return fee(t,this,e,n),t.defineComputedProperty_(e,Kf({},this.options_,{get:n.get,set:n.set}),r)}function hee(t,e){var n=this,r=e.name,i=e.addInitializer;return i(function(){var s=yv(this)[yt],o=Kf({},n.options_,{get:t,context:this});o.name||(o.name="ObservableObject."+r.toString()),s.values_.set(r,new Wo(o))}),function(){return this[yt].getObservablePropValue_(r)}}function fee(t,e,n,r){e.annotationType_,r.get}function oE(t,e){return{annotationType_:t,options_:e,make_:pee,extend_:gee,decorate_20223_:mee}}function pee(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function gee(t,e,n,r){var i,s;return vee(t,this),t.defineObservableProperty_(e,n.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:Zf,r)}function mee(t,e){var n=this,r=e.kind,i=e.name,s=new WeakSet;function o(u,c){var f,p,v=yv(u)[yt],b=new Gf(c,(f=(p=n.options_)==null?void 0:p.enhancer)!=null?f:Zf,"ObservableObject."+i.toString(),!1);v.values_.set(i,b),s.add(u)}if(r=="accessor")return{get:function(){return s.has(this)||o(this,t.get.call(this)),this[yt].getObservablePropValue_(i)},set:function(c){return s.has(this)||o(this,c),this[yt].setObservablePropValue_(i,c)},init:function(c){return s.has(this)||o(this,c),c}}}function vee(t,e,n,r){e.annotationType_}var bee="true",_ee=vH();function vH(t){return{annotationType_:bee,options_:t,make_:yee,extend_:xee,decorate_20223_:See}}function yee(t,e,n,r){var i,s;if(n.get)return Ed.make_(t,e,n,r);if(n.set){var o=Qf(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:Ge.safeDescriptors?t.isPlainObject_:!0,set:o})===null?0:2:($l(r,e,{configurable:!0,set:o}),2)}if(r!==t.target_&&typeof n.value=="function"){var u;if(lH(n.value)){var c,f=(c=this.options_)!=null&&c.autoBind?Jf.bound:Jf;return f.make_(t,e,n,r)}var p=(u=this.options_)!=null&&u.autoBind?Y_.bound:Y_;return p.make_(t,e,n,r)}var v=((i=this.options_)==null?void 0:i.deep)===!1?nr.ref:nr;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var b;n.value=n.value.bind((b=t.proxy_)!=null?b:t.target_)}return v.make_(t,e,n,r)}function xee(t,e,n,r){var i,s;if(n.get)return Ed.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:Ge.safeDescriptors?t.isPlainObject_:!0,set:Qf(e.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;n.value=n.value.bind((o=t.proxy_)!=null?o:t.target_)}var u=((s=this.options_)==null?void 0:s.deep)===!1?nr.ref:nr;return u.extend_(t,e,n,r)}function See(t,e){an("'"+this.annotationType_+"' cannot be used as a decorator")}var wee="observable",Eee="observable.ref",Tee="observable.shallow",Cee="observable.struct",bH={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(bH);function M2(t){return t||bH}var K3=oE(wee),Aee=oE(Eee,{enhancer:aE}),Ree=oE(Tee,{enhancer:QJ}),Pee=oE(Cee,{enhancer:JJ}),_H=jl(K3);function D2(t){return t.deep===!0?Zf:t.deep===!1?aE:Mee(t.defaultDecorator)}function Oee(t){var e;return t?(e=t.defaultDecorator)!=null?e:vH(t):void 0}function Mee(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Zf}function yH(t,e,n){if(vy(e))return K3.decorate_20223_(t,e);if(qf(e)){my(t,e,K3);return}return LH(t)?t:Nd(t)?nr.object(t,e,n):Array.isArray(t)?nr.array(t,e):bv(t)?nr.map(t,e):Ku(t)?nr.set(t,e):typeof t=="object"&&t!==null?t:nr.box(t,e)}sH(yH,_H);var Dee={box:function(e,n){var r=M2(n);return new Gf(e,D2(r),r.name,!0,r.equals)},array:function(e,n){var r=M2(n);return(Ge.useProxies===!1||r.proxy===!1?Mte:xte)(e,D2(r),r.name)},map:function(e,n){var r=M2(n);return new zH(e,D2(r),r.name)},set:function(e,n){var r=M2(n);return new VH(e,D2(r),r.name)},object:function(e,n,r){return cp(function(){return dte(Ge.useProxies===!1||(r==null?void 0:r.proxy)===!1?yv({},r):bte({},r),e,n)})},ref:jl(Aee),shallow:jl(Ree),deep:_H,struct:jl(Pee)},nr=sH(yH,Dee),xH="computed",Bee="computed.struct",Z3=RM(xH),kee=RM(Bee,{equals:ov.structural}),Ed=function(e,n){if(vy(n))return Z3.decorate_20223_(e,n);if(qf(n))return my(e,n,Z3);if(Nd(e))return jl(RM(xH,e));var r=Nd(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new Wo(r)};Object.assign(Ed,Z3);Ed.struct=jl(kee);var rI,iI,$S=0,Iee=1,Nee=(rI=(iI=WS(function(){},"name"))==null?void 0:iI.configurable)!=null?rI:!1,sI={value:"action",configurable:!0,writable:!1,enumerable:!1};function Qf(t,e,n,r){n===void 0&&(n=!1);function i(){return Uee(t,n,e,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},Nee&&(sI.value=t,$l(i,"name",sI)),i}function Uee(t,e,n,r,i){var s=Fee(t,e);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{Lee(s)}}function Fee(t,e,n,r){var i=!1,s=0,o=Ge.trackingDerivation,u=!e||!o;io();var c=Ge.allowStateChanges;u&&(lp(),c=lE(!0));var f=PM(!0),p={runAsAction_:u,prevDerivation_:o,prevAllowStateChanges_:c,prevAllowStateReads_:f,notifySpy_:i,startTime_:s,actionId_:Iee++,parentActionId_:$S};return $S=p.actionId_,p}function Lee(t){$S!==t.actionId_&&an(30),$S=t.parentActionId_,t.error_!==void 0&&(Ge.suppressReactionErrors=!0),uE(t.prevAllowStateChanges_),w_(t.prevAllowStateReads_),so(),t.runAsAction_&&ec(t.prevDerivation_),Ge.suppressReactionErrors=!1}function Gee(t,e){var n=lE(t);try{return e()}finally{uE(n)}}function lE(t){var e=Ge.allowStateChanges;return Ge.allowStateChanges=t,e}function uE(t){Ge.allowStateChanges=t}var Gf=function(t){function e(r,i,s,o,u){var c;return s===void 0&&(s="ObservableValue"),u===void 0&&(u=ov.default),c=t.call(this,s)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=i,c.name_=s,c.equals=u,c.value_=i(r,void 0,s),c}hH(e,t);var n=e.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==Ge.UNCHANGED&&this.setNewValue_(i)},n.prepareNewValue_=function(i){if(eo(this)){var s=to(this,{object:this,type:Xl,newValue:i});if(!s)return Ge.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?Ge.UNCHANGED:i},n.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),Fo(this)&&Lo(this,{type:Xl,object:this,newValue:i,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return _y(this,i)},n.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:Xl,newValue:this.value_,oldValue:void 0}),yy(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return dH(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e}($d),Wo=function(){function t(n){this.dependenciesState_=un.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=un.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new XS(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=jS.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||an(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Qf("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?ov.structural:ov.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){$ee(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&an(32,this.name_,this.derivation),Ge.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Q3(this)&&(this.warnAboutUntrackedRead_(),io(),this.value_=this.computeValue_(!1),so());else if(RH(this),Q3(this)){var r=Ge.trackingContext;this.keepAlive_&&!r&&(Ge.trackingContext=this),this.trackAndCompute()&&Wee(this),Ge.trackingContext=r}var i=this.value_;if(iS(i))throw i.cause;return i},e.set=function(r){if(this.setter_){this.isRunningSetter&&an(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else an(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===un.NOT_TRACKING_,s=this.computeValue_(!0),o=i||iS(r)||iS(s)||!this.equals_(r,s);return o&&(this.value_=s),o},e.computeValue_=function(r){this.isComputing=!0;var i=lE(!1),s;if(r)s=SH(this,this.derivation,this.scope_);else if(Ge.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new XS(o)}return uE(i),this.isComputing=!1,s},e.suspend_=function(){this.keepAlive_||(J3(this),this.value_=void 0)},e.observe_=function(r,i){var s=this,o=!0,u=void 0;return tte(function(){var c=s.get();if(!o||i){var f=lp();r({observableKind:"computed",debugObjectName:s.name_,type:Xl,object:s,newValue:c,oldValue:u}),ec(f)}o=!1,u=c})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return dH(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},_v(t,[{key:"isComputing",get:function(){return ba(this.flags_,t.isComputingMask_)},set:function(r){this.flags_=_a(this.flags_,t.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return ba(this.flags_,t.isRunningSetterMask_)},set:function(r){this.flags_=_a(this.flags_,t.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return ba(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=_a(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return ba(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=_a(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return ba(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=_a(this.flags_,t.diffValueMask_,r===1)}}])}();Wo.isComputingMask_=1;Wo.isRunningSetterMask_=2;Wo.isBeingObservedMask_=4;Wo.isPendingUnobservationMask_=8;Wo.diffValueMask_=16;var cE=op("ComputedValue",Wo),un;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(un||(un={}));var jS;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(jS||(jS={}));var XS=function(e){this.cause=void 0,this.cause=e};function iS(t){return t instanceof XS}function Q3(t){switch(t.dependenciesState_){case un.UP_TO_DATE_:return!1;case un.NOT_TRACKING_:case un.STALE_:return!0;case un.POSSIBLY_STALE_:{for(var e=PM(!0),n=lp(),r=t.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(cE(o)){if(Ge.disableErrorBoundaries)o.get();else try{o.get()}catch{return ec(n),w_(e),!0}if(t.dependenciesState_===un.STALE_)return ec(n),w_(e),!0}}return EH(t),ec(n),w_(e),!1}}}function SH(t,e,n){var r=PM(!0);EH(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++Ge.runId;var i=Ge.trackingDerivation;Ge.trackingDerivation=t,Ge.inBatch++;var s;if(Ge.disableErrorBoundaries===!0)s=e.call(n);else try{s=e.call(n)}catch(o){s=new XS(o)}return Ge.inBatch--,Ge.trackingDerivation=i,zee(t),w_(r),s}function zee(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=un.UP_TO_DATE_,i=0,s=t.unboundDepsCount_,o=0;o<s;o++){var u=n[o];u.diffValue===0&&(u.diffValue=1,i!==o&&(n[i]=u),i++),u.dependenciesState_>r&&(r=u.dependenciesState_)}for(n.length=i,t.newObserving_=null,s=e.length;s--;){var c=e[s];c.diffValue===0&&CH(c,t),c.diffValue=0}for(;i--;){var f=n[i];f.diffValue===1&&(f.diffValue=0,Hee(f,t))}r!==un.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function J3(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)CH(e[n],t);t.dependenciesState_=un.NOT_TRACKING_}function wH(t){var e=lp();try{return t()}finally{ec(e)}}function lp(){var t=Ge.trackingDerivation;return Ge.trackingDerivation=null,t}function ec(t){Ge.trackingDerivation=t}function PM(t){var e=Ge.allowStateReads;return Ge.allowStateReads=t,e}function w_(t){Ge.allowStateReads=t}function EH(t){if(t.dependenciesState_!==un.UP_TO_DATE_){t.dependenciesState_=un.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=un.UP_TO_DATE_}}var sS=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},aS=!0,TH=!1,Ge=function(){var t=tE();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(aS=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new sS().version&&(aS=!1),aS?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new sS):(setTimeout(function(){TH||an(35)},1),new sS)}();function Vee(){if((Ge.pendingReactions.length||Ge.inBatch||Ge.isRunningReactions)&&an(36),TH=!0,aS){var t=tE();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),Ge=new sS}}function Hee(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function CH(t,e){t.observers_.delete(e),t.observers_.size===0&&AH(t)}function AH(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,Ge.pendingUnobservations.push(t))}function io(){Ge.inBatch++}function so(){if(--Ge.inBatch===0){OH();for(var t=Ge.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Wo&&n.suspend_())}Ge.pendingUnobservations=[]}}function RH(t){var e=Ge.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&Ge.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&Ge.inBatch>0&&AH(t),!1)}function PH(t){t.lowestObserverState_!==un.STALE_&&(t.lowestObserverState_=un.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===un.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=un.STALE_}))}function Wee(t){t.lowestObserverState_!==un.STALE_&&(t.lowestObserverState_=un.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===un.POSSIBLY_STALE_?e.dependenciesState_=un.STALE_:e.dependenciesState_===un.UP_TO_DATE_&&(t.lowestObserverState_=un.UP_TO_DATE_)}))}function $ee(t){t.lowestObserverState_===un.UP_TO_DATE_&&(t.lowestObserverState_=un.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===un.UP_TO_DATE_&&(e.dependenciesState_=un.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Zl=function(){function t(n,r,i,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=un.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=jS.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Ge.pendingReactions.push(this),OH())},e.runReaction_=function(){if(!this.isDisposed){io(),this.isScheduled=!1;var r=Ge.trackingContext;if(Ge.trackingContext=this,Q3(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}Ge.trackingContext=r,so()}},e.track=function(r){if(!this.isDisposed){io(),this.isRunning=!0;var i=Ge.trackingContext;Ge.trackingContext=this;var s=SH(this,r,void 0);Ge.trackingContext=i,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&J3(this),iS(s)&&this.reportExceptionInDerivation_(s.cause),so()}},e.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Ge.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";Ge.suppressReactionErrors||console.error(s,r),Ge.globalReactionErrorHandlers.forEach(function(o){return o(r,i)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(io(),J3(this),so()))},e.getDisposer_=function(r){var i=this,s=function o(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[yt]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},_v(t,[{key:"isDisposed",get:function(){return ba(this.flags_,t.isDisposedMask_)},set:function(r){this.flags_=_a(this.flags_,t.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return ba(this.flags_,t.isScheduledMask_)},set:function(r){this.flags_=_a(this.flags_,t.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return ba(this.flags_,t.isTrackPendingMask_)},set:function(r){this.flags_=_a(this.flags_,t.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return ba(this.flags_,t.isRunningMask_)},set:function(r){this.flags_=_a(this.flags_,t.isRunningMask_,r)}},{key:"diffValue",get:function(){return ba(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=_a(this.flags_,t.diffValueMask_,r===1)}}])}();Zl.isDisposedMask_=1;Zl.isScheduledMask_=2;Zl.isTrackPendingMask_=4;Zl.isRunningMask_=8;Zl.diffValueMask_=16;var jee=100,eR=function(e){return e()};function OH(){Ge.inBatch>0||Ge.isRunningReactions||eR(Xee)}function Xee(){Ge.isRunningReactions=!0;for(var t=Ge.pendingReactions,e=0;t.length>0;){++e===jee&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}Ge.isRunningReactions=!1}var YS=op("Reaction",Zl);function Yee(t){var e=eR;eR=function(r){return t(function(){return e(r)})}}function E_(){return!1}function qee(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var MH="action",Kee="action.bound",DH="autoAction",Zee="autoAction.bound",Qee="<unnamed action>",tR=by(MH),Jee=by(Kee,{bound:!0}),nR=by(DH,{autoAction:!0}),ete=by(Zee,{autoAction:!0,bound:!0});function BH(t){var e=function(r,i){if(Ho(r))return Qf(r.name||Qee,r,t);if(Ho(i))return Qf(r,i,t);if(vy(i))return(t?nR:tR).decorate_20223_(r,i);if(qf(i))return my(r,i,t?nR:tR);if(qf(r))return jl(by(t?DH:MH,{name:r,autoAction:t}))};return e}var bi=BH(!1);Object.assign(bi,tR);var Y_=BH(!0);Object.assign(Y_,nR);bi.bound=jl(Jee);Y_.bound=jl(ete);function q_(t){return Ho(t)&&t.isMobxAction===!0}function tte(t,e){var n,r,i,s;e===void 0&&(e=CM);var o=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",u=!e.scheduler&&!e.delay,c;if(u)c=new Zl(o,function(){this.track(v)},e.onError,e.requiresObservable);else{var f=kH(e),p=!1;c=new Zl(o,function(){p||(p=!0,f(function(){p=!1,c.isDisposed||c.track(v)}))},e.onError,e.requiresObservable)}function v(){t(c)}return(i=e)!=null&&(i=i.signal)!=null&&i.aborted||c.schedule_(),c.getDisposer_((s=e)==null?void 0:s.signal)}var nte=function(e){return e()};function kH(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:nte}function rte(t,e,n){var r,i,s;n===void 0&&(n=CM);var o=(r=n.name)!=null?r:"Reaction",u=bi(o,n.onError?ite(n.onError,e):e),c=!n.scheduler&&!n.delay,f=kH(n),p=!0,v=!1,b,y=n.compareStructural?ov.structural:n.equals||ov.default,E=new Zl(o,function(){p||c?S():v||(v=!0,f(S))},n.onError,n.requiresObservable);function S(){if(v=!1,!E.isDisposed){var T=!1,A=b;E.track(function(){var P=Gee(!1,function(){return t(E)});T=p||!y(b,P),b=P}),(p&&n.fireImmediately||!p&&T)&&u(b,A,E),p=!1}}return(i=n)!=null&&(i=i.signal)!=null&&i.aborted||E.schedule_(),E.getDisposer_((s=n)==null?void 0:s.signal)}function ite(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}var ste="onBO",ate="onBUO";function ote(t,e,n){return NH(ste,t,e,n)}function IH(t,e,n){return NH(ate,t,e,n)}function NH(t,e,n,r){var i=ZS(e),s=Ho(r)?r:n,o=t+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var u=i[o];u&&(u.delete(s),u.size===0&&delete i[o])}}var lte="never",B2="always",ute="observed";function cte(t){t.isolateGlobalState===!0&&Vee();var e=t.useProxies,n=t.enforceActions;if(e!==void 0&&(Ge.useProxies=e===B2?!0:e===lte?!1:typeof Proxy<"u"),e==="ifavailable"&&(Ge.verifyProxies=!0),n!==void 0){var r=n===B2?B2:n===ute;Ge.enforceActions=r,Ge.allowStateChanges=!(r===!0||r===B2)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(i){i in t&&(Ge[i]=!!t[i])}),Ge.allowStateReads=!Ge.observableRequiresReaction,t.reactionScheduler&&Yee(t.reactionScheduler)}function dte(t,e,n,r){var i=WJ(e);return cp(function(){var s=yv(t,r)[yt];sE(i).forEach(function(o){s.extend_(o,i[o],n&&o in n?n[o]:!0)})}),t}function hte(t,e){return UH(ZS(t,e))}function UH(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=fte(t.observing_).map(UH)),e}function fte(t){return Array.from(new Set(t))}var pte=0;function FH(){this.message="FLOW_CANCELLED"}FH.prototype=Object.create(Error.prototype);var FC=gH("flow"),gte=gH("flow.bound",{bound:!0}),Jf=Object.assign(function(e,n){if(vy(n))return FC.decorate_20223_(e,n);if(qf(n))return my(e,n,FC);var r=e,i=r.name||"<unnamed flow>",s=function(){var u=this,c=arguments,f=++pte,p=bi(i+" - runid: "+f+" - init",r).apply(u,c),v,b=void 0,y=new Promise(function(E,S){var T=0;v=S;function A(M){b=void 0;var D;try{D=bi(i+" - runid: "+f+" - yield "+T++,p.next).call(p,M)}catch(W){return S(W)}O(D)}function P(M){b=void 0;var D;try{D=bi(i+" - runid: "+f+" - yield "+T++,p.throw).call(p,M)}catch(W){return S(W)}O(D)}function O(M){if(Ho(M==null?void 0:M.then)){M.then(O,S);return}return M.done?E(M.value):(b=Promise.resolve(M.value),b.then(A,P))}A(void 0)});return y.cancel=bi(i+" - runid: "+f+" - cancel",function(){try{b&&aI(b);var E=p.return(void 0),S=Promise.resolve(E.value);S.then(pm,pm),aI(S),v(new FH)}catch(T){v(T)}}),y};return s.isMobXFlow=!0,s},FC);Jf.bound=jl(gte);function aI(t){Ho(t.cancel)&&t.cancel()}function K_(t){return(t==null?void 0:t.isMobXFlow)===!0}function mte(t,e){return t?hE(t)||!!t[yt]||AM(t)||YS(t)||cE(t):!1}function LH(t){return mte(t)}function Zu(t,e){e===void 0&&(e=void 0),io();try{return t.apply(e)}finally{so()}}function Qg(t){return t[yt]}var vte={has:function(e,n){return Qg(e).has_(n)},get:function(e,n){return Qg(e).get_(n)},set:function(e,n,r){var i;return qf(n)?(i=Qg(e).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(e,n){var r;return qf(n)?(r=Qg(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var i;return(i=Qg(e).defineProperty_(n,r))!=null?i:!0},ownKeys:function(e){return Qg(e).ownKeys_()},preventExtensions:function(e){an(13)}};function bte(t,e){var n,r;return aH(),t=yv(t,e),(r=(n=t[yt]).proxy_)!=null?r:n.proxy_=new Proxy(t,vte)}function eo(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function _y(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),oH(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function to(t,e){var n=lp();try{for(var r=[].concat(t.interceptors_||[]),i=0,s=r.length;i<s&&(e=r[i](e),e&&!e.type&&an(14),!!e);i++);return e}finally{ec(n)}}function Fo(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function yy(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),oH(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function Lo(t,e){var n=lp(),r=t.changeListeners_;if(r){r=r.slice();for(var i=0,s=r.length;i<s;i++)r[i](e);ec(n)}}function OM(t,e,n){return cp(function(){var r,i=yv(t,n)[yt];(r=e)!=null||(e=qJ(t)),sE(e).forEach(function(s){return i.make_(s,e[s])})}),t}var oI="splice",Xl="update",_te=1e4,yte={get:function(e,n){var r=e[yt];return n===yt?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Ju(qS,n)?qS[n]:e[n]},set:function(e,n,r){var i=e[yt];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){an(15)}},MM=function(){function t(n,r,i,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new $d(n),this.enhancer_=function(o,u){return r(o,u,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return _y(this,r)},e.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),yy(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&an("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var s=new Array(r-i),o=0;o<r-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(r,i-r)},e.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&an(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&jH(r+i+1)},e.spliceWithArray_=function(r,i,s){var o=this;this.atom_;var u=this.values_.length;if(r===void 0?r=0:r>u?r=u:r<0&&(r=Math.max(0,u+r)),arguments.length===1?i=u-r:i==null?i=0:i=Math.max(0,Math.min(i,u-r)),s===void 0&&(s=Y3),eo(this)){var c=to(this,{object:this.proxy_,type:oI,index:r,removedCount:i,added:s});if(!c)return Y3;i=c.removedCount,s=c.added}if(s=s.length===0?s:s.map(function(v){return o.enhancer_(v,void 0)}),this.legacyMode_){var f=s.length-i;this.updateArrayLength_(u,f)}var p=this.spliceItemsIntoValues_(r,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(r,s,p),this.dehanceValues_(p)},e.spliceItemsIntoValues_=function(r,i,s){if(s.length<_te){var o;return(o=this.values_).splice.apply(o,[r,i].concat(s))}else{var u=this.values_.slice(r,r+i),c=this.values_.slice(r+i);this.values_.length+=s.length-i;for(var f=0;f<s.length;f++)this.values_[r+f]=s[f];for(var p=0;p<c.length;p++)this.values_[r+s.length+p]=c[p];return u}},e.notifyArrayChildUpdate_=function(r,i,s){var o=!this.owned_&&E_(),u=Fo(this),c=u||o?{observableKind:"array",object:this.proxy_,type:Xl,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),u&&Lo(this,c)},e.notifyArraySplice_=function(r,i,s){var o=!this.owned_&&E_(),u=Fo(this),c=u||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:oI,index:r,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),u&&Lo(this,c)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,i){var s=this.values_;if(this.legacyMode_&&r>s.length&&an(17,r,s.length),r<s.length){this.atom_;var o=s[r];if(eo(this)){var u=to(this,{type:Xl,object:this.proxy_,index:r,newValue:i});if(!u)return;i=u.newValue}i=this.enhancer_(i,o);var c=i!==o;c&&(s[r]=i,this.notifyArrayChildUpdate_(r,i,o))}else{for(var f=new Array(r+1-s.length),p=0;p<f.length-1;p++)f[p]=void 0;f[f.length-1]=i,this.spliceWithArray_(s.length,0,f)}},t}();function xte(t,e,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),aH(),cp(function(){var i=new MM(n,e,r,!1);uH(i.values_,yt,i);var s=new Proxy(i.values_,yte);return i.proxy_=s,t&&t.length&&i.spliceWithArray_(0,0,t),s})}var qS={clear:function(){return this.splice(0)},replace:function(e){var n=this[yt];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=this[yt];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,n)}return o.spliceWithArray_(e,n,i)},spliceWithArray:function(e,n,r){return this[yt].spliceWithArray_(e,n,r)},push:function(){for(var e=this[yt],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[yt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[yt],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return Ge.trackingDerivation&&an(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ge.trackingDerivation&&an(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[yt],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};$n("at",Da);$n("concat",Da);$n("flat",Da);$n("includes",Da);$n("indexOf",Da);$n("join",Da);$n("lastIndexOf",Da);$n("slice",Da);$n("toString",Da);$n("toLocaleString",Da);$n("toSorted",Da);$n("toSpliced",Da);$n("with",Da);$n("every",Yo);$n("filter",Yo);$n("find",Yo);$n("findIndex",Yo);$n("findLast",Yo);$n("findLastIndex",Yo);$n("flatMap",Yo);$n("forEach",Yo);$n("map",Yo);$n("some",Yo);$n("toReversed",Yo);$n("reduce",GH);$n("reduceRight",GH);function $n(t,e){typeof Array.prototype[t]=="function"&&(qS[t]=e(t))}function Da(t){return function(){var e=this[yt];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function Yo(t){return function(e,n){var r=this,i=this[yt];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[t](function(o,u){return e.call(n,o,u,r)})}}function GH(t){return function(){var e=this,n=this[yt];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(s,o,u){return i(s,o,u,e)},r[t].apply(r,arguments)}}var Ste=op("ObservableArrayAdministration",MM);function dE(t){return rE(t)&&Ste(t[yt])}var wte={},Td="add",KS="delete",zH=function(){function t(n,r,i){var s=this;r===void 0&&(r=Zf),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[yt]=wte,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,Ho(Map)||an(18),cp(function(){s.keysAtom_=fH("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var i=this;if(!Ge.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var o=s=new Gf(this.has_(r),aE,"ObservableMap.key?",!1);this.hasMap_.set(r,o),IH(o,function(){return i.hasMap_.delete(r)})}return s.get()},e.set=function(r,i){var s=this.has_(r);if(eo(this)){var o=to(this,{type:s?Xl:Td,object:this,newValue:i,name:r});if(!o)return this;i=o.newValue}return s?this.updateValue_(r,i):this.addValue_(r,i),this},e.delete=function(r){var i=this;if(this.keysAtom_,eo(this)){var s=to(this,{type:KS,object:this,name:r});if(!s)return!1}if(this.has_(r)){var o=E_(),u=Fo(this),c=u||o?{observableKind:"map",debugObjectName:this.name_,type:KS,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Zu(function(){var f;i.keysAtom_.reportChanged(),(f=i.hasMap_.get(r))==null||f.setNewValue_(!1);var p=i.data_.get(r);p.setNewValue_(void 0),i.data_.delete(r)}),u&&Lo(this,c),!0}return!1},e.updateValue_=function(r,i){var s=this.data_.get(r);if(i=s.prepareNewValue_(i),i!==Ge.UNCHANGED){var o=E_(),u=Fo(this),c=u||o?{observableKind:"map",debugObjectName:this.name_,type:Xl,object:this,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),u&&Lo(this,c)}},e.addValue_=function(r,i){var s=this;this.keysAtom_,Zu(function(){var f,p=new Gf(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,p),i=p.value_,(f=s.hasMap_.get(r))==null||f.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=E_(),u=Fo(this),c=u||o?{observableKind:"map",debugObjectName:this.name_,type:Td,object:this,name:r,newValue:i}:null;u&&Lo(this,c)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,i=this.keys();return lI({next:function(){var o=i.next(),u=o.done,c=o.value;return{done:u,value:u?void 0:r.get(c)}}})},e.entries=function(){var r=this,i=this.keys();return lI({next:function(){var o=i.next(),u=o.done,c=o.value;return{done:u,value:u?void 0:[c,r.get(c)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,i){for(var s=gm(this),o;!(o=s()).done;){var u=o.value,c=u[0],f=u[1];r.call(i,f,c,this)}},e.merge=function(r){var i=this;return up(r)&&(r=new Map(r)),Zu(function(){Nd(r)?HJ(r).forEach(function(s){return i.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var o=s[0],u=s[1];return i.set(o,u)}):bv(r)?(VJ(r)||an(19,r),r.forEach(function(s,o){return i.set(o,s)})):r!=null&&an(20,r)}),this},e.clear=function(){var r=this;Zu(function(){wH(function(){for(var i=gm(r.keys()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},e.replace=function(r){var i=this;return Zu(function(){for(var s=Ete(r),o=new Map,u=!1,c=gm(i.data_.keys()),f;!(f=c()).done;){var p=f.value;if(!s.has(p)){var v=i.delete(p);if(v)u=!0;else{var b=i.data_.get(p);o.set(p,b)}}}for(var y=gm(s.entries()),E;!(E=y()).done;){var S=E.value,T=S[0],A=S[1],P=i.data_.has(T);if(i.set(T,A),i.data_.has(T)){var O=i.data_.get(T);o.set(T,O),P||(u=!0)}}if(!u)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var M=i.data_.keys(),D=o.keys(),W=M.next(),G=D.next();!W.done;){if(W.value!==G.value){i.keysAtom_.reportChanged();break}W=M.next(),G=D.next()}i.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,i){return yy(this,r)},e.intercept_=function(r){return _y(this,r)},_v(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),up=op("ObservableMap",zH);function lI(t){return t[Symbol.toStringTag]="MapIterator",BM(t)}function Ete(t){if(bv(t)||up(t))return t;if(Array.isArray(t))return new Map(t);if(Nd(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return an(21,t)}var Tte={},VH=function(){function t(n,r,i){var s=this;r===void 0&&(r=Zf),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[yt]=Tte,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Ho(Set)||an(22),this.enhancer_=function(o,u){return r(o,u,i)},cp(function(){s.atom_=fH(s.name_),n&&s.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Zu(function(){wH(function(){for(var i=gm(r.data_.values()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},e.forEach=function(r,i){for(var s=gm(this),o;!(o=s()).done;){var u=o.value;r.call(i,u,u,this)}},e.add=function(r){var i=this;if(this.atom_,eo(this)){var s=to(this,{type:Td,object:this,newValue:r});if(!s)return this;r=s.newValue}if(!this.has(r)){Zu(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var o=!1,u=Fo(this),c=u||o?{observableKind:"set",debugObjectName:this.name_,type:Td,object:this,newValue:r}:null;u&&Lo(this,c)}return this},e.delete=function(r){var i=this;if(eo(this)){var s=to(this,{type:KS,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var o=!1,u=Fo(this),c=u||o?{observableKind:"set",debugObjectName:this.name_,type:KS,object:this,oldValue:r}:null;return Zu(function(){i.atom_.reportChanged(),i.data_.delete(r)}),u&&Lo(this,c),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=this.values();return uI({next:function(){var s=r.next(),o=s.value,u=s.done;return u?{value:void 0,done:u}:{value:[o,o],done:u}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,i=this.data_.values();return uI({next:function(){var o=i.next(),u=o.value,c=o.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(u),done:c}}})},e.intersection=function(r){if(Ku(r)&&!Nl(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},e.union=function(r){if(Ku(r)&&!Nl(r))return r.union(this);var i=new Set(this);return i.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(Ku(r)&&!Nl(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(Ku(r)&&!Nl(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},e.replace=function(r){var i=this;return Nl(r)&&(r=new Set(r)),Zu(function(){Array.isArray(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):Ku(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):r!=null&&an("Cannot initialize set from "+r)}),this},e.observe_=function(r,i){return yy(this,r)},e.intercept_=function(r){return _y(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},_v(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Nl=op("ObservableSet",VH);function uI(t){return t[Symbol.toStringTag]="SetIterator",BM(t)}var cI=Object.create(null),dI="remove",HH=function(){function t(n,r,i,s){r===void 0&&(r=new Map),s===void 0&&(s=_ee),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new $d("ObservableObject.keys"),this.isPlainObject_=Nd(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,i){var s=this.values_.get(r);if(s instanceof Wo)return s.set(i),!0;if(eo(this)){var o=to(this,{type:Xl,object:this.proxy_||this.target_,name:r,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==Ge.UNCHANGED){var u=Fo(this),c=!1,f=u||c?{type:Xl,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),u&&Lo(this,f)}return!0},e.get_=function(r){return Ge.trackingDerivation&&!Ju(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,i,s){return s===void 0&&(s=!1),Ju(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):s?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(r){if(!Ge.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new Gf(r in this.target_,aE,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},e.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(r in this.target_)){var s;if((s=this.target_[Fl])!=null&&s[r])return;an(1,i.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==nE;){var u=WS(o,r);if(u){var c=i.make_(this,r,u,o);if(c===0)return;if(c===1)break}o=Object.getPrototypeOf(o)}fI(this,i,r)}},e.extend_=function(r,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,i,o);var u=s.extend_(this,r,i,o);return u&&fI(this,s,r),u},e.defineProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{io();var o=this.delete_(r);if(!o)return o;if(eo(this)){var u=to(this,{object:this.proxy_||this.target_,name:r,type:Td,newValue:i.value});if(!u)return null;var c=u.newValue;i.value!==c&&(i=Kf({},i,{value:c}))}if(s){if(!Reflect.defineProperty(this.target_,r,i))return!1}else $l(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{so()}return!0},e.defineObservableProperty_=function(r,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{io();var u=this.delete_(r);if(!u)return u;if(eo(this)){var c=to(this,{object:this.proxy_||this.target_,name:r,type:Td,newValue:i});if(!c)return null;i=c.newValue}var f=hI(r),p={configurable:Ge.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:f.get,set:f.set};if(o){if(!Reflect.defineProperty(this.target_,r,p))return!1}else $l(this.target_,r,p);var v=new Gf(i,s,"ObservableObject.key",!1);this.values_.set(r,v),this.notifyPropertyAddition_(r,v.value_)}finally{so()}return!0},e.defineComputedProperty_=function(r,i,s){s===void 0&&(s=!1),this.keysAtom_;try{io();var o=this.delete_(r);if(!o)return o;if(eo(this)){var u=to(this,{object:this.proxy_||this.target_,name:r,type:Td,newValue:void 0});if(!u)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var c=hI(r),f={configurable:Ge.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,f))return!1}else $l(this.target_,r,f);this.values_.set(r,new Wo(i)),this.notifyPropertyAddition_(r,void 0)}finally{so()}return!0},e.delete_=function(r,i){if(i===void 0&&(i=!1),this.keysAtom_,!Ju(this.target_,r))return!0;if(eo(this)){var s=to(this,{object:this.proxy_||this.target_,name:r,type:dI});if(!s)return null}try{var o;io();var u=Fo(this),c=!1,f=this.values_.get(r),p=void 0;if(!f&&(u||c)){var v;p=(v=WS(this.target_,r))==null?void 0:v.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(f&&(this.values_.delete(r),f instanceof Gf&&(p=f.value_),PH(f)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),u||c){var b={type:dI,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:p,name:r};u&&Lo(this,b)}}finally{so()}return!0},e.observe_=function(r,i){return yy(this,r)},e.intercept_=function(r){return _y(this,r)},e.notifyPropertyAddition_=function(r,i){var s,o=Fo(this),u=!1;if(o||u){var c=o||u?{type:Td,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;o&&Lo(this,c)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),sE(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function yv(t,e){var n;if(Ju(t,yt))return t;var r=(n=e==null?void 0:e.name)!=null?n:"ObservableObject",i=new HH(t,new Map,String(r),Oee(e));return iE(t,yt,i),t}var Cte=op("ObservableObjectAdministration",HH);function hI(t){return cI[t]||(cI[t]={get:function(){return this[yt].getObservablePropValue_(t)},set:function(n){return this[yt].setObservablePropValue_(t,n)}})}function hE(t){return rE(t)?Cte(t[yt]):!1}function fI(t,e,n){var r;(r=t.target_[Fl])==null||delete r[n]}var Ate=$H(0),Rte=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),LC=0,WH=function(){};function Pte(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}Pte(WH,Array.prototype);var DM=function(t){function e(r,i,s,o){var u;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),u=t.call(this)||this,cp(function(){var c=new MM(s,i,o,!0);c.proxy_=u,uH(u,yt,c),r&&r.length&&u.spliceWithArray(0,0,r),Rte&&Object.defineProperty(u,"0",Ate)}),u}hH(e,t);var n=e.prototype;return n.concat=function(){this[yt].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(u){return dE(u)?u.slice():u}))},n[Symbol.iterator]=function(){var r=this,i=0;return BM({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},_v(e,[{key:"length",get:function(){return this[yt].getArrayLength_()},set:function(i){this[yt].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(WH);Object.entries(qS).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&iE(DM.prototype,e,n)});function $H(t){return{enumerable:!1,configurable:!0,get:function(){return this[yt].get_(t)},set:function(n){this[yt].set_(t,n)}}}function Ote(t){$l(DM.prototype,""+t,$H(t))}function jH(t){if(t>LC){for(var e=LC;e<t+100;e++)Ote(e);LC=t}}jH(1e3);function Mte(t,e,n){return new DM(t,e,n)}function ZS(t,e){if(typeof t=="object"&&t!==null){if(dE(t))return e!==void 0&&an(23),t[yt].atom_;if(Nl(t))return t.atom_;if(up(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||an(25,e,rR(t)),n}if(hE(t)){if(!e)return an(26);var r=t[yt].values_.get(e);return r||an(27,e,rR(t)),r}if(AM(t)||cE(t)||YS(t))return t}else if(Ho(t)&&YS(t[yt]))return t[yt];an(28)}function Dte(t,e){if(t||an(29),AM(t)||cE(t)||YS(t)||up(t)||Nl(t))return t;if(t[yt])return t[yt];an(24,t)}function rR(t,e){var n;if(e!==void 0)n=ZS(t,e);else{if(q_(t))return t.name;hE(t)||up(t)||Nl(t)?n=Dte(t):n=ZS(t)}return n.name_}function cp(t){var e=lp(),n=lE(!0);io();try{return t()}finally{so(),uE(n),ec(e)}}var pI=nE.toString;function XH(t,e,n){return n===void 0&&(n=-1),iR(t,e,n)}function iR(t,e,n,r,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var o=pI.call(t);if(o!==pI.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=gI(t),e=gI(e);var u=o==="[object Array]";if(!u){if(typeof t!="object"||typeof e!="object")return!1;var c=t.constructor,f=e.constructor;if(c!==f&&!(Ho(c)&&c instanceof c&&Ho(f)&&f instanceof f)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var p=r.length;p--;)if(r[p]===t)return i[p]===e;if(r.push(t),i.push(e),u){if(p=t.length,p!==e.length)return!1;for(;p--;)if(!iR(t[p],e[p],n-1,r,i))return!1}else{var v=Object.keys(t),b=v.length;if(Object.keys(e).length!==b)return!1;for(var y=0;y<b;y++){var E=v[y];if(!(Ju(e,E)&&iR(t[E],e[E],n-1,r,i)))return!1}}return r.pop(),i.pop(),!0}function gI(t){return dE(t)?t.slice():bv(t)||up(t)||Ku(t)||Nl(t)?Array.from(t.entries()):t}var mI,Bte=((mI=tE().Iterator)==null?void 0:mI.prototype)||{};function BM(t){return t[Symbol.iterator]=kte,Object.assign(Object.create(Bte),t)}function kte(){return this}["Symbol","Map","Set"].forEach(function(t){var e=tE();typeof e[t]>"u"&&an("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:qee,extras:{getDebugName:rR},$mobx:yt});const vI=t=>new Promise(e=>setTimeout(e,t)),sR=500;var Ite=Object.getOwnPropertyDescriptor,Nte=(t,e,n,r)=>{for(var i=r>1?void 0:r?Ite(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=o(i)||i);return i},Ute=(t,e)=>(n,r)=>e(n,r,t);let aR=class{constructor(t){St(this,"disksCount",0);St(this,"pegs",[[],[],[]]);St(this,"currentStep",0);St(this,"gameCondition","idle");St(this,"solverCondition","inactive");St(this,"stepsHistory",[]);St(this,"solverPromise",null);St(this,"_startSolver",Jf(function*(){if(this.solverCondition==="active")return;this.solverCondition="active",Cd.isEmpty(this.stepsHistory)||(this.stepsHistory=[],this.changeStepsCount(0),this.generateDisks(),yield vI(sR));const t=[],e=(n,r,i,s)=>{if(n===1){t.push({srcPeg:r,dstPeg:s});return}e(n-1,r,s,i),this.solverCondition==="active"&&t.push({srcPeg:r,dstPeg:s}),e(n-1,i,r,s)};e(this.disksCount,0,1,2);for(const n of t){if(this.solverCondition!=="active")return;this._moveDisk(n),this.stepsHistory.push({srcPeg:n.srcPeg,dstPeg:n.dstPeg}),this.changeStepsCount(this.currentStep+1),yield vI(sR)}this.solverPromise=null,this.stopSolver()}));this.eventBus=t,OM(this,{disksCount:nr,pegs:nr,currentStep:nr,gameCondition:nr,solverCondition:nr,stepsHistory:nr,canRedoDiskMove:Ed,canUndoDiskMove:Ed,isDisksInteractive:Ed,canStartSolver:Ed,changeDisksCount:bi,generateDisks:bi,reset:bi,changeStepsCount:bi,moveDisk:bi,undoDiskMove:bi,redoDiskMove:bi,changeGameCondition:bi,stopSolver:bi}),rte(()=>this.isDisksInteractive,e=>{this.eventBus.emit("disksInteractivityChanged",{isInteractive:e})})}get canStartSolver(){return this.gameCondition!=="finished"&&this.solverCondition==="inactive"}get isDisksInteractive(){return this.gameCondition==="active"&&this.solverCondition==="inactive"}get canRedoDiskMove(){return!!this.stepsHistory[this.currentStep]&&this.gameCondition!=="finished"&&this.solverCondition!=="active"}get canUndoDiskMove(){return!!this.stepsHistory[this.currentStep-1]&&this.gameCondition!=="finished"&&this.solverCondition!=="active"}changeDisksCount(t){t<=b_&&t>=Qz&&(this.disksCount=t,this.reset())}generateDisks(){const{disksCount:t}=this;if(!t){console.error(`Disks count is ${t}. Cannot generate pegs.`);return}const e=[];for(const n of Cd.range(t-1,-1))e.push(n);this.pegs=[e,[],[]],this.eventBus.emit("pegsGenerated",void 0)}moveDisk(t){const e=()=>{this.eventBus.emit("diskPegChanged",{srcPeg:n,dstPeg:n,disk:t.disk})},n=this.pegs.findIndex(u=>u.findIndex(c=>c===t.disk)!==-1);if(n===-1)return console.warn("Cannot move disk. Disk not found"),e();if(n===t.peg)return console.warn("Cannot move disk. Pegs are the same"),e();const r=this.pegs[n],i=r.findIndex(u=>u===t.disk);if(i!==r.length-1)return console.error("The disk that was moved is not the last one on the stack. Shouldn't be here"),e();const s=r[i];if(this.pegs[t.peg].some(u=>u<s))return e();this.stepsHistory[this.currentStep]&&this.stepsHistory.splice(this.currentStep),this.stepsHistory.push({srcPeg:n,dstPeg:t.peg}),this._moveDisk({srcPeg:n,dstPeg:t.peg}),this.changeStepsCount(this.currentStep+1)}undoDiskMove(){if(!this.canUndoDiskMove)return;const t=this.currentStep-1,e=this.stepsHistory[t];this._moveDisk({srcPeg:e.dstPeg,dstPeg:e.srcPeg}),this.changeStepsCount(t)}redoDiskMove(){if(!this.canRedoDiskMove)return;const t=this.stepsHistory[this.currentStep];this._moveDisk({srcPeg:t.srcPeg,dstPeg:t.dstPeg}),this.changeStepsCount(this.currentStep+1)}changeStepsCount(t){this.currentStep=t}reset(){this.generateDisks(),this.changeStepsCount(0),this.stepsHistory=[],this.changeGameCondition("active"),this.stopSolver()}changeGameCondition(t){this.gameCondition=t,this.eventBus.emit("gameConditionChanged",{condition:t})}stopSolver(){var t;this.solverCondition==="active"&&(this.solverCondition="inactive"),(t=this.solverPromise)==null||t.cancel(),this.solverPromise=null}async startSolver(){this.solverPromise=this._startSolver(),this.solverPromise.catch(t=>{(t==null?void 0:t.message)==="FLOW_CANCELLED"?console.log("solver has been cancelled"):console.error(t)})}_moveDisk(t){const e=this.pegs[t.srcPeg],n=this.pegs[t.dstPeg],r=e.pop();if(Cd.isNil(r))throw new Error(`disk is nil: ${r}`);n.push(r),this.eventBus.emit("diskPegChanged",{srcPeg:t.srcPeg,dstPeg:t.dstPeg,disk:r}),this.pegs[2].length===this.disksCount&&this.changeGameCondition("finished")}};aR=Nte([Gd(),Ute(0,Ns(rr.eventBus))],aR);var Fte=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Lte=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}`,Gte=`in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec3 uColor;
uniform float uAlpha;

void main(void) {
    vec4 c = texture(uTexture, vTextureCoord);
    finalColor = vec4(mix(c.rgb, uColor * c.a, uAlpha), c.a);
}`,zte=`struct ColorOverlayUniforms {
    uColor: vec3<f32>,
    uAlpha: f32,
};

@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> colorOverlayUniforms : ColorOverlayUniforms;

@fragment
fn mainFragment(
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
    let c = textureSample(uTexture, uSampler, uv);
    return vec4<f32>(mix(c.rgb, colorOverlayUniforms.uColor.rgb * c.a, colorOverlayUniforms.uAlpha), c.a);
}
`,Vte=Object.defineProperty,Hte=(t,e,n)=>e in t?Vte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oR=(t,e,n)=>(Hte(t,typeof e!="symbol"?e+"":e,n),n);const YH=class qH extends tu{constructor(...e){let n=e[0]??{};(typeof n=="number"||Array.isArray(n)||n instanceof Float32Array)&&(Qe("6.0.0","ColorOverlayFilter constructor params are now options object. See params: { color, alpha }"),n={color:n},e[1]!==void 0&&(n.alpha=e[1])),n={...qH.DEFAULT_OPTIONS,...n};const r=fs.from({vertex:{source:Lte,entryPoint:"mainVertex"},fragment:{source:zte,entryPoint:"mainFragment"}}),i=Xs.from({vertex:Fte,fragment:Gte,name:"color-overlay-filter"});super({gpuProgram:r,glProgram:i,resources:{colorOverlayUniforms:{uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:n.alpha,type:"f32"}}}}),oR(this,"uniforms"),oR(this,"_color"),this.uniforms=this.resources.colorOverlayUniforms.uniforms,this._color=new en,this.color=n.color??0}get color(){return this._color.value}set color(e){this._color.setValue(e);const[n,r,i]=this._color.toArray();this.uniforms.uColor[0]=n,this.uniforms.uColor[1]=r,this.uniforms.uColor[2]=i}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}};oR(YH,"DEFAULT_OPTIONS",{color:0,alpha:1});let Wte=YH;var $te=Object.getOwnPropertyDescriptor,jte=(t,e,n,r)=>{for(var i=r>1?void 0:r?$te(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=o(i)||i);return i},Xte=(t,e)=>(n,r)=>e(n,r,t);const Yte=25;let lR=class{constructor(t,e){St(this,"pixiDisk",new Bd);St(this,"pixiContainer",new Ei);St(this,"pixiText",new Hw);St(this,"colorOverlayFilter",new Wte({color:YZ}));St(this,"onPointerDown",t=>{this.eventBus.emit("diskGrabbed",{weight:this.weight});const e=this.pixiContainer,n=t.getLocalPosition(e.parent);let r=new mn;r.set(n.x-e.x,n.y-e.y),e.alpha=.8;const i=e.zIndex;e.zIndex=100;let s=e.parent;for(;s.parent;)s=s.parent;const o=c=>{const f=c.getLocalPosition(e.parent);e.position.set(f.x-r.x,f.y-r.y),this.eventBus.emit("grabbedDiskMoved",void 0)};s.on("pointermove",o);const u=()=>{e.alpha=1,e.zIndex=i,s.off("pointermove",o),s.off("pointerup",u),this.eventBus.emit("grabbedDiskReleased",void 0)};s.on("pointerupoutside",u),s.on("pointerup",u)});this.eventBus=t,this.weight=e}get alphaChannel(){return this.pixiContainer.alpha}set alphaChannel(t){this.pixiContainer.alpha=t}get collisionRect(){return this.pixiContainer.getBounds()}get endGameColorAlphaChannel(){return this.colorOverlayFilter.alpha}set endGameColorAlphaChannel(t){this.colorOverlayFilter.alpha=t}get weightTextAlphaChannel(){return this.pixiText.alpha}set weightTextAlphaChannel(t){this.pixiText.alpha=t}move({x:t,y:e,animate:n}){e=this.normalizeY(e),n?Hu.to(this.pixiContainer,{pixi:{x:t,y:e},duration:sR/1e3}):(this.pixiContainer.x=t,this.pixiContainer.y=e)}enableInteraction(){this.pixiContainer.eventMode="static",this.pixiContainer.cursor="pointer",this.pixiContainer.off("pointerdown",this.onPointerDown),this.pixiContainer.on("pointerdown",this.onPointerDown)}disableInteraction(){this.pixiContainer.eventMode="none",this.pixiContainer.cursor=void 0,this.pixiContainer.off("pointerdown",this.onPointerDown)}draw({x:t,weight:e,y:n,layer:r}){this.alphaChannel=0;const i=aQ+oQ*e,s=this.colorOverlayFilter;s.resolution=Zz,s.antialias="inherit",s.alpha=0;const{pixiDisk:o,pixiContainer:u,pixiText:c}=this;u.x=t,u.zIndex=2,u.y=this.normalizeY(n),o.roundRect(Math.round(-(i/2)),0,i,dm,Yte).fill(this.getColor(e)),o.filters=[s],u.addChild(o),c.text=e+1,c.style={fontSize:"14px",fill:16777215,fontFamily:"sans-serif",fontWeight:"normal"},c.x=-c.width/2,c.y=u.height/2-c.height/2,u.addChild(c),r.addChild(u)}destroy(){this.pixiContainer.destroy({children:!0})}getColor(t){return XZ[t]||"#ffffff"}normalizeY(t){return t-dm}};lR=jte([Gd(),Xte(0,Ns(rr.eventBus))],lR);var GC={exports:{}},M0={},zC={exports:{}},VC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI;function qte(){return bI||(bI=1,function(t){function e(R,N){var z=R.length;R.push(N);e:for(;0<z;){var K=z-1>>>1,U=R[K];if(0<i(U,N))R[K]=N,R[z]=U,z=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var N=R[0],z=R.pop();if(z!==N){R[0]=z;e:for(var K=0,U=R.length,j=U>>>1;K<j;){var ne=2*(K+1)-1,re=R[ne],we=ne+1,Ce=R[we];if(0>i(re,z))we<U&&0>i(Ce,re)?(R[K]=Ce,R[we]=z,K=we):(R[K]=re,R[ne]=z,K=ne);else if(we<U&&0>i(Ce,z))R[K]=Ce,R[we]=z,K=we;else break e}}return N}function i(R,N){var z=R.sortIndex-N.sortIndex;return z!==0?z:R.id-N.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],f=[],p=1,v=null,b=3,y=!1,E=!1,S=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(R){for(var N=n(f);N!==null;){if(N.callback===null)r(f);else if(N.startTime<=R)r(f),N.sortIndex=N.expirationTime,e(c,N);else break;N=n(f)}}function D(R){if(S=!1,M(R),!E)if(n(c)!==null)E=!0,W||(W=!0,ee());else{var N=n(f);N!==null&&he(D,N.startTime-R)}}var W=!1,G=-1,Y=5,L=-1;function X(){return T?!0:!(t.unstable_now()-L<Y)}function Z(){if(T=!1,W){var R=t.unstable_now();L=R;var N=!0;try{e:{E=!1,S&&(S=!1,P(G),G=-1),y=!0;var z=b;try{t:{for(M(R),v=n(c);v!==null&&!(v.expirationTime>R&&X());){var K=v.callback;if(typeof K=="function"){v.callback=null,b=v.priorityLevel;var U=K(v.expirationTime<=R);if(R=t.unstable_now(),typeof U=="function"){v.callback=U,M(R),N=!0;break t}v===n(c)&&r(c),M(R)}else r(c);v=n(c)}if(v!==null)N=!0;else{var j=n(f);j!==null&&he(D,j.startTime-R),N=!1}}break e}finally{v=null,b=z,y=!1}N=void 0}}finally{N?ee():W=!1}}}var ee;if(typeof O=="function")ee=function(){O(Z)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Te=be.port2;be.port1.onmessage=Z,ee=function(){Te.postMessage(null)}}else ee=function(){A(Z,0)};function he(R,N){G=A(function(){R(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(R){switch(b){case 1:case 2:case 3:var N=3;break;default:N=b}var z=b;b=N;try{return R()}finally{b=z}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(R,N){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=b;b=R;try{return N()}finally{b=z}},t.unstable_scheduleCallback=function(R,N,z){var K=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,R={id:p++,callback:N,priorityLevel:R,startTime:z,expirationTime:U,sortIndex:-1},z>K?(R.sortIndex=z,e(f,R),n(c)===null&&R===n(f)&&(S?(P(G),G=-1):S=!0,he(D,z-K))):(R.sortIndex=U,e(c,R),E||y||(E=!0,W||(W=!0,ee()))),R},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(R){var N=b;return function(){var z=b;b=N;try{return R.apply(this,arguments)}finally{b=z}}}}(VC)),VC}var _I;function Kte(){return _I||(_I=1,zC.exports=qte()),zC.exports}var HC={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function Zte(){if(yI)return Pt;yI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(U,j,ne){this.props=U,this.context=j,this.refs=S,this.updater=ne||y}T.prototype.isReactComponent={},T.prototype.setState=function(U,j){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,j,"setState")},T.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function A(){}A.prototype=T.prototype;function P(U,j,ne){this.props=U,this.context=j,this.refs=S,this.updater=ne||y}var O=P.prototype=new A;O.constructor=P,E(O,T.prototype),O.isPureReactComponent=!0;var M=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function G(U,j,ne,re,we,Ce){return ne=Ce.ref,{$$typeof:t,type:U,key:j,ref:ne!==void 0?ne:null,props:Ce}}function Y(U,j){return G(U.type,j,void 0,void 0,void 0,U.props)}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function X(U){var j={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ne){return j[ne]})}var Z=/\/+/g;function ee(U,j){return typeof U=="object"&&U!==null&&U.key!=null?X(""+U.key):j.toString(36)}function be(){}function Te(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(be,be):(U.status="pending",U.then(function(j){U.status==="pending"&&(U.status="fulfilled",U.value=j)},function(j){U.status==="pending"&&(U.status="rejected",U.reason=j)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function he(U,j,ne,re,we){var Ce=typeof U;(Ce==="undefined"||Ce==="boolean")&&(U=null);var Ie=!1;if(U===null)Ie=!0;else switch(Ce){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(U.$$typeof){case t:case e:Ie=!0;break;case p:return Ie=U._init,he(Ie(U._payload),j,ne,re,we)}}if(Ie)return we=we(U),Ie=re===""?"."+ee(U,0):re,M(we)?(ne="",Ie!=null&&(ne=Ie.replace(Z,"$&/")+"/"),he(we,j,ne,"",function(Ee){return Ee})):we!=null&&(L(we)&&(we=Y(we,ne+(we.key==null||U&&U.key===we.key?"":(""+we.key).replace(Z,"$&/")+"/")+Ie)),j.push(we)),1;Ie=0;var nt=re===""?".":re+":";if(M(U))for(var ve=0;ve<U.length;ve++)re=U[ve],Ce=nt+ee(re,ve),Ie+=he(re,j,ne,Ce,we);else if(ve=b(U),typeof ve=="function")for(U=ve.call(U),ve=0;!(re=U.next()).done;)re=re.value,Ce=nt+ee(re,ve++),Ie+=he(re,j,ne,Ce,we);else if(Ce==="object"){if(typeof U.then=="function")return he(Te(U),j,ne,re,we);throw j=String(U),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function R(U,j,ne){if(U==null)return U;var re=[],we=0;return he(U,re,"","",function(Ce){return j.call(ne,Ce,we++)}),re}function N(U){if(U._status===-1){var j=U._result;j=j(),j.then(function(ne){(U._status===0||U._status===-1)&&(U._status=1,U._result=ne)},function(ne){(U._status===0||U._status===-1)&&(U._status=2,U._result=ne)}),U._status===-1&&(U._status=0,U._result=j)}if(U._status===1)return U._result.default;throw U._result}var z=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function K(){}return Pt.Children={map:R,forEach:function(U,j,ne){R(U,function(){j.apply(this,arguments)},ne)},count:function(U){var j=0;return R(U,function(){j++}),j},toArray:function(U){return R(U,function(j){return j})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Pt.Component=T,Pt.Fragment=n,Pt.Profiler=i,Pt.PureComponent=P,Pt.StrictMode=r,Pt.Suspense=c,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},Pt.cache=function(U){return function(){return U.apply(null,arguments)}},Pt.cloneElement=function(U,j,ne){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var re=E({},U.props),we=U.key,Ce=void 0;if(j!=null)for(Ie in j.ref!==void 0&&(Ce=void 0),j.key!==void 0&&(we=""+j.key),j)!W.call(j,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&j.ref===void 0||(re[Ie]=j[Ie]);var Ie=arguments.length-2;if(Ie===1)re.children=ne;else if(1<Ie){for(var nt=Array(Ie),ve=0;ve<Ie;ve++)nt[ve]=arguments[ve+2];re.children=nt}return G(U.type,we,void 0,void 0,Ce,re)},Pt.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},Pt.createElement=function(U,j,ne){var re,we={},Ce=null;if(j!=null)for(re in j.key!==void 0&&(Ce=""+j.key),j)W.call(j,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(we[re]=j[re]);var Ie=arguments.length-2;if(Ie===1)we.children=ne;else if(1<Ie){for(var nt=Array(Ie),ve=0;ve<Ie;ve++)nt[ve]=arguments[ve+2];we.children=nt}if(U&&U.defaultProps)for(re in Ie=U.defaultProps,Ie)we[re]===void 0&&(we[re]=Ie[re]);return G(U,Ce,void 0,void 0,null,we)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(U){return{$$typeof:u,render:U}},Pt.isValidElement=L,Pt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:N}},Pt.memo=function(U,j){return{$$typeof:f,type:U,compare:j===void 0?null:j}},Pt.startTransition=function(U){var j=D.T,ne={};D.T=ne;try{var re=U(),we=D.S;we!==null&&we(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(K,z)}catch(Ce){z(Ce)}finally{D.T=j}},Pt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Pt.use=function(U){return D.H.use(U)},Pt.useActionState=function(U,j,ne){return D.H.useActionState(U,j,ne)},Pt.useCallback=function(U,j){return D.H.useCallback(U,j)},Pt.useContext=function(U){return D.H.useContext(U)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(U,j){return D.H.useDeferredValue(U,j)},Pt.useEffect=function(U,j,ne){var re=D.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(U,j)},Pt.useId=function(){return D.H.useId()},Pt.useImperativeHandle=function(U,j,ne){return D.H.useImperativeHandle(U,j,ne)},Pt.useInsertionEffect=function(U,j){return D.H.useInsertionEffect(U,j)},Pt.useLayoutEffect=function(U,j){return D.H.useLayoutEffect(U,j)},Pt.useMemo=function(U,j){return D.H.useMemo(U,j)},Pt.useOptimistic=function(U,j){return D.H.useOptimistic(U,j)},Pt.useReducer=function(U,j,ne){return D.H.useReducer(U,j,ne)},Pt.useRef=function(U){return D.H.useRef(U)},Pt.useState=function(U){return D.H.useState(U)},Pt.useSyncExternalStore=function(U,j,ne){return D.H.useSyncExternalStore(U,j,ne)},Pt.useTransition=function(){return D.H.useTransition()},Pt.version="19.1.0",Pt}var xI;function fE(){return xI||(xI=1,HC.exports=Zte()),HC.exports}var WC={exports:{}},Li={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI;function Qte(){if(SI)return Li;SI=1;var t=fE();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:c,containerInfo:f,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Li.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Li.createPortal=function(c,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,p)},Li.flushSync=function(c){var f=o.T,p=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=f,r.p=p,r.d.f()}},Li.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Li.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Li.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:y}):p==="script"&&r.d.X(c,{crossOrigin:v,integrity:b,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Li.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Li.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin);r.d.L(c,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Li.preloadModule=function(c,f){if(typeof c=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Li.requestFormReset=function(c){r.d.r(c)},Li.unstable_batchedUpdates=function(c,f){return c(f)},Li.useFormState=function(c,f,p){return o.H.useFormState(c,f,p)},Li.useFormStatus=function(){return o.H.useHostTransitionStatus()},Li.version="19.1.0",Li}var wI;function KH(){if(wI)return WC.exports;wI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),WC.exports=Qte(),WC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI;function Jte(){if(EI)return M0;EI=1;var t=Kte(),e=fE(),n=KH();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(r(188))}function c(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,m=l;;){var _=d.return;if(_===null)break;var w=_.alternate;if(w===null){if(m=_.return,m!==null){d=m;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===d)return u(_),a;if(w===m)return u(_),l;w=w.sibling}throw Error(r(188))}if(d.return!==m.return)d=_,m=w;else{for(var B=!1,H=_.child;H;){if(H===d){B=!0,d=_,m=w;break}if(H===m){B=!0,m=_,d=w;break}H=H.sibling}if(!B){for(H=w.child;H;){if(H===d){B=!0,d=w,m=_;break}if(H===m){B=!0,m=w,d=_;break}H=H.sibling}if(!B)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ee(a){return a===null||typeof a!="object"?null:(a=Z&&a[Z]||a["@@iterator"],typeof a=="function"?a:null)}var be=Symbol.for("react.client.reference");function Te(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===be?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case W:return"SuspenseList";case L:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case y:return"Portal";case O:return(a.displayName||"Context")+".Provider";case P:return(a._context.displayName||"Context")+".Consumer";case M:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case G:return l=a.displayName||null,l!==null?l:Te(a.type)||"Memo";case Y:l=a._payload,a=a._init;try{return Te(a(l))}catch{}}return null}var he=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},K=[],U=-1;function j(a){return{current:a}}function ne(a){0>U||(a.current=K[U],K[U]=null,U--)}function re(a,l){U++,K[U]=a.current,a.current=l}var we=j(null),Ce=j(null),Ie=j(null),nt=j(null);function ve(a,l){switch(re(Ie,l),re(Ce,a),re(we,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?Hn(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=Hn(l),a=jn(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ne(we),re(we,a)}function Ee(){ne(we),ne(Ce),ne(Ie)}function Fe(a){a.memoizedState!==null&&re(nt,a);var l=we.current,d=jn(l,a.type);l!==d&&(re(Ce,a),re(we,d))}function $e(a){Ce.current===a&&(ne(we),ne(Ce)),nt.current===a&&(ne(nt),od._currentValue=z)}var et=Object.prototype.hasOwnProperty,gt=t.unstable_scheduleCallback,rt=t.unstable_cancelCallback,qe=t.unstable_shouldYield,Xe=t.unstable_requestPaint,tn=t.unstable_now,di=t.unstable_getCurrentPriorityLevel,Xr=t.unstable_ImmediatePriority,Yr=t.unstable_UserBlockingPriority,ct=t.unstable_NormalPriority,on=t.unstable_LowPriority,Ir=t.unstable_IdlePriority,qs=t.log,Ks=t.unstable_setDisableYieldValue,Zs=null,bn=null;function Nr(a){if(typeof qs=="function"&&Ks(a),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(Zs,a)}catch{}}var dr=Math.clz32?Math.clz32:fe,lo=Math.log,ps=Math.LN2;function fe(a){return a>>>=0,a===0?32:31-(lo(a)/ps|0)|0}var ye=256,Re=4194304;function Ue(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ye(a,l,d){var m=a.pendingLanes;if(m===0)return 0;var _=0,w=a.suspendedLanes,B=a.pingedLanes;a=a.warmLanes;var H=m&134217727;return H!==0?(m=H&~w,m!==0?_=Ue(m):(B&=H,B!==0?_=Ue(B):d||(d=H&~a,d!==0&&(_=Ue(d))))):(H=m&~w,H!==0?_=Ue(H):B!==0?_=Ue(B):d||(d=m&~a,d!==0&&(_=Ue(d)))),_===0?0:l!==0&&l!==_&&(l&w)===0&&(w=_&-_,d=l&-l,w>=d||w===32&&(d&4194048)!==0)?l:_}function Ut(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Fn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mt(){var a=ye;return ye<<=1,(ye&4194048)===0&&(ye=256),a}function Le(){var a=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),a}function k(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function F(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function q(a,l,d,m,_,w){var B=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var H=a.entanglements,J=a.expirationTimes,ge=a.hiddenUpdates;for(d=B&~d;0<d;){var Pe=31-dr(d),De=1<<Pe;H[Pe]=0,J[Pe]=-1;var xe=ge[Pe];if(xe!==null)for(ge[Pe]=null,Pe=0;Pe<xe.length;Pe++){var me=xe[Pe];me!==null&&(me.lane&=-536870913)}d&=~De}m!==0&&le(a,m,0),w!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=w&~(B&~l))}function le(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-dr(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|d&4194090}function ke(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-dr(d),_=1<<m;_&l|a[m]&l&&(a[m]|=l),d&=~_}}function We(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Et(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function hr(){var a=N.p;return a!==0?a:(a=window.event,a===void 0?32:Y1(a.type))}function ji(a,l){var d=N.p;try{return N.p=a,l()}finally{N.p=d}}var yr=Math.random().toString(36).slice(2),_n="__reactFiber$"+yr,Yn="__reactProps$"+yr,Jr="__reactContainer$"+yr,Qs="__reactEvents$"+yr,gs="__reactListeners$"+yr,uo="__reactHandles$"+yr,qo="__reactResources$"+yr,qn="__reactMarker$"+yr;function fc(a){delete a[_n],delete a[Yn],delete a[Qs],delete a[gs],delete a[uo]}function Xi(a){var l=a[_n];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Jr]||d[_n]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=N1(a);a!==null;){if(d=a[_n])return d;a=N1(a)}return l}a=d,d=a.parentNode}return null}function co(a){if(a=a[_n]||a[Jr]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function pc(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function gc(a){var l=a[qo];return l||(l=a[qo]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ur(a){a[qn]=!0}var ky=new Set,Iy={};function au(a,l){mc(a,l),mc(a+"Capture",l)}function mc(a,l){for(Iy[a]=l,a=0;a<l.length;a++)ky.add(l[a])}var mp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ny={},Yd={};function ME(a){return et.call(Yd,a)?!0:et.call(Ny,a)?!1:mp.test(a)?Yd[a]=!0:(Ny[a]=!0,!1)}function vp(a,l,d){if(ME(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function bp(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Ba(a,l,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+m)}}var _p,Av;function vc(a){if(_p===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);_p=l&&l[1]||"",Av=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_p+a+Av}var Rv=!1;function Pv(a,l){if(!a||Rv)return"";Rv=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(me){var xe=me}Reflect.construct(a,[],De)}else{try{De.call()}catch(me){xe=me}a.call(De.prototype)}}else{try{throw Error()}catch(me){xe=me}(De=a())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(me){if(me&&xe&&typeof me.stack=="string")return[me.stack,xe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),B=w[0],H=w[1];if(B&&H){var J=B.split(`
`),ge=H.split(`
`);for(_=m=0;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;for(;_<ge.length&&!ge[_].includes("DetermineComponentFrameRoot");)_++;if(m===J.length||_===ge.length)for(m=J.length-1,_=ge.length-1;1<=m&&0<=_&&J[m]!==ge[_];)_--;for(;1<=m&&0<=_;m--,_--)if(J[m]!==ge[_]){if(m!==1||_!==1)do if(m--,_--,0>_||J[m]!==ge[_]){var Pe=`
`+J[m].replace(" at new "," at ");return a.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",a.displayName)),Pe}while(1<=m&&0<=_);break}}}finally{Rv=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?vc(d):""}function DE(a){switch(a.tag){case 26:case 27:case 5:return vc(a.type);case 16:return vc("Lazy");case 13:return vc("Suspense");case 19:return vc("SuspenseList");case 0:case 15:return Pv(a.type,!1);case 11:return Pv(a.type.render,!1);case 1:return Pv(a.type,!0);case 31:return vc("Activity");default:return""}}function Ov(a){try{var l="";do l+=DE(a),a=a.return;while(a);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Yi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Mv(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Dv(a){var l=Mv(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,w=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return _.call(this)},set:function(B){m=""+B,w.call(this,B)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(B){m=""+B},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function yp(a){a._valueTracker||(a._valueTracker=Dv(a))}function Bv(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=Mv(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function ou(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Uy=/[\n"\\]/g;function ms(a){return a.replace(Uy,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function xp(a,l,d,m,_,w,B,H){a.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.type=B:a.removeAttribute("type"),l!=null?B==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Yi(l)):a.value!==""+Yi(l)&&(a.value=""+Yi(l)):B!=="submit"&&B!=="reset"||a.removeAttribute("value"),l!=null?qd(a,B,Yi(l)):d!=null?qd(a,B,Yi(d)):m!=null&&a.removeAttribute("value"),_==null&&w!=null&&(a.defaultChecked=!!w),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?a.name=""+Yi(H):a.removeAttribute("name")}function kv(a,l,d,m,_,w,B,H){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),l!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||l!=null))return;d=d!=null?""+Yi(d):"",l=l!=null?""+Yi(l):d,H||l===a.value||(a.value=l),a.defaultValue=l}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=H?a.checked:!!m,a.defaultChecked=!!m,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.name=B)}function qd(a,l,d){l==="number"&&ou(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function bc(a,l,d,m){if(a=a.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<a.length;d++)_=l.hasOwnProperty("$"+a[d].value),a[d].selected!==_&&(a[d].selected=_),_&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Yi(d),l=null,_=0;_<a.length;_++){if(a[_].value===d){a[_].selected=!0,m&&(a[_].defaultSelected=!0);return}l!==null||a[_].disabled||(l=a[_])}l!==null&&(l.selected=!0)}}function Iv(a,l,d){if(l!=null&&(l=""+Yi(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+Yi(d):""}function Sp(a,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(he(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Yi(l),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m)}function Ko(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nv(a,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,d):typeof d!="number"||d===0||_c.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function Uv(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var _ in l)m=l[_],l.hasOwnProperty(_)&&d[_]!==m&&Nv(a,_,m)}else for(var w in l)l.hasOwnProperty(w)&&Nv(a,w,l[w])}function Fv(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ly=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kd(a){return Ly.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var wp=null;function Lv(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var yc=null,xc=null;function Gv(a){var l=co(a);if(l&&(a=l.stateNode)){var d=a[Yn]||null;e:switch(a=l.stateNode,l.type){case"input":if(xp(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ms(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var _=m[Yn]||null;if(!_)throw Error(r(90));xp(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===a.form&&Bv(m)}break e;case"textarea":Iv(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&bc(a,!!d.multiple,l,!1)}}}var zv=!1;function Gy(a,l,d){if(zv)return a(l,d);zv=!0;try{var m=a(l);return m}finally{if(zv=!1,(yc!==null||xc!==null)&&(wg(),yc&&(l=yc,a=xc,xc=yc=null,Gv(l),a)))for(l=0;l<a.length;l++)Gv(a[l])}}function Zd(a,l){var d=a.stateNode;if(d===null)return null;var m=d[Yn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qd=!1;if(ho)try{var Jd={};Object.defineProperty(Jd,"passive",{get:function(){Qd=!0}}),window.addEventListener("test",Jd,Jd),window.removeEventListener("test",Jd,Jd)}catch{Qd=!1}var Zo=null,Vv=null,Ep=null;function zy(){if(Ep)return Ep;var a,l=Vv,d=l.length,m,_="value"in Zo?Zo.value:Zo.textContent,w=_.length;for(a=0;a<d&&l[a]===_[a];a++);var B=d-a;for(m=1;m<=B&&l[d-m]===_[w-m];m++);return Ep=_.slice(a,1<m?1-m:void 0)}function yn(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function cn(){return!0}function Vy(){return!1}function Ci(a){function l(d,m,_,w,B){this._reactName=d,this._targetInst=_,this.type=m,this.nativeEvent=w,this.target=B,this.currentTarget=null;for(var H in a)a.hasOwnProperty(H)&&(d=a[H],this[H]=d?d(w):w[H]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?cn:Vy,this.isPropagationStopped=Vy,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=cn)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=cn)},persist:function(){},isPersistent:cn}),l}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=Ci(lu),eh=p({},lu,{view:0,detail:0}),BE=Ci(eh),Cp,Hv,ir,Sc=p({},eh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ir&&(ir&&a.type==="mousemove"?(Cp=a.screenX-ir.screenX,Hv=a.screenY-ir.screenY):Hv=Cp=0,ir=a),Cp)},movementY:function(a){return"movementY"in a?a.movementY:Hv}}),Qo=Ci(Sc),Hy=p({},Sc,{dataTransfer:0}),Wv=Ci(Hy),vs=p({},eh,{relatedTarget:0}),Ap=Ci(vs),Wy=p({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),$y=Ci(Wy),jy=p({},lu,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Xy=Ci(jy),Yy=p({},lu,{data:0}),Ai=Ci(Yy),kE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qy(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=IE[a])?!!l[a]:!1}function ka(){return qy}var Rp=p({},eh,{key:function(a){if(a.key){var l=kE[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=yn(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bs[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(a){return a.type==="keypress"?yn(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?yn(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$v=Ci(Rp),Ln=p({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fo=Ci(Ln),jv=p({},eh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),NE=Ci(jv),Xv=p({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),UE=Ci(Xv),FE=p({},Sc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),LE=Ci(FE),Ky=p({},lu,{newState:0,oldState:0}),Pp=Ci(Ky),wc=[9,13,27,32],Yv=ho&&"CompositionEvent"in window,Ec=null;ho&&"documentMode"in document&&(Ec=document.documentMode);var Zy=ho&&"TextEvent"in window&&!Ec,Op=ho&&(!Yv||Ec&&8<Ec&&11>=Ec),Mp=" ",qv=!1;function Qy(a,l){switch(a){case"keyup":return wc.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dp(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Jo=!1;function GE(a,l){switch(a){case"compositionend":return Dp(l);case"keypress":return l.which!==32?null:(qv=!0,Mp);case"textInput":return a=l.data,a===Mp&&qv?null:a;default:return null}}function Jy(a,l){if(Jo)return a==="compositionend"||!Yv&&Qy(a,l)?(a=zy(),Ep=Vv=Zo=null,Jo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Op&&l.locale!=="ko"?null:l.data;default:return null}}var qi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!qi[a.type]:l==="textarea"}function Tc(a,l,d,m){yc?xc?xc.push(m):xc=[m]:yc=m,l=Og(l,"onChange"),0<l.length&&(d=new Tp("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var Cc=null,Ac=null;function zE(a){R1(a,0)}function kp(a){var l=pc(a);if(Bv(l))return a}function ex(a,l){if(a==="change")return l}var tx=!1;if(ho){var Kv;if(ho){var el="oninput"in document;if(!el){var nx=document.createElement("div");nx.setAttribute("oninput","return;"),el=typeof nx.oninput=="function"}Kv=el}else Kv=!1;tx=Kv&&(!document.documentMode||9<document.documentMode)}function rx(){Cc&&(Cc.detachEvent("onpropertychange",Ip),Ac=Cc=null)}function Ip(a){if(a.propertyName==="value"&&kp(Ac)){var l=[];Tc(l,Ac,a,Lv(a)),Gy(zE,l)}}function ix(a,l,d){a==="focusin"?(rx(),Cc=l,Ac=d,Cc.attachEvent("onpropertychange",Ip)):a==="focusout"&&rx()}function tl(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return kp(Ac)}function Np(a,l){if(a==="click")return kp(l)}function VE(a,l){if(a==="input"||a==="change")return kp(l)}function HE(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Ki=typeof Object.is=="function"?Object.is:HE;function Ia(a,l){if(Ki(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var _=d[m];if(!et.call(l,_)||!Ki(a[_],l[_]))return!1}return!0}function _s(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Zv(a,l){var d=_s(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=_s(d)}}function sx(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?sx(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function ax(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=ou(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=ou(a.document)}return l}function Qv(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var WE=ho&&"documentMode"in document&&11>=document.documentMode,Rc=null,nl=null,oe=null,Ae=!1;function Se(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ae||Rc==null||Rc!==ou(m)||(m=Rc,"selectionStart"in m&&Qv(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),oe&&Ia(oe,m)||(oe=m,m=Og(nl,"onSelect"),0<m.length&&(l=new Tp("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=Rc)))}function Ve(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var dt={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionrun:Ve("Transition","TransitionRun"),transitionstart:Ve("Transition","TransitionStart"),transitioncancel:Ve("Transition","TransitionCancel"),transitionend:Ve("Transition","TransitionEnd")},qt={},fr={};ho&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dt.animationend.animation,delete dt.animationiteration.animation,delete dt.animationstart.animation),"TransitionEvent"in window||delete dt.transitionend.transition);function Kt(a){if(qt[a])return qt[a];if(!dt[a])return a;var l=dt[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in fr)return qt[a]=l[d];return a}var Up=Kt("animationend"),ox=Kt("animationiteration"),Zi=Kt("animationstart"),Fp=Kt("transitionrun"),$E=Kt("transitionstart"),Pc=Kt("transitioncancel"),th=Kt("transitionend"),nh=new Map,nn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nn.push("scrollEnd");function Js(a,l){nh.set(a,l),au(l,[a])}var Jv=new WeakMap;function hi(a,l){if(typeof a=="object"&&a!==null){var d=Jv.get(a);return d!==void 0?d:(l={value:a,source:l,stack:Ov(l)},Jv.set(a,l),l)}return{value:a,source:l,stack:Ov(l)}}var ys=[],Oc=0,eb=0;function uu(){for(var a=Oc,l=eb=Oc=0;l<a;){var d=ys[l];ys[l++]=null;var m=ys[l];ys[l++]=null;var _=ys[l];ys[l++]=null;var w=ys[l];if(ys[l++]=null,m!==null&&_!==null){var B=m.pending;B===null?_.next=_:(_.next=B.next,B.next=_),m.pending=_}w!==0&&rh(d,_,w)}}function ea(a,l,d,m){ys[Oc++]=a,ys[Oc++]=l,ys[Oc++]=d,ys[Oc++]=m,eb|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Mc(a,l,d,m){return ea(a,l,d,m),ih(a)}function cu(a,l){return ea(a,null,null,l),ih(a)}function rh(a,l,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var _=!1,w=a.return;w!==null;)w.childLanes|=d,m=w.alternate,m!==null&&(m.childLanes|=d),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(_=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,_&&l!==null&&(_=31-dr(d),a=w.hiddenUpdates,m=a[_],m===null?a[_]=[l]:m.push(l),l.lane=d|536870912),w):null}function ih(a){if(50<Jc)throw Jc=0,Yb=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var du={};function Lp(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ri(a,l,d,m){return new Lp(a,l,d,m)}function hu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function fi(a,l){var d=a.alternate;return d===null?(d=Ri(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function sh(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Gp(a,l,d,m,_,w){var B=0;if(m=a,typeof a=="function")hu(a)&&(B=1);else if(typeof a=="string")B=ST(a,d,we.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case L:return a=Ri(31,d,l,_),a.elementType=L,a.lanes=w,a;case E:return fu(d.children,_,w,l);case S:B=8,_|=24;break;case T:return a=Ri(12,d,l,_|2),a.elementType=T,a.lanes=w,a;case D:return a=Ri(13,d,l,_),a.elementType=D,a.lanes=w,a;case W:return a=Ri(19,d,l,_),a.elementType=W,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:case O:B=10;break e;case P:B=9;break e;case M:B=11;break e;case G:B=14;break e;case Y:B=16,m=null;break e}B=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=Ri(B,d,l,_),l.elementType=a,l.type=m,l.lanes=w,l}function fu(a,l,d,m){return a=Ri(7,a,m,l),a.lanes=d,a}function tb(a,l,d){return a=Ri(6,a,null,l),a.lanes=d,a}function Dc(a,l,d){return l=Ri(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var po=[],rl=0,zp=null,ah=0,xs=[],Ss=0,On=null,Gn=1,go="";function pu(a,l){po[rl++]=ah,po[rl++]=zp,zp=a,ah=l}function nb(a,l,d){xs[Ss++]=Gn,xs[Ss++]=go,xs[Ss++]=On,On=a;var m=Gn;a=go;var _=32-dr(m)-1;m&=~(1<<_),d+=1;var w=32-dr(l)+_;if(30<w){var B=_-_%5;w=(m&(1<<B)-1).toString(32),m>>=B,_-=B,Gn=1<<32-dr(l)+_|d<<_|m,go=w+a}else Gn=1<<w|d<<_|m,go=a}function rb(a){a.return!==null&&(pu(a,1),nb(a,1,0))}function oh(a){for(;a===zp;)zp=po[--rl],po[rl]=null,ah=po[--rl],po[rl]=null;for(;a===On;)On=xs[--Ss],xs[Ss]=null,go=xs[--Ss],xs[Ss]=null,Gn=xs[--Ss],xs[Ss]=null}var xr=null,zn=null,Ft=!1,ta=null,Pi=!1,Bc=Error(r(519));function ws(a){var l=Error(r(418,""));throw il(hi(l,a)),Bc}function lx(a){var l=a.stateNode,d=a.type,m=a.memoizedProps;switch(l[_n]=a,l[Yn]=m,d){case"dialog":It("cancel",l),It("close",l);break;case"iframe":case"object":case"embed":It("load",l);break;case"video":case"audio":for(d=0;d<qh.length;d++)It(qh[d],l);break;case"source":It("error",l);break;case"img":case"image":case"link":It("error",l),It("load",l);break;case"details":It("toggle",l);break;case"input":It("invalid",l),kv(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),yp(l);break;case"select":It("invalid",l);break;case"textarea":It("invalid",l),Sp(l,m.value,m.defaultValue,m.children),yp(l)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||M1(l.textContent,d)?(m.popover!=null&&(It("beforetoggle",l),It("toggle",l)),m.onScroll!=null&&It("scroll",l),m.onScrollEnd!=null&&It("scrollend",l),m.onClick!=null&&(l.onclick=Mg),l=!0):l=!1,l||ws(a)}function ux(a){for(xr=a.return;xr;)switch(xr.tag){case 5:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:xr=xr.return}}function lh(a){if(a!==xr)return!1;if(!Ft)return ux(a),Ft=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Bg(a.type,a.memoizedProps)),d=!d),d&&zn&&ws(a),ux(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(l===0){zn=oa(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;a=a.nextSibling}zn=null}}else l===27?(l=zn,Ps(a.type)?(a=l0,l0=null,zn=a):zn=l):zn=xr?oa(a.stateNode.nextSibling):null;return!0}function uh(){zn=xr=null,Ft=!1}function cx(){var a=ta;return a!==null&&(Ui===null?Ui=a:Ui.push.apply(Ui,a),ta=null),a}function il(a){ta===null?ta=[a]:ta.push(a)}var gu=j(null),sl=null,V=null;function Qi(a,l,d){re(gu,l._currentValue),l._currentValue=d}function Es(a){a._currentValue=gu.current,ne(gu)}function Oi(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function Ot(a,l,d,m){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var w=_.dependencies;if(w!==null){var B=_.child;w=w.firstContext;e:for(;w!==null;){var H=w;w=_;for(var J=0;J<l.length;J++)if(H.context===l[J]){w.lanes|=d,H=w.alternate,H!==null&&(H.lanes|=d),Oi(w.return,d,a),m||(B=null);break e}w=H.next}}else if(_.tag===18){if(B=_.return,B===null)throw Error(r(341));B.lanes|=d,w=B.alternate,w!==null&&(w.lanes|=d),Oi(B,d,a),B=null}else B=_.child;if(B!==null)B.return=_;else for(B=_;B!==null;){if(B===a){B=null;break}if(_=B.sibling,_!==null){_.return=B.return,B=_;break}B=B.return}_=B}}function ch(a,l,d,m){a=null;for(var _=l,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var B=_.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var H=_.type;Ki(_.pendingProps.value,B.value)||(a!==null?a.push(H):a=[H])}}else if(_===nt.current){if(B=_.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(od):a=[od])}_=_.return}a!==null&&Ot(l,a,d,m),l.flags|=262144}function Vp(a){for(a=a.firstContext;a!==null;){if(!Ki(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function mu(a){sl=a,V=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Kn(a){return dx(sl,a)}function Hp(a,l){return sl===null&&mu(a),dx(a,l)}function dx(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},V===null){if(a===null)throw Error(r(308));V=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else V=V.next=l;return d}var jE=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},XE=t.unstable_scheduleCallback,YE=t.unstable_NormalPriority,En={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ib(){return{controller:new jE,data:new Map,refCount:0}}function dh(a){a.refCount--,a.refCount===0&&XE(YE,function(){a.controller.abort()})}var hh=null,sb=0,kc=0,Mi=null;function qE(a,l){if(hh===null){var d=hh=[];sb=0,kc=Pg(),Mi={status:"pending",value:void 0,then:function(m){d.push(m)}}}return sb++,l.then(hx,hx),l}function hx(){if(--sb===0&&hh!==null){Mi!==null&&(Mi.status="fulfilled");var a=hh;hh=null,kc=0,Mi=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function KE(a,l){var d=[],m={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var _=0;_<d.length;_++)(0,d[_])(l)},function(_){for(m.status="rejected",m.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),m}var fx=R.S;R.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&qE(a,l),fx!==null&&fx(a,l)};var vu=j(null);function mo(){var a=vu.current;return a!==null?a:Rn.pooledCache}function Wp(a,l){l===null?re(vu,vu.current):re(vu,l.pool)}function px(){var a=mo();return a===null?null:{parent:En._currentValue,pool:a}}var pi=Error(r(460)),gx=Error(r(474)),$p=Error(r(542)),ab={then:function(){}};function mx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function jp(){}function ob(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(jp,jp),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,bx(a),a;default:if(typeof l.status=="string")l.then(jp,jp);else{if(a=Rn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=m}},function(m){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,bx(a),a}throw Ic=l,pi}}var Ic=null;function vx(){if(Ic===null)throw Error(r(459));var a=Ic;return Ic=null,a}function bx(a){if(a===pi||a===$p)throw Error(r(483))}var Na=!1;function bu(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nc(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function al(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function vo(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(hn&2)!==0){var _=m.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),m.pending=l,l=ih(a),rh(a,null,d),l}return ea(a,m,l,d),ih(a)}function fh(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,ke(a,d)}}function na(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var _=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var B={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?_=w=B:w=w.next=B,d=d.next}while(d!==null);w===null?_=w=l:w=w.next=l}else _=w=l;d={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var ph=!1;function ra(){if(ph){var a=Mi;if(a!==null)throw a}}function ei(a,l,d,m){ph=!1;var _=a.updateQueue;Na=!1;var w=_.firstBaseUpdate,B=_.lastBaseUpdate,H=_.shared.pending;if(H!==null){_.shared.pending=null;var J=H,ge=J.next;J.next=null,B===null?w=ge:B.next=ge,B=J;var Pe=a.alternate;Pe!==null&&(Pe=Pe.updateQueue,H=Pe.lastBaseUpdate,H!==B&&(H===null?Pe.firstBaseUpdate=ge:H.next=ge,Pe.lastBaseUpdate=J))}if(w!==null){var De=_.baseState;B=0,Pe=ge=J=null,H=w;do{var xe=H.lane&-536870913,me=xe!==H.lane;if(me?(jt&xe)===xe:(m&xe)===xe){xe!==0&&xe===kc&&(ph=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var ot=a,st=H;xe=l;var Sn=d;switch(st.tag){case 1:if(ot=st.payload,typeof ot=="function"){De=ot.call(Sn,De,xe);break e}De=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=st.payload,xe=typeof ot=="function"?ot.call(Sn,De,xe):ot,xe==null)break e;De=p({},De,xe);break e;case 2:Na=!0}}xe=H.callback,xe!==null&&(a.flags|=64,me&&(a.flags|=8192),me=_.callbacks,me===null?_.callbacks=[xe]:me.push(xe))}else me={lane:xe,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Pe===null?(ge=Pe=me,J=De):Pe=Pe.next=me,B|=xe;if(H=H.next,H===null){if(H=_.shared.pending,H===null)break;me=H,H=me.next,me.next=null,_.lastBaseUpdate=me,_.shared.pending=null}}while(!0);Pe===null&&(J=De),_.baseState=J,_.firstBaseUpdate=ge,_.lastBaseUpdate=Pe,w===null&&(_.shared.lanes=0),gl|=B,a.lanes=B,a.memoizedState=De}}function _x(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function lb(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)_x(d[a],l)}var _u=j(null),ol=j(0);function bo(a,l){a=Ao,re(ol,a),re(_u,l),Ao=a|l.baseLanes}function Xp(){re(ol,Ao),re(_u,_u.current)}function ub(){Ao=ol.current,ne(_u),ne(ol)}var ia=0,Rt=null,dn=null,Lt=null,Uc=!1,yu=!1,ti=!1,Fc=0,ll=0,Ts=null,yx=0;function zt(){throw Error(r(321))}function gh(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Ki(a[d],l[d]))return!1;return!0}function cb(a,l,d,m,_,w){return ia=w,Rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,R.H=a===null||a.memoizedState===null?Bx:Rb,ti=!1,w=d(m,_),ti=!1,yu&&(w=Sx(l,d,m,_)),xx(a),w}function xx(a){R.H=Ch;var l=dn!==null&&dn.next!==null;if(ia=0,Lt=dn=Rt=null,Uc=!1,ll=0,Ts=null,l)throw Error(r(300));a===null||Fr||(a=a.dependencies,a!==null&&Vp(a)&&(Fr=!0))}function Sx(a,l,d,m){Rt=a;var _=0;do{if(yu&&(Ts=null),ll=0,yu=!1,25<=_)throw Error(r(301));if(_+=1,Lt=dn=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}R.H=kx,w=l(d,m)}while(yu);return w}function db(){var a=R.H,l=a.useState()[0];return l=typeof l.then=="function"?mh(l):l,a=a.useState()[0],(dn!==null?dn.memoizedState:null)!==a&&(Rt.flags|=1024),l}function hb(){var a=Fc!==0;return Fc=0,a}function xu(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function Yp(a){if(Uc){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Uc=!1}ia=0,Lt=dn=Rt=null,yu=!1,ll=Fc=0,Ts=null}function Di(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Rt.memoizedState=Lt=a:Lt=Lt.next=a,Lt}function pr(){if(dn===null){var a=Rt.alternate;a=a!==null?a.memoizedState:null}else a=dn.next;var l=Lt===null?Rt.memoizedState:Lt.next;if(l!==null)Lt=l,dn=a;else{if(a===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));dn=a,a={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},Lt===null?Rt.memoizedState=Lt=a:Lt=Lt.next=a}return Lt}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mh(a){var l=ll;return ll+=1,Ts===null&&(Ts=[]),a=ob(Ts,a,l),l=Rt,(Lt===null?l.memoizedState:Lt.next)===null&&(l=l.alternate,R.H=l===null||l.memoizedState===null?Bx:Rb),a}function qp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return mh(a);if(a.$$typeof===O)return Kn(a)}throw Error(r(438,String(a)))}function vh(a){var l=null,d=Rt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Rt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Su(),Rt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),m=0;m<a;m++)d[m]=X;return l.index++,d}function Ua(a,l){return typeof l=="function"?l(a):l}function Kp(a){var l=pr();return fb(l,dn,a)}function fb(a,l,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var _=a.baseQueue,w=m.pending;if(w!==null){if(_!==null){var B=_.next;_.next=w.next,w.next=B}l.baseQueue=_=w,m.pending=null}if(w=a.baseState,_===null)a.memoizedState=w;else{l=_.next;var H=B=null,J=null,ge=l,Pe=!1;do{var De=ge.lane&-536870913;if(De!==ge.lane?(jt&De)===De:(ia&De)===De){var xe=ge.revertLane;if(xe===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),De===kc&&(Pe=!0);else if((ia&xe)===xe){ge=ge.next,xe===kc&&(Pe=!0);continue}else De={lane:0,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},J===null?(H=J=De,B=w):J=J.next=De,Rt.lanes|=xe,gl|=xe;De=ge.action,ti&&d(w,De),w=ge.hasEagerState?ge.eagerState:d(w,De)}else xe={lane:De,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},J===null?(H=J=xe,B=w):J=J.next=xe,Rt.lanes|=De,gl|=De;ge=ge.next}while(ge!==null&&ge!==l);if(J===null?B=w:J.next=H,!Ki(w,a.memoizedState)&&(Fr=!0,Pe&&(d=Mi,d!==null)))throw d;a.memoizedState=w,a.baseState=B,a.baseQueue=J,m.lastRenderedState=w}return _===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function pb(a){var l=pr(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,_=d.pending,w=l.memoizedState;if(_!==null){d.pending=null;var B=_=_.next;do w=a(w,B.action),B=B.next;while(B!==_);Ki(w,l.memoizedState)||(Fr=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),d.lastRenderedState=w}return[w,m]}function gb(a,l,d){var m=Rt,_=pr(),w=Ft;if(w){if(d===void 0)throw Error(r(407));d=d()}else d=l();var B=!Ki((dn||_).memoizedState,d);B&&(_.memoizedState=d,Fr=!0),_=_.queue;var H=Qp.bind(null,m,_,a);if(yh(2048,8,H,[a]),_.getSnapshot!==l||B||Lt!==null&&Lt.memoizedState.tag&1){if(m.flags|=2048,Lc(9,rg(),wx.bind(null,m,_,d,l),null),Rn===null)throw Error(r(349));w||(ia&124)!==0||Zp(m,l,d)}return d}function Zp(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Rt.updateQueue,l===null?(l=Su(),Rt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function wx(a,l,d,m){l.value=d,l.getSnapshot=m,mb(l)&&vb(a)}function Qp(a,l,d){return d(function(){mb(l)&&vb(a)})}function mb(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Ki(a,d)}catch{return!0}}function vb(a){var l=cu(a,2);l!==null&&rs(l,a,2)}function Jp(a){var l=Di();if(typeof a=="function"){var d=a;if(a=d(),ti){Nr(!0);try{d()}finally{Nr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:a},l}function bh(a,l,d,m){return a.baseState=d,fb(a,dn,typeof m=="function"?m:Ua)}function ZE(a,l,d,m,_){if(og(a))throw Error(r(485));if(a=l.action,a!==null){var w={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){w.listeners.push(B)}};R.T!==null?d(!0):w.isTransition=!1,m(w),d=l.pending,d===null?(w.next=l.pending=w,bb(l,w)):(w.next=d.next,l.pending=d.next=w)}}function bb(a,l){var d=l.action,m=l.payload,_=a.state;if(l.isTransition){var w=R.T,B={};R.T=B;try{var H=d(_,m),J=R.S;J!==null&&J(B,H),_b(a,l,H)}catch(ge){eg(a,l,ge)}finally{R.T=w}}else try{w=d(_,m),_b(a,l,w)}catch(ge){eg(a,l,ge)}}function _b(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){Ex(a,l,m)},function(m){return eg(a,l,m)}):Ex(a,l,d)}function Ex(a,l,d){l.status="fulfilled",l.value=d,Tx(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,bb(a,d)))}function eg(a,l,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,Tx(l),l=l.next;while(l!==m)}a.action=null}function Tx(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function tg(a,l){return l}function yb(a,l){if(Ft){var d=Rn.formState;if(d!==null){e:{var m=Rt;if(Ft){if(zn){t:{for(var _=zn,w=Pi;_.nodeType!==8;){if(!w){_=null;break t}if(_=oa(_.nextSibling),_===null){_=null;break t}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){zn=oa(_.nextSibling),m=_.data==="F!";break e}}ws(m)}m=!1}m&&(l=d[0])}}return d=Di(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tg,lastRenderedState:l},d.queue=m,d=Tb.bind(null,Rt,m),m.dispatch=d,m=Jp(!1),w=Cb.bind(null,Rt,!1,m.queue),m=Di(),_={state:l,dispatch:null,action:a,pending:null},m.queue=_,d=ZE.bind(null,Rt,_,w,d),_.dispatch=d,m.memoizedState=a,[l,d,!1]}function ng(a){var l=pr();return Cx(l,dn,a)}function Cx(a,l,d){if(l=fb(a,l,tg)[0],a=Kp(Ua)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=mh(l)}catch(B){throw B===pi?$p:B}else m=l;l=pr();var _=l.queue,w=_.dispatch;return d!==l.memoizedState&&(Rt.flags|=2048,Lc(9,rg(),xb.bind(null,_,d),null)),[m,w,a]}function xb(a,l){a.action=l}function At(a){var l=pr(),d=dn;if(d!==null)return Cx(l,d,a);pr(),l=l.memoizedState,d=pr();var m=d.queue.dispatch;return d.memoizedState=a,[l,m,!1]}function Lc(a,l,d,m){return a={tag:a,create:d,deps:m,inst:l,next:null},l=Rt.updateQueue,l===null&&(l=Su(),Rt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a),a}function rg(){return{destroy:void 0,resource:void 0}}function Gc(){return pr().memoizedState}function _h(a,l,d,m){var _=Di();m=m===void 0?null:m,Rt.flags|=a,_.memoizedState=Lc(1|l,rg(),d,m)}function yh(a,l,d,m){var _=pr();m=m===void 0?null:m;var w=_.memoizedState.inst;dn!==null&&m!==null&&gh(m,dn.memoizedState.deps)?_.memoizedState=Lc(l,w,d,m):(Rt.flags|=a,_.memoizedState=Lc(1|l,w,d,m))}function Ax(a,l){_h(8390656,8,a,l)}function Ji(a,l){yh(2048,8,a,l)}function Rx(a,l){return yh(4,2,a,l)}function xh(a,l){return yh(4,4,a,l)}function ig(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Sb(a,l,d){d=d!=null?d.concat([a]):null,yh(4,4,ig.bind(null,l,a),d)}function sg(){}function Bi(a,l){var d=pr();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&gh(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function _o(a,l){var d=pr();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&gh(l,m[1]))return m[0];if(m=a(),ti){Nr(!0);try{a()}finally{Nr(!1)}}return d.memoizedState=[m,l],m}function Sh(a,l,d){return d===void 0||(ia&1073741824)!==0?a.memoizedState=l:(a.memoizedState=d,a=o1(),Rt.lanes|=a,gl|=a,d)}function wb(a,l,d,m){return Ki(d,l)?d:_u.current!==null?(a=Sh(a,d,m),Ki(a,l)||(Fr=!0),a):(ia&42)===0?(Fr=!0,a.memoizedState=d):(a=o1(),Rt.lanes|=a,gl|=a,l)}function wh(a,l,d,m,_){var w=N.p;N.p=w!==0&&8>w?w:8;var B=R.T,H={};R.T=H,Cb(a,!1,l,d);try{var J=_(),ge=R.S;if(ge!==null&&ge(H,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Pe=KE(J,m);wu(a,l,Pe,ri(a))}else wu(a,l,m,ri(a))}catch(De){wu(a,l,{then:function(){},status:"rejected",reason:De},ri())}finally{N.p=w,R.T=B}}function Px(){}function Eh(a,l,d,m){if(a.tag!==5)throw Error(r(476));var _=Eb(a).queue;wh(a,_,l,z,d===null?Px:function(){return ag(a),d(m)})}function Eb(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:z},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function ag(a){var l=Eb(a).next.queue;wu(a,l,{},ri())}function Th(){return Kn(od)}function yo(){return pr().memoizedState}function Ox(){return pr().memoizedState}function ul(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=ri();a=al(d);var m=vo(l,a,d);m!==null&&(rs(m,l,d),fh(m,l,d)),l={cache:ib()},a.payload=l;return}l=l.return}}function Mx(a,l,d){var m=ri();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},og(a)?Dx(l,d):(d=Mc(a,l,d,m),d!==null&&(rs(d,a,m),Ab(d,l,m)))}function Tb(a,l,d){var m=ri();wu(a,l,d,m)}function wu(a,l,d,m){var _={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(og(a))Dx(l,_);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var B=l.lastRenderedState,H=w(B,d);if(_.hasEagerState=!0,_.eagerState=H,Ki(H,B))return ea(a,l,_,0),Rn===null&&uu(),!1}catch{}finally{}if(d=Mc(a,l,_,m),d!==null)return rs(d,a,m),Ab(d,l,m),!0}return!1}function Cb(a,l,d,m){if(m={lane:2,revertLane:Pg(),action:m,hasEagerState:!1,eagerState:null,next:null},og(a)){if(l)throw Error(r(479))}else l=Mc(a,d,m,2),l!==null&&rs(l,a,2)}function og(a){var l=a.alternate;return a===Rt||l!==null&&l===Rt}function Dx(a,l){yu=Uc=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Ab(a,l,d){if((d&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,ke(a,d)}}var Ch={readContext:Kn,use:qp,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},Bx={readContext:Kn,use:qp,useCallback:function(a,l){return Di().memoizedState=[a,l===void 0?null:l],a},useContext:Kn,useEffect:Ax,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,_h(4194308,4,ig.bind(null,l,a),d)},useLayoutEffect:function(a,l){return _h(4194308,4,a,l)},useInsertionEffect:function(a,l){_h(4,2,a,l)},useMemo:function(a,l){var d=Di();l=l===void 0?null:l;var m=a();if(ti){Nr(!0);try{a()}finally{Nr(!1)}}return d.memoizedState=[m,l],m},useReducer:function(a,l,d){var m=Di();if(d!==void 0){var _=d(l);if(ti){Nr(!0);try{d(l)}finally{Nr(!1)}}}else _=l;return m.memoizedState=m.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},m.queue=a,a=a.dispatch=Mx.bind(null,Rt,a),[m.memoizedState,a]},useRef:function(a){var l=Di();return a={current:a},l.memoizedState=a},useState:function(a){a=Jp(a);var l=a.queue,d=Tb.bind(null,Rt,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:sg,useDeferredValue:function(a,l){var d=Di();return Sh(d,a,l)},useTransition:function(){var a=Jp(!1);return a=wh.bind(null,Rt,a.queue,!0,!1),Di().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var m=Rt,_=Di();if(Ft){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Rn===null)throw Error(r(349));(jt&124)!==0||Zp(m,l,d)}_.memoizedState=d;var w={value:d,getSnapshot:l};return _.queue=w,Ax(Qp.bind(null,m,w,a),[a]),m.flags|=2048,Lc(9,rg(),wx.bind(null,m,w,d,l),null),d},useId:function(){var a=Di(),l=Rn.identifierPrefix;if(Ft){var d=go,m=Gn;d=(m&~(1<<32-dr(m)-1)).toString(32)+d,l="«"+l+"R"+d,d=Fc++,0<d&&(l+="H"+d.toString(32)),l+="»"}else d=yx++,l="«"+l+"r"+d.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:Th,useFormState:yb,useActionState:yb,useOptimistic:function(a){var l=Di();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Cb.bind(null,Rt,!0,d),d.dispatch=l,[a,l]},useMemoCache:vh,useCacheRefresh:function(){return Di().memoizedState=ul.bind(null,Rt)}},Rb={readContext:Kn,use:qp,useCallback:Bi,useContext:Kn,useEffect:Ji,useImperativeHandle:Sb,useInsertionEffect:Rx,useLayoutEffect:xh,useMemo:_o,useReducer:Kp,useRef:Gc,useState:function(){return Kp(Ua)},useDebugValue:sg,useDeferredValue:function(a,l){var d=pr();return wb(d,dn.memoizedState,a,l)},useTransition:function(){var a=Kp(Ua)[0],l=pr().memoizedState;return[typeof a=="boolean"?a:mh(a),l]},useSyncExternalStore:gb,useId:yo,useHostTransitionStatus:Th,useFormState:ng,useActionState:ng,useOptimistic:function(a,l){var d=pr();return bh(d,dn,a,l)},useMemoCache:vh,useCacheRefresh:Ox},kx={readContext:Kn,use:qp,useCallback:Bi,useContext:Kn,useEffect:Ji,useImperativeHandle:Sb,useInsertionEffect:Rx,useLayoutEffect:xh,useMemo:_o,useReducer:pb,useRef:Gc,useState:function(){return pb(Ua)},useDebugValue:sg,useDeferredValue:function(a,l){var d=pr();return dn===null?Sh(d,a,l):wb(d,dn.memoizedState,a,l)},useTransition:function(){var a=pb(Ua)[0],l=pr().memoizedState;return[typeof a=="boolean"?a:mh(a),l]},useSyncExternalStore:gb,useId:yo,useHostTransitionStatus:Th,useFormState:At,useActionState:At,useOptimistic:function(a,l){var d=pr();return dn!==null?bh(d,dn,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:vh,useCacheRefresh:Ox},Sr=null,ki=0;function lg(a){var l=ki;return ki+=1,Sr===null&&(Sr=[]),ob(Sr,a,l)}function Ah(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Eu(a,l){throw l.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Tu(a){var l=a._init;return l(a._payload)}function Pb(a){function l(ce,ae){if(a){var pe=ce.deletions;pe===null?(ce.deletions=[ae],ce.flags|=16):pe.push(ae)}}function d(ce,ae){if(!a)return null;for(;ae!==null;)l(ce,ae),ae=ae.sibling;return null}function m(ce){for(var ae=new Map;ce!==null;)ce.key!==null?ae.set(ce.key,ce):ae.set(ce.index,ce),ce=ce.sibling;return ae}function _(ce,ae){return ce=fi(ce,ae),ce.index=0,ce.sibling=null,ce}function w(ce,ae,pe){return ce.index=pe,a?(pe=ce.alternate,pe!==null?(pe=pe.index,pe<ae?(ce.flags|=67108866,ae):pe):(ce.flags|=67108866,ae)):(ce.flags|=1048576,ae)}function B(ce){return a&&ce.alternate===null&&(ce.flags|=67108866),ce}function H(ce,ae,pe,Oe){return ae===null||ae.tag!==6?(ae=tb(pe,ce.mode,Oe),ae.return=ce,ae):(ae=_(ae,pe),ae.return=ce,ae)}function J(ce,ae,pe,Oe){var je=pe.type;return je===E?Pe(ce,ae,pe.props.children,Oe,pe.key):ae!==null&&(ae.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Y&&Tu(je)===ae.type)?(ae=_(ae,pe.props),Ah(ae,pe),ae.return=ce,ae):(ae=Gp(pe.type,pe.key,pe.props,null,ce.mode,Oe),Ah(ae,pe),ae.return=ce,ae)}function ge(ce,ae,pe,Oe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==pe.containerInfo||ae.stateNode.implementation!==pe.implementation?(ae=Dc(pe,ce.mode,Oe),ae.return=ce,ae):(ae=_(ae,pe.children||[]),ae.return=ce,ae)}function Pe(ce,ae,pe,Oe,je){return ae===null||ae.tag!==7?(ae=fu(pe,ce.mode,Oe,je),ae.return=ce,ae):(ae=_(ae,pe),ae.return=ce,ae)}function De(ce,ae,pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=tb(""+ae,ce.mode,pe),ae.return=ce,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return pe=Gp(ae.type,ae.key,ae.props,null,ce.mode,pe),Ah(pe,ae),pe.return=ce,pe;case y:return ae=Dc(ae,ce.mode,pe),ae.return=ce,ae;case Y:var Oe=ae._init;return ae=Oe(ae._payload),De(ce,ae,pe)}if(he(ae)||ee(ae))return ae=fu(ae,ce.mode,pe,null),ae.return=ce,ae;if(typeof ae.then=="function")return De(ce,lg(ae),pe);if(ae.$$typeof===O)return De(ce,Hp(ce,ae),pe);Eu(ce,ae)}return null}function xe(ce,ae,pe,Oe){var je=ae!==null?ae.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return je!==null?null:H(ce,ae,""+pe,Oe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return pe.key===je?J(ce,ae,pe,Oe):null;case y:return pe.key===je?ge(ce,ae,pe,Oe):null;case Y:return je=pe._init,pe=je(pe._payload),xe(ce,ae,pe,Oe)}if(he(pe)||ee(pe))return je!==null?null:Pe(ce,ae,pe,Oe,null);if(typeof pe.then=="function")return xe(ce,ae,lg(pe),Oe);if(pe.$$typeof===O)return xe(ce,ae,Hp(ce,pe),Oe);Eu(ce,pe)}return null}function me(ce,ae,pe,Oe,je){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ce=ce.get(pe)||null,H(ae,ce,""+Oe,je);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:return ce=ce.get(Oe.key===null?pe:Oe.key)||null,J(ae,ce,Oe,je);case y:return ce=ce.get(Oe.key===null?pe:Oe.key)||null,ge(ae,ce,Oe,je);case Y:var Mt=Oe._init;return Oe=Mt(Oe._payload),me(ce,ae,pe,Oe,je)}if(he(Oe)||ee(Oe))return ce=ce.get(pe)||null,Pe(ae,ce,Oe,je,null);if(typeof Oe.then=="function")return me(ce,ae,pe,lg(Oe),je);if(Oe.$$typeof===O)return me(ce,ae,pe,Hp(ae,Oe),je);Eu(ae,Oe)}return null}function ot(ce,ae,pe,Oe){for(var je=null,Mt=null,Ze=ae,lt=ae=0,zr=null;Ze!==null&&lt<pe.length;lt++){Ze.index>lt?(zr=Ze,Ze=null):zr=Ze.sibling;var Zt=xe(ce,Ze,pe[lt],Oe);if(Zt===null){Ze===null&&(Ze=zr);break}a&&Ze&&Zt.alternate===null&&l(ce,Ze),ae=w(Zt,ae,lt),Mt===null?je=Zt:Mt.sibling=Zt,Mt=Zt,Ze=zr}if(lt===pe.length)return d(ce,Ze),Ft&&pu(ce,lt),je;if(Ze===null){for(;lt<pe.length;lt++)Ze=De(ce,pe[lt],Oe),Ze!==null&&(ae=w(Ze,ae,lt),Mt===null?je=Ze:Mt.sibling=Ze,Mt=Ze);return Ft&&pu(ce,lt),je}for(Ze=m(Ze);lt<pe.length;lt++)zr=me(Ze,ce,lt,pe[lt],Oe),zr!==null&&(a&&zr.alternate!==null&&Ze.delete(zr.key===null?lt:zr.key),ae=w(zr,ae,lt),Mt===null?je=zr:Mt.sibling=zr,Mt=zr);return a&&Ze.forEach(function(Tl){return l(ce,Tl)}),Ft&&pu(ce,lt),je}function st(ce,ae,pe,Oe){if(pe==null)throw Error(r(151));for(var je=null,Mt=null,Ze=ae,lt=ae=0,zr=null,Zt=pe.next();Ze!==null&&!Zt.done;lt++,Zt=pe.next()){Ze.index>lt?(zr=Ze,Ze=null):zr=Ze.sibling;var Tl=xe(ce,Ze,Zt.value,Oe);if(Tl===null){Ze===null&&(Ze=zr);break}a&&Ze&&Tl.alternate===null&&l(ce,Ze),ae=w(Tl,ae,lt),Mt===null?je=Tl:Mt.sibling=Tl,Mt=Tl,Ze=zr}if(Zt.done)return d(ce,Ze),Ft&&pu(ce,lt),je;if(Ze===null){for(;!Zt.done;lt++,Zt=pe.next())Zt=De(ce,Zt.value,Oe),Zt!==null&&(ae=w(Zt,ae,lt),Mt===null?je=Zt:Mt.sibling=Zt,Mt=Zt);return Ft&&pu(ce,lt),je}for(Ze=m(Ze);!Zt.done;lt++,Zt=pe.next())Zt=me(Ze,ce,lt,Zt.value,Oe),Zt!==null&&(a&&Zt.alternate!==null&&Ze.delete(Zt.key===null?lt:Zt.key),ae=w(Zt,ae,lt),Mt===null?je=Zt:Mt.sibling=Zt,Mt=Zt);return a&&Ze.forEach(function(BT){return l(ce,BT)}),Ft&&pu(ce,lt),je}function Sn(ce,ae,pe,Oe){if(typeof pe=="object"&&pe!==null&&pe.type===E&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:e:{for(var je=pe.key;ae!==null;){if(ae.key===je){if(je=pe.type,je===E){if(ae.tag===7){d(ce,ae.sibling),Oe=_(ae,pe.props.children),Oe.return=ce,ce=Oe;break e}}else if(ae.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===Y&&Tu(je)===ae.type){d(ce,ae.sibling),Oe=_(ae,pe.props),Ah(Oe,pe),Oe.return=ce,ce=Oe;break e}d(ce,ae);break}else l(ce,ae);ae=ae.sibling}pe.type===E?(Oe=fu(pe.props.children,ce.mode,Oe,pe.key),Oe.return=ce,ce=Oe):(Oe=Gp(pe.type,pe.key,pe.props,null,ce.mode,Oe),Ah(Oe,pe),Oe.return=ce,ce=Oe)}return B(ce);case y:e:{for(je=pe.key;ae!==null;){if(ae.key===je)if(ae.tag===4&&ae.stateNode.containerInfo===pe.containerInfo&&ae.stateNode.implementation===pe.implementation){d(ce,ae.sibling),Oe=_(ae,pe.children||[]),Oe.return=ce,ce=Oe;break e}else{d(ce,ae);break}else l(ce,ae);ae=ae.sibling}Oe=Dc(pe,ce.mode,Oe),Oe.return=ce,ce=Oe}return B(ce);case Y:return je=pe._init,pe=je(pe._payload),Sn(ce,ae,pe,Oe)}if(he(pe))return ot(ce,ae,pe,Oe);if(ee(pe)){if(je=ee(pe),typeof je!="function")throw Error(r(150));return pe=je.call(pe),st(ce,ae,pe,Oe)}if(typeof pe.then=="function")return Sn(ce,ae,lg(pe),Oe);if(pe.$$typeof===O)return Sn(ce,ae,Hp(ce,pe),Oe);Eu(ce,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ae!==null&&ae.tag===6?(d(ce,ae.sibling),Oe=_(ae,pe),Oe.return=ce,ce=Oe):(d(ce,ae),Oe=tb(pe,ce.mode,Oe),Oe.return=ce,ce=Oe),B(ce)):d(ce,ae)}return function(ce,ae,pe,Oe){try{ki=0;var je=Sn(ce,ae,pe,Oe);return Sr=null,je}catch(Ze){if(Ze===pi||Ze===$p)throw Ze;var Mt=Ri(29,Ze,null,ce.mode);return Mt.lanes=Oe,Mt.return=ce,Mt}finally{}}}var Cu=Pb(!0),Ix=Pb(!1),es=j(null),gi=null;function Cs(a){var l=a.alternate;re(Zn,Zn.current&1),re(es,a),gi===null&&(l===null||_u.current!==null||l.memoizedState!==null)&&(gi=a)}function Nx(a){if(a.tag===22){if(re(Zn,Zn.current),re(es,a),gi===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(gi=a)}}else xo()}function xo(){re(Zn,Zn.current),re(es,es.current)}function Fa(a){ne(es),gi===a&&(gi=null),ne(Zn)}var Zn=j(0);function Rh(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||vi(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function zc(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Ph={enqueueSetState:function(a,l,d){a=a._reactInternals;var m=ri(),_=al(m);_.payload=l,d!=null&&(_.callback=d),l=vo(a,_,m),l!==null&&(rs(l,a,m),fh(l,a,m))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=ri(),_=al(m);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=vo(a,_,m),l!==null&&(rs(l,a,m),fh(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=ri(),m=al(d);m.tag=2,l!=null&&(m.callback=l),l=vo(a,m,d),l!==null&&(rs(l,a,d),fh(l,a,d))}};function Oh(a,l,d,m,_,w,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,w,B):l.prototype&&l.prototype.isPureReactComponent?!Ia(d,m)||!Ia(_,w):!0}function Ux(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&Ph.enqueueReplaceState(l,l.state,null)}function cl(a,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(a=a.defaultProps){d===l&&(d=p({},d));for(var _ in a)d[_]===void 0&&(d[_]=a[_])}return d}var Au=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Ob(a){Au(a)}function ug(a){console.error(a)}function Fx(a){Au(a)}function Mh(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function La(a,l,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function cg(a,l,d){return d=al(d),d.tag=3,d.payload={element:null},d.callback=function(){Mh(a,l)},d}function Mb(a){return a=al(a),a.tag=3,a}function Lx(a,l,d,m){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var w=m.value;a.payload=function(){return _(w)},a.callback=function(){La(l,d,m)}}var B=d.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(a.callback=function(){La(l,d,m),typeof _!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var H=m.stack;this.componentDidCatch(m.value,{componentStack:H!==null?H:""})})}function Gx(a,l,d,m,_){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&ch(l,d,_,!0),d=es.current,d!==null){switch(d.tag){case 13:return gi===null?Kb():d.alternate===null&&Qn===0&&(Qn=3),d.flags&=-257,d.flags|=65536,d.lanes=_,m===ab?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),Jb(a,m,_)),!1;case 22:return d.flags|=65536,m===ab?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),Jb(a,m,_)),!1}throw Error(r(435,d.tag))}return Jb(a,m,_),Kb(),!1}if(Ft)return l=es.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,m!==Bc&&(a=Error(r(422),{cause:m}),il(hi(a,d)))):(m!==Bc&&(l=Error(r(423),{cause:m}),il(hi(l,d))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,m=hi(m,d),_=cg(a.stateNode,m,_),na(a,_),Qn!==4&&(Qn=2)),!1;var w=Error(r(520),{cause:m});if(w=hi(w,d),zh===null?zh=[w]:zh.push(w),Qn!==4&&(Qn=2),l===null)return!0;m=hi(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=_&-_,d.lanes|=a,a=cg(d.stateNode,m,a),na(d,a),!1;case 1:if(l=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ml===null||!ml.has(w))))return d.flags|=65536,_&=-_,d.lanes|=_,_=Mb(_),Lx(_,a,d,m),na(d,_),!1}d=d.return}while(d!==null);return!1}var zx=Error(r(461)),Fr=!1;function Mn(a,l,d,m){l.child=a===null?Ix(l,null,d,m):Cu(l,a.child,d,m)}function dg(a,l,d,m,_){d=d.render;var w=l.ref;if("ref"in m){var B={};for(var H in m)H!=="ref"&&(B[H]=m[H])}else B=m;return mu(l),m=cb(a,l,d,B,w,_),H=hb(),a!==null&&!Fr?(xu(a,l,_),So(a,l,_)):(Ft&&H&&rb(l),l.flags|=1,Mn(a,l,m,_),l.child)}function hg(a,l,d,m,_){if(a===null){var w=d.type;return typeof w=="function"&&!hu(w)&&w.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=w,fg(a,l,w,m,_)):(a=Gp(d.type,null,m,l,l.mode,_),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!sa(a,_)){var B=w.memoizedProps;if(d=d.compare,d=d!==null?d:Ia,d(B,m)&&a.ref===l.ref)return So(a,l,_)}return l.flags|=1,a=fi(w,m),a.ref=l.ref,a.return=l,l.child=a}function fg(a,l,d,m,_){if(a!==null){var w=a.memoizedProps;if(Ia(w,m)&&a.ref===l.ref)if(Fr=!1,l.pendingProps=m=w,sa(a,_))(a.flags&131072)!==0&&(Fr=!0);else return l.lanes=a.lanes,So(a,l,_)}return Vc(a,l,d,m,_)}function Dh(a,l,d){var m=l.pendingProps,_=m.children,w=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=w!==null?w.baseLanes|d:d,a!==null){for(_=l.child=a.child,w=0;_!==null;)w=w|_.lanes|_.childLanes,_=_.sibling;l.childLanes=w&~m}else l.childLanes=0,l.child=null;return Ru(a,l,m,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Wp(l,w!==null?w.cachePool:null),w!==null?bo(l,w):Xp(),Nx(l);else return l.lanes=l.childLanes=536870912,Ru(a,l,w!==null?w.baseLanes|d:d,d)}else w!==null?(Wp(l,w.cachePool),bo(l,w),xo(),l.memoizedState=null):(a!==null&&Wp(l,null),Xp(),xo());return Mn(a,l,_,d),l.child}function Ru(a,l,d,m){var _=mo();return _=_===null?null:{parent:En._currentValue,pool:_},l.memoizedState={baseLanes:d,cachePool:_},a!==null&&Wp(l,null),Xp(),Nx(l),a!==null&&ch(a,l,m,!0),null}function it(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function Vc(a,l,d,m,_){return mu(l),d=cb(a,l,d,m,void 0,_),m=hb(),a!==null&&!Fr?(xu(a,l,_),So(a,l,_)):(Ft&&m&&rb(l),l.flags|=1,Mn(a,l,d,_),l.child)}function pg(a,l,d,m,_,w){return mu(l),l.updateQueue=null,d=Sx(l,m,d,_),xx(a),m=hb(),a!==null&&!Fr?(xu(a,l,w),So(a,l,w)):(Ft&&m&&rb(l),l.flags|=1,Mn(a,l,d,w),l.child)}function dl(a,l,d,m,_){if(mu(l),l.stateNode===null){var w=du,B=d.contextType;typeof B=="object"&&B!==null&&(w=Kn(B)),w=new d(m,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Ph,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=m,w.state=l.memoizedState,w.refs={},bu(l),B=d.contextType,w.context=typeof B=="object"&&B!==null?Kn(B):du,w.state=l.memoizedState,B=d.getDerivedStateFromProps,typeof B=="function"&&(zc(l,d,B,m),w.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(B=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),B!==w.state&&Ph.enqueueReplaceState(w,w.state,null),ei(l,m,w,_),ra(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){w=l.stateNode;var H=l.memoizedProps,J=cl(d,H);w.props=J;var ge=w.context,Pe=d.contextType;B=du,typeof Pe=="object"&&Pe!==null&&(B=Kn(Pe));var De=d.getDerivedStateFromProps;Pe=typeof De=="function"||typeof w.getSnapshotBeforeUpdate=="function",H=l.pendingProps!==H,Pe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(H||ge!==B)&&Ux(l,w,m,B),Na=!1;var xe=l.memoizedState;w.state=xe,ei(l,m,w,_),ra(),ge=l.memoizedState,H||xe!==ge||Na?(typeof De=="function"&&(zc(l,d,De,m),ge=l.memoizedState),(J=Na||Oh(l,d,J,m,xe,ge,B))?(Pe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ge),w.props=m,w.state=ge,w.context=B,m=J):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{w=l.stateNode,Nc(a,l),B=l.memoizedProps,Pe=cl(d,B),w.props=Pe,De=l.pendingProps,xe=w.context,ge=d.contextType,J=du,typeof ge=="object"&&ge!==null&&(J=Kn(ge)),H=d.getDerivedStateFromProps,(ge=typeof H=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B!==De||xe!==J)&&Ux(l,w,m,J),Na=!1,xe=l.memoizedState,w.state=xe,ei(l,m,w,_),ra();var me=l.memoizedState;B!==De||xe!==me||Na||a!==null&&a.dependencies!==null&&Vp(a.dependencies)?(typeof H=="function"&&(zc(l,d,H,m),me=l.memoizedState),(Pe=Na||Oh(l,d,Pe,m,xe,me,J)||a!==null&&a.dependencies!==null&&Vp(a.dependencies))?(ge||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,me,J),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,me,J)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||B===a.memoizedProps&&xe===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&xe===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=me),w.props=m,w.state=me,w.context=J,m=Pe):(typeof w.componentDidUpdate!="function"||B===a.memoizedProps&&xe===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&xe===a.memoizedState||(l.flags|=1024),m=!1)}return w=m,it(a,l),m=(l.flags&128)!==0,w||m?(w=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,a!==null&&m?(l.child=Cu(l,a.child,null,_),l.child=Cu(l,null,d,_)):Mn(a,l,d,_),l.memoizedState=w.state,a=l.child):a=So(a,l,_),a}function Vx(a,l,d,m){return uh(),l.flags|=256,Mn(a,l,d,m),l.child}var Bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gg(a){return{baseLanes:a,cachePool:px()}}function Lr(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=Rs),a}function Hx(a,l,d){var m=l.pendingProps,_=!1,w=(l.flags&128)!==0,B;if((B=w)||(B=a!==null&&a.memoizedState===null?!1:(Zn.current&2)!==0),B&&(_=!0,l.flags&=-129),B=(l.flags&32)!==0,l.flags&=-33,a===null){if(Ft){if(_?Cs(l):xo(),Ft){var H=zn,J;if(J=H){e:{for(J=H,H=Pi;J.nodeType!==8;){if(!H){H=null;break e}if(J=oa(J.nextSibling),J===null){H=null;break e}}H=J}H!==null?(l.memoizedState={dehydrated:H,treeContext:On!==null?{id:Gn,overflow:go}:null,retryLane:536870912,hydrationErrors:null},J=Ri(18,null,null,0),J.stateNode=H,J.return=l,l.child=J,xr=l,zn=null,J=!0):J=!1}J||ws(l)}if(H=l.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return vi(H)?l.lanes=32:l.lanes=536870912,null;Fa(l)}return H=m.children,m=m.fallback,_?(xo(),_=l.mode,H=kh({mode:"hidden",children:H},_),m=fu(m,_,d,null),H.return=l,m.return=l,H.sibling=m,l.child=H,_=l.child,_.memoizedState=gg(d),_.childLanes=Lr(a,B,d),l.memoizedState=Bh,m):(Cs(l),Db(l,H))}if(J=a.memoizedState,J!==null&&(H=J.dehydrated,H!==null)){if(w)l.flags&256?(Cs(l),l.flags&=-257,l=Bb(a,l,d)):l.memoizedState!==null?(xo(),l.child=a.child,l.flags|=128,l=null):(xo(),_=m.fallback,H=l.mode,m=kh({mode:"visible",children:m.children},H),_=fu(_,H,d,null),_.flags|=2,m.return=l,_.return=l,m.sibling=_,l.child=m,Cu(l,a.child,null,d),m=l.child,m.memoizedState=gg(d),m.childLanes=Lr(a,B,d),l.memoizedState=Bh,l=_);else if(Cs(l),vi(H)){if(B=H.nextSibling&&H.nextSibling.dataset,B)var ge=B.dgst;B=ge,m=Error(r(419)),m.stack="",m.digest=B,il({value:m,source:null,stack:null}),l=Bb(a,l,d)}else if(Fr||ch(a,l,d,!1),B=(d&a.childLanes)!==0,Fr||B){if(B=Rn,B!==null&&(m=d&-d,m=(m&42)!==0?1:We(m),m=(m&(B.suspendedLanes|d))!==0?0:m,m!==0&&m!==J.retryLane))throw J.retryLane=m,cu(a,m),rs(B,a,m),zx;H.data==="$?"||Kb(),l=Bb(a,l,d)}else H.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=J.treeContext,zn=oa(H.nextSibling),xr=l,Ft=!0,ta=null,Pi=!1,a!==null&&(xs[Ss++]=Gn,xs[Ss++]=go,xs[Ss++]=On,Gn=a.id,go=a.overflow,On=l),l=Db(l,m.children),l.flags|=4096);return l}return _?(xo(),_=m.fallback,H=l.mode,J=a.child,ge=J.sibling,m=fi(J,{mode:"hidden",children:m.children}),m.subtreeFlags=J.subtreeFlags&65011712,ge!==null?_=fi(ge,_):(_=fu(_,H,d,null),_.flags|=2),_.return=l,m.return=l,m.sibling=_,l.child=m,m=_,_=l.child,H=a.child.memoizedState,H===null?H=gg(d):(J=H.cachePool,J!==null?(ge=En._currentValue,J=J.parent!==ge?{parent:ge,pool:ge}:J):J=px(),H={baseLanes:H.baseLanes|d,cachePool:J}),_.memoizedState=H,_.childLanes=Lr(a,B,d),l.memoizedState=Bh,m):(Cs(l),d=a.child,a=d.sibling,d=fi(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,a!==null&&(B=l.deletions,B===null?(l.deletions=[a],l.flags|=16):B.push(a)),l.child=d,l.memoizedState=null,d)}function Db(a,l){return l=kh({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function kh(a,l){return a=Ri(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Bb(a,l,d){return Cu(l,a.child,null,d),a=Db(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function kb(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Oi(a.return,l,d)}function Ib(a,l,d,m,_){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:_}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=m,w.tail=d,w.tailMode=_)}function Wx(a,l,d){var m=l.pendingProps,_=m.revealOrder,w=m.tail;if(Mn(a,l,m.children,d),m=Zn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&kb(a,d,l);else if(a.tag===19)kb(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(re(Zn,m),_){case"forwards":for(d=l.child,_=null;d!==null;)a=d.alternate,a!==null&&Rh(a)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),Ib(l,!1,_,d,w);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(a=_.alternate,a!==null&&Rh(a)===null){l.child=_;break}a=_.sibling,_.sibling=d,d=_,_=a}Ib(l,!0,d,null,w);break;case"together":Ib(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function So(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),gl|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(ch(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=fi(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=fi(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function sa(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Vp(a)))}function mi(a,l,d){switch(l.tag){case 3:ve(l,l.stateNode.containerInfo),Qi(l,En,a.memoizedState.cache),uh();break;case 27:case 5:Fe(l);break;case 4:ve(l,l.stateNode.containerInfo);break;case 10:Qi(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Cs(l),l.flags|=128,null):(d&l.child.childLanes)!==0?Hx(a,l,d):(Cs(l),a=So(a,l,d),a!==null?a.sibling:null);Cs(l);break;case 19:var _=(a.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(ch(a,l,d,!1),m=(d&l.childLanes)!==0),_){if(m)return Wx(a,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),re(Zn,Zn.current),m)break;return null;case 22:case 23:return l.lanes=0,Dh(a,l,d);case 24:Qi(l,En,a.memoizedState.cache)}return So(a,l,d)}function mg(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Fr=!0;else{if(!sa(a,d)&&(l.flags&128)===0)return Fr=!1,mi(a,l,d);Fr=(a.flags&131072)!==0}else Fr=!1,Ft&&(l.flags&1048576)!==0&&nb(l,ah,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var m=l.elementType,_=m._init;if(m=_(m._payload),l.type=m,typeof m=="function")hu(m)?(a=cl(m,a),l.tag=1,l=dl(null,l,m,a,d)):(l.tag=0,l=Vc(null,l,m,a,d));else{if(m!=null){if(_=m.$$typeof,_===M){l.tag=11,l=dg(null,l,m,a,d);break e}else if(_===G){l.tag=14,l=hg(null,l,m,a,d);break e}}throw l=Te(m)||m,Error(r(306,l,""))}}return l;case 0:return Vc(a,l,l.type,l.pendingProps,d);case 1:return m=l.type,_=cl(m,l.pendingProps),dl(a,l,m,_,d);case 3:e:{if(ve(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var w=l.memoizedState;_=w.element,Nc(a,l),ei(l,m,null,d);var B=l.memoizedState;if(m=B.cache,Qi(l,En,m),m!==w.cache&&Ot(l,[En],d,!0),ra(),m=B.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:B.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=Vx(a,l,m,d);break e}else if(m!==_){_=hi(Error(r(424)),l),il(_),l=Vx(a,l,m,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(zn=oa(a.firstChild),xr=l,Ft=!0,ta=null,Pi=!0,d=Ix(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(uh(),m===_){l=So(a,l,d);break e}Mn(a,l,m,d)}l=l.child}return l;case 26:return it(a,l),a===null?(d=G1(l.type,null,l.pendingProps,null))?l.memoizedState=d:Ft||(d=l.type,a=l.pendingProps,m=Mu(Ie.current).createElement(d),m[_n]=l,m[Yn]=a,Tr(m,d,a),Ur(m),l.stateNode=m):l.memoizedState=G1(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Fe(l),a===null&&Ft&&(m=l.stateNode=U1(l.type,l.pendingProps,Ie.current),xr=l,Pi=!0,_=zn,Ps(l.type)?(l0=_,zn=oa(m.firstChild)):zn=_),Mn(a,l,l.pendingProps.children,d),it(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Ft&&((_=m=zn)&&(m=I1(m,l.type,l.pendingProps,Pi),m!==null?(l.stateNode=m,xr=l,zn=oa(m.firstChild),Pi=!1,_=!0):_=!1),_||ws(l)),Fe(l),_=l.type,w=l.pendingProps,B=a!==null?a.memoizedProps:null,m=w.children,Bg(_,w)?m=null:B!==null&&Bg(_,B)&&(l.flags|=32),l.memoizedState!==null&&(_=cb(a,l,db,null,null,d),od._currentValue=_),it(a,l),Mn(a,l,m,d),l.child;case 6:return a===null&&Ft&&((a=d=zn)&&(d=Ig(d,l.pendingProps,Pi),d!==null?(l.stateNode=d,xr=l,zn=null,a=!0):a=!1),a||ws(l)),null;case 13:return Hx(a,l,d);case 4:return ve(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Cu(l,null,m,d):Mn(a,l,m,d),l.child;case 11:return dg(a,l,l.type,l.pendingProps,d);case 7:return Mn(a,l,l.pendingProps,d),l.child;case 8:return Mn(a,l,l.pendingProps.children,d),l.child;case 12:return Mn(a,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,Qi(l,l.type,m.value),Mn(a,l,m.children,d),l.child;case 9:return _=l.type._context,m=l.pendingProps.children,mu(l),_=Kn(_),m=m(_),l.flags|=1,Mn(a,l,m,d),l.child;case 14:return hg(a,l,l.type,l.pendingProps,d);case 15:return fg(a,l,l.type,l.pendingProps,d);case 19:return Wx(a,l,d);case 31:return m=l.pendingProps,d=l.mode,m={mode:m.mode,children:m.children},a===null?(d=kh(m,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=fi(a.child,m),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return Dh(a,l,d);case 24:return mu(l),m=Kn(En),a===null?(_=mo(),_===null&&(_=Rn,w=ib(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=d),_=w),l.memoizedState={parent:m,cache:_},bu(l),Qi(l,En,_)):((a.lanes&d)!==0&&(Nc(a,l),ei(l,null,null,d),ra()),_=a.memoizedState,w=l.memoizedState,_.parent!==m?(_={parent:m,cache:m},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Qi(l,En,m)):(m=w.cache,Qi(l,En,m),m!==_.cache&&Ot(l,[En],d,!0))),Mn(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function wo(a){a.flags|=4}function vg(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Cr(l)){if(l=es.current,l!==null&&((jt&4194048)===jt?gi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||l!==gi))throw Ic=ab,gx;a.flags|=8192}}function bg(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Le():536870912,a.lanes|=l,qc|=l)}function Ih(a,l){if(!Ft)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Tn(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var _=a.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)d|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function $x(a,l,d){var m=l.pendingProps;switch(oh(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(l),null;case 1:return Tn(l),null;case 3:return d=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Es(En),Ee(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(lh(l)?wo(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,cx())),Tn(l),null;case 26:return d=l.memoizedState,a===null?(wo(l),d!==null?(Tn(l),vg(l,d)):(Tn(l),l.flags&=-16777217)):d?d!==a.memoizedState?(wo(l),Tn(l),vg(l,d)):(Tn(l),l.flags&=-16777217):(a.memoizedProps!==m&&wo(l),Tn(l),l.flags&=-16777217),null;case 27:$e(l),d=Ie.current;var _=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==m&&wo(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Tn(l),null}a=we.current,lh(l)?lx(l):(a=U1(_,m,d),l.stateNode=a,wo(l))}return Tn(l),null;case 5:if($e(l),d=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&wo(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Tn(l),null}if(a=we.current,lh(l))lx(l);else{switch(_=Mu(Ie.current),a){case 1:a=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=_.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?_.createElement("select",{is:m.is}):_.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?_.createElement(d,{is:m.is}):_.createElement(d)}}a[_n]=l,a[Yn]=m;e:for(_=l.child;_!==null;){if(_.tag===5||_.tag===6)a.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===l)break e;for(;_.sibling===null;){if(_.return===null||_.return===l)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}l.stateNode=a;e:switch(Tr(a,d,m),d){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&wo(l)}}return Tn(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&wo(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=Ie.current,lh(l)){if(a=l.stateNode,d=l.memoizedProps,m=null,_=xr,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}a[_n]=l,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||M1(a.nodeValue,d)),a||ws(l)}else a=Mu(a).createTextNode(m),a[_n]=l,l.stateNode=a}return Tn(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=lh(l),m!==null&&m.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[_n]=l}else uh(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Tn(l),_=!1}else _=cx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(Fa(l),l):(Fa(l),null)}if(Fa(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=m!==null,a=a!==null&&a.memoizedState!==null,d){m=l.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool);var w=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==_&&(m.flags|=2048)}return d!==a&&d&&(l.child.flags|=8192),bg(l,l.updateQueue),Tn(l),null;case 4:return Ee(),a===null&&i0(l.stateNode.containerInfo),Tn(l),null;case 10:return Es(l.type),Tn(l),null;case 19:if(ne(Zn),_=l.memoizedState,_===null)return Tn(l),null;if(m=(l.flags&128)!==0,w=_.rendering,w===null)if(m)Ih(_,!1);else{if(Qn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(w=Rh(a),w!==null){for(l.flags|=128,Ih(_,!1),a=w.updateQueue,l.updateQueue=a,bg(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)sh(d,a),d=d.sibling;return re(Zn,Zn.current&1|2),l.child}a=a.sibling}_.tail!==null&&tn()>Kc&&(l.flags|=128,m=!0,Ih(_,!1),l.lanes=4194304)}else{if(!m)if(a=Rh(w),a!==null){if(l.flags|=128,m=!0,a=a.updateQueue,l.updateQueue=a,bg(l,a),Ih(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!Ft)return Tn(l),null}else 2*tn()-_.renderingStartTime>Kc&&d!==536870912&&(l.flags|=128,m=!0,Ih(_,!1),l.lanes=4194304);_.isBackwards?(w.sibling=l.child,l.child=w):(a=_.last,a!==null?a.sibling=w:l.child=w,_.last=w)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=tn(),l.sibling=null,a=Zn.current,re(Zn,m?a&1|2:a&1),l):(Tn(l),null);case 22:case 23:return Fa(l),ub(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(Tn(l),l.subtreeFlags&6&&(l.flags|=8192)):Tn(l),d=l.updateQueue,d!==null&&bg(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),a!==null&&ne(vu),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Es(En),Tn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function jx(a,l){switch(oh(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Es(En),Ee(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return $e(l),null;case 13:if(Fa(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));uh()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ne(Zn),null;case 4:return Ee(),null;case 10:return Es(l.type),null;case 22:case 23:return Fa(l),ub(),a!==null&&ne(vu),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Es(En),null;case 25:return null;default:return null}}function Xx(a,l){switch(oh(l),l.tag){case 3:Es(En),Ee();break;case 26:case 27:case 5:$e(l);break;case 4:Ee();break;case 13:Fa(l);break;case 19:ne(Zn);break;case 10:Es(l.type);break;case 22:case 23:Fa(l),ub(),a!==null&&ne(vu);break;case 24:Es(En)}}function Nh(a,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var _=m.next;d=_;do{if((d.tag&a)===a){m=void 0;var w=d.create,B=d.inst;m=w(),B.destroy=m}d=d.next}while(d!==_)}}catch(H){Cn(l,l.return,H)}}function hl(a,l,d){try{var m=l.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var w=_.next;m=w;do{if((m.tag&a)===a){var B=m.inst,H=B.destroy;if(H!==void 0){B.destroy=void 0,_=l;var J=d,ge=H;try{ge()}catch(Pe){Cn(_,J,Pe)}}}m=m.next}while(m!==w)}}catch(Pe){Cn(l,l.return,Pe)}}function Yx(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{lb(l,d)}catch(m){Cn(a,a.return,m)}}}function Nb(a,l,d){d.props=cl(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){Cn(a,l,m)}}function Hc(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(_){Cn(a,l,_)}}function Ga(a,l){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(_){Cn(a,l,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){Cn(a,l,_)}else d.current=null}function _g(a){var l=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(_){Cn(a,a.return,_)}}function yg(a,l,d){try{var m=a.stateNode;hT(m,a.type,d,l),m[Yn]=l}catch(_){Cn(a,a.return,_)}}function Wc(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ps(a.type)||a.tag===4}function Uh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Wc(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ps(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function xg(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Mg));else if(m!==4&&(m===27&&Ps(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(xg(a,l,d),a=a.sibling;a!==null;)xg(a,l,d),a=a.sibling}function Fh(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(m===27&&Ps(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Fh(a,l,d),a=a.sibling;a!==null;)Fh(a,l,d),a=a.sibling}function Lh(a){var l=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);Tr(l,m,d),l[_n]=a,l[Yn]=d}catch(w){Cn(a,a.return,w)}}var za=!1,ln=!1,Eo=!1,qx=typeof WeakSet=="function"?WeakSet:Set,wr=null;function QE(a,l){if(a=a.containerInfo,aa=Lg,a=ax(a),Qv(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var _=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var B=0,H=-1,J=-1,ge=0,Pe=0,De=a,xe=null;t:for(;;){for(var me;De!==d||_!==0&&De.nodeType!==3||(H=B+_),De!==w||m!==0&&De.nodeType!==3||(J=B+m),De.nodeType===3&&(B+=De.nodeValue.length),(me=De.firstChild)!==null;)xe=De,De=me;for(;;){if(De===a)break t;if(xe===d&&++ge===_&&(H=B),xe===w&&++Pe===m&&(J=B),(me=De.nextSibling)!==null)break;De=xe,xe=De.parentNode}De=me}d=H===-1||J===-1?null:{start:H,end:J}}else d=null}d=d||{start:0,end:0}}else d=null;for(Dg={focusedElem:a,selectionRange:d},Lg=!1,wr=l;wr!==null;)if(l=wr,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,wr=a;else for(;wr!==null;){switch(l=wr,w=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,d=l,_=w.memoizedProps,w=w.memoizedState,m=d.stateNode;try{var ot=cl(d.type,_,d.elementType===d.type);a=m.getSnapshotBeforeUpdate(ot,w),m.__reactInternalSnapshotBeforeUpdate=a}catch(st){Cn(d,d.return,st)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)o0(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":o0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,wr=a;break}wr=l.return}}function Kx(a,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:fl(a,d),m&4&&Nh(5,d);break;case 1:if(fl(a,d),m&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(B){Cn(d,d.return,B)}else{var _=cl(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(_,l,a.__reactInternalSnapshotBeforeUpdate)}catch(B){Cn(d,d.return,B)}}m&64&&Yx(d),m&512&&Hc(d,d.return);break;case 3:if(fl(a,d),m&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{lb(a,l)}catch(B){Cn(d,d.return,B)}}break;case 27:l===null&&m&4&&Lh(d);case 26:case 5:fl(a,d),l===null&&m&4&&_g(d),m&512&&Hc(d,d.return);break;case 12:fl(a,d);break;case 13:fl(a,d),m&4&&Jx(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=Cg.bind(null,d),nd(a,d))));break;case 22:if(m=d.memoizedState!==null||za,!m){l=l!==null&&l.memoizedState!==null||ln,_=za;var w=ln;za=m,(ln=l)&&!w?Co(a,d,(d.subtreeFlags&8772)!==0):fl(a,d),za=_,ln=w}break;case 30:break;default:fl(a,d)}}function Zx(a){var l=a.alternate;l!==null&&(a.alternate=null,Zx(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&fc(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Vn=null,Ii=!1;function To(a,l,d){for(d=d.child;d!==null;)Qx(a,l,d),d=d.sibling}function Qx(a,l,d){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Zs,d)}catch{}switch(d.tag){case 26:ln||Ga(d,l),To(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ln||Ga(d,l);var m=Vn,_=Ii;Ps(d.type)&&(Vn=d.stateNode,Ii=!1),To(a,l,d),Kh(d.stateNode),Vn=m,Ii=_;break;case 5:ln||Ga(d,l);case 6:if(m=Vn,_=Ii,Vn=null,To(a,l,d),Vn=m,Ii=_,Vn!==null)if(Ii)try{(Vn.nodeType===9?Vn.body:Vn.nodeName==="HTML"?Vn.ownerDocument.body:Vn).removeChild(d.stateNode)}catch(w){Cn(d,l,w)}else try{Vn.removeChild(d.stateNode)}catch(w){Cn(d,l,w)}break;case 18:Vn!==null&&(Ii?(a=Vn,kg(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),sf(a)):kg(Vn,d.stateNode));break;case 4:m=Vn,_=Ii,Vn=d.stateNode.containerInfo,Ii=!0,To(a,l,d),Vn=m,Ii=_;break;case 0:case 11:case 14:case 15:ln||hl(2,d,l),ln||hl(4,d,l),To(a,l,d);break;case 1:ln||(Ga(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Nb(d,l,m)),To(a,l,d);break;case 21:To(a,l,d);break;case 22:ln=(m=ln)||d.memoizedState!==null,To(a,l,d),ln=m;break;default:To(a,l,d)}}function Jx(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{sf(a)}catch(d){Cn(l,l.return,d)}}function JE(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new qx),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new qx),l;default:throw Error(r(435,a.tag))}}function Ub(a,l){var d=JE(a);l.forEach(function(m){var _=sT.bind(null,a,m);d.has(m)||(d.add(m),m.then(_,_))})}function ts(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var _=d[m],w=a,B=l,H=B;e:for(;H!==null;){switch(H.tag){case 27:if(Ps(H.type)){Vn=H.stateNode,Ii=!1;break e}break;case 5:Vn=H.stateNode,Ii=!1;break e;case 3:case 4:Vn=H.stateNode.containerInfo,Ii=!0;break e}H=H.return}if(Vn===null)throw Error(r(160));Qx(w,B,_),Vn=null,Ii=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Fb(l,a),l=l.sibling}var As=null;function Fb(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ts(l,a),Ni(a),m&4&&(hl(3,a,a.return),Nh(3,a),hl(5,a,a.return));break;case 1:ts(l,a),Ni(a),m&512&&(ln||d===null||Ga(d,d.return)),m&64&&za&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var _=As;if(ts(l,a),Ni(a),m&512&&(ln||d===null||Ga(d,d.return)),m&4){var w=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":w=_.getElementsByTagName("title")[0],(!w||w[qn]||w[_n]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(m),_.head.insertBefore(w,_.querySelector("head > title"))),Tr(w,m,d),w[_n]=a,Ur(w),m=w;break e;case"link":var B=H1("link","href",_).get(m+(d.href||""));if(B){for(var H=0;H<B.length;H++)if(w=B[H],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){B.splice(H,1);break t}}w=_.createElement(m),Tr(w,m,d),_.head.appendChild(w);break;case"meta":if(B=H1("meta","content",_).get(m+(d.content||""))){for(H=0;H<B.length;H++)if(w=B[H],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){B.splice(H,1);break t}}w=_.createElement(m),Tr(w,m,d),_.head.appendChild(w);break;default:throw Error(r(468,m))}w[_n]=a,Ur(w),m=w}a.stateNode=m}else W1(_,a.type,a.stateNode);else a.stateNode=V1(_,m,a.memoizedProps);else w!==m?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,m===null?W1(_,a.type,a.stateNode):V1(_,m,a.memoizedProps)):m===null&&a.stateNode!==null&&yg(a,a.memoizedProps,d.memoizedProps)}break;case 27:ts(l,a),Ni(a),m&512&&(ln||d===null||Ga(d,d.return)),d!==null&&m&4&&yg(a,a.memoizedProps,d.memoizedProps);break;case 5:if(ts(l,a),Ni(a),m&512&&(ln||d===null||Ga(d,d.return)),a.flags&32){_=a.stateNode;try{Ko(_,"")}catch(me){Cn(a,a.return,me)}}m&4&&a.stateNode!=null&&(_=a.memoizedProps,yg(a,_,d!==null?d.memoizedProps:_)),m&1024&&(Eo=!0);break;case 6:if(ts(l,a),Ni(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(me){Cn(a,a.return,me)}}break;case 3:if(ad=null,_=As,As=vt(l.containerInfo),ts(l,a),As=_,Ni(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{sf(l.containerInfo)}catch(me){Cn(a,a.return,me)}Eo&&(Eo=!1,e1(a));break;case 4:m=As,As=vt(a.stateNode.containerInfo),ts(l,a),Ni(a),As=m;break;case 12:ts(l,a),Ni(a);break;case 13:ts(l,a),Ni(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&($b=tn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ub(a,m)));break;case 22:_=a.memoizedState!==null;var J=d!==null&&d.memoizedState!==null,ge=za,Pe=ln;if(za=ge||_,ln=Pe||J,ts(l,a),ln=Pe,za=ge,Ni(a),m&8192)e:for(l=a.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(d===null||J||za||ln||Pu(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){J=d=l;try{if(w=J.stateNode,_)B=w.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{H=J.stateNode;var De=J.memoizedProps.style,xe=De!=null&&De.hasOwnProperty("display")?De.display:null;H.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(me){Cn(J,J.return,me)}}}else if(l.tag===6){if(d===null){J=l;try{J.stateNode.nodeValue=_?"":J.memoizedProps}catch(me){Cn(J,J.return,me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Ub(a,d))));break;case 19:ts(l,a),Ni(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Ub(a,m)));break;case 30:break;case 21:break;default:ts(l,a),Ni(a)}}function Ni(a){var l=a.flags;if(l&2){try{for(var d,m=a.return;m!==null;){if(Wc(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var _=d.stateNode,w=Uh(a);Fh(a,w,_);break;case 5:var B=d.stateNode;d.flags&32&&(Ko(B,""),d.flags&=-33);var H=Uh(a);Fh(a,H,B);break;case 3:case 4:var J=d.stateNode.containerInfo,ge=Uh(a);xg(a,ge,J);break;default:throw Error(r(161))}}catch(Pe){Cn(a,a.return,Pe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function e1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;e1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function fl(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Kx(a,l.alternate,l),l=l.sibling}function Pu(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:hl(4,l,l.return),Pu(l);break;case 1:Ga(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Nb(l,l.return,d),Pu(l);break;case 27:Kh(l.stateNode);case 26:case 5:Ga(l,l.return),Pu(l);break;case 22:l.memoizedState===null&&Pu(l);break;case 30:Pu(l);break;default:Pu(l)}a=a.sibling}}function Co(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,_=a,w=l,B=w.flags;switch(w.tag){case 0:case 11:case 15:Co(_,w,d),Nh(4,w);break;case 1:if(Co(_,w,d),m=w,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ge){Cn(m,m.return,ge)}if(m=w,_=m.updateQueue,_!==null){var H=m.stateNode;try{var J=_.shared.hiddenCallbacks;if(J!==null)for(_.shared.hiddenCallbacks=null,_=0;_<J.length;_++)_x(J[_],H)}catch(ge){Cn(m,m.return,ge)}}d&&B&64&&Yx(w),Hc(w,w.return);break;case 27:Lh(w);case 26:case 5:Co(_,w,d),d&&m===null&&B&4&&_g(w),Hc(w,w.return);break;case 12:Co(_,w,d);break;case 13:Co(_,w,d),d&&B&4&&Jx(_,w);break;case 22:w.memoizedState===null&&Co(_,w,d),Hc(w,w.return);break;case 30:break;default:Co(_,w,d)}l=l.sibling}}function Lb(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&dh(d))}function Gb(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&dh(a))}function Va(a,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)t1(a,l,d,m),l=l.sibling}function t1(a,l,d,m){var _=l.flags;switch(l.tag){case 0:case 11:case 15:Va(a,l,d,m),_&2048&&Nh(9,l);break;case 1:Va(a,l,d,m);break;case 3:Va(a,l,d,m),_&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&dh(a)));break;case 12:if(_&2048){Va(a,l,d,m),a=l.stateNode;try{var w=l.memoizedProps,B=w.id,H=w.onPostCommit;typeof H=="function"&&H(B,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){Cn(l,l.return,J)}}else Va(a,l,d,m);break;case 13:Va(a,l,d,m);break;case 23:break;case 22:w=l.stateNode,B=l.alternate,l.memoizedState!==null?w._visibility&2?Va(a,l,d,m):Gh(a,l):w._visibility&2?Va(a,l,d,m):(w._visibility|=2,$c(a,l,d,m,(l.subtreeFlags&10256)!==0)),_&2048&&Lb(B,l);break;case 24:Va(a,l,d,m),_&2048&&Gb(l.alternate,l);break;default:Va(a,l,d,m)}}function $c(a,l,d,m,_){for(_=_&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var w=a,B=l,H=d,J=m,ge=B.flags;switch(B.tag){case 0:case 11:case 15:$c(w,B,H,J,_),Nh(8,B);break;case 23:break;case 22:var Pe=B.stateNode;B.memoizedState!==null?Pe._visibility&2?$c(w,B,H,J,_):Gh(w,B):(Pe._visibility|=2,$c(w,B,H,J,_)),_&&ge&2048&&Lb(B.alternate,B);break;case 24:$c(w,B,H,J,_),_&&ge&2048&&Gb(B.alternate,B);break;default:$c(w,B,H,J,_)}l=l.sibling}}function Gh(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,m=l,_=m.flags;switch(m.tag){case 22:Gh(d,m),_&2048&&Lb(m.alternate,m);break;case 24:Gh(d,m),_&2048&&Gb(m.alternate,m);break;default:Gh(d,m)}l=l.sibling}}var ni=8192;function jc(a){if(a.subtreeFlags&ni)for(a=a.child;a!==null;)n1(a),a=a.sibling}function n1(a){switch(a.tag){case 26:jc(a),a.flags&ni&&a.memoizedState!==null&&ET(As,a.memoizedState,a.memoizedProps);break;case 5:jc(a);break;case 3:case 4:var l=As;As=vt(a.stateNode.containerInfo),jc(a),As=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=ni,ni=16777216,jc(a),ni=l):jc(a));break;default:jc(a)}}function r1(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Xc(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];wr=m,s1(m,a)}r1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)i1(a),a=a.sibling}function i1(a){switch(a.tag){case 0:case 11:case 15:Xc(a),a.flags&2048&&hl(9,a,a.return);break;case 3:Xc(a);break;case 12:Xc(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Sg(a)):Xc(a);break;default:Xc(a)}}function Sg(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];wr=m,s1(m,a)}r1(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:hl(8,l,l.return),Sg(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Sg(l));break;default:Sg(l)}a=a.sibling}}function s1(a,l){for(;wr!==null;){var d=wr;switch(d.tag){case 0:case 11:case 15:hl(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:dh(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,wr=m;else e:for(d=a;wr!==null;){m=wr;var _=m.sibling,w=m.return;if(Zx(m),m===d){wr=null;break e}if(_!==null){_.return=w,wr=_;break e}wr=w}}}var eT={getCacheForType:function(a){var l=Kn(En),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d}},zb=typeof WeakMap=="function"?WeakMap:Map,hn=0,Rn=null,kt=null,jt=0,fn=0,ns=null,pl=!1,Yc=!1,Vb=!1,Ao=0,Qn=0,gl=0,Ou=0,Hb=0,Rs=0,qc=0,zh=null,Ui=null,Wb=!1,$b=0,Kc=1/0,Vh=null,ml=null,qr=0,vl=null,Zc=null,Qc=0,jb=0,Xb=null,a1=null,Jc=0,Yb=null;function ri(){if((hn&2)!==0&&jt!==0)return jt&-jt;if(R.T!==null){var a=kc;return a!==0?a:Pg()}return hr()}function o1(){Rs===0&&(Rs=(jt&536870912)===0||Ft?mt():536870912);var a=es.current;return a!==null&&(a.flags|=32),Rs}function rs(a,l,d){(a===Rn&&(fn===2||fn===9)||a.cancelPendingCommit!==null)&&(ed(a,0),bl(a,jt,Rs,!1)),F(a,d),((hn&2)===0||a!==Rn)&&(a===Rn&&((hn&2)===0&&(Ou|=d),Qn===4&&bl(a,jt,Rs,!1)),Ha(a))}function l1(a,l,d){if((hn&6)!==0)throw Error(r(327));var m=!d&&(l&124)===0&&(l&a.expiredLanes)===0||Ut(a,l),_=m?rT(a,l):Zb(a,l,!0),w=m;do{if(_===0){Yc&&!m&&bl(a,l,0,!1);break}else{if(d=a.current.alternate,w&&!tT(d)){_=Zb(a,l,!1),w=!1;continue}if(_===2){if(w=l,a.errorRecoveryDisabledLanes&w)var B=0;else B=a.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){l=B;e:{var H=a;_=zh;var J=H.current.memoizedState.isDehydrated;if(J&&(ed(H,B).flags|=256),B=Zb(H,B,!1),B!==2){if(Vb&&!J){H.errorRecoveryDisabledLanes|=w,Ou|=w,_=4;break e}w=Ui,Ui=_,w!==null&&(Ui===null?Ui=w:Ui.push.apply(Ui,w))}_=B}if(w=!1,_!==2)continue}}if(_===1){ed(a,0),bl(a,l,0,!0);break}e:{switch(m=a,w=_,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:bl(m,l,Rs,!pl);break e;case 2:Ui=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=$b+300-tn(),10<_)){if(bl(m,l,Rs,!pl),Ye(m,0,!0)!==0)break e;m.timeoutHandle=D1(u1.bind(null,m,d,Ui,Vh,Wb,l,Rs,Ou,qc,pl,w,2,-0,0),_);break e}u1(m,d,Ui,Vh,Wb,l,Rs,Ou,qc,pl,w,0,-0,0)}}break}while(!0);Ha(a)}function u1(a,l,d,m,_,w,B,H,J,ge,Pe,De,xe,me){if(a.timeoutHandle=-1,De=l.subtreeFlags,(De&8192||(De&16785408)===16785408)&&(Gr={stylesheets:null,count:0,unsuspend:wT},n1(l),De=TT(),De!==null)){a.cancelPendingCommit=De(Hh.bind(null,a,l,w,d,m,_,B,H,J,Pe,1,xe,me)),bl(a,w,B,!ge);return}Hh(a,l,w,d,m,_,B,H,J)}function tT(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var _=d[m],w=_.getSnapshot;_=_.value;try{if(!Ki(w(),_))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function bl(a,l,d,m){l&=~Hb,l&=~Ou,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var _=l;0<_;){var w=31-dr(_),B=1<<w;m[w]=-1,_&=~B}d!==0&&le(a,d,l)}function wg(){return(hn&6)===0?(jh(0),!1):!0}function qb(){if(kt!==null){if(fn===0)var a=kt.return;else a=kt,V=sl=null,Yp(a),Sr=null,ki=0,a=kt;for(;a!==null;)Xx(a.alternate,a),a=a.return;kt=null}}function ed(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,pT(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),qb(),Rn=a,kt=d=fi(a.current,null),jt=l,fn=0,ns=null,pl=!1,Yc=Ut(a,l),Vb=!1,qc=Rs=Hb=Ou=gl=Qn=0,Ui=zh=null,Wb=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var _=31-dr(m),w=1<<_;l|=a[_],m&=~w}return Ao=l,uu(),d}function c1(a,l){Rt=null,R.H=Ch,l===pi||l===$p?(l=vx(),fn=3):l===gx?(l=vx(),fn=4):fn=l===zx?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ns=l,kt===null&&(Qn=1,Mh(a,hi(l,a.current)))}function d1(){var a=R.H;return R.H=Ch,a===null?Ch:a}function h1(){var a=R.A;return R.A=eT,a}function Kb(){Qn=4,pl||(jt&4194048)!==jt&&es.current!==null||(Yc=!0),(gl&134217727)===0&&(Ou&134217727)===0||Rn===null||bl(Rn,jt,Rs,!1)}function Zb(a,l,d){var m=hn;hn|=2;var _=d1(),w=h1();(Rn!==a||jt!==l)&&(Vh=null,ed(a,l)),l=!1;var B=Qn;e:do try{if(fn!==0&&kt!==null){var H=kt,J=ns;switch(fn){case 8:qb(),B=6;break e;case 3:case 2:case 9:case 6:es.current===null&&(l=!0);var ge=fn;if(fn=0,ns=null,td(a,H,J,ge),d&&Yc){B=0;break e}break;default:ge=fn,fn=0,ns=null,td(a,H,J,ge)}}nT(),B=Qn;break}catch(Pe){c1(a,Pe)}while(!0);return l&&a.shellSuspendCounter++,V=sl=null,hn=m,R.H=_,R.A=w,kt===null&&(Rn=null,jt=0,uu()),B}function nT(){for(;kt!==null;)Qb(kt)}function rT(a,l){var d=hn;hn|=2;var m=d1(),_=h1();Rn!==a||jt!==l?(Vh=null,Kc=tn()+500,ed(a,l)):Yc=Ut(a,l);e:do try{if(fn!==0&&kt!==null){l=kt;var w=ns;t:switch(fn){case 1:fn=0,ns=null,td(a,l,w,1);break;case 2:case 9:if(mx(w)){fn=0,ns=null,p1(l);break}l=function(){fn!==2&&fn!==9||Rn!==a||(fn=7),Ha(a)},w.then(l,l);break e;case 3:fn=7;break e;case 4:fn=5;break e;case 7:mx(w)?(fn=0,ns=null,p1(l)):(fn=0,ns=null,td(a,l,w,7));break;case 5:var B=null;switch(kt.tag){case 26:B=kt.memoizedState;case 5:case 27:var H=kt;if(!B||Cr(B)){fn=0,ns=null;var J=H.sibling;if(J!==null)kt=J;else{var ge=H.return;ge!==null?(kt=ge,Eg(ge)):kt=null}break t}}fn=0,ns=null,td(a,l,w,5);break;case 6:fn=0,ns=null,td(a,l,w,6);break;case 8:qb(),Qn=6;break e;default:throw Error(r(462))}}f1();break}catch(Pe){c1(a,Pe)}while(!0);return V=sl=null,R.H=m,R.A=_,hn=d,kt!==null?0:(Rn=null,jt=0,uu(),Qn)}function f1(){for(;kt!==null&&!qe();)Qb(kt)}function Qb(a){var l=mg(a.alternate,a,Ao);a.memoizedProps=a.pendingProps,l===null?Eg(a):kt=l}function p1(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=pg(d,l,l.pendingProps,l.type,void 0,jt);break;case 11:l=pg(d,l,l.pendingProps,l.type.render,l.ref,jt);break;case 5:Yp(l);default:Xx(d,l),l=kt=sh(l,Ao),l=mg(d,l,Ao)}a.memoizedProps=a.pendingProps,l===null?Eg(a):kt=l}function td(a,l,d,m){V=sl=null,Yp(l),Sr=null,ki=0;var _=l.return;try{if(Gx(a,_,l,d,jt)){Qn=1,Mh(a,hi(d,a.current)),kt=null;return}}catch(w){if(_!==null)throw kt=_,w;Qn=1,Mh(a,hi(d,a.current)),kt=null;return}l.flags&32768?(Ft||m===1?a=!0:Yc||(jt&536870912)!==0?a=!1:(pl=a=!0,(m===2||m===9||m===3||m===6)&&(m=es.current,m!==null&&m.tag===13&&(m.flags|=16384))),g1(l,a)):Eg(l)}function Eg(a){var l=a;do{if((l.flags&32768)!==0){g1(l,pl);return}a=l.return;var d=$x(l.alternate,l,Ao);if(d!==null){kt=d;return}if(l=l.sibling,l!==null){kt=l;return}kt=l=a}while(l!==null);Qn===0&&(Qn=5)}function g1(a,l){do{var d=jx(a.alternate,a);if(d!==null){d.flags&=32767,kt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){kt=a;return}kt=a=d}while(a!==null);Qn=6,kt=null}function Hh(a,l,d,m,_,w,B,H,J){a.cancelPendingCommit=null;do Tg();while(qr!==0);if((hn&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=eb,q(a,d,w,B,H,J),a===Rn&&(kt=Rn=null,jt=0),Zc=l,vl=a,Qc=d,jb=w,Xb=_,a1=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,w1(ct,function(){return y1(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=R.T,R.T=null,_=N.p,N.p=2,B=hn,hn|=4;try{QE(a,l,d)}finally{hn=B,N.p=_,R.T=m}}qr=1,m1(),v1(),b1()}}function m1(){if(qr===1){qr=0;var a=vl,l=Zc,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=R.T,R.T=null;var m=N.p;N.p=2;var _=hn;hn|=4;try{Fb(l,a);var w=Dg,B=ax(a.containerInfo),H=w.focusedElem,J=w.selectionRange;if(B!==H&&H&&H.ownerDocument&&sx(H.ownerDocument.documentElement,H)){if(J!==null&&Qv(H)){var ge=J.start,Pe=J.end;if(Pe===void 0&&(Pe=ge),"selectionStart"in H)H.selectionStart=ge,H.selectionEnd=Math.min(Pe,H.value.length);else{var De=H.ownerDocument||document,xe=De&&De.defaultView||window;if(xe.getSelection){var me=xe.getSelection(),ot=H.textContent.length,st=Math.min(J.start,ot),Sn=J.end===void 0?st:Math.min(J.end,ot);!me.extend&&st>Sn&&(B=Sn,Sn=st,st=B);var ce=Zv(H,st),ae=Zv(H,Sn);if(ce&&ae&&(me.rangeCount!==1||me.anchorNode!==ce.node||me.anchorOffset!==ce.offset||me.focusNode!==ae.node||me.focusOffset!==ae.offset)){var pe=De.createRange();pe.setStart(ce.node,ce.offset),me.removeAllRanges(),st>Sn?(me.addRange(pe),me.extend(ae.node,ae.offset)):(pe.setEnd(ae.node,ae.offset),me.addRange(pe))}}}}for(De=[],me=H;me=me.parentNode;)me.nodeType===1&&De.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<De.length;H++){var Oe=De[H];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}Lg=!!aa,Dg=aa=null}finally{hn=_,N.p=m,R.T=d}}a.current=l,qr=2}}function v1(){if(qr===2){qr=0;var a=vl,l=Zc,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=R.T,R.T=null;var m=N.p;N.p=2;var _=hn;hn|=4;try{Kx(a,l.alternate,l)}finally{hn=_,N.p=m,R.T=d}}qr=3}}function b1(){if(qr===4||qr===3){qr=0,Xe();var a=vl,l=Zc,d=Qc,m=a1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?qr=5:(qr=0,Zc=vl=null,_1(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(ml=null),Et(d),l=l.stateNode,bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Zs,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=R.T,_=N.p,N.p=2,R.T=null;try{for(var w=a.onRecoverableError,B=0;B<m.length;B++){var H=m[B];w(H.value,{componentStack:H.stack})}}finally{R.T=l,N.p=_}}(Qc&3)!==0&&Tg(),Ha(a),_=a.pendingLanes,(d&4194090)!==0&&(_&42)!==0?a===Yb?Jc++:(Jc=0,Yb=a):Jc=0,jh(0)}}function _1(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,dh(l)))}function Tg(a){return m1(),v1(),b1(),y1()}function y1(){if(qr!==5)return!1;var a=vl,l=jb;jb=0;var d=Et(Qc),m=R.T,_=N.p;try{N.p=32>d?32:d,R.T=null,d=Xb,Xb=null;var w=vl,B=Qc;if(qr=0,Zc=vl=null,Qc=0,(hn&6)!==0)throw Error(r(331));var H=hn;if(hn|=4,i1(w.current),t1(w,w.current,B,d),hn=H,jh(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Zs,w)}catch{}return!0}finally{N.p=_,R.T=m,_1(a,l)}}function x1(a,l,d){l=hi(d,l),l=cg(a.stateNode,l,2),a=vo(a,l,2),a!==null&&(F(a,2),Ha(a))}function Cn(a,l,d){if(a.tag===3)x1(a,a,d);else for(;l!==null;){if(l.tag===3){x1(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ml===null||!ml.has(m))){a=hi(d,a),d=Mb(2),m=vo(l,d,2),m!==null&&(Lx(d,m,l,a),F(m,2),Ha(m));break}}l=l.return}}function Jb(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new zb;var _=new Set;m.set(l,_)}else _=m.get(l),_===void 0&&(_=new Set,m.set(l,_));_.has(d)||(Vb=!0,_.add(d),a=iT.bind(null,a,l,d),l.then(a,a))}function iT(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Rn===a&&(jt&d)===d&&(Qn===4||Qn===3&&(jt&62914560)===jt&&300>tn()-$b?(hn&2)===0&&ed(a,0):Hb|=d,qc===jt&&(qc=0)),Ha(a)}function S1(a,l){l===0&&(l=Le()),a=cu(a,l),a!==null&&(F(a,l),Ha(a))}function Cg(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),S1(a,d)}function sT(a,l){var d=0;switch(a.tag){case 13:var m=a.stateNode,_=a.memoizedState;_!==null&&(d=_.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),S1(a,d)}function w1(a,l){return gt(a,l)}var Wh=null,_l=null,Ag=!1,$h=!1,Rg=!1,yl=0;function Ha(a){a!==_l&&a.next===null&&(_l===null?Wh=_l=a:_l=_l.next=a),$h=!0,Ag||(Ag=!0,e0())}function jh(a,l){if(!Rg&&$h){Rg=!0;do for(var d=!1,m=Wh;m!==null;){if(a!==0){var _=m.pendingLanes;if(_===0)var w=0;else{var B=m.suspendedLanes,H=m.pingedLanes;w=(1<<31-dr(42|a)+1)-1,w&=_&~(B&~H),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,T1(m,w))}else w=jt,w=Ye(m,m===Rn?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||Ut(m,w)||(d=!0,T1(m,w));m=m.next}while(d);Rg=!1}}function aT(){Xh()}function Xh(){$h=Ag=!1;var a=0;yl!==0&&(fT()&&(a=yl),yl=0);for(var l=tn(),d=null,m=Wh;m!==null;){var _=m.next,w=Yh(m,l);w===0?(m.next=null,d===null?Wh=_:d.next=_,_===null&&(_l=d)):(d=m,(a!==0||(w&3)!==0)&&($h=!0)),m=_}jh(a)}function Yh(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,_=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var B=31-dr(w),H=1<<B,J=_[B];J===-1?((H&d)===0||(H&m)!==0)&&(_[B]=Fn(H,l)):J<=l&&(a.expiredLanes|=H),w&=~H}if(l=Rn,d=jt,d=Ye(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===l&&(fn===2||fn===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&rt(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Ut(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(m!==null&&rt(m),Et(d)){case 2:case 8:d=Yr;break;case 32:d=ct;break;case 268435456:d=Ir;break;default:d=ct}return m=E1.bind(null,a),d=gt(d,m),a.callbackPriority=l,a.callbackNode=d,l}return m!==null&&m!==null&&rt(m),a.callbackPriority=2,a.callbackNode=null,2}function E1(a,l){if(qr!==0&&qr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Tg()&&a.callbackNode!==d)return null;var m=jt;return m=Ye(a,a===Rn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(l1(a,m,l),Yh(a,tn()),a.callbackNode!=null&&a.callbackNode===d?E1.bind(null,a):null)}function T1(a,l){if(Tg())return null;l1(a,l,!0)}function e0(){gT(function(){(hn&6)!==0?gt(Xr,aT):Xh()})}function Pg(){return yl===0&&(yl=mt()),yl}function C1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Kd(""+a)}function A1(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function oT(a,l,d,m,_){if(l==="submit"&&d&&d.stateNode===_){var w=C1((_[Yn]||null).action),B=m.submitter;B&&(l=(l=B[Yn]||null)?C1(l.formAction):B.getAttribute("formAction"),l!==null&&(w=l,B=null));var H=new Tp("action","action",null,m,_);a.push({event:H,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(yl!==0){var J=B?A1(_,B):new FormData(_);Eh(d,{pending:!0,data:J,method:_.method,action:w},null,J)}}else typeof w=="function"&&(H.preventDefault(),J=B?A1(_,B):new FormData(_),Eh(d,{pending:!0,data:J,method:_.method,action:w},w,J))},currentTarget:_}]})}}for(var t0=0;t0<nn.length;t0++){var n0=nn[t0],lT=n0.toLowerCase(),uT=n0[0].toUpperCase()+n0.slice(1);Js(lT,"on"+uT)}Js(Up,"onAnimationEnd"),Js(ox,"onAnimationIteration"),Js(Zi,"onAnimationStart"),Js("dblclick","onDoubleClick"),Js("focusin","onFocus"),Js("focusout","onBlur"),Js(Fp,"onTransitionRun"),Js($E,"onTransitionStart"),Js(Pc,"onTransitionCancel"),Js(th,"onTransitionEnd"),mc("onMouseEnter",["mouseout","mouseover"]),mc("onMouseLeave",["mouseout","mouseover"]),mc("onPointerEnter",["pointerout","pointerover"]),mc("onPointerLeave",["pointerout","pointerover"]),au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),au("onBeforeInput",["compositionend","keypress","textInput","paste"]),au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qh));function R1(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],_=m.event;m=m.listeners;e:{var w=void 0;if(l)for(var B=m.length-1;0<=B;B--){var H=m[B],J=H.instance,ge=H.currentTarget;if(H=H.listener,J!==w&&_.isPropagationStopped())break e;w=H,_.currentTarget=ge;try{w(_)}catch(Pe){Au(Pe)}_.currentTarget=null,w=J}else for(B=0;B<m.length;B++){if(H=m[B],J=H.instance,ge=H.currentTarget,H=H.listener,J!==w&&_.isPropagationStopped())break e;w=H,_.currentTarget=ge;try{w(_)}catch(Pe){Au(Pe)}_.currentTarget=null,w=J}}}}function It(a,l){var d=l[Qs];d===void 0&&(d=l[Qs]=new Set);var m=a+"__bubble";d.has(m)||(P1(l,a,2,!1),d.add(m))}function r0(a,l,d){var m=0;l&&(m|=4),P1(d,a,m,l)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function i0(a){if(!a[Fi]){a[Fi]=!0,ky.forEach(function(d){d!=="selectionchange"&&(cT.has(d)||r0(d,!1,a),r0(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Fi]||(l[Fi]=!0,r0("selectionchange",!1,l))}}function P1(a,l,d,m){switch(Y1(l)){case 2:var _=RT;break;case 8:_=ld;break;default:_=p0}d=_.bind(null,l,d,a),_=void 0,!Qd||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),m?_!==void 0?a.addEventListener(l,d,{capture:!0,passive:_}):a.addEventListener(l,d,!0):_!==void 0?a.addEventListener(l,d,{passive:_}):a.addEventListener(l,d,!1)}function Ro(a,l,d,m,_){var w=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var B=m.tag;if(B===3||B===4){var H=m.stateNode.containerInfo;if(H===_)break;if(B===4)for(B=m.return;B!==null;){var J=B.tag;if((J===3||J===4)&&B.stateNode.containerInfo===_)return;B=B.return}for(;H!==null;){if(B=Xi(H),B===null)return;if(J=B.tag,J===5||J===6||J===26||J===27){m=w=B;continue e}H=H.parentNode}}m=m.return}Gy(function(){var ge=w,Pe=Lv(d),De=[];e:{var xe=nh.get(a);if(xe!==void 0){var me=Tp,ot=a;switch(a){case"keypress":if(yn(d)===0)break e;case"keydown":case"keyup":me=$v;break;case"focusin":ot="focus",me=Ap;break;case"focusout":ot="blur",me=Ap;break;case"beforeblur":case"afterblur":me=Ap;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=NE;break;case Up:case ox:case Zi:me=$y;break;case th:me=UE;break;case"scroll":case"scrollend":me=BE;break;case"wheel":me=LE;break;case"copy":case"cut":case"paste":me=Xy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=fo;break;case"toggle":case"beforetoggle":me=Pp}var st=(l&4)!==0,Sn=!st&&(a==="scroll"||a==="scrollend"),ce=st?xe!==null?xe+"Capture":null:xe;st=[];for(var ae=ge,pe;ae!==null;){var Oe=ae;if(pe=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||pe===null||ce===null||(Oe=Zd(ae,ce),Oe!=null&&st.push(pt(ae,Oe,pe))),Sn)break;ae=ae.return}0<st.length&&(xe=new me(xe,ot,null,d,Pe),De.push({event:xe,listeners:st}))}}if((l&7)===0){e:{if(xe=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",xe&&d!==wp&&(ot=d.relatedTarget||d.fromElement)&&(Xi(ot)||ot[Jr]))break e;if((me||xe)&&(xe=Pe.window===Pe?Pe:(xe=Pe.ownerDocument)?xe.defaultView||xe.parentWindow:window,me?(ot=d.relatedTarget||d.toElement,me=ge,ot=ot?Xi(ot):null,ot!==null&&(Sn=s(ot),st=ot.tag,ot!==Sn||st!==5&&st!==27&&st!==6)&&(ot=null)):(me=null,ot=ge),me!==ot)){if(st=Qo,Oe="onMouseLeave",ce="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(st=fo,Oe="onPointerLeave",ce="onPointerEnter",ae="pointer"),Sn=me==null?xe:pc(me),pe=ot==null?xe:pc(ot),xe=new st(Oe,ae+"leave",me,d,Pe),xe.target=Sn,xe.relatedTarget=pe,Oe=null,Xi(Pe)===ge&&(st=new st(ce,ae+"enter",ot,d,Pe),st.target=pe,st.relatedTarget=Sn,Oe=st),Sn=Oe,me&&ot)t:{for(st=me,ce=ot,ae=0,pe=st;pe;pe=Er(pe))ae++;for(pe=0,Oe=ce;Oe;Oe=Er(Oe))pe++;for(;0<ae-pe;)st=Er(st),ae--;for(;0<pe-ae;)ce=Er(ce),pe--;for(;ae--;){if(st===ce||ce!==null&&st===ce.alternate)break t;st=Er(st),ce=Er(ce)}st=null}else st=null;me!==null&&Jn(De,xe,me,st,!1),ot!==null&&Sn!==null&&Jn(De,Sn,ot,st,!0)}}e:{if(xe=ge?pc(ge):window,me=xe.nodeName&&xe.nodeName.toLowerCase(),me==="select"||me==="input"&&xe.type==="file")var je=ex;else if(Bp(xe))if(tx)je=VE;else{je=tl;var Mt=ix}else me=xe.nodeName,!me||me.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?ge&&Fv(ge.elementType)&&(je=ex):je=Np;if(je&&(je=je(a,ge))){Tc(De,je,d,Pe);break e}Mt&&Mt(a,xe,ge),a==="focusout"&&ge&&xe.type==="number"&&ge.memoizedProps.value!=null&&qd(xe,"number",xe.value)}switch(Mt=ge?pc(ge):window,a){case"focusin":(Bp(Mt)||Mt.contentEditable==="true")&&(Rc=Mt,nl=ge,oe=null);break;case"focusout":oe=nl=Rc=null;break;case"mousedown":Ae=!0;break;case"contextmenu":case"mouseup":case"dragend":Ae=!1,Se(De,d,Pe);break;case"selectionchange":if(WE)break;case"keydown":case"keyup":Se(De,d,Pe)}var Ze;if(Yv)e:{switch(a){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Jo?Qy(a,d)&&(lt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(lt="onCompositionStart");lt&&(Op&&d.locale!=="ko"&&(Jo||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Jo&&(Ze=zy()):(Zo=Pe,Vv="value"in Zo?Zo.value:Zo.textContent,Jo=!0)),Mt=Og(ge,lt),0<Mt.length&&(lt=new Ai(lt,a,null,d,Pe),De.push({event:lt,listeners:Mt}),Ze?lt.data=Ze:(Ze=Dp(d),Ze!==null&&(lt.data=Ze)))),(Ze=Zy?GE(a,d):Jy(a,d))&&(lt=Og(ge,"onBeforeInput"),0<lt.length&&(Mt=new Ai("onBeforeInput","beforeinput",null,d,Pe),De.push({event:Mt,listeners:lt}),Mt.data=Ze)),oT(De,a,ge,d,Pe)}R1(De,l)})}function pt(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Og(a,l){for(var d=l+"Capture",m=[];a!==null;){var _=a,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=Zd(a,d),_!=null&&m.unshift(pt(a,_,w)),_=Zd(a,l),_!=null&&m.push(pt(a,_,w))),a.tag===3)return m;a=a.return}return[]}function Er(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Jn(a,l,d,m,_){for(var w=l._reactName,B=[];d!==null&&d!==m;){var H=d,J=H.alternate,ge=H.stateNode;if(H=H.tag,J!==null&&J===m)break;H!==5&&H!==26&&H!==27||ge===null||(J=ge,_?(ge=Zd(d,w),ge!=null&&B.unshift(pt(d,ge,J))):_||(ge=Zd(d,w),ge!=null&&B.push(pt(d,ge,J)))),d=d.return}B.length!==0&&a.push({event:l,listeners:B})}var dT=/\r\n?/g,xl=/\u0000|\uFFFD/g;function O1(a){return(typeof a=="string"?a:""+a).replace(dT,`
`).replace(xl,"")}function M1(a,l){return l=O1(l),O1(a)===l}function Mg(){}function xn(a,l,d,m,_,w){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||Ko(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&Ko(a,""+m);break;case"className":bp(a,"class",m);break;case"tabIndex":bp(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":bp(a,d,m);break;case"style":Uv(a,m,w);break;case"data":if(l!=="object"){bp(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Kd(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(l!=="input"&&xn(a,l,"name",_.name,_,null),xn(a,l,"formEncType",_.formEncType,_,null),xn(a,l,"formMethod",_.formMethod,_,null),xn(a,l,"formTarget",_.formTarget,_,null)):(xn(a,l,"encType",_.encType,_,null),xn(a,l,"method",_.method,_,null),xn(a,l,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Kd(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Mg);break;case"onScroll":m!=null&&It("scroll",a);break;case"onScrollEnd":m!=null&&It("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=Kd(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":It("beforetoggle",a),It("toggle",a),vp(a,"popover",m);break;case"xlinkActuate":Ba(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ba(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ba(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ba(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ba(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ba(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ba(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ba(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ba(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":vp(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Fy.get(d)||d,vp(a,d,m))}}function s0(a,l,d,m,_,w){switch(d){case"style":Uv(a,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?Ko(a,m):(typeof m=="number"||typeof m=="bigint")&&Ko(a,""+m);break;case"onScroll":m!=null&&It("scroll",a);break;case"onScrollEnd":m!=null&&It("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Mg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iy.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),l=d.slice(2,_?d.length-7:void 0),w=a[Yn]||null,w=w!=null?w[d]:null,typeof w=="function"&&a.removeEventListener(l,w,_),typeof m=="function")){typeof w!="function"&&w!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,m,_);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):vp(a,d,m)}}}function Tr(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",a),It("load",a);var m=!1,_=!1,w;for(w in d)if(d.hasOwnProperty(w)){var B=d[w];if(B!=null)switch(w){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:xn(a,l,w,B,d,null)}}_&&xn(a,l,"srcSet",d.srcSet,d,null),m&&xn(a,l,"src",d.src,d,null);return;case"input":It("invalid",a);var H=w=B=_=null,J=null,ge=null;for(m in d)if(d.hasOwnProperty(m)){var Pe=d[m];if(Pe!=null)switch(m){case"name":_=Pe;break;case"type":B=Pe;break;case"checked":J=Pe;break;case"defaultChecked":ge=Pe;break;case"value":w=Pe;break;case"defaultValue":H=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,l));break;default:xn(a,l,m,Pe,d,null)}}kv(a,w,H,J,ge,B,_,!1),yp(a);return;case"select":It("invalid",a),m=B=w=null;for(_ in d)if(d.hasOwnProperty(_)&&(H=d[_],H!=null))switch(_){case"value":w=H;break;case"defaultValue":B=H;break;case"multiple":m=H;default:xn(a,l,_,H,d,null)}l=w,d=B,a.multiple=!!m,l!=null?bc(a,!!m,l,!1):d!=null&&bc(a,!!m,d,!0);return;case"textarea":It("invalid",a),w=_=m=null;for(B in d)if(d.hasOwnProperty(B)&&(H=d[B],H!=null))switch(B){case"value":m=H;break;case"defaultValue":_=H;break;case"children":w=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:xn(a,l,B,H,d,null)}Sp(a,m,_,w),yp(a);return;case"option":for(J in d)if(d.hasOwnProperty(J)&&(m=d[J],m!=null))switch(J){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:xn(a,l,J,m,d,null)}return;case"dialog":It("beforetoggle",a),It("toggle",a),It("cancel",a),It("close",a);break;case"iframe":case"object":It("load",a);break;case"video":case"audio":for(m=0;m<qh.length;m++)It(qh[m],a);break;case"image":It("error",a),It("load",a);break;case"details":It("toggle",a);break;case"embed":case"source":case"link":It("error",a),It("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in d)if(d.hasOwnProperty(ge)&&(m=d[ge],m!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:xn(a,l,ge,m,d,null)}return;default:if(Fv(l)){for(Pe in d)d.hasOwnProperty(Pe)&&(m=d[Pe],m!==void 0&&s0(a,l,Pe,m,d,void 0));return}}for(H in d)d.hasOwnProperty(H)&&(m=d[H],m!=null&&xn(a,l,H,m,d,null))}function hT(a,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,B=null,H=null,J=null,ge=null,Pe=null;for(me in d){var De=d[me];if(d.hasOwnProperty(me)&&De!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":J=De;default:m.hasOwnProperty(me)||xn(a,l,me,null,m,De)}}for(var xe in m){var me=m[xe];if(De=d[xe],m.hasOwnProperty(xe)&&(me!=null||De!=null))switch(xe){case"type":w=me;break;case"name":_=me;break;case"checked":ge=me;break;case"defaultChecked":Pe=me;break;case"value":B=me;break;case"defaultValue":H=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,l));break;default:me!==De&&xn(a,l,xe,me,m,De)}}xp(a,B,H,J,ge,Pe,w,_);return;case"select":me=B=H=xe=null;for(w in d)if(J=d[w],d.hasOwnProperty(w)&&J!=null)switch(w){case"value":break;case"multiple":me=J;default:m.hasOwnProperty(w)||xn(a,l,w,null,m,J)}for(_ in m)if(w=m[_],J=d[_],m.hasOwnProperty(_)&&(w!=null||J!=null))switch(_){case"value":xe=w;break;case"defaultValue":H=w;break;case"multiple":B=w;default:w!==J&&xn(a,l,_,w,m,J)}l=H,d=B,m=me,xe!=null?bc(a,!!d,xe,!1):!!m!=!!d&&(l!=null?bc(a,!!d,l,!0):bc(a,!!d,d?[]:"",!1));return;case"textarea":me=xe=null;for(H in d)if(_=d[H],d.hasOwnProperty(H)&&_!=null&&!m.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:xn(a,l,H,null,m,_)}for(B in m)if(_=m[B],w=d[B],m.hasOwnProperty(B)&&(_!=null||w!=null))switch(B){case"value":xe=_;break;case"defaultValue":me=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==w&&xn(a,l,B,_,m,w)}Iv(a,xe,me);return;case"option":for(var ot in d)if(xe=d[ot],d.hasOwnProperty(ot)&&xe!=null&&!m.hasOwnProperty(ot))switch(ot){case"selected":a.selected=!1;break;default:xn(a,l,ot,null,m,xe)}for(J in m)if(xe=m[J],me=d[J],m.hasOwnProperty(J)&&xe!==me&&(xe!=null||me!=null))switch(J){case"selected":a.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:xn(a,l,J,xe,m,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var st in d)xe=d[st],d.hasOwnProperty(st)&&xe!=null&&!m.hasOwnProperty(st)&&xn(a,l,st,null,m,xe);for(ge in m)if(xe=m[ge],me=d[ge],m.hasOwnProperty(ge)&&xe!==me&&(xe!=null||me!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,l));break;default:xn(a,l,ge,xe,m,me)}return;default:if(Fv(l)){for(var Sn in d)xe=d[Sn],d.hasOwnProperty(Sn)&&xe!==void 0&&!m.hasOwnProperty(Sn)&&s0(a,l,Sn,void 0,m,xe);for(Pe in m)xe=m[Pe],me=d[Pe],!m.hasOwnProperty(Pe)||xe===me||xe===void 0&&me===void 0||s0(a,l,Pe,xe,m,me);return}}for(var ce in d)xe=d[ce],d.hasOwnProperty(ce)&&xe!=null&&!m.hasOwnProperty(ce)&&xn(a,l,ce,null,m,xe);for(De in m)xe=m[De],me=d[De],!m.hasOwnProperty(De)||xe===me||xe==null&&me==null||xn(a,l,De,xe,m,me)}var aa=null,Dg=null;function Mu(a){return a.nodeType===9?a:a.ownerDocument}function Hn(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jn(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Bg(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var a0=null;function fT(){var a=window.event;return a&&a.type==="popstate"?a===a0?!1:(a0=a,!0):(a0=null,!1)}var D1=typeof setTimeout=="function"?setTimeout:void 0,pT=typeof clearTimeout=="function"?clearTimeout:void 0,B1=typeof Promise=="function"?Promise:void 0,gT=typeof queueMicrotask=="function"?queueMicrotask:typeof B1<"u"?function(a){return B1.resolve(null).then(a).catch(k1)}:D1;function k1(a){setTimeout(function(){throw a})}function Ps(a){return a==="head"}function kg(a,l){var d=l,m=0,_=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"){if(0<m&&8>m){d=m;var B=a.ownerDocument;if(d&1&&Kh(B.documentElement),d&2&&Kh(B.body),d&4)for(d=B.head,Kh(d),B=d.firstChild;B;){var H=B.nextSibling,J=B.nodeName;B[qn]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&B.rel.toLowerCase()==="stylesheet"||d.removeChild(B),B=H}}if(_===0){a.removeChild(w),sf(l);return}_--}else d==="$"||d==="$?"||d==="$!"?_++:m=d.charCodeAt(0)-48;else m=0;d=w}while(d);sf(l)}function o0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":o0(d),fc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function I1(a,l,d,m){for(;a.nodeType===1;){var _=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[qn])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=oa(a.nextSibling),a===null)break}return null}function Ig(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=oa(a.nextSibling),a===null))return null;return a}function vi(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function nd(a,l){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function oa(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var l0=null;function N1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}function U1(a,l,d){switch(l=Mu(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Kh(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);fc(a)}var is=new Map,Wa=new Set;function vt(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var $a=N.d;N.d={f:Os,r:F1,D:mT,C:L1,L:Ng,m:vT,X:_T,S:bT,M:yT};function Os(){var a=$a.f(),l=wg();return a||l}function F1(a){var l=co(a);l!==null&&l.tag===5&&l.type==="form"?ag(l):$a.r(a)}var rd=typeof document>"u"?null:document;function rn(a,l,d){var m=rd;if(m&&typeof l=="string"&&l){var _=ms(l);_='link[rel="'+a+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),Wa.has(_)||(Wa.add(_),a={rel:a,crossOrigin:d,href:l},m.querySelector(_)===null&&(l=m.createElement("link"),Tr(l,"link",a),Ur(l),m.head.appendChild(l)))}}function mT(a){$a.D(a),rn("dns-prefetch",a,null)}function L1(a,l){$a.C(a,l),rn("preconnect",a,l)}function Ng(a,l,d){$a.L(a,l,d);var m=rd;if(m&&a&&l){var _='link[rel="preload"][as="'+ms(l)+'"]';l==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+ms(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+ms(d.imageSizes)+'"]')):_+='[href="'+ms(a)+'"]';var w=_;switch(l){case"style":w=id(a);break;case"script":w=sd(a)}is.has(w)||(a=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),is.set(w,a),m.querySelector(_)!==null||l==="style"&&m.querySelector(Zh(w))||l==="script"&&m.querySelector(Qh(w))||(l=m.createElement("link"),Tr(l,"link",a),Ur(l),m.head.appendChild(l)))}}function vT(a,l){$a.m(a,l);var d=rd;if(d&&a){var m=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+ms(m)+'"][href="'+ms(a)+'"]',w=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=sd(a)}if(!is.has(w)&&(a=p({rel:"modulepreload",href:a},l),is.set(w,a),d.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Qh(w)))return}m=d.createElement("link"),Tr(m,"link",a),Ur(m),d.head.appendChild(m)}}}function bT(a,l,d){$a.S(a,l,d);var m=rd;if(m&&a){var _=gc(m).hoistableStyles,w=id(a);l=l||"default";var B=_.get(w);if(!B){var H={loading:0,preload:null};if(B=m.querySelector(Zh(w)))H.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},d),(d=is.get(w))&&Jh(a,d);var J=B=m.createElement("link");Ur(J),Tr(J,"link",a),J._p=new Promise(function(ge,Pe){J.onload=ge,J.onerror=Pe}),J.addEventListener("load",function(){H.loading|=1}),J.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Ug(B,l,m)}B={type:"stylesheet",instance:B,count:1,state:H},_.set(w,B)}}}function _T(a,l){$a.X(a,l);var d=rd;if(d&&a){var m=gc(d).hoistableScripts,_=sd(a),w=m.get(_);w||(w=d.querySelector(Qh(_)),w||(a=p({src:a,async:!0},l),(l=is.get(_))&&u0(a,l),w=d.createElement("script"),Ur(w),Tr(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(_,w))}}function yT(a,l){$a.M(a,l);var d=rd;if(d&&a){var m=gc(d).hoistableScripts,_=sd(a),w=m.get(_);w||(w=d.querySelector(Qh(_)),w||(a=p({src:a,async:!0,type:"module"},l),(l=is.get(_))&&u0(a,l),w=d.createElement("script"),Ur(w),Tr(w,"link",a),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(_,w))}}function G1(a,l,d,m){var _=(_=Ie.current)?vt(_):null;if(!_)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=id(d.href),d=gc(_).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=id(d.href);var w=gc(_).hoistableStyles,B=w.get(a);if(B||(_=_.ownerDocument||_,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,B),(w=_.querySelector(Zh(a)))&&!w._p&&(B.instance=w,B.state.loading=5),is.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},is.set(a,d),w||xT(_,a,d,B.state))),l&&m===null)throw Error(r(528,""));return B}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=sd(d),d=gc(_).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function id(a){return'href="'+ms(a)+'"'}function Zh(a){return'link[rel="stylesheet"]['+a+"]"}function z1(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function xT(a,l,d,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Tr(l,"link",d),Ur(l),a.head.appendChild(l))}function sd(a){return'[src="'+ms(a)+'"]'}function Qh(a){return"script[async]"+a}function V1(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+ms(d.href)+'"]');if(m)return l.instance=m,Ur(m),m;var _=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Ur(m),Tr(m,"style",_),Ug(m,d.precedence,a),l.instance=m;case"stylesheet":_=id(d.href);var w=a.querySelector(Zh(_));if(w)return l.state.loading|=4,l.instance=w,Ur(w),w;m=z1(d),(_=is.get(_))&&Jh(m,_),w=(a.ownerDocument||a).createElement("link"),Ur(w);var B=w;return B._p=new Promise(function(H,J){B.onload=H,B.onerror=J}),Tr(w,"link",m),l.state.loading|=4,Ug(w,d.precedence,a),l.instance=w;case"script":return w=sd(d.src),(_=a.querySelector(Qh(w)))?(l.instance=_,Ur(_),_):(m=d,(_=is.get(w))&&(m=p({},d),u0(m,_)),a=a.ownerDocument||a,_=a.createElement("script"),Ur(_),Tr(_,"link",m),a.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Ug(m,d.precedence,a));return l.instance}function Ug(a,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,w=_,B=0;B<m.length;B++){var H=m[B];if(H.dataset.precedence===l)w=H;else if(w!==_)break}w?w.parentNode.insertBefore(a,w.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function Jh(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function u0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var ad=null;function H1(a,l,d){if(ad===null){var m=new Map,_=ad=new Map;_.set(d,m)}else _=ad,m=_.get(d),m||(m=new Map,_.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),_=0;_<d.length;_++){var w=d[_];if(!(w[qn]||w[_n]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var B=w.getAttribute(l)||"";B=a+B;var H=m.get(B);H?H.push(w):m.set(B,[w])}}return m}function W1(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function ST(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Cr(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Gr=null;function wT(){}function ET(a,l,d){if(Gr===null)throw Error(r(475));var m=Gr;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=id(d.href),w=a.querySelector(Zh(_));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=ef.bind(m),a.then(m,m)),l.state.loading|=4,l.instance=w,Ur(w);return}w=a.ownerDocument||a,d=z1(d),(_=is.get(_))&&Jh(d,_),w=w.createElement("link"),Ur(w);var B=w;B._p=new Promise(function(H,J){B.onload=H,B.onerror=J}),Tr(w,"link",d),l.instance=w}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=ef.bind(m),a.addEventListener("load",l),a.addEventListener("error",l))}}function TT(){if(Gr===null)throw Error(r(475));var a=Gr;return a.stylesheets&&a.count===0&&c0(a,a.stylesheets),0<a.count?function(l){var d=setTimeout(function(){if(a.stylesheets&&c0(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(d)}}:null}function ef(){if(this.count--,this.count===0){if(this.stylesheets)c0(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Fg=null;function c0(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Fg=new Map,l.forEach(CT,a),Fg=null,ef.call(a))}function CT(a,l){if(!(l.state.loading&4)){var d=Fg.get(a);if(d)var m=d.get(null);else{d=new Map,Fg.set(a,d);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var B=_[w];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(d.set(B.dataset.precedence,B),m=B)}m&&d.set(null,m)}_=l.instance,B=_.getAttribute("data-precedence"),w=d.get(B)||m,w===m&&d.set(null,_),d.set(B,_),this.count++,m=ef.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),w?w.parentNode.insertBefore(_,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),l.state.loading|=4}}var od={$$typeof:O,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function AT(a,l,d,m,_,w,B,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function $1(a,l,d,m,_,w,B,H,J,ge,Pe,De){return a=new AT(a,l,d,B,H,J,ge,De),l=1,w===!0&&(l|=24),w=Ri(3,null,null,l),a.current=w,w.stateNode=a,l=ib(),l.refCount++,a.pooledCache=l,l.refCount++,w.memoizedState={element:m,isDehydrated:d,cache:l},bu(w),a}function j1(a){return a?(a=du,a):du}function d0(a,l,d,m,_,w){_=j1(_),m.context===null?m.context=_:m.pendingContext=_,m=al(l),m.payload={element:d},w=w===void 0?null:w,w!==null&&(m.callback=w),d=vo(a,m,l),d!==null&&(rs(d,a,l),fh(d,a,l))}function h0(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function f0(a,l){h0(a,l),(a=a.alternate)&&h0(a,l)}function X1(a){if(a.tag===13){var l=cu(a,67108864);l!==null&&rs(l,a,67108864),f0(a,67108864)}}var Lg=!0;function RT(a,l,d,m){var _=R.T;R.T=null;var w=N.p;try{N.p=2,p0(a,l,d,m)}finally{N.p=w,R.T=_}}function ld(a,l,d,m){var _=R.T;R.T=null;var w=N.p;try{N.p=8,p0(a,l,d,m)}finally{N.p=w,R.T=_}}function p0(a,l,d,m){if(Lg){var _=g0(m);if(_===null)Ro(a,l,m,Gg,d),q1(a,m);else if(OT(_,a,l,d,m))m.stopPropagation();else if(q1(a,m),l&4&&-1<PT.indexOf(a)){for(;_!==null;){var w=co(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var B=Ue(w.pendingLanes);if(B!==0){var H=w;for(H.pendingLanes|=2,H.entangledLanes|=2;B;){var J=1<<31-dr(B);H.entanglements[1]|=J,B&=~J}Ha(w),(hn&6)===0&&(Kc=tn()+500,jh(0))}}break;case 13:H=cu(w,2),H!==null&&rs(H,w,2),wg(),f0(w,2)}if(w=g0(m),w===null&&Ro(a,l,m,Gg,d),w===_)break;_=w}_!==null&&m.stopPropagation()}else Ro(a,l,m,null,d)}}function g0(a){return a=Lv(a),m0(a)}var Gg=null;function m0(a){if(Gg=null,a=Xi(a),a!==null){var l=s(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=o(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Gg=a,null}function Y1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(di()){case Xr:return 2;case Yr:return 8;case ct:case on:return 32;case Ir:return 268435456;default:return 32}default:return 32}}var zg=!1,Po=null,Sl=null,wl=null,tf=new Map,nf=new Map,El=[],PT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q1(a,l){switch(a){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Sl=null;break;case"mouseover":case"mouseout":wl=null;break;case"pointerover":case"pointerout":tf.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(l.pointerId)}}function rf(a,l,d,m,_,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:w,targetContainers:[_]},l!==null&&(l=co(l),l!==null&&X1(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),a)}function OT(a,l,d,m,_){switch(l){case"focusin":return Po=rf(Po,a,l,d,m,_),!0;case"dragenter":return Sl=rf(Sl,a,l,d,m,_),!0;case"mouseover":return wl=rf(wl,a,l,d,m,_),!0;case"pointerover":var w=_.pointerId;return tf.set(w,rf(tf.get(w)||null,a,l,d,m,_)),!0;case"gotpointercapture":return w=_.pointerId,nf.set(w,rf(nf.get(w)||null,a,l,d,m,_)),!0}return!1}function K1(a){var l=Xi(a.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){a.blockedOn=l,ji(a.priority,function(){if(d.tag===13){var m=ri();m=We(m);var _=cu(d,m);_!==null&&rs(_,d,m),f0(d,m)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Vg(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=g0(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);wp=m,d.target.dispatchEvent(m),wp=null}else return l=co(d),l!==null&&X1(l),a.blockedOn=d,!1;l.shift()}return!0}function Z1(a,l,d){Vg(a)&&d.delete(l)}function MT(){zg=!1,Po!==null&&Vg(Po)&&(Po=null),Sl!==null&&Vg(Sl)&&(Sl=null),wl!==null&&Vg(wl)&&(wl=null),tf.forEach(Z1),nf.forEach(Z1)}function Hg(a,l){a.blockedOn===l&&(a.blockedOn=null,zg||(zg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MT)))}var Wg=null;function Q1(a){Wg!==a&&(Wg=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wg===a&&(Wg=null);for(var l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],_=a[l+2];if(typeof m!="function"){if(m0(m||d)===null)continue;break}var w=co(d);w!==null&&(a.splice(l,3),l-=3,Eh(w,{pending:!0,data:_,method:d.method,action:m},m,_))}}))}function sf(a){function l(J){return Hg(J,a)}Po!==null&&Hg(Po,a),Sl!==null&&Hg(Sl,a),wl!==null&&Hg(wl,a),tf.forEach(l),nf.forEach(l);for(var d=0;d<El.length;d++){var m=El[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<El.length&&(d=El[0],d.blockedOn===null);)K1(d),d.blockedOn===null&&El.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var _=d[m],w=d[m+1],B=_[Yn]||null;if(typeof w=="function")B||Q1(d);else if(B){var H=null;if(w&&w.hasAttribute("formAction")){if(_=w,B=w[Yn]||null)H=B.formAction;else if(m0(_)!==null)continue}else H=B.action;typeof H=="function"?d[m+1]=H:(d.splice(m,3),m-=3),Q1(d)}}}function v0(a){this._internalRoot=a}$g.prototype.render=v0.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=ri();d0(d,m,a,l,null,null)},$g.prototype.unmount=v0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;d0(a.current,2,null,a,null,null),wg(),l[Jr]=null}};function $g(a){this._internalRoot=a}$g.prototype.unstable_scheduleHydration=function(a){if(a){var l=hr();a={blockedOn:null,target:a,priority:l};for(var d=0;d<El.length&&l!==0&&l<El[d].priority;d++);El.splice(d,0,a),d===0&&K1(a)}};var J1=e.version;if(J1!=="19.1.0")throw Error(r(527,J1,"19.1.0"));N.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=c(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var DT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jg.isDisabled&&jg.supportsFiber)try{Zs=jg.inject(DT),bn=jg}catch{}}return M0.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,m="",_=Ob,w=ug,B=Fx,H=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(B=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks)),l=$1(a,1,!1,null,null,d,m,_,w,B,H,null),a[Jr]=l.current,i0(a),new v0(l)},M0.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var m=!1,_="",w=Ob,B=ug,H=Fx,J=null,ge=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(B=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(J=d.unstable_transitionCallbacks),d.formState!==void 0&&(ge=d.formState)),l=$1(a,1,!0,l,d??null,m,_,w,B,H,J,ge),l.context=j1(null),d=l.current,m=ri(),m=We(m),_=al(m),_.callback=null,vo(d,_,m),d=m,l.current.lanes=d,F(l,d),Ha(l),a[Jr]=l.current,i0(a),new $g(l)},M0.version="19.1.0",M0}var TI;function ene(){if(TI)return GC.exports;TI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),GC.exports=Jte(),GC.exports}var tne=ene(),$C={exports:{}},D0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI;function nne(){if(CI)return D0;CI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return D0.Fragment=e,D0.jsx=n,D0.jsxs=n,D0}var AI;function rne(){return AI||(AI=1,$C.exports=nne()),$C.exports}var ie=rne(),ue=fE();const uR=cv(ue),RI=ej({__proto__:null,default:uR},[ue]);function ine(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function T_(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,u=ue.createContext(o);u.displayName=e;function c(){var p;const f=ue.useContext(u);if(!f&&n){const v=new Error(s??ine(r,i));throw v.name="ContextError",(p=Error.captureStackTrace)==null||p.call(Error,v,c),v}return f}return[u.Provider,c,u]}function sne(...t){return function(...n){t.forEach(r=>r==null?void 0:r(...n))}}const ane=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),one=/^on[A-Z]/;function Z_(...t){let e={};for(let n of t){for(let r in e){if(one.test(r)&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=sne(e[r],n[r]);continue}if(r==="className"||r==="class"){e[r]=ane(e[r],n[r]);continue}if(r==="style"){e[r]=Object.assign({},e[r]??{},n[r]??{});continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}const Go=(...t)=>t.filter(Boolean).map(e=>e.trim()).join(" "),lne=Object.freeze({}),une=Object.freeze({});function ZH(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var cne=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,dne=ZH(function(t){return cne.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function hne(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function fne(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var pne=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fne(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=hne(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Gi="-ms-",QS="-moz-",pn="-webkit-",QH="comm",kM="rule",IM="decl",gne="@import",JH="@keyframes",mne="@layer",vne=Math.abs,pE=String.fromCharCode,bne=Object.assign;function _ne(t,e){return xi(t,0)^45?(((e<<2^xi(t,0))<<2^xi(t,1))<<2^xi(t,2))<<2^xi(t,3):0}function e9(t){return t.trim()}function yne(t,e){return(t=e.exec(t))?t[0]:t}function gn(t,e,n){return t.replace(e,n)}function cR(t,e){return t.indexOf(e)}function xi(t,e){return t.charCodeAt(e)|0}function Q_(t,e,n){return t.slice(e,n)}function Bl(t){return t.length}function NM(t){return t.length}function k2(t,e){return e.push(t),t}function xne(t,e){return t.map(e).join("")}var gE=1,lv=1,t9=0,js=0,$r=0,xv="";function mE(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:gE,column:lv,length:o,return:""}}function B0(t,e){return bne(mE("",null,null,"",null,null,0),t,{length:-t.length},e)}function Sne(){return $r}function wne(){return $r=js>0?xi(xv,--js):0,lv--,$r===10&&(lv=1,gE--),$r}function Sa(){return $r=js<t9?xi(xv,js++):0,lv++,$r===10&&(lv=1,gE++),$r}function Yl(){return xi(xv,js)}function oS(){return js}function xy(t,e){return Q_(xv,t,e)}function J_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function n9(t){return gE=lv=1,t9=Bl(xv=t),js=0,[]}function r9(t){return xv="",t}function lS(t){return e9(xy(js-1,dR(t===91?t+2:t===40?t+1:t)))}function Ene(t){for(;($r=Yl())&&$r<33;)Sa();return J_(t)>2||J_($r)>3?"":" "}function Tne(t,e){for(;--e&&Sa()&&!($r<48||$r>102||$r>57&&$r<65||$r>70&&$r<97););return xy(t,oS()+(e<6&&Yl()==32&&Sa()==32))}function dR(t){for(;Sa();)switch($r){case t:return js;case 34:case 39:t!==34&&t!==39&&dR($r);break;case 40:t===41&&dR(t);break;case 92:Sa();break}return js}function Cne(t,e){for(;Sa()&&t+$r!==57;)if(t+$r===84&&Yl()===47)break;return"/*"+xy(e,js-1)+"*"+pE(t===47?t:Sa())}function Ane(t){for(;!J_(Yl());)Sa();return xy(t,js)}function Rne(t){return r9(uS("",null,null,null,[""],t=n9(t),0,[0],t))}function uS(t,e,n,r,i,s,o,u,c){for(var f=0,p=0,v=o,b=0,y=0,E=0,S=1,T=1,A=1,P=0,O="",M=i,D=s,W=r,G=O;T;)switch(E=P,P=Sa()){case 40:if(E!=108&&xi(G,v-1)==58){cR(G+=gn(lS(P),"&","&\f"),"&\f")!=-1&&(A=-1);break}case 34:case 39:case 91:G+=lS(P);break;case 9:case 10:case 13:case 32:G+=Ene(E);break;case 92:G+=Tne(oS()-1,7);continue;case 47:switch(Yl()){case 42:case 47:k2(Pne(Cne(Sa(),oS()),e,n),c);break;default:G+="/"}break;case 123*S:u[f++]=Bl(G)*A;case 125*S:case 59:case 0:switch(P){case 0:case 125:T=0;case 59+p:A==-1&&(G=gn(G,/\f/g,"")),y>0&&Bl(G)-v&&k2(y>32?OI(G+";",r,n,v-1):OI(gn(G," ","")+";",r,n,v-2),c);break;case 59:G+=";";default:if(k2(W=PI(G,e,n,f,p,i,u,O,M=[],D=[],v),s),P===123)if(p===0)uS(G,e,W,W,M,s,v,u,D);else switch(b===99&&xi(G,3)===110?100:b){case 100:case 108:case 109:case 115:uS(t,W,W,r&&k2(PI(t,W,W,0,0,i,u,O,i,M=[],v),D),i,D,v,u,r?M:D);break;default:uS(G,W,W,W,[""],D,0,u,D)}}f=p=y=0,S=A=1,O=G="",v=o;break;case 58:v=1+Bl(G),y=E;default:if(S<1){if(P==123)--S;else if(P==125&&S++==0&&wne()==125)continue}switch(G+=pE(P),P*S){case 38:A=p>0?1:(G+="\f",-1);break;case 44:u[f++]=(Bl(G)-1)*A,A=1;break;case 64:Yl()===45&&(G+=lS(Sa())),b=Yl(),p=v=Bl(O=G+=Ane(oS())),P++;break;case 45:E===45&&Bl(G)==2&&(S=0)}}return s}function PI(t,e,n,r,i,s,o,u,c,f,p){for(var v=i-1,b=i===0?s:[""],y=NM(b),E=0,S=0,T=0;E<r;++E)for(var A=0,P=Q_(t,v+1,v=vne(S=o[E])),O=t;A<y;++A)(O=e9(S>0?b[A]+" "+P:gn(P,/&\f/g,b[A])))&&(c[T++]=O);return mE(t,e,n,i===0?kM:u,c,f,p)}function Pne(t,e,n){return mE(t,e,n,QH,pE(Sne()),Q_(t,2,-2),0)}function OI(t,e,n,r){return mE(t,e,n,IM,Q_(t,0,r),Q_(t,r+1,-1),r)}function km(t,e){for(var n="",r=NM(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function One(t,e,n,r){switch(t.type){case mne:if(t.children.length)break;case gne:case IM:return t.return=t.return||t.value;case QH:return"";case JH:return t.return=t.value+"{"+km(t.children,r)+"}";case kM:t.value=t.props.join(",")}return Bl(n=km(t.children,r))?t.return=t.value+"{"+n+"}":""}function Mne(t){var e=NM(t);return function(n,r,i,s){for(var o="",u=0;u<e;u++)o+=t[u](n,r,i,s)||"";return o}}function Dne(t){return function(e){e.root||(e=e.return)&&t(e)}}var Bne=function(e,n,r){for(var i=0,s=0;i=s,s=Yl(),i===38&&s===12&&(n[r]=1),!J_(s);)Sa();return xy(e,js)},kne=function(e,n){var r=-1,i=44;do switch(J_(i)){case 0:i===38&&Yl()===12&&(n[r]=1),e[r]+=Bne(js-1,n,r);break;case 2:e[r]+=lS(i);break;case 4:if(i===44){e[++r]=Yl()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=pE(i)}while(i=Sa());return e},Ine=function(e,n){return r9(kne(n9(e),n))},MI=new WeakMap,Nne=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!MI.get(r))&&!i){MI.set(e,!0);for(var s=[],o=Ine(n,s),u=r.props,c=0,f=0;c<o.length;c++)for(var p=0;p<u.length;p++,f++)e.props[f]=s[c]?o[c].replace(/&\f/g,u[p]):u[p]+" "+o[c]}}},Une=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function i9(t,e){switch(_ne(t,e)){case 5103:return pn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return pn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return pn+t+QS+t+Gi+t+t;case 6828:case 4268:return pn+t+Gi+t+t;case 6165:return pn+t+Gi+"flex-"+t+t;case 5187:return pn+t+gn(t,/(\w+).+(:[^]+)/,pn+"box-$1$2"+Gi+"flex-$1$2")+t;case 5443:return pn+t+Gi+"flex-item-"+gn(t,/flex-|-self/,"")+t;case 4675:return pn+t+Gi+"flex-line-pack"+gn(t,/align-content|flex-|-self/,"")+t;case 5548:return pn+t+Gi+gn(t,"shrink","negative")+t;case 5292:return pn+t+Gi+gn(t,"basis","preferred-size")+t;case 6060:return pn+"box-"+gn(t,"-grow","")+pn+t+Gi+gn(t,"grow","positive")+t;case 4554:return pn+gn(t,/([^-])(transform)/g,"$1"+pn+"$2")+t;case 6187:return gn(gn(gn(t,/(zoom-|grab)/,pn+"$1"),/(image-set)/,pn+"$1"),t,"")+t;case 5495:case 3959:return gn(t,/(image-set\([^]*)/,pn+"$1$`$1");case 4968:return gn(gn(t,/(.+:)(flex-)?(.*)/,pn+"box-pack:$3"+Gi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+pn+t+t;case 4095:case 3583:case 4068:case 2532:return gn(t,/(.+)-inline(.+)/,pn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bl(t)-1-e>6)switch(xi(t,e+1)){case 109:if(xi(t,e+4)!==45)break;case 102:return gn(t,/(.+:)(.+)-([^]+)/,"$1"+pn+"$2-$3$1"+QS+(xi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~cR(t,"stretch")?i9(gn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(xi(t,e+1)!==115)break;case 6444:switch(xi(t,Bl(t)-3-(~cR(t,"!important")&&10))){case 107:return gn(t,":",":"+pn)+t;case 101:return gn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+pn+(xi(t,14)===45?"inline-":"")+"box$3$1"+pn+"$2$3$1"+Gi+"$2box$3")+t}break;case 5936:switch(xi(t,e+11)){case 114:return pn+t+Gi+gn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return pn+t+Gi+gn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return pn+t+Gi+gn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return pn+t+Gi+t+t}return t}var Fne=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case IM:e.return=i9(e.value,e.length);break;case JH:return km([B0(e,{value:gn(e.value,"@","@"+pn)})],i);case kM:if(e.length)return xne(e.props,function(s){switch(yne(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return km([B0(e,{props:[gn(s,/:(read-\w+)/,":"+QS+"$1")]})],i);case"::placeholder":return km([B0(e,{props:[gn(s,/:(plac\w+)/,":"+pn+"input-$1")]}),B0(e,{props:[gn(s,/:(plac\w+)/,":"+QS+"$1")]}),B0(e,{props:[gn(s,/:(plac\w+)/,Gi+"input-$1")]})],i)}return""})}},Lne=[Fne],Gne=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var T=S.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||Lne,s={},o,u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var T=S.getAttribute("data-emotion").split(" "),A=1;A<T.length;A++)s[T[A]]=!0;u.push(S)});var c,f=[Nne,Une];{var p,v=[One,Dne(function(S){p.insert(S)})],b=Mne(f.concat(i,v)),y=function(T){return km(Rne(T),b)};c=function(T,A,P,O){p=P,y(T?T+"{"+A.styles+"}":A.styles),O&&(E.inserted[A.name]=!0)}}var E={key:n,sheet:new pne({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return E.sheet.hydrate(u),E},jC={exports:{}},wn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DI;function zne(){if(DI)return wn;DI=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,v=t?Symbol.for("react.suspense"):60113,b=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,E=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,T=t?Symbol.for("react.fundamental"):60117,A=t?Symbol.for("react.responder"):60118,P=t?Symbol.for("react.scope"):60119;function O(D){if(typeof D=="object"&&D!==null){var W=D.$$typeof;switch(W){case e:switch(D=D.type,D){case c:case f:case r:case s:case i:case v:return D;default:switch(D=D&&D.$$typeof,D){case u:case p:case E:case y:case o:return D;default:return W}}case n:return W}}}function M(D){return O(D)===f}return wn.AsyncMode=c,wn.ConcurrentMode=f,wn.ContextConsumer=u,wn.ContextProvider=o,wn.Element=e,wn.ForwardRef=p,wn.Fragment=r,wn.Lazy=E,wn.Memo=y,wn.Portal=n,wn.Profiler=s,wn.StrictMode=i,wn.Suspense=v,wn.isAsyncMode=function(D){return M(D)||O(D)===c},wn.isConcurrentMode=M,wn.isContextConsumer=function(D){return O(D)===u},wn.isContextProvider=function(D){return O(D)===o},wn.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===e},wn.isForwardRef=function(D){return O(D)===p},wn.isFragment=function(D){return O(D)===r},wn.isLazy=function(D){return O(D)===E},wn.isMemo=function(D){return O(D)===y},wn.isPortal=function(D){return O(D)===n},wn.isProfiler=function(D){return O(D)===s},wn.isStrictMode=function(D){return O(D)===i},wn.isSuspense=function(D){return O(D)===v},wn.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===r||D===f||D===s||D===i||D===v||D===b||typeof D=="object"&&D!==null&&(D.$$typeof===E||D.$$typeof===y||D.$$typeof===o||D.$$typeof===u||D.$$typeof===p||D.$$typeof===T||D.$$typeof===A||D.$$typeof===P||D.$$typeof===S)},wn.typeOf=O,wn}var BI;function Vne(){return BI||(BI=1,jC.exports=zne()),jC.exports}var XC,kI;function Hne(){if(kI)return XC;kI=1;var t=Vne(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=i;function o(E){return t.isMemo(E)?i:s[E.$$typeof]||e}var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,b=Object.prototype;function y(E,S,T){if(typeof S!="string"){if(b){var A=v(S);A&&A!==b&&y(E,A,T)}var P=c(S);f&&(P=P.concat(f(S)));for(var O=o(E),M=o(S),D=0;D<P.length;++D){var W=P[D];if(!n[W]&&!(T&&T[W])&&!(M&&M[W])&&!(O&&O[W])){var G=p(S,W);try{u(E,W,G)}catch{}}}}return E}return XC=y,XC}Hne();var Wne=!0;function s9(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var UM=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Wne===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},FM=function(e,n,r){UM(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function $ne(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var jne={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Xne=/[A-Z]|^ms/g,Yne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a9=function(e){return e.charCodeAt(1)===45},II=function(e){return e!=null&&typeof e!="boolean"},YC=ZH(function(t){return a9(t)?t:t.replace(Xne,"-$&").toLowerCase()}),NI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Yne,function(r,i,s){return kl={name:i,styles:s,next:kl},i})}return jne[e]!==1&&!a9(e)&&typeof n=="number"&&n!==0?n+"px":n};function ey(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return kl={name:i.name,styles:i.styles,next:kl},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)kl={name:o.name,styles:o.styles,next:kl},o=o.next;var u=s.styles+";";return u}return qne(t,e,n)}case"function":{if(t!==void 0){var c=kl,f=n(t);return kl=c,ey(t,e,f)}break}}var p=n;if(e==null)return p;var v=e[p];return v!==void 0?v:p}function qne(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ey(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var u=o;e!=null&&e[u]!==void 0?r+=s+"{"+e[u]+"}":II(u)&&(r+=YC(s)+":"+NI(s,u)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var c=0;c<o.length;c++)II(o[c])&&(r+=YC(s)+":"+NI(s,o[c])+";");else{var f=ey(t,e,o);switch(s){case"animation":case"animationName":{r+=YC(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}return r}var UI=/label:\s*([^\s;{]+)\s*(;|$)/g,kl;function LM(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";kl=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=ey(n,e,s);else{var o=s;i+=o[0]}for(var u=1;u<t.length;u++)if(i+=ey(n,e,t[u]),r){var c=s;i+=c[u]}UI.lastIndex=0;for(var f="",p;(p=UI.exec(i))!==null;)f+="-"+p[1];var v=$ne(i)+f;return{name:v,styles:i,next:kl}}var Kne=function(e){return e()},o9=RI.useInsertionEffect?RI.useInsertionEffect:!1,l9=o9||Kne,FI=o9||ue.useLayoutEffect,u9=ue.createContext(typeof HTMLElement<"u"?Gne({key:"css"}):null);u9.Provider;var GM=function(e){return ue.forwardRef(function(n,r){var i=ue.useContext(u9);return e(n,i,r)})},zM=ue.createContext({}),VM={}.hasOwnProperty,hR="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Zne=function(e,n){var r={};for(var i in n)VM.call(n,i)&&(r[i]=n[i]);return r[hR]=e,r},Qne=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return UM(n,r,i),l9(function(){return FM(n,r,i)}),null},Jne=GM(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[hR],s=[r],o="";typeof t.className=="string"?o=s9(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var u=LM(s,void 0,ue.useContext(zM));o+=e.key+"-"+u.name;var c={};for(var f in t)VM.call(t,f)&&f!=="css"&&f!==hR&&(c[f]=t[f]);return c.className=o,n&&(c.ref=n),ue.createElement(ue.Fragment,null,ue.createElement(Qne,{cache:e,serialized:u,isStringTag:typeof i=="string"}),ue.createElement(i,c))}),ere=Jne,LI=function(e,n){var r=arguments;if(n==null||!VM.call(n,"css"))return ue.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=ere,s[1]=Zne(e,n);for(var o=2;o<i;o++)s[o]=r[o];return ue.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(LI||(LI={}));var GI=GM(function(t,e){var n=t.styles,r=LM([n],void 0,ue.useContext(zM)),i=ue.useRef();return FI(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),u=!1,c=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),c!==null&&(u=!0,c.setAttribute("data-emotion",s),o.hydrate([c])),i.current=[o,u],function(){o.flush()}},[e]),FI(function(){var s=i.current,o=s[0],u=s[1];if(u){s[1]=!1;return}if(r.next!==void 0&&FM(e,r.next,!0),o.tags.length){var c=o.tags[o.tags.length-1].nextElementSibling;o.before=c,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function tre(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function nre(...t){return e=>{t.forEach(n=>{tre(n,e)})}}function Sy(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function rre(t){return t.default||t}const Is=t=>t!=null&&typeof t=="object"&&!Array.isArray(t),Ql=t=>typeof t=="string",HM=t=>typeof t=="function";function ire(t){var n;const e=ue.version;return!Ql(e)||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}const[sre,vE]=T_({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function are(t){const{value:e,children:n}=t;return ie.jsxs(sre,{value:e,children:[!e._config.disableLayers&&ie.jsx(GI,{styles:e.layers.atRule}),ie.jsx(GI,{styles:e._global}),n]})}const ore=(t,e)=>{const n={},r={},i=Object.keys(t);for(const s of i)e(s)?r[s]=t[s]:n[s]=t[s];return[r,n]},Im=(t,e)=>{const n=HM(e)?e:r=>e.includes(r);return ore(t,n)},lre=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function ure(t){return typeof t=="string"&&lre.has(t)}function cre(t,e,n){const{css:r,isValidProperty:i}=vE(),{children:s,...o}=t,u=ue.useMemo(()=>{const[b,y]=Im(o,P=>n(P,e.variantKeys)),[E,S]=Im(y,e.variantKeys),[T,A]=Im(S,i);return{forwardedProps:b,variantProps:E,styleProps:T,elementProps:A}},[e.variantKeys,n,o,i]),{css:c,...f}=u.styleProps,p=ue.useMemo(()=>{const b={...u.variantProps};return e.variantKeys.includes("colorPalette")||(b.colorPalette=o.colorPalette),e.variantKeys.includes("orientation")||(b.orientation=o.orientation),e(b)},[e,u.variantProps,o.colorPalette,o.orientation]);return{styles:ue.useMemo(()=>r(p,...dre(c),f),[r,p,c,f]),props:{...u.forwardedProps,...u.elementProps,children:s}}}const dre=t=>(Array.isArray(t)?t:[t]).filter(Boolean).flat(),hre=rre(dne),fre=hre,pre=t=>t!=="theme",gre=(t,e,n)=>{let r;if(e){const i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?s=>t.__emotion_forwardProp(s)&&i(s):i}return typeof r!="function"&&n&&(r=t.__emotion_forwardProp),r};let mre=typeof document<"u";const zI=({cache:t,serialized:e,isStringTag:n})=>{UM(t,e,n);const r=l9(()=>FM(t,e,n));if(!mre&&r!==void 0){let i=e.name,s=e.next;for(;s!==void 0;)i=Go(i,s.name),s=s.next;return ie.jsx("style",{"data-emotion":Go(t.key,i),dangerouslySetInnerHTML:{__html:r},nonce:t.sheet.nonce})}return null},vre=(t,e={},n={})=>{const r=t.__emotion_real===t,i=r&&t.__emotion_base||t;let s,o;n!==void 0&&(s=n.label,o=n.target);let u=[];const c=GM((f,p,v)=>{var Te;const{cva:b,isValidProperty:y}=vE(),E=e.__cva__?e:b(e),S=_re(t.__emotion_cva,E),T=he=>(R,N)=>he.includes(R)?!0:!(N!=null&&N.includes(R))&&!y(R);!n.shouldForwardProp&&n.forwardProps&&(n.shouldForwardProp=T(n.forwardProps));const A=(he,R)=>{const N=typeof t=="string"&&t.charCodeAt(0)>96?fre:pre,z=!(R!=null&&R.includes(he))&&!y(he);return N(he)&&z},P=gre(t,n,r)||A,O=ue.useMemo(()=>Object.assign({},n.defaultProps,Sy(f)),[f]),{props:M,styles:D}=cre(O,S,P);let W="",G=[D],Y=M;if(M.theme==null){Y={};for(let he in M)Y[he]=M[he];Y.theme=ue.useContext(zM)}typeof M.className=="string"?W=s9(p.registered,G,M.className):M.className!=null&&(W=Go(W,M.className));const L=LM(u.concat(G),p.registered,Y);W=Go(W,`${p.key}-${L.name}`),o!==void 0&&(W=Go(W,o));const X=!P("as");let Z=X&&M.as||i,ee={};for(let he in M)if(!(X&&he==="as")){if(ure(he)){const R=he.replace("html","").toLowerCase();ee[R]=M[he];continue}P(he)&&(ee[he]=M[he])}ee.className=W.trim(),ee.ref=v;const be=n.forwardAsChild||((Te=n.forwardProps)==null?void 0:Te.includes("asChild"));if(M.asChild&&!be){const he=ue.Children.only(M.children);Z=he.type,ee.children=null,Reflect.deleteProperty(ee,"asChild"),ee=Z_(ee,he.props),ee.ref=nre(v,ire(he))}return ee.as&&be?(ee.as=void 0,ie.jsxs(ue.Fragment,{children:[ie.jsx(zI,{cache:p,serialized:L,isStringTag:typeof Z=="string"}),ie.jsx(Z,{asChild:!0,...ee,children:ie.jsx(M.as,{children:ee.children})})]})):ie.jsxs(ue.Fragment,{children:[ie.jsx(zI,{cache:p,serialized:L,isStringTag:typeof Z=="string"}),ie.jsx(Z,{...ee})]})});return c.displayName=s!==void 0?s:`chakra(${typeof i=="string"?i:i.displayName||i.name||"Component"})`,c.__emotion_real=c,c.__emotion_base=i,c.__emotion_forwardProp=n.shouldForwardProp,c.__emotion_cva=e,Object.defineProperty(c,"toString",{value(){return`.${o}`}}),c},qC=vre.bind(),KC=new Map,bre=new Proxy(qC,{apply(t,e,n){return qC(...n)},get(t,e){return KC.has(e)||KC.set(e,qC(e)),KC.get(e)}}),Ra=bre,_re=(t,e)=>t&&!e?t:!t&&e?e:t.merge(e);function yre(t){const{key:e,recipe:n}=t,r=vE();return ue.useMemo(()=>{const i=n||(e!=null?r.getRecipe(e):{});return r.cva(structuredClone(i))},[e,n,r])}const xre=t=>t.charAt(0).toUpperCase()+t.slice(1);function WM(t){const{key:e,recipe:n}=t,r=xre(e||n.className||"Component"),[i,s]=T_({strict:!1,name:`${r}PropsContext`,providerName:`${r}PropsContext`});function o(f){const{unstyled:p,...v}=f,b=yre({key:e,recipe:v.recipe||n}),[y,E]=ue.useMemo(()=>b.splitVariantProps(v),[b,v]);return{styles:p?lne:b(y),className:b.className,props:E}}const u=(f,p)=>{const v=Ra(f,{},p),b=ue.forwardRef((y,E)=>{const S=s(),T=ue.useMemo(()=>Z_(S,y),[y,S]),{styles:A,className:P,props:O}=o(T);return ie.jsx(v,{...O,ref:E,css:[A,T.css],className:Go(P,T.className)})});return b.displayName=f.displayName||f.name,b};function c(){return i}return{withContext:u,PropsProvider:i,withPropsProvider:c,usePropsContext:s,useRecipeResult:o}}var VI=t=>Math.max(0,Math.min(1,t)),Sre=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]),c9=()=>{},bE=t=>typeof t=="object"&&t!==null,wre=2147483647,er=t=>t?"":void 0,fR=t=>t?"true":void 0,Ere=1,Tre=9,Cre=11,Ti=t=>bE(t)&&t.nodeType===Ere&&typeof t.nodeName=="string",$M=t=>bE(t)&&t.nodeType===Tre,Are=t=>bE(t)&&t===t.window,d9=t=>Ti(t)?t.localName||"":"#document";function Rre(t){return["html","body","#document"].includes(d9(t))}var Pre=t=>bE(t)&&t.nodeType!==void 0,ty=t=>Pre(t)&&t.nodeType===Cre&&"host"in t,Ore=t=>Ti(t)&&t.localName==="input",Mre=t=>!!(t!=null&&t.matches("a[href]")),Dre=t=>Ti(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,Bre=/(textarea|select)/;function jM(t){if(t==null||!Ti(t))return!1;try{return Ore(t)&&t.selectionStart!=null||Bre.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function ep(t,e){var r;if(!t||!e||!Ti(t)||!Ti(e))return!1;const n=(r=e.getRootNode)==null?void 0:r.call(e);if(t===e||t.contains(e))return!0;if(n&&ty(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function oo(t){return $M(t)?t:Are(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function kre(t){return oo(t).documentElement}function $i(t){var e;return ty(t)?$i(t.host):$M(t)?t.defaultView??window:Ti(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function h9(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function Ire(t){if(d9(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ty(t)&&t.host||kre(t);return ty(e)?e.host:e}var ZC=new WeakMap;function XM(t){return ZC.has(t)||ZC.set(t,$i(t).getComputedStyle(t)),ZC.get(t)}var YM=()=>typeof document<"u";function Nre(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}function Ure(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var qM=t=>YM()&&t.test(Nre()),Fre=t=>YM()&&t.test(Ure()),Lre=t=>YM()&&t.test(navigator.vendor),f9=()=>qM(/^Mac/),p9=()=>g9()&&Lre(/apple/i),Gre=()=>Fre(/firefox\//i),g9=()=>qM(/mac|iphone|ipad|ipod/i),KM=()=>qM(/iP(hone|ad|od)|iOS/);function zre(t){var e,n,r;return((e=t.composedPath)==null?void 0:e.call(t))??((r=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function Us(t){const e=zre(t);return(e==null?void 0:e[0])??t.target}var Vre=t=>ep(t.currentTarget,Us(t));function HI(t){const e=t.currentTarget;if(!e)return!1;const n=g9();if(n&&!t.metaKey||!n&&!t.ctrlKey)return!1;const r=e.localName;return r==="a"||r==="button"&&e.type==="submit"||r==="input"&&e.type==="submit"}function WI(t){const e=t.currentTarget;if(!e)return!1;const n=e.localName;return t.altKey?n==="a"||n==="button"&&e.type==="submit"||n==="input"&&e.type==="submit":!1}function m9(t){return jre(t).isComposing}function Hre(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var $I=t=>t.button===0,v9=t=>t.button===2||f9()&&t.ctrlKey&&t.button===0,pR=t=>t.ctrlKey||t.altKey||t.metaKey,Wre=t=>"touches"in t&&t.touches.length>0,$re={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},jI={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function XI(t,e={}){const{dir:n="ltr",orientation:r="horizontal"}=e;let i=t.key;return i=$re[i]??i,n==="rtl"&&r==="horizontal"&&i in jI&&(i=jI[i]),i}function jre(t){return t.nativeEvent??t}var Xre=new Set(["PageUp","PageDown"]),Yre=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function qre(t){return t.ctrlKey||t.metaKey?.1:Xre.has(t.key)||t.shiftKey&&Yre.has(t.key)?10:1}function mm(t,e="client"){const n=Wre(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var lr=(t,e,n,r)=>{const i=typeof t=="function"?t():t;return i==null||i.addEventListener(e,n,r),()=>{i==null||i.removeEventListener(e,n,r)}};function Kre(t,e){const{type:n="HTMLInputElement",property:r="value"}=e,i=$i(t)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function Zre(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function _E(t,e,n="value"){var i;if(!t)return;const r=Zre(t);r&&((i=Kre(t,{type:r,property:n}).set)==null||i.call(t,e)),t.setAttribute(n,e)}function Qre(t,e){const{value:n,bubbles:r=!0}=e;if(!t)return;const i=$i(t);t instanceof i.HTMLInputElement&&(_E(t,`${n}`),t.dispatchEvent(new i.Event("input",{bubbles:r})))}function Jre(t){return eie(t)?t.form:t.closest("form")}function eie(t){return t.matches("textarea, input, select, button")}function tie(t,e){if(!t)return;const n=Jre(t),r=i=>{i.defaultPrevented||e()};return n==null||n.addEventListener("reset",r,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",r)}function nie(t,e){const n=t==null?void 0:t.closest("fieldset");if(!n)return;e(n.disabled);const r=$i(n),i=new r.MutationObserver(()=>e(n.disabled));return i.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>i.disconnect()}function ZM(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:r}=e,i=[tie(t,r),nie(t,n)];return()=>i.forEach(s=>s==null?void 0:s())}var b9=t=>Ti(t)&&t.tagName==="IFRAME",rie=t=>!Number.isNaN(parseInt(t.getAttribute("tabindex")||"0",10)),iie=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,QM="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",_9=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(QM));(e==!0||e=="if-empty"&&n.length===0)&&Ti(t)&&Pd(t)&&n.unshift(t);const i=n.filter(Pd);return i.forEach((s,o)=>{if(b9(s)&&s.contentDocument){const u=s.contentDocument.body;i.splice(o,1,..._9(u))}}),i};function Pd(t){return!t||t.closest("[inert]")?!1:t.matches(QM)&&Dre(t)}function yE(t,e){if(!t)return[];const r=Array.from(t.querySelectorAll(QM)).filter(wf);return r.forEach((i,s)=>{if(b9(i)&&i.contentDocument){const o=i.contentDocument.body,u=yE(o);r.splice(s,1,...u)}}),r.length,r}function wf(t){return t!=null&&t.tabIndex>0?!0:Pd(t)&&!iie(t)}function sie(t,e){const n=yE(t,e),r=n[0]||null,i=n[n.length-1]||null;return[r,i]}function k0(t){return t.tabIndex<0&&(/^(audio|video|details)$/.test(t.localName)||jM(t))&&!rie(t)?0:t.tabIndex}function JM(t){const{root:e,getInitialEl:n,filter:r,enabled:i=!0}=t;if(!i)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=e==null?void 0:e.querySelector("[data-autofocus],[autofocus]")),!s){const o=yE(e);s=r?o.filter(r)[0]:o[0]}return s||e||void 0}function aie(t){const e=t.currentTarget;if(!e)return!1;const[n,r]=sie(e),i=e.ownerDocument||document;return!(i.activeElement===n&&t.shiftKey||i.activeElement===r&&!t.shiftKey||!n&&!r)}function y9(t){const e=new Set;function n(r){const i=globalThis.requestAnimationFrame(r);e.add(()=>globalThis.cancelAnimationFrame(i))}return n(()=>n(t)),function(){e.forEach(i=>i())}}function Pn(t){let e;const n=globalThis.requestAnimationFrame(()=>{e=t()});return()=>{globalThis.cancelAnimationFrame(n),e==null||e()}}function oie(t,e,n){const r=Pn(()=>{t.removeEventListener(e,i,!0),n()}),i=()=>{r(),n()};return t.addEventListener(e,i,{once:!0,capture:!0}),r}function lie(t,e){if(!t)return;const{attributes:n,callback:r}=e,i=t.ownerDocument.defaultView||window,s=new i.MutationObserver(o=>{for(const u of o)u.type==="attributes"&&u.attributeName&&n.includes(u.attributeName)&&r(u)});return s.observe(t,{attributes:!0,attributeFilter:n}),()=>s.disconnect()}function eD(t,e){const{defer:n}=e,r=n?Pn:s=>s(),i=[];return i.push(r(()=>{const s=typeof t=="function"?t():t;i.push(lie(s,e))})),()=>{i.forEach(s=>s==null?void 0:s())}}function uie(t){const e=()=>t.click();Gre()?oie(t,"keyup",e):queueMicrotask(e)}function JS(t){const e=Ire(t);return Rre(e)?oo(e).body:Ti(e)&&tD(e)?e:JS(e)}function x9(t,e=[]){const n=JS(t),r=n===t.ownerDocument.body,i=$i(n);return r?e.concat(i,i.visualViewport||[],tD(n)?n:[]):e.concat(n,x9(n,[]))}var cie=/auto|scroll|overlay|hidden|clip/;function tD(t){const e=$i(t),{overflow:n,overflowX:r,overflowY:i,display:s}=e.getComputedStyle(t);return cie.test(n+i+r)&&!["inline","contents"].includes(s)}function die(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function S9(t,e){const{rootEl:n,...r}=e||{};!t||!n||!tD(n)||!die(n)||t.scrollIntoView(r)}function w9(t,e){const{left:n,top:r,width:i,height:s}=e.getBoundingClientRect(),o={x:t.x-n,y:t.y-r},u={x:VI(o.x/i),y:VI(o.y/s)};function c(f={}){const{dir:p="ltr",orientation:v="horizontal",inverted:b}=f,y=typeof b=="object"?b.x:b,E=typeof b=="object"?b.y:b;return v==="horizontal"?p==="rtl"||y?1-u.x:u.x:E?1-u.y:u.y}return{offset:o,percent:u,getPercentValue:c}}function hie(t,e){const n=t.body,r="pointerLockElement"in t||"mozPointerLockElement"in t,i=()=>!!t.pointerLockElement;function s(){}function o(c){i(),console.error("PointerLock error occurred:",c),t.exitPointerLock()}if(!r)return;try{n.requestPointerLock()}catch{}const u=[lr(t,"pointerlockchange",s,!1),lr(t,"pointerlockerror",o,!1)];return()=>{u.forEach(c=>c()),t.exitPointerLock()}}var vm="default",gR="",cS=new WeakMap;function fie(t={}){const{target:e,doc:n}=t,r=n??document,i=r.documentElement;return KM()?(vm==="default"&&(gR=i.style.webkitUserSelect,i.style.webkitUserSelect="none"),vm="disabled"):e&&(cS.set(e,e.style.userSelect),e.style.userSelect="none"),()=>pie({target:e,doc:r})}function pie(t={}){const{target:e,doc:n}=t,i=(n??document).documentElement;if(KM()){if(vm!=="disabled")return;vm="restoring",setTimeout(()=>{y9(()=>{vm==="restoring"&&(i.style.webkitUserSelect==="none"&&(i.style.webkitUserSelect=gR||""),gR="",vm="default")})},300)}else if(e&&cS.has(e)){const s=cS.get(e);e.style.userSelect==="none"&&(e.style.userSelect=s??""),e.getAttribute("style")===""&&e.removeAttribute("style"),cS.delete(e)}}function E9(t={}){const{defer:e,target:n,...r}=t,i=e?Pn:o=>o(),s=[];return s.push(i(()=>{const o=typeof n=="function"?n():n;s.push(fie({...r,target:o}))})),()=>{s.forEach(o=>o==null?void 0:o())}}function gie(t,e){const{onPointerMove:n,onPointerUp:r}=e,s=[lr(t,"pointermove",o=>{const u=mm(o),c=Math.sqrt(u.x**2+u.y**2),f=o.pointerType==="touch"?10:5;if(!(c<f)){if(o.pointerType==="mouse"&&o.button===0){r();return}n({point:u,event:o})}},!1),lr(t,"pointerup",r,!1),lr(t,"pointercancel",r,!1),lr(t,"contextmenu",r,!1),E9({doc:t})];return()=>{s.forEach(o=>o())}}function ew(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}var nD=t=>t.id;function mie(t,e,n=nD){return t.find(r=>n(r)===e)}function rD(t,e,n=nD){const r=mie(t,e,n);return r?t.indexOf(r):-1}function vie(t,e,n=!0){let r=rD(t,e);return r=n?(r+1)%t.length:Math.min(r+1,t.length-1),t[r]}function bie(t,e,n=!0){let r=rD(t,e);return r===-1?n?t[t.length-1]:null:(r=n?(r-1+t.length)%t.length:Math.max(0,r-1),t[r])}var _ie=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),yie=t=>{var e;return _ie(((e=t.dataset)==null?void 0:e.valuetext)??t.textContent??"")},xie=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function Sie(t,e,n,r=nD){const i=n?rD(t,n,r):-1;let s=n?Sre(t,i):t;return e.length===1&&(s=s.filter(u=>r(u)!==n)),s.find(u=>xie(yie(u),e))}function tw(t,e){if(!t)return c9;const n=Object.keys(e).reduce((r,i)=>(r[i]=t.style.getPropertyValue(i),r),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n),t.style.length===0&&t.removeAttribute("style")}}function wie(t,e,n){if(!t)return c9;const r=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{t.style.setProperty(e,r),t.style.length===0&&t.removeAttribute("style")}}function Eie(t,e){const{state:n,activeId:r,key:i,timeout:s=350,itemToId:o}=e,u=n.keysSoFar+i,f=u.length>1&&Array.from(u).every(E=>E===u[0])?u[0]:u;let p=t.slice();const v=Sie(p,f,r,o);function b(){clearTimeout(n.timer),n.timer=-1}function y(E){n.keysSoFar=E,b(),E!==""&&(n.timer=+setTimeout(()=>{y(""),b()},s))}return y(u),v}var iD=Object.assign(Eie,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:Tie});function Tie(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var Cie=1e3/60;function Aie(t,e){const n=t();if(Ti(n)&&n.isConnected)return e(n),()=>{};{const r=setInterval(()=>{const i=t();Ti(i)&&i.isConnected&&(e(i),clearInterval(r))},Cie);return()=>clearInterval(r)}}function Rie(t,e){const n=[];return t==null||t.forEach(r=>{const i=Aie(r,e);n.push(i)}),()=>{n.forEach(r=>r())}}function Pie(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Ys(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:s,defaultValue:o}=t,u=ue.createContext(o);u.displayName=e;function c(){var p;const f=ue.useContext(u);if(!f&&n){const v=new Error(s??Pie(r,i));throw v.name="ContextError",(p=Error.captureStackTrace)==null||p.call(Error,v,c),v}return f}return[u.Provider,c,u]}const[qge,xE]=Ys({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function wy(...t){return e=>{const n=[];for(const r of t)if(typeof r=="function"){const i=r(e);typeof i=="function"&&n.push(i)}else r&&(r.current=e);if(n.length)return()=>{for(const r of n)r()}}}function Oie(t){return t?Array.isArray(t)?t:[t]:[]}var T9=t=>t[0],C9=t=>t[t.length-1],Mie=(t,e)=>t.indexOf(e)!==-1,A9=(t,...e)=>t.concat(e),R9=(t,...e)=>t.filter(n=>!e.includes(n)),YI=(t,e)=>Mie(t,e)?R9(t,e):A9(t,e);function P9(t,e,n={}){const{step:r=1,loop:i=!0}=n,s=e+r,o=t.length,u=o-1;return e===-1?r>0?0:u:s<0?i?u:0:s>=o?i?0:e>o?o:e:s}function Die(t,e,n={}){return t[P9(t,e,n)]}function Bie(t,e,n={}){const{step:r=1,loop:i=!0}=n;return P9(t,e,{step:-r,loop:i})}function kie(t,e,n={}){return t[Bie(t,e,n)]}var qI=t=>(t==null?void 0:t.constructor.name)==="Array",Iie=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Ey(t[n],e[n]))return!1;return!0},Ey=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(qI(t)&&qI(e))return Iie(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(t,n[i]))return!1;for(let i=0;i<r;i++){const s=n[i];if(!Ey(t[s],e[s]))return!1}return!0},Nie=t=>Array.isArray(t),Uie=t=>t!=null&&typeof t=="object",QC=t=>Uie(t)&&!Nie(t),dS=t=>typeof t=="string",bm=t=>typeof t=="function",Fie=t=>t==null,JC=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Lie=Function.prototype.toString;Lie.call(Object);var Gie=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,zie=t=>t(),Vie=()=>{},nw=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},O9=(t,e)=>{var n;try{return t()}catch(r){return r instanceof Error&&((n=Error.captureStackTrace)==null||n.call(Error,r,O9)),e==null?void 0:e()}},{floor:mR,abs:KI,round:SE,min:Hie,max:Wie,pow:$ie,sign:jie}=Math,e_=t=>Number.isNaN(t),ac=t=>e_(t)?0:t,M9=(t,e)=>(t%e+e)%e,Xie=(t,e)=>(t%e+e)%e,Yie=(t,e)=>ac(t)>=e,qie=(t,e)=>ac(t)<=e,Kie=(t,e,n)=>ac(t)>=e&&ac(t)<=n,Zie=(t,e,n)=>SE((ac(t)-e)/n)*n+e,Fs=(t,e,n)=>Hie(Wie(ac(t),e),n),Qie=(t,e,n)=>(ac(t)-e)/(n-e),Jie=(t,e,n,r)=>Fs(Zie(t*(n-e)+e,e,r),e,n),I2=(t,e)=>{let n=t,r=e.toString(),i=r.indexOf("."),s=i>=0?r.length-i:0;if(s>0){let o=$ie(10,s);n=SE(n*o)/o}return n},C_=(t,e)=>typeof e=="number"?mR(t*e+.5)/e:SE(t),ZI=(t,e,n,r)=>{e=Number(e),n=Number(n);let i=(t-(e_(e)?0:e))%r,s=I2(KI(i)*2>=r?t+jie(i)*(r-KI(i)):t-i,r);return e_(e)?!e_(n)&&s>n&&(s=e+mR(I2((n-e)/r,r))*r):s<e?s=e:!e_(n)&&s>n&&(s=e+mR(I2((n-e)/r,r))*r),I2(s,r)},Wn=(t,e=0,n=10)=>{const r=Math.pow(n,e);return SE(t*r)/r},QI=t=>{if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n},D9=(t,e,n)=>{let r=e==="+"?t+n:t-n;if(t%1!==0||n%1!==0){const i=10**Math.max(QI(t),QI(n));t=Math.round(t*i),n=Math.round(n*i),r=e==="+"?t+n:t-n,r/=i}return r},ese=(t,e)=>D9(ac(t),"+",e),tse=(t,e)=>D9(ac(t),"-",e);function sD(t){if(!nse(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=sD(i))}return n}var nse=t=>t&&typeof t=="object"&&t.constructor===Object;function rw(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function rse(t,e){if(t==null)throw new Error(e)}var ise=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),sse=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,JI=t=>{const e={};let n;for(;n=sse.exec(t);)e[n[1]]=n[2];return e},ase=(t,e)=>{if(dS(t)){if(dS(e))return`${t};${e}`;t=JI(t)}else dS(e)&&(e=JI(e));return Object.assign({},t??{},e??{})};function xt(...t){let e={};for(let n of t){for(let r in e){if(r.startsWith("on")&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=nw(n[r],e[r]);continue}if(r==="className"||r==="class"){e[r]=ise(e[r],n[r]);continue}if(r==="style"){e[r]=ase(e[r],n[r]);continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}function e4(t,e,n){let r=[],i;return s=>{const o=t(s);return(o.length!==r.length||o.some((c,f)=>!Ey(r[f],c)))&&(r=o,i=e(...o)),i}}function dp(){return{and:(...t)=>function(n){return t.every(r=>n.guard(r))},or:(...t)=>function(n){return t.some(r=>n.guard(r))},not:t=>function(n){return!n.guard(t)}}}function ose(){return{guards:dp(),createMachine:t=>t,choose:t=>function({choose:n}){var r;return(r=n(t))==null?void 0:r.actions}}}var om=(t=>(t.NotStarted="Not Started",t.Started="Started",t.Stopped="Stopped",t))(om||{}),eA="__init__";function lse(t){const e=()=>{var u;return((u=t.getRootNode)==null?void 0:u.call(t))??document},n=()=>oo(e()),r=()=>n().defaultView??window,i=()=>h9(e());return{...t,getRootNode:e,getDoc:n,getWin:r,getActiveElement:i,isActiveElement:u=>u===i(),getById:u=>e().getElementById(u)}}function use(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const tA=t=>{const e=ue.memo(ue.forwardRef((n,r)=>{const{asChild:i,children:s,...o}=n;if(!i)return ue.createElement(t,{...o,ref:r},s);const u=ue.Children.only(s);if(!ue.isValidElement(u))return null;const c=use(u);return ue.cloneElement(u,{...xt(o,u.props),ref:r?wy(r,c):c})}));return e.displayName=t.displayName||t.name,e},cse=()=>{const t=new Map;return new Proxy(tA,{apply(e,n,r){return tA(r[0])},get(e,n){const r=n;return t.has(r)||t.set(r,tA(r)),t.get(r)}})},Gt=cse(),nu=()=>(t,e)=>e.reduce((n,r)=>{const[i,s]=n,o=r;return s[o]!==void 0&&(i[o]=s[o]),delete s[o],[i,s]},[{},{...t}]),Sv=t=>nu()(t,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]);function dse(t){return new Proxy({},{get(e,n){return n==="style"?r=>t({style:r}).style:t}})}var Nt=()=>t=>Array.from(new Set(t));function hse(t,e){const{state:n,send:r,context:i}=t,s=n.matches("mounted","unmountSuspended");return{skip:!i.get("initial"),present:s,setNode(o){o&&r({type:"NODE.SET",node:o})},unmount(){r({type:"UNMOUNT"})}}}var fse={props({props:t}){return{...t,present:!!t.present}},initialState({prop:t}){return t("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:t}){return{unmountAnimationName:t(()=>({defaultValue:null})),prevAnimationName:t(()=>({defaultValue:null})),present:t(()=>({defaultValue:!1})),initial:t(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:t,action:e,prop:n}){t([()=>n("present")],()=>{e(["setInitial","syncPresence"])})},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:t})=>{t.get("initial")||queueMicrotask(()=>{t.set("initial",!0)})},clearInitial:({context:t})=>{t.set("initial",!1)},cleanupNode:({refs:t})=>{t.set("node",null),t.set("styles",null)},invokeOnExitComplete:({prop:t})=>{var e;(e=t("onExitComplete"))==null||e()},setNode:({refs:t,event:e})=>{t.set("node",e.node)},setStyles:({refs:t,event:e})=>{t.set("styles",XM(e.node))},syncPresence:({context:t,refs:e,send:n,prop:r})=>{const i=r("present");if(i)return n({type:"MOUNT",src:"presence.changed"});const s=e.get("node");if(!i&&(s==null?void 0:s.ownerDocument.visibilityState)==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});Pn(()=>{var u,c;const o=N2(e.get("styles"));t.set("unmountAnimationName",o),o==="none"||o===t.get("prevAnimationName")||((u=e.get("styles"))==null?void 0:u.display)==="none"||((c=e.get("styles"))==null?void 0:c.animationDuration)==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:t,refs:e})=>{Pn(()=>{t.set("prevAnimationName",N2(e.get("styles")))})},clearPrevAnimationName:({context:t})=>{t.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:t,refs:e,send:n})=>{const r=e.get("node");if(!r)return;const i=u=>{var f,p;(((p=(f=u.composedPath)==null?void 0:f.call(u))==null?void 0:p[0])??u.target)===r&&t.set("prevAnimationName",N2(e.get("styles")))},s=u=>{const c=N2(e.get("styles"));Us(u)===r&&c===t.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};r.addEventListener("animationstart",i),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s);const o=tw(r,{animationFillMode:"forwards"});return()=>{r.removeEventListener("animationstart",i),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s),y9(()=>o())}}}}};function N2(t){return(t==null?void 0:t.animationName)||"none"}Nt()(["onExitComplete","present","immediate"]);var Ty=KH(),B9=typeof globalThis.document<"u"?ue.useLayoutEffect:ue.useEffect;function t4(t){const e=t().value??t().defaultValue,n=t().isEqual??Object.is,[r]=ue.useState(e),[i,s]=ue.useState(r),o=t().value!==void 0,u=ue.useRef(i);u.current=o?t().value:i;const c=ue.useRef(u.current);B9(()=>{c.current=u.current},[i,t().value]);const f=v=>{var E,S;const b=c.current,y=bm(v)?v(b):v;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:y,prev:b}),o||s(y),n(y,b)||(S=(E=t()).onChange)==null||S.call(E,y,b)};function p(){return o?t().value:i}return{initial:r,ref:u,get:p,set(v){(t().sync?Ty.flushSync:zie)(()=>f(v))},invoke(v,b){var y,E;(E=(y=t()).onChange)==null||E.call(y,v,b)},hash(v){var b,y;return((y=(b=t()).hash)==null?void 0:y.call(b,v))??String(v)}}}function pse(t){const e=ue.useRef(t);return{get(n){return e.current[n]},set(n,r){e.current[n]=r}}}var gse=(t,e)=>{const n=ue.useRef(!1),r=ue.useRef(!1);ue.useEffect(()=>{if(n.current&&r.current)return e();r.current=!0},[...(t??[]).map(i=>typeof i=="function"?i():i)]),ue.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function Cy(t,e={}){var Z,ee,be,Te;const n=ue.useMemo(()=>{const{id:he,ids:R,getRootNode:N}=e;return lse({id:he,ids:R,getRootNode:N})},[e]),r=(...he)=>{t.debug&&console.log(...he)},i=((Z=t.props)==null?void 0:Z.call(t,{props:sD(e),scope:n}))??e,s=mse(i),o=(ee=t.context)==null?void 0:ee.call(t,{prop:s,bindable:t4,scope:n,flush:n4,getContext(){return c},getComputed(){return D},getRefs(){return S}}),u=k9(o),c={get(he){var R;return(R=u.current)==null?void 0:R[he].ref.current},set(he,R){var N;(N=u.current)==null||N[he].set(R)},initial(he){var R;return(R=u.current)==null?void 0:R[he].initial},hash(he){var N,z;const R=(N=u.current)==null?void 0:N[he].get();return(z=u.current)==null?void 0:z[he].hash(R)}},f=ue.useRef(new Map),p=ue.useRef(null),v=ue.useRef(null),b=ue.useRef({type:""}),y=()=>({...b.current,current(){return b.current},previous(){return v.current}}),E=()=>({...W,matches(...he){return he.includes(W.ref.current)},hasTag(he){var R,N;return!!((N=(R=t.states[W.ref.current])==null?void 0:R.tags)!=null&&N.includes(he))}}),S=pse(((be=t.refs)==null?void 0:be.call(t,{prop:s,context:c}))??{}),T=()=>({state:E(),context:c,event:y(),prop:s,send:X,action:A,guard:P,track:gse,refs:S,computed:D,flush:n4,scope:n,choose:M}),A=he=>{const R=bm(he)?he(T()):he;if(!R)return;const N=R.map(z=>{var U,j;const K=(j=(U=t.implementations)==null?void 0:U.actions)==null?void 0:j[z];return K||rw(`[zag-js] No implementation found for action "${JSON.stringify(z)}"`),K});for(const z of N)z==null||z(T())},P=he=>{var R,N;return bm(he)?he(T()):(N=(R=t.implementations)==null?void 0:R.guards)==null?void 0:N[he](T())},O=he=>{const R=bm(he)?he(T()):he;if(!R)return;const N=R.map(K=>{var j,ne;const U=(ne=(j=t.implementations)==null?void 0:j.effects)==null?void 0:ne[K];return U||rw(`[zag-js] No implementation found for effect "${JSON.stringify(K)}"`),U}),z=[];for(const K of N){const U=K==null?void 0:K(T());U&&z.push(U)}return()=>z.forEach(K=>K==null?void 0:K())},M=he=>Oie(he).find(R=>{let N=!R.guard;return dS(R.guard)?N=!!P(R.guard):bm(R.guard)&&(N=R.guard(T())),N}),D=he=>{rse(t.computed,"[zag-js] No computed object found on machine");const R=t.computed[he];return R({context:c,event:y(),prop:s,refs:S,scope:n,computed:D})},W=t4(()=>({defaultValue:t.initialState({prop:s}),onChange(he,R){var z,K,U,j;if(R){const ne=f.current.get(R);ne==null||ne(),f.current.delete(R)}R&&A((z=t.states[R])==null?void 0:z.exit),A((K=p.current)==null?void 0:K.actions);const N=O((U=t.states[he])==null?void 0:U.effects);if(N&&f.current.set(he,N),R===eA){A(t.entry);const ne=O(t.effects);ne&&f.current.set(eA,ne)}A((j=t.states[he])==null?void 0:j.entry)}})),G=ue.useRef(void 0),Y=ue.useRef(om.NotStarted);B9(()=>{queueMicrotask(()=>{const N=Y.current===om.Started;Y.current=om.Started,r(N?"rehydrating...":"initializing...");const z=G.current??W.initial;W.invoke(z,N?W.get():eA)});const he=f.current,R=W.ref.current;return()=>{r("unmounting..."),G.current=R,Y.current=om.Stopped,he.forEach(N=>N==null?void 0:N()),f.current=new Map,p.current=null,queueMicrotask(()=>{A(t.exit)})}},[]);const L=()=>"ref"in W?W.ref.current:W.get(),X=he=>{queueMicrotask(()=>{var j,ne;if(Y.current!==om.Started)return;v.current=b.current,b.current=he,r("send",he);let R=L();const N=((j=t.states[R].on)==null?void 0:j[he.type])??((ne=t.on)==null?void 0:ne[he.type]),z=M(N);if(!z)return;p.current=z;const K=z.target??R;r("transition",z);const U=K!==R;U?Ty.flushSync(()=>W.set(K)):z.reenter&&!U?W.invoke(R,R):A(z.actions??[])})};return(Te=t.watch)==null||Te.call(t,T()),{state:E(),send:X,context:c,prop:s,scope:n,refs:S,computed:D,event:y(),getStatus:()=>Y.current}}function k9(t){const e=ue.useRef(t);return e.current=t,e}function mse(t){const e=k9(t);return function(r){return e.current[r]}}function n4(t){queueMicrotask(()=>{Ty.flushSync(()=>t())})}var wE=dse(t=>t);function vse(t,e={}){const{sync:n=!1}=e,r=bse(t);return ue.useCallback((...i)=>{var s;return n?queueMicrotask(()=>{var o;return(o=r.current)==null?void 0:o.call(r,...i)}):(s=r.current)==null?void 0:s.call(r,...i)},[n,r])}function bse(t){const e=ue.useRef(t);return e.current=t,e}const hp=(t={})=>{const{lazyMount:e,unmountOnExit:n,present:r,...i}=t,s=ue.useRef(!1),o={...i,present:r,onExitComplete:vse(t.onExitComplete)},u=Cy(fse,o),c=hse(u);c.present&&(s.current=!0);const f=!c.present&&!s.current&&e||n&&!c.present&&s.current,p=()=>({"data-state":r?"open":"closed",hidden:!c.present});return{ref:c.setNode,getPresenceProps:p,present:c.present,unmounted:f}},[wv,jd]=Ys({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});var Ct=(t,e=[])=>({parts:(...n)=>{if(_se(e))return Ct(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Ct(t,[...e,...n]),rename:n=>Ct(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Jg(t)}"][data-part="${Jg(r)}"]`,`& [data-scope="${Jg(t)}"][data-part="${Jg(r)}"]`].join(", "),attrs:{"data-scope":Jg(t),"data-part":Jg(r)}}}),{})}),Jg=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),_se=t=>t.length===0,I9=Ct("collapsible").parts("root","trigger","content","indicator");I9.build();Nt()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);const[Kge,Ay]=Ys({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}});var yse=Object.defineProperty,xse=(t,e,n)=>e in t?yse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aD=(t,e,n)=>xse(t,e+"",n),Sse=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(t[n]!==e[n])return!1;return!0},oD=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(t){if(t in this)return this[t];throw new Error("Unsupported color channel: "+t)}getChannelValuePercent(t,e){const n=e??this.getChannelValue(t),{minValue:r,maxValue:i}=this.getChannelRange(t);return Qie(n,r,i)}getChannelPercentValue(t,e){const{minValue:n,maxValue:r,step:i}=this.getChannelRange(t),s=Jie(e,n,r,i);return ZI(s,n,r,i)}withChannelValue(t,e){const{minValue:n,maxValue:r}=this.getChannelRange(t);if(t in this){let i=this.clone();return i[t]=Fs(e,n,r),i}throw new Error("Unsupported color channel: "+t)}getColorAxes(t){let{xChannel:e,yChannel:n}=t,r=e||this.getChannels().find(o=>o!==n),i=n||this.getChannels().find(o=>o!==r),s=this.getChannels().find(o=>o!==r&&o!==i);return{xChannel:r,yChannel:i,zChannel:s}}incrementChannel(t,e){const{minValue:n,maxValue:r,step:i}=this.getChannelRange(t),s=ZI(Fs(this.getChannelValue(t)+e,n,r),n,r,i);return this.withChannelValue(t,s)}decrementChannel(t,e){return this.incrementChannel(t,-e)}isEqual(t){return Sse(this.toJSON(),t.toJSON())&&this.getChannelValue("alpha")===t.getChannelValue("alpha")}},N9=class hS extends oD{constructor(e,n,r,i){super(),this.red=e,this.green=n,this.blue=r,this.alpha=i}static parse(e){let n=[];if(/^#[\da-f]+$/i.test(e)&&[4,5,7,9].includes(e.length)){const i=(e.length<6?e.replace(/[^#]/gi,"$&$&"):e).slice(1).split("");for(;i.length>0;)n.push(parseInt(i.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const r=e.match(/^rgba?\((.*)\)$/);return r!=null&&r[1]&&(n=r[1].split(",").map(i=>Number(i.trim())).map((i,s)=>Fs(i,0,s<3?255:1))),n.length<3?void 0:new hS(n[0],n[1],n[2],n[3]??1)}toString(e){switch(e){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+e)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const e=this.red/255,n=this.green/255,r=this.blue/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=s-i,u=s===0?0:o/s;let c=0;if(o!==0){switch(s){case e:c=(n-r)/o+(n<r?6:0);break;case n:c=(r-e)/o+2;break;case r:c=(e-n)/o+4;break}c/=6}return new cD(Wn(c*360,2),Wn(u*100,2),Wn(s*100,2),Wn(this.alpha,2))}toHSL(){const e=this.red/255,n=this.green/255,r=this.blue/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=(s+i)/2,u=s-i;let c=-1,f=-1;if(u===0)c=f=0;else{switch(f=u/(o<.5?s+i:2-s-i),s){case e:c=(n-r)/u+(n<r?6:0);break;case n:c=(r-e)/u+2;break;case r:c=(e-n)/u+4;break}c/=6}return new uD(Wn(c*360,2),Wn(f*100,2),Wn(o*100,2),Wn(this.alpha,2))}clone(){return new hS(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(e){switch(e){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return new Intl.NumberFormat(n,r).format(i)}getChannelRange(e){switch(e){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return hS.colorChannels}};aD(N9,"colorChannels",["red","green","blue"]);var lD=N9,wse=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,U9=class fS extends oD{constructor(e,n,r,i){super(),this.hue=e,this.saturation=n,this.lightness=r,this.alpha=i}static parse(e){let n;if(n=e.match(wse)){const[r,i,s,o]=(n[1]??n[2]).split(",").map(u=>Number(u.trim().replace("%","")));return new fS(M9(r,360),Fs(i,0,100),Fs(s,0,100),Fs(o??1,0,1))}}toString(e){switch(e){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${Wn(this.saturation,2)}%, ${Wn(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${Wn(this.saturation,2)}%, ${Wn(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+e)}}toHSB(){let e=this.saturation/100,n=this.lightness/100,r=n+e*Math.min(n,1-n);return e=r===0?0:2*(1-n/r),new cD(Wn(this.hue,2),Wn(e*100,2),Wn(r*100,2),Wn(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,r=this.lightness/100,i=n*Math.min(r,1-r),s=(o,u=(o+e/30)%12)=>r-i*Math.max(Math.min(u-3,9-u,1),-1);return new lD(Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255),Wn(this.alpha,2))}clone(){return new fS(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return(e==="saturation"||e==="lightness")&&(i/=100),new Intl.NumberFormat(n,r).format(i)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return fS.colorChannels}};aD(U9,"colorChannels",["hue","saturation","lightness"]);var uD=U9,Ese=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,F9=class pS extends oD{constructor(e,n,r,i){super(),this.hue=e,this.saturation=n,this.brightness=r,this.alpha=i}static parse(e){let n;if(n=e.match(Ese)){const[r,i,s,o]=(n[1]??n[2]).split(",").map(u=>Number(u.trim().replace("%","")));return new pS(M9(r,360),Fs(i,0,100),Fs(s,0,100),Fs(o??1,0,1))}}toString(e){switch(e){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${Wn(this.saturation,2)}%, ${Wn(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${Wn(this.saturation,2)}%, ${Wn(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+e)}}toHSL(){let e=this.saturation/100,n=this.brightness/100,r=n*(1-e/2);return e=r===0||r===1?0:(n-r)/Math.min(r,1-r),new uD(Wn(this.hue,2),Wn(e*100,2),Wn(r*100,2),Wn(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,r=this.brightness/100,i=(s,o=(s+e/60)%6)=>r-n*r*Math.max(Math.min(o,4-o,1),0);return new lD(Math.round(i(5)*255),Math.round(i(3)*255),Math.round(i(1)*255),Wn(this.alpha,2))}clone(){return new pS(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return(e==="saturation"||e==="brightness")&&(i/=100),new Intl.NumberFormat(n,r).format(i)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return pS.colorChannels}};aD(F9,"colorChannels",["hue","saturation","brightness"]);var cD=F9,Tse="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,rebeccapurple:663399,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",Cse=t=>{const e=new Map,n=t.split(",");for(let r=0;r<n.length;r++){const[i,s]=n[r].split(":");e.set(i,`#${s}`),i.includes("gray")&&e.set(i.replace("gray","grey"),`#${s}`)}return e},r4=Cse(Tse),iw=t=>{var n;if(r4.has(t))return iw(r4.get(t));const e=lD.parse(t)||cD.parse(t)||uD.parse(t);if(!e){const r=new Error("Invalid color value: "+t);throw(n=Error.captureStackTrace)==null||n.call(Error,r,iw),r}return e};const Ase=["top","right","bottom","left"],Ud=Math.min,ma=Math.max,sw=Math.round,U2=Math.floor,ql=t=>({x:t,y:t}),Rse={left:"right",right:"left",bottom:"top",top:"bottom"},Pse={start:"end",end:"start"};function vR(t,e,n){return ma(t,Ud(e,n))}function oc(t,e){return typeof t=="function"?t(e):t}function lc(t){return t.split("-")[0]}function Ev(t){return t.split("-")[1]}function dD(t){return t==="x"?"y":"x"}function hD(t){return t==="y"?"height":"width"}function Fd(t){return["top","bottom"].includes(lc(t))?"y":"x"}function fD(t){return dD(Fd(t))}function Ose(t,e,n){n===void 0&&(n=!1);const r=Ev(t),i=fD(t),s=hD(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=aw(o)),[o,aw(o)]}function Mse(t){const e=aw(t);return[bR(t),e,bR(e)]}function bR(t){return t.replace(/start|end/g,e=>Pse[e])}function Dse(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Bse(t,e,n,r){const i=Ev(t);let s=Dse(lc(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(bR)))),s}function aw(t){return t.replace(/left|right|bottom|top/g,e=>Rse[e])}function kse(t){return{top:0,right:0,bottom:0,left:0,...t}}function L9(t){return typeof t!="number"?kse(t):{top:t,right:t,bottom:t,left:t}}function ow(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function i4(t,e,n){let{reference:r,floating:i}=t;const s=Fd(e),o=fD(e),u=hD(o),c=lc(e),f=s==="y",p=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,b=r[u]/2-i[u]/2;let y;switch(c){case"top":y={x:p,y:r.y-i.height};break;case"bottom":y={x:p,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:v};break;case"left":y={x:r.x-i.width,y:v};break;default:y={x:r.x,y:r.y}}switch(Ev(e)){case"start":y[o]-=b*(n&&f?-1:1);break;case"end":y[o]+=b*(n&&f?-1:1);break}return y}const Ise=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,u=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:v}=i4(f,r,c),b=r,y={},E=0;for(let S=0;S<u.length;S++){const{name:T,fn:A}=u[S],{x:P,y:O,data:M,reset:D}=await A({x:p,y:v,initialPlacement:r,placement:b,strategy:i,middlewareData:y,rects:f,platform:o,elements:{reference:t,floating:e}});p=P??p,v=O??v,y={...y,[T]:{...y[T],...M}},D&&E<=50&&(E++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(f=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:p,y:v}=i4(f,b,c)),S=-1)}return{x:p,y:v,placement:b,strategy:i,middlewareData:y}};async function ny(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:u,strategy:c}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:b=!1,padding:y=0}=oc(e,t),E=L9(y),T=u[b?v==="floating"?"reference":"floating":v],A=ow(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:c})),P=v==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),M=await(s.isElement==null?void 0:s.isElement(O))?await(s.getScale==null?void 0:s.getScale(O))||{x:1,y:1}:{x:1,y:1},D=ow(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:O,strategy:c}):P);return{top:(A.top-D.top+E.top)/M.y,bottom:(D.bottom-A.bottom+E.bottom)/M.y,left:(A.left-D.left+E.left)/M.x,right:(D.right-A.right+E.right)/M.x}}const Nse=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:u,middlewareData:c}=e,{element:f,padding:p=0}=oc(t,e)||{};if(f==null)return{};const v=L9(p),b={x:n,y:r},y=fD(i),E=hD(y),S=await o.getDimensions(f),T=y==="y",A=T?"top":"left",P=T?"bottom":"right",O=T?"clientHeight":"clientWidth",M=s.reference[E]+s.reference[y]-b[y]-s.floating[E],D=b[y]-s.reference[y],W=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let G=W?W[O]:0;(!G||!await(o.isElement==null?void 0:o.isElement(W)))&&(G=u.floating[O]||s.floating[E]);const Y=M/2-D/2,L=G/2-S[E]/2-1,X=Ud(v[A],L),Z=Ud(v[P],L),ee=X,be=G-S[E]-Z,Te=G/2-S[E]/2+Y,he=vR(ee,Te,be),R=!c.arrow&&Ev(i)!=null&&Te!==he&&s.reference[E]/2-(Te<ee?X:Z)-S[E]/2<0,N=R?Te<ee?Te-ee:Te-be:0;return{[y]:b[y]+N,data:{[y]:he,centerOffset:Te-he-N,...R&&{alignmentOffset:N}},reset:R}}}),Use=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:u,platform:c,elements:f}=e,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...T}=oc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const A=lc(i),P=Fd(u),O=lc(u)===u,M=await(c.isRTL==null?void 0:c.isRTL(f.floating)),D=b||(O||!S?[aw(u)]:Mse(u)),W=E!=="none";!b&&W&&D.push(...Bse(u,S,E,M));const G=[u,...D],Y=await ny(e,T),L=[];let X=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&L.push(Y[A]),v){const Te=Ose(i,o,M);L.push(Y[Te[0]],Y[Te[1]])}if(X=[...X,{placement:i,overflows:L}],!L.every(Te=>Te<=0)){var Z,ee;const Te=(((Z=s.flip)==null?void 0:Z.index)||0)+1,he=G[Te];if(he)return{data:{index:Te,overflows:X},reset:{placement:he}};let R=(ee=X.filter(N=>N.overflows[0]<=0).sort((N,z)=>N.overflows[1]-z.overflows[1])[0])==null?void 0:ee.placement;if(!R)switch(y){case"bestFit":{var be;const N=(be=X.filter(z=>{if(W){const K=Fd(z.placement);return K===P||K==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(K=>K>0).reduce((K,U)=>K+U,0)]).sort((z,K)=>z[1]-K[1])[0])==null?void 0:be[0];N&&(R=N);break}case"initialPlacement":R=u;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function s4(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function a4(t){return Ase.some(e=>t[e]>=0)}const Fse=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=oc(t,e);switch(r){case"referenceHidden":{const s=await ny(e,{...i,elementContext:"reference"}),o=s4(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:a4(o)}}}case"escaped":{const s=await ny(e,{...i,altBoundary:!0}),o=s4(s,n.floating);return{data:{escapedOffsets:o,escaped:a4(o)}}}default:return{}}}}};async function Lse(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=lc(n),u=Ev(n),c=Fd(n)==="y",f=["left","top"].includes(o)?-1:1,p=s&&c?-1:1,v=oc(e,t);let{mainAxis:b,crossAxis:y,alignmentAxis:E}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof E=="number"&&(y=u==="end"?E*-1:E),c?{x:y*p,y:b*f}:{x:b*f,y:y*p}}const Gse=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:u}=e,c=await Lse(e,t);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},zse=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:u={fn:T=>{let{x:A,y:P}=T;return{x:A,y:P}}},...c}=oc(t,e),f={x:n,y:r},p=await ny(e,c),v=Fd(lc(i)),b=dD(v);let y=f[b],E=f[v];if(s){const T=b==="y"?"top":"left",A=b==="y"?"bottom":"right",P=y+p[T],O=y-p[A];y=vR(P,y,O)}if(o){const T=v==="y"?"top":"left",A=v==="y"?"bottom":"right",P=E+p[T],O=E-p[A];E=vR(P,E,O)}const S=u.fn({...e,[b]:y,[v]:E});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[b]:s,[v]:o}}}}}},Vse=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:u=0,mainAxis:c=!0,crossAxis:f=!0}=oc(t,e),p={x:n,y:r},v=Fd(i),b=dD(v);let y=p[b],E=p[v];const S=oc(u,e),T=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(c){const O=b==="y"?"height":"width",M=s.reference[b]-s.floating[O]+T.mainAxis,D=s.reference[b]+s.reference[O]-T.mainAxis;y<M?y=M:y>D&&(y=D)}if(f){var A,P;const O=b==="y"?"width":"height",M=["top","left"].includes(lc(i)),D=s.reference[v]-s.floating[O]+(M&&((A=o.offset)==null?void 0:A[v])||0)+(M?0:T.crossAxis),W=s.reference[v]+s.reference[O]+(M?0:((P=o.offset)==null?void 0:P[v])||0)-(M?T.crossAxis:0);E<D?E=D:E>W&&(E=W)}return{[b]:y,[v]:E}}}},Hse=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:u}=e,{apply:c=()=>{},...f}=oc(t,e),p=await ny(e,f),v=lc(i),b=Ev(i),y=Fd(i)==="y",{width:E,height:S}=s.floating;let T,A;v==="top"||v==="bottom"?(T=v,A=b===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(A=v,T=b==="end"?"top":"bottom");const P=S-p.top-p.bottom,O=E-p.left-p.right,M=Ud(S-p[T],P),D=Ud(E-p[A],O),W=!e.middlewareData.shift;let G=M,Y=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(Y=O),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(G=P),W&&!b){const X=ma(p.left,0),Z=ma(p.right,0),ee=ma(p.top,0),be=ma(p.bottom,0);y?Y=E-2*(X!==0||Z!==0?X+Z:ma(p.left,p.right)):G=S-2*(ee!==0||be!==0?ee+be:ma(p.top,p.bottom))}await c({...e,availableWidth:Y,availableHeight:G});const L=await o.getDimensions(u.floating);return E!==L.width||S!==L.height?{reset:{rects:!0}}:{}}}};function EE(){return typeof window<"u"}function Tv(t){return G9(t)?(t.nodeName||"").toLowerCase():"#document"}function wa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ru(t){var e;return(e=(G9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function G9(t){return EE()?t instanceof Node||t instanceof wa(t).Node:!1}function $o(t){return EE()?t instanceof Element||t instanceof wa(t).Element:!1}function Jl(t){return EE()?t instanceof HTMLElement||t instanceof wa(t).HTMLElement:!1}function o4(t){return!EE()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wa(t).ShadowRoot}function Ry(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=jo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Wse(t){return["table","td","th"].includes(Tv(t))}function TE(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function pD(t){const e=gD(),n=$o(t)?jo(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $se(t){let e=Ld(t);for(;Jl(e)&&!uv(e);){if(pD(e))return e;if(TE(e))return null;e=Ld(e)}return null}function gD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uv(t){return["html","body","#document"].includes(Tv(t))}function jo(t){return wa(t).getComputedStyle(t)}function CE(t){return $o(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ld(t){if(Tv(t)==="html")return t;const e=t.assignedSlot||t.parentNode||o4(t)&&t.host||ru(t);return o4(e)?e.host:e}function z9(t){const e=Ld(t);return uv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jl(e)&&Ry(e)?e:z9(e)}function ry(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=z9(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=wa(i);if(s){const u=_R(o);return e.concat(o,o.visualViewport||[],Ry(i)?i:[],u&&n?ry(u):[])}return e.concat(i,ry(i,[],n))}function _R(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function V9(t){const e=jo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Jl(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,u=sw(n)!==s||sw(r)!==o;return u&&(n=s,r=o),{width:n,height:r,$:u}}function mD(t){return $o(t)?t:t.contextElement}function Nm(t){const e=mD(t);if(!Jl(e))return ql(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=V9(e);let o=(s?sw(n.width):n.width)/r,u=(s?sw(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const jse=ql(0);function H9(t){const e=wa(t);return!gD()||!e.visualViewport?jse:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Xse(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wa(t)?!1:e}function tp(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=mD(t);let o=ql(1);e&&(r?$o(r)&&(o=Nm(r)):o=Nm(t));const u=Xse(s,n,r)?H9(s):ql(0);let c=(i.left+u.x)/o.x,f=(i.top+u.y)/o.y,p=i.width/o.x,v=i.height/o.y;if(s){const b=wa(s),y=r&&$o(r)?wa(r):r;let E=b,S=_R(E);for(;S&&r&&y!==E;){const T=Nm(S),A=S.getBoundingClientRect(),P=jo(S),O=A.left+(S.clientLeft+parseFloat(P.paddingLeft))*T.x,M=A.top+(S.clientTop+parseFloat(P.paddingTop))*T.y;c*=T.x,f*=T.y,p*=T.x,v*=T.y,c+=O,f+=M,E=wa(S),S=_R(E)}}return ow({width:p,height:v,x:c,y:f})}function vD(t,e){const n=CE(t).scrollLeft;return e?e.left+n:tp(ru(t)).left+n}function W9(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:vD(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Yse(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ru(r),u=e?TE(e.floating):!1;if(r===o||u&&s)return n;let c={scrollLeft:0,scrollTop:0},f=ql(1);const p=ql(0),v=Jl(r);if((v||!v&&!s)&&((Tv(r)!=="body"||Ry(o))&&(c=CE(r)),Jl(r))){const y=tp(r);f=Nm(r),p.x=y.x+r.clientLeft,p.y=y.y+r.clientTop}const b=o&&!v&&!s?W9(o,c,!0):ql(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+p.x+b.x,y:n.y*f.y-c.scrollTop*f.y+p.y+b.y}}function qse(t){return Array.from(t.getClientRects())}function Kse(t){const e=ru(t),n=CE(t),r=t.ownerDocument.body,i=ma(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ma(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+vD(t);const u=-n.scrollTop;return jo(r).direction==="rtl"&&(o+=ma(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:u}}function Zse(t,e){const n=wa(t),r=ru(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,u=0,c=0;if(i){s=i.width,o=i.height;const f=gD();(!f||f&&e==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:u,y:c}}function Qse(t,e){const n=tp(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Jl(t)?Nm(t):ql(1),o=t.clientWidth*s.x,u=t.clientHeight*s.y,c=i*s.x,f=r*s.y;return{width:o,height:u,x:c,y:f}}function l4(t,e,n){let r;if(e==="viewport")r=Zse(t,n);else if(e==="document")r=Kse(ru(t));else if($o(e))r=Qse(e,n);else{const i=H9(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ow(r)}function $9(t,e){const n=Ld(t);return n===e||!$o(n)||uv(n)?!1:jo(n).position==="fixed"||$9(n,e)}function Jse(t,e){const n=e.get(t);if(n)return n;let r=ry(t,[],!1).filter(u=>$o(u)&&Tv(u)!=="body"),i=null;const s=jo(t).position==="fixed";let o=s?Ld(t):t;for(;$o(o)&&!uv(o);){const u=jo(o),c=pD(o);!c&&u.position==="fixed"&&(i=null),(s?!c&&!i:!c&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ry(o)&&!c&&$9(t,o))?r=r.filter(p=>p!==o):i=u,o=Ld(o)}return e.set(t,r),r}function eae(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?TE(e)?[]:Jse(e,this._c):[].concat(n),r],u=o[0],c=o.reduce((f,p)=>{const v=l4(e,p,i);return f.top=ma(v.top,f.top),f.right=Ud(v.right,f.right),f.bottom=Ud(v.bottom,f.bottom),f.left=ma(v.left,f.left),f},l4(e,u,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tae(t){const{width:e,height:n}=V9(t);return{width:e,height:n}}function nae(t,e,n){const r=Jl(e),i=ru(e),s=n==="fixed",o=tp(t,!0,s,e);let u={scrollLeft:0,scrollTop:0};const c=ql(0);if(r||!r&&!s)if((Tv(e)!=="body"||Ry(i))&&(u=CE(e)),r){const b=tp(e,!0,s,e);c.x=b.x+e.clientLeft,c.y=b.y+e.clientTop}else i&&(c.x=vD(i));const f=i&&!r&&!s?W9(i,u):ql(0),p=o.left+u.scrollLeft-c.x-f.x,v=o.top+u.scrollTop-c.y-f.y;return{x:p,y:v,width:o.width,height:o.height}}function nA(t){return jo(t).position==="static"}function u4(t,e){if(!Jl(t)||jo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ru(t)===n&&(n=n.ownerDocument.body),n}function j9(t,e){const n=wa(t);if(TE(t))return n;if(!Jl(t)){let i=Ld(t);for(;i&&!uv(i);){if($o(i)&&!nA(i))return i;i=Ld(i)}return n}let r=u4(t,e);for(;r&&Wse(r)&&nA(r);)r=u4(r,e);return r&&uv(r)&&nA(r)&&!pD(r)?n:r||$se(t)||n}const rae=async function(t){const e=this.getOffsetParent||j9,n=this.getDimensions,r=await n(t.floating);return{reference:nae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function iae(t){return jo(t).direction==="rtl"}const sae={convertOffsetParentRelativeRectToViewportRelativeRect:Yse,getDocumentElement:ru,getClippingRect:eae,getOffsetParent:j9,getElementRects:rae,getClientRects:qse,getDimensions:tae,getScale:Nm,isElement:$o,isRTL:iae};function X9(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function aae(t,e){let n=null,r;const i=ru(t);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),s();const f=t.getBoundingClientRect(),{left:p,top:v,width:b,height:y}=f;if(u||e(),!b||!y)return;const E=U2(v),S=U2(i.clientWidth-(p+b)),T=U2(i.clientHeight-(v+y)),A=U2(p),O={rootMargin:-E+"px "+-S+"px "+-T+"px "+-A+"px",threshold:ma(0,Ud(1,c))||1};let M=!0;function D(W){const G=W[0].intersectionRatio;if(G!==c){if(!M)return o();G?o(!1,G):r=setTimeout(()=>{o(!1,1e-7)},1e3)}G===1&&!X9(f,t.getBoundingClientRect())&&o(),M=!1}try{n=new IntersectionObserver(D,{...O,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,O)}n.observe(t)}return o(!0),s}function oae(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=mD(t),p=i||s?[...f?ry(f):[],...ry(e)]:[];p.forEach(A=>{i&&A.addEventListener("scroll",n,{passive:!0}),s&&A.addEventListener("resize",n)});const v=f&&u?aae(f,n):null;let b=-1,y=null;o&&(y=new ResizeObserver(A=>{let[P]=A;P&&P.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=y)==null||O.observe(e)})),n()}),f&&!c&&y.observe(f),y.observe(e));let E,S=c?tp(t):null;c&&T();function T(){const A=tp(t);S&&!X9(S,A)&&n(),S=A,E=requestAnimationFrame(T)}return n(),()=>{var A;p.forEach(P=>{i&&P.removeEventListener("scroll",n),s&&P.removeEventListener("resize",n)}),v==null||v(),(A=y)==null||A.disconnect(),y=null,c&&cancelAnimationFrame(E)}}const lae=Gse,uae=zse,cae=Use,dae=Hse,hae=Fse,fae=Nse,pae=Vse,gae=(t,e,n)=>{const r=new Map,i={platform:sae,...n},s={...i.platform,_c:r};return Ise(t,e,{...i,platform:s})};function c4(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const i={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...i,toJSON:()=>i}}function mae(t){if(!t)return c4();const{x:e,y:n,width:r,height:i}=t;return c4(e,n,r,i)}function vae(t,e){return{contextElement:Ti(t)?t:void 0,getBoundingClientRect:()=>{const n=t,r=e==null?void 0:e(n);return r||!n?mae(r):n.getBoundingClientRect()}}}var I0=t=>({variable:t,reference:`var(${t})`}),Gu={arrowSize:I0("--arrow-size"),arrowSizeHalf:I0("--arrow-size-half"),arrowBg:I0("--arrow-background"),transformOrigin:I0("--transform-origin"),arrowOffset:I0("--arrow-offset")},bae=t=>({top:"bottom center","top-start":t?`${t.x}px bottom`:"left bottom","top-end":t?`${t.x}px bottom`:"right bottom",bottom:"top center","bottom-start":t?`${t.x}px top`:"top left","bottom-end":t?`${t.x}px top`:"top right",left:"right center","left-start":t?`right ${t.y}px`:"right top","left-end":t?`right ${t.y}px`:"right bottom",right:"left center","right-start":t?`left ${t.y}px`:"left top","right-end":t?`left ${t.y}px`:"left bottom"}),_ae={name:"transformOrigin",fn({placement:t,elements:e,middlewareData:n}){const{arrow:r}=n,i=bae(r)[t],{floating:s}=e;return s.style.setProperty(Gu.transformOrigin.variable,i),{data:{transformOrigin:i}}}},yae={name:"rects",fn({rects:t}){return{data:t}}},xae=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:i}=n.arrow,s=e.split("-")[0];return Object.assign(t.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:"",[s]:`calc(100% + ${Gu.arrowOffset.reference})`}),{}}}};function Sae(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}function wae(t){return t.split("-")[0]}var Eae={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function d4(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function Y9(t){return Gie(t.boundary)}function Tae(t,e){if(t)return fae({element:t,padding:e.arrowPadding})}function Cae(t,e){if(!Fie(e.offset??e.gutter))return lae(({placement:n})=>{var f,p;const r=((t==null?void 0:t.clientHeight)||0)/2,i=((f=e.offset)==null?void 0:f.mainAxis)??e.gutter,s=typeof i=="number"?i+r:i??r,{hasAlign:o}=Sae(n),u=o?void 0:e.shift,c=((p=e.offset)==null?void 0:p.crossAxis)??u;return sD({crossAxis:c,mainAxis:s,alignmentAxis:e.shift})})}function Aae(t){if(t.flip)return cae({boundary:Y9(t),padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function Rae(t){if(!(!t.slide&&!t.overlap))return uae({boundary:Y9(t),mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:pae()})}function Pae(t){return dae({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:r,availableWidth:i}){const s=e.floating,o=Math.round(n.reference.width);i=Math.floor(i),r=Math.floor(r),s.style.setProperty("--reference-width",`${o}px`),s.style.setProperty("--available-width",`${i}px`),s.style.setProperty("--available-height",`${r}px`)}})}function Oae(t){var e;if(t.hideWhenDetached)return hae({strategy:"referenceHidden",boundary:((e=t.boundary)==null?void 0:e.call(t))??"clippingAncestors"})}function Mae(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function Dae(t,e,n={}){const r=vae(t,n.getAnchorRect);if(!e||!r)return;const i=Object.assign({},Eae,n),s=e.querySelector("[data-part=arrow]"),o=[Cae(s,i),Aae(i),Rae(i),Tae(s,i),xae(s),_ae,Pae(i),Oae(i),yae],{placement:u,strategy:c,onComplete:f,onPositioned:p}=i,v=async()=>{var M;if(!r||!e)return;const S=await gae(r,e,{placement:u,middleware:o,strategy:c});f==null||f(S),p==null||p({placed:!0});const T=$i(e),A=d4(T,S.x),P=d4(T,S.y);e.style.setProperty("--x",`${A}px`),e.style.setProperty("--y",`${P}px`),i.hideWhenDetached&&(((M=S.middlewareData.hide)==null?void 0:M.referenceHidden)?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const O=e.firstElementChild;if(O){const D=XM(O);e.style.setProperty("--z-index",D.zIndex)}},b=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:v}),p==null||p({placed:!0})):await v()},y=Mae(i.listeners),E=i.listeners?oae(r,e,b,y):Vie;return b(),()=>{E==null||E(),p==null||p({placed:!1})}}function uc(t,e,n={}){const{defer:r,...i}=n,s=r?Pn:u=>u(),o=[];return o.push(s(()=>{const u=typeof t=="function"?t():t,c=typeof e=="function"?e():e;o.push(Dae(u,c,i))})),()=>{o.forEach(u=>u==null?void 0:u())}}var Bae={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function q9(t={}){const{placement:e,sameWidth:n,fitViewport:r,strategy:i="absolute"}=t;return{arrow:{position:"absolute",width:Gu.arrowSize.reference,height:Gu.arrowSize.reference,[Gu.arrowSizeHalf.variable]:`calc(${Gu.arrowSize.reference} / 2)`,[Gu.arrowOffset.variable]:`calc(${Gu.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?Bae[e.split("-")[0]]:void 0,background:Gu.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:e?void 0:"none",top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function kae(t){const e={each(n){var r;for(let i=0;i<((r=t.frames)==null?void 0:r.length);i+=1){const s=t.frames[i];s&&n(s)}},addEventListener(n,r,i){return e.each(s=>{try{s.document.addEventListener(n,r,i)}catch{}}),()=>{try{e.removeEventListener(n,r,i)}catch{}}},removeEventListener(n,r,i){e.each(s=>{try{s.document.removeEventListener(n,r,i)}catch{}})}};return e}function Iae(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,r,i)=>{try{e==null||e.addEventListener(n,r,i)}catch{}return()=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}},removeEventListener:(n,r,i)=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}}}var h4="pointerdown.outside",f4="focus.outside";function Nae(t){for(const e of t)if(Ti(e)&&Pd(e))return!0;return!1}var K9=t=>"clientY"in t;function Uae(t,e){if(!K9(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function Fae(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function p4(t,e){if(!e||!K9(t))return!1;const n=e.scrollHeight>e.clientHeight,r=n&&t.clientX>e.offsetLeft+e.clientWidth,i=e.scrollWidth>e.clientWidth,s=i&&t.clientY>e.offsetTop+e.clientHeight,o={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(i?16:0)},u={x:t.clientX,y:t.clientY};return Fae(o,u)?r||s:!1}function Lae(t,e){const{exclude:n,onFocusOutside:r,onPointerDownOutside:i,onInteractOutside:s,defer:o}=e;if(!t)return;const u=oo(t),c=$i(t),f=kae(c),p=Iae(c);function v(A){const P=Us(A);if(!Ti(P)||!P.isConnected||ep(t,P)||Uae(t,A))return!1;const O=u.querySelector(`[aria-controls="${t.id}"]`);if(O){const D=JS(O);if(p4(A,D))return!1}const M=JS(t);return p4(A,M)?!1:!(n!=null&&n(P))}const b=new Set;function y(A){function P(){var D;const O=o?Pn:W=>W(),M=((D=A.composedPath)==null?void 0:D.call(A))??[A.target];O(()=>{if(!(!t||!v(A))){if(i||s){const W=nw(i,s);t.addEventListener(h4,W,{once:!0})}g4(t,h4,{bubbles:!1,cancelable:!0,detail:{originalEvent:A,contextmenu:v9(A),focusable:Nae(M)}})}})}A.pointerType==="touch"?(b.forEach(O=>O()),b.add(lr(u,"click",P,{once:!0})),b.add(p.addEventListener("click",P,{once:!0})),b.add(f.addEventListener("click",P,{once:!0}))):P()}const E=new Set,S=setTimeout(()=>{E.add(lr(u,"pointerdown",y,!0)),E.add(p.addEventListener("pointerdown",y,!0)),E.add(f.addEventListener("pointerdown",y,!0))},0);function T(A){(o?Pn:O=>O())(()=>{if(!(!t||!v(A))){if(r||s){const O=nw(r,s);t.addEventListener(f4,O,{once:!0})}g4(t,f4,{bubbles:!1,cancelable:!0,detail:{originalEvent:A,contextmenu:!1,focusable:Pd(Us(A))}})}})}return E.add(lr(u,"focusin",T,!0)),E.add(p.addEventListener("focusin",T,!0)),E.add(f.addEventListener("focusin",T,!0)),()=>{clearTimeout(S),b.forEach(A=>A()),E.forEach(A=>A())}}function Gae(t,e){const{defer:n}=e,r=n?Pn:s=>s(),i=[];return i.push(r(()=>{const s=typeof t=="function"?t():t;i.push(Lae(s,e))})),()=>{i.forEach(s=>s==null?void 0:s())}}function g4(t,e,n){const r=t.ownerDocument.defaultView||window,i=new r.CustomEvent(e,n);return t.dispatchEvent(i)}function zae(t,e){const n=r=>{r.key==="Escape"&&(r.isComposing||e==null||e(r))};return lr(oo(t),"keydown",n,{capture:!0})}var Io={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){var r;const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf((r=this.topMostPointerBlockingLayer())==null?void 0:r.node):-1;return e<n},isTopMost(t){const e=this.layers[this.count()-1];return(e==null?void 0:e.node)===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>ep(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>ep(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(r=>r.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){var e;(e=this.layers[this.indexOf(t)])==null||e.dismiss()},clear(){this.remove(this.layers[0].node)}},m4;function v4(){Io.layers.forEach(({node:t})=>{t.style.pointerEvents=Io.isBelowPointerBlockingLayer(t)?"none":"auto"})}function Vae(t){t.style.pointerEvents=""}function Hae(t,e){const n=oo(t),r=[];if(Io.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(m4=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e){const i=Rie(e,s=>{r.push(tw(s,{pointerEvents:"auto"}))});r.push(i)}return()=>{Io.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=m4,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(i=>i()))}}function Wae(t,e){const{warnOnMissingNode:n=!0}=e;if(n&&!t){rw("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!t)return;const{onDismiss:r,pointerBlocking:i,exclude:s,debug:o}=e,u={dismiss:r,node:t,pointerBlocking:i};Io.add(u),v4();function c(y){var S,T;const E=Us(y.detail.originalEvent);Io.isBelowPointerBlockingLayer(t)||Io.isInBranch(E)||((S=e.onPointerDownOutside)==null||S.call(e,y),(T=e.onInteractOutside)==null||T.call(e,y),!y.defaultPrevented&&(o&&console.log("onPointerDownOutside:",y.detail.originalEvent),r==null||r()))}function f(y){var S,T;const E=Us(y.detail.originalEvent);Io.isInBranch(E)||((S=e.onFocusOutside)==null||S.call(e,y),(T=e.onInteractOutside)==null||T.call(e,y),!y.defaultPrevented&&(o&&console.log("onFocusOutside:",y.detail.originalEvent),r==null||r()))}function p(y){var E;Io.isTopMost(t)&&((E=e.onEscapeKeyDown)==null||E.call(e,y),!y.defaultPrevented&&r&&(y.preventDefault(),r()))}function v(y){var A;if(!t)return!1;const E=typeof s=="function"?s():s,S=Array.isArray(E)?E:[E],T=(A=e.persistentElements)==null?void 0:A.map(P=>P()).filter(Ti);return T&&S.push(...T),S.some(P=>ep(P,y))||Io.isInNestedLayer(t,y)}const b=[i?Hae(t,e.persistentElements):void 0,zae(t,p),Gae(t,{exclude:v,onFocusOutside:f,onPointerDownOutside:c,defer:e.defer})];return()=>{Io.remove(t),v4(),Vae(t),b.forEach(y=>y==null?void 0:y())}}function Py(t,e){const{defer:n}=e,r=n?Pn:s=>s(),i=[];return i.push(r(()=>{const s=bm(t)?t():t;i.push(Wae(s,e))})),()=>{i.forEach(s=>s==null?void 0:s())}}var Z9=Ct("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);Z9.build();var $ae=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`color-picker:${t.id}:hidden-input`},jae=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`color-picker:${t.id}:control`},Xae=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`color-picker:${t.id}:trigger`},Yae=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`color-picker:${t.id}:content`},qae=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`color-picker:${t.id}:positioner`},Kae=t=>{var e;return((e=t.ids)==null?void 0:e.formatSelect)??`color-picker:${t.id}:format-select`},Zae=t=>{var e;return((e=t.ids)==null?void 0:e.area)??`color-picker:${t.id}:area`},Qae=t=>{var e;return((e=t.ids)==null?void 0:e.areaThumb)??`color-picker:${t.id}:area-thumb`},Jae=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.channelSliderTrack)==null?void 0:r.call(n,e))??`color-picker:${t.id}:slider-track:${e}`},eoe=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.channelSliderThumb)==null?void 0:r.call(n,e))??`color-picker:${t.id}:slider-thumb:${e}`},gS=t=>t.getById(Yae(t)),toe=t=>t.getById(Qae(t)),noe=(t,e)=>t.getById(eoe(t,e)),roe=t=>t.getById(Kae(t)),b4=t=>t.getById($ae(t)),ioe=t=>t.getById(Zae(t)),soe=(t,e)=>{const n=ioe(t);if(!n)return;const{percent:r}=w9(e,n);return r},aoe=t=>t.getById(jae(t)),rA=t=>t.getById(Xae(t)),ooe=t=>t.getById(qae(t)),loe=(t,e)=>t.getById(Jae(t,e)),uoe=(t,e,n)=>{const r=loe(t,n);if(!r)return;const{percent:i}=w9(e,r);return i},coe=t=>[...ew(gS(t),"input[data-channel]"),...ew(aoe(t),"input[data-channel]")];function doe(t,e){if(e==null)return"";if(e==="hex")return t.toString("hex");if(e==="css")return t.toString("css");if(e in t)return t.getChannelValue(e).toString();const n=t.getFormat()==="hsla";switch(e){case"hue":return n?t.toFormat("hsla").getChannelValue("hue").toString():t.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return n?t.toFormat("hsla").getChannelValue("saturation").toString():t.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return t.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return t.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return t.toFormat("rgba").getChannelValue(e).toString();default:return t.getChannelValue(e).toString()}}var _4=t=>iw(t),{and:hoe}=dp();hoe("isOpenControlled","closeOnSelect");function y4(t,e,n){const r=coe(t);Pn(()=>{r.forEach(i=>{const s=i.dataset.channel;_E(i,doe(n||e,s))})})}function foe(t,e){const n=roe(t);n&&Pn(()=>_E(n,e))}Nt()(["closeOnSelect","dir","disabled","format","defaultFormat","getRootNode","id","ids","initialFocusEl","name","positioning","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","defaultOpen","open","positioning","required","readOnly","value","defaultValue","invalid","openAutoFocus"]);Nt()(["xChannel","yChannel"]);Nt()(["channel","orientation"]);Nt()(["value","disabled"]);Nt()(["value","respectAlpha"]);Nt()(["size"]);const[Q9,poe]=Ys({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),J9=t=>nu()(t,["lazyMount","unmountOnExit"]);var e7=Ct("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");e7.build();var t7=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`accordion:${t.id}`},n7=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemTrigger)==null?void 0:r.call(n,e))??`accordion:${t.id}:trigger:${e}`},goe=t=>t.getById(t7(t)),AE=t=>{const n=`[aria-controls][data-ownedby='${CSS.escape(t7(t))}']:not([disabled])`;return ew(goe(t),n)},moe=t=>T9(AE(t)),voe=t=>C9(AE(t)),boe=(t,e)=>vie(AE(t),n7(t,e)),_oe=(t,e)=>bie(AE(t),n7(t,e)),{and:yoe,not:xoe}=dp();yoe("isExpanded","canToggle"),xoe("isExpanded");Nt()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);Nt()(["value","disabled"]);var r7=Ct("avatar").parts("root","image","fallback");r7.build();Nt()(["dir","id","ids","onStatusChange","getRootNode"]);function Soe(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function woe(t){return!(t.metaKey||!f9()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var Eoe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Toe(t,e,n){const r=n?Us(n):null,i=$i(r);return t=t||r instanceof i.HTMLInputElement&&!Eoe.has(r==null?void 0:r.type)||r instanceof i.HTMLTextAreaElement||r instanceof i.HTMLElement&&r.isContentEditable,!(t&&e==="keyboard"&&n instanceof i.KeyboardEvent&&!Reflect.has(Coe,n.key))}var fp=null,yR=new Set,A_=new Map,np=!1,xR=!1,Coe={Tab:!0,Escape:!0};function RE(t,e){for(let n of yR)n(t,e)}function lw(t){np=!0,woe(t)&&(fp="keyboard",RE("keyboard",t))}function Ka(t){fp="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(np=!0,RE("pointer",t))}function i7(t){Soe(t)&&(np=!0,fp="virtual")}function s7(t){const e=Us(t);e===$i(e)||e===oo(e)||(!np&&!xR&&(fp="virtual",RE("virtual",t)),np=!1,xR=!1)}function a7(){np=!1,xR=!0}function Aoe(t){if(typeof window>"u"||A_.get($i(t)))return;const e=$i(t),n=oo(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){fp="virtual",RE("virtual",null),np=!0,r.apply(this,arguments)},n.addEventListener("keydown",lw,!0),n.addEventListener("keyup",lw,!0),n.addEventListener("click",i7,!0),e.addEventListener("focus",s7,!0),e.addEventListener("blur",a7,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",Ka,!0),n.addEventListener("pointermove",Ka,!0),n.addEventListener("pointerup",Ka,!0)):(n.addEventListener("mousedown",Ka,!0),n.addEventListener("mousemove",Ka,!0),n.addEventListener("mouseup",Ka,!0)),e.addEventListener("beforeunload",()=>{Roe(t)},{once:!0}),A_.set(e,{focus:r})}var Roe=(t,e)=>{const n=$i(t),r=oo(t);A_.has(n)&&(n.HTMLElement.prototype.focus=A_.get(n).focus,r.removeEventListener("keydown",lw,!0),r.removeEventListener("keyup",lw,!0),r.removeEventListener("click",i7,!0),n.removeEventListener("focus",s7,!0),n.removeEventListener("blur",a7,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",Ka,!0),r.removeEventListener("pointermove",Ka,!0),r.removeEventListener("pointerup",Ka,!0)):(r.removeEventListener("mousedown",Ka,!0),r.removeEventListener("mousemove",Ka,!0),r.removeEventListener("mouseup",Ka,!0)),A_.delete(n))};function SR(){return fp==="keyboard"}function Poe(t={}){const{isTextInput:e,autoFocus:n,onChange:r,root:i}=t;Aoe(i),r==null||r({isFocusVisible:n||SR(),modality:fp});const s=(o,u)=>{Toe(!!e,o,u)&&(r==null||r({isFocusVisible:SR(),modality:o}))};return yR.add(s),()=>{yR.delete(s)}}var o7=Ct("checkbox").parts("root","label","control","indicator");o7.build();Nt()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const Ooe=o7.extendWith("group"),[Zge,l7]=Ys({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),Moe=Z9.extendWith("view");var Doe=Object.defineProperty,Boe=(t,e,n)=>e in t?Doe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dn=(t,e,n)=>Boe(t,typeof e!="symbol"?e+"":e,n),mS={itemToValue(t){return typeof t=="string"?t:QC(t)&&JC(t,"value")?t.value:""},itemToString(t){return typeof t=="string"?t:QC(t)&&JC(t,"label")?t.label:mS.itemToValue(t)},isItemDisabled(t){return QC(t)&&JC(t,"disabled")?!!t.disabled:!1}},u7=class{constructor(t){this.options=t,Dn(this,"items"),Dn(this,"isEqual",e=>Ey(this.items,e.items)),Dn(this,"setItems",e=>{this.items=Array.from(e)}),Dn(this,"getValues",(e=this.items)=>Array.from(e).map(n=>this.getItemValue(n)).filter(Boolean)),Dn(this,"find",e=>{if(e==null)return null;const n=this.items.findIndex(r=>this.getItemValue(r)===e);return n!=null?this.items[n]:null}),Dn(this,"findMany",e=>Array.from(e).map(n=>this.find(n)).filter(n=>n!=null)),Dn(this,"at",e=>this.items[e]??null),Dn(this,"sortFn",(e,n)=>{const r=this.indexOf(e),i=this.indexOf(n);return(r??0)-(i??0)}),Dn(this,"sort",e=>[...e].sort(this.sortFn.bind(this))),Dn(this,"getItemValue",e=>{var n,r;return e==null?null:((r=(n=this.options).itemToValue)==null?void 0:r.call(n,e))??mS.itemToValue(e)}),Dn(this,"getItemDisabled",e=>{var n,r;return e==null?!1:((r=(n=this.options).isItemDisabled)==null?void 0:r.call(n,e))??mS.isItemDisabled(e)}),Dn(this,"stringifyItem",e=>{var n,r;return e==null?null:((r=(n=this.options).itemToString)==null?void 0:r.call(n,e))??mS.itemToString(e)}),Dn(this,"stringify",e=>e==null?null:this.stringifyItem(this.find(e))),Dn(this,"stringifyItems",(e,n=", ")=>Array.from(e).map(r=>this.stringifyItem(r)).filter(Boolean).join(n)),Dn(this,"stringifyMany",(e,n)=>this.stringifyItems(this.findMany(e),n)),Dn(this,"has",e=>this.indexOf(e)!==-1),Dn(this,"hasItem",e=>e==null?!1:this.has(this.getItemValue(e))),Dn(this,"getNextValue",(e,n=1,r=!1)=>{let i=this.indexOf(e);if(i===-1)return null;for(i=r?Math.min(i+n,this.size-1):i+n;i<=this.size&&this.getItemDisabled(this.at(i));)i++;return this.getItemValue(this.at(i))}),Dn(this,"getPreviousValue",(e,n=1,r=!1)=>{let i=this.indexOf(e);if(i===-1)return null;for(i=r?Math.max(i-n,0):i-n;i>=0&&this.getItemDisabled(this.at(i));)i--;return this.getItemValue(this.at(i))}),Dn(this,"indexOf",e=>e==null?-1:this.items.findIndex(n=>this.getItemValue(n)===e)),Dn(this,"getByText",(e,n)=>{let r=n!=null?Ioe(this.items,this.indexOf(n)):this.items;return e.length===1&&(r=r.filter(s=>this.getItemValue(s)!==n)),r.find(s=>koe(this.stringifyItem(s),e))}),Dn(this,"search",(e,n)=>{const{state:r,currentValue:i,timeout:s=350}=n,o=r.keysSoFar+e,c=o.length>1&&Array.from(o).every(y=>y===o[0])?o[0]:o,f=this.getByText(c,i),p=this.getItemValue(f);function v(){clearTimeout(r.timer),r.timer=-1}function b(y){r.keysSoFar=y,v(),y!==""&&(r.timer=+setTimeout(()=>{b(""),v()},s))}return b(o),p}),Dn(this,"insertBefore",(e,n)=>{const r=this.indexOf(e);r!==-1&&this.items.splice(r,0,n)}),Dn(this,"insertAfter",(e,n)=>{const r=this.indexOf(e);r!==-1&&this.items.splice(r+1,0,n)}),Dn(this,"reorder",(e,n)=>{if(e===-1||n===-1||e===n)return;const[r]=this.items.splice(e,1);this.items.splice(n,0,r)}),Dn(this,"toString",()=>{let e="";for(const n of this.items){const r=this.getItemValue(n),i=this.stringifyItem(n),s=this.getItemDisabled(n),o=[r,i,s].filter(Boolean).join(":");e+=o+","}return e}),Dn(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...t.items]}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}*[Symbol.iterator](){yield*this.items}},koe=(t,e)=>!!(t!=null&&t.toLowerCase().startsWith(e.toLowerCase())),Ioe=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]),em=new WeakMap,F2=new WeakMap,L2={},iA=0,c7=t=>t&&(t.host||c7(t.parentNode)),Noe=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=c7(n);return r&&t.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),Uoe=t=>t.localName==="next-route-announcer"||t.localName==="script"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),Foe=(t,e)=>{const{parentNode:n,markerName:r,controlAttribute:i}=e,s=Noe(n,Array.isArray(t)?t:[t]);L2[r]||(L2[r]=new WeakMap);const o=L2[r],u=[],c=new Set,f=new Set(s),p=b=>{!b||c.has(b)||(c.add(b),p(b.parentNode))};s.forEach(p);const v=b=>{!b||f.has(b)||Array.prototype.forEach.call(b.children,y=>{if(c.has(y))v(y);else try{if(Uoe(y))return;const S=y.getAttribute(i)==="true",T=(em.get(y)||0)+1,A=(o.get(y)||0)+1;em.set(y,T),o.set(y,A),u.push(y),T===1&&S&&F2.set(y,!0),A===1&&y.setAttribute(r,""),S||y.setAttribute(i,"true")}catch(E){console.error("[zag-js > ariaHidden] cannot operate on ",y,E)}})};return v(n),c.clear(),iA++,()=>{u.forEach(b=>{const y=em.get(b)-1,E=o.get(b)-1;em.set(b,y),o.set(b,E),y||(F2.has(b)||b.removeAttribute(i),F2.delete(b)),E||b.removeAttribute(r)}),iA--,iA||(em=new WeakMap,em=new WeakMap,F2=new WeakMap,L2={})}},Loe=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,Goe=(t,e=Loe(t),n="data-aria-hidden")=>{if(e)return Foe(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden"})},zoe=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function Voe(t,e={}){const{defer:n=!0}=e,r=n?zoe:s=>s(),i=[];return i.push(r(()=>{const o=(typeof t=="function"?t():t).filter(Boolean);o.length!==0&&i.push(Goe(o))})),()=>{i.forEach(s=>s==null?void 0:s())}}const[d7,Xd]=Ys({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),h7=ue.forwardRef((t,e)=>{const n=Xd(),r=poe(),i=hp({...r,present:n.open}),s=xt(n.getBackdropProps(),i.getPresenceProps(),t);return i.unmounted?null:ie.jsx(Gt.div,{...s,ref:wy(i.ref,e)})});h7.displayName="DialogBackdrop";const f7=ue.forwardRef((t,e)=>{const n=Xd(),r=xt(n.getCloseTriggerProps(),t);return ie.jsx(Gt.button,{...r,ref:e})});f7.displayName="DialogCloseTrigger";const p7=ue.forwardRef((t,e)=>{const n=Xd(),r=jd(),i=xt(n.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:ie.jsx(Gt.div,{...i,ref:wy(r.ref,e)})});p7.displayName="DialogContent";const g7=ue.forwardRef((t,e)=>{const n=Xd(),r=xt(n.getDescriptionProps(),t);return ie.jsx(Gt.div,{...r,ref:e})});g7.displayName="DialogDescription";const m7=ue.forwardRef((t,e)=>{const n=Xd(),r=xt(n.getPositionerProps(),t);return jd().unmounted?null:ie.jsx(Gt.div,{...r,ref:e})});m7.displayName="DialogPositioner";var Hoe=Object.defineProperty,Woe=(t,e,n)=>e in t?Hoe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sr=(t,e,n)=>Woe(t,typeof e!="symbol"?e+"":e,n),x4={activateTrap(t,e){if(t.length>0){const r=t[t.length-1];r!==e&&r.pause()}const n=t.indexOf(e);n===-1||t.splice(n,1),t.push(e)},deactivateTrap(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},$oe=[],joe=class{constructor(t,e){sr(this,"trapStack"),sr(this,"config"),sr(this,"doc"),sr(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),sr(this,"listenerCleanups",[]),sr(this,"handleFocus",r=>{const i=Us(r),s=this.findContainerIndex(i,r)>=0;if(s||$M(i))s&&(this.state.mostRecentlyFocusedNode=i);else{r.stopImmediatePropagation();let o,u=!0;if(this.state.mostRecentlyFocusedNode)if(k0(this.state.mostRecentlyFocusedNode)>0){const c=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:f}=this.state.containerGroups[c];if(f.length>0){const p=f.findIndex(v=>v===this.state.mostRecentlyFocusedNode);p>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?p+1<f.length&&(o=f[p+1],u=!1):p-1>=0&&(o=f[p-1],u=!1))}}else this.state.containerGroups.some(c=>c.tabbableNodes.some(f=>k0(f)>0))||(u=!1);else u=!1;u&&(o=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),o?this.tryFocus(o):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),sr(this,"handlePointerDown",r=>{const i=Us(r);if(!(this.findContainerIndex(i,r)>=0)){if(U0(this.config.clickOutsideDeactivates,r)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}U0(this.config.allowOutsideClick,r)||r.preventDefault()}}),sr(this,"handleClick",r=>{const i=Us(r);this.findContainerIndex(i,r)>=0||U0(this.config.clickOutsideDeactivates,r)||U0(this.config.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())}),sr(this,"handleTabKey",r=>{if(this.config.isKeyForward(r)||this.config.isKeyBackward(r)){this.state.recentNavEvent=r;const i=this.config.isKeyBackward(r),s=this.findNextNavNode({event:r,isBackward:i});if(!s)return;N0(r)&&r.preventDefault(),this.tryFocus(s)}}),sr(this,"handleEscapeKey",r=>{Xoe(r)&&U0(this.config.escapeDeactivates,r)!==!1&&(r.preventDefault(),this.deactivate())}),sr(this,"_mutationObserver"),sr(this,"setupMutationObserver",()=>{const r=this.doc.defaultView||window;this._mutationObserver=new r.MutationObserver(i=>{i.some(o=>Array.from(o.removedNodes).some(c=>c===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),sr(this,"updateObservedNodes",()=>{var r;(r=this._mutationObserver)==null||r.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(i=>{var s;(s=this._mutationObserver)==null||s.observe(i,{subtree:!0,childList:!0})})}),sr(this,"getInitialFocusNode",()=>{let r=this.getNodeForOption("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!Pd(r))if(this.findContainerIndex(this.doc.activeElement)>=0)r=this.doc.activeElement;else{const i=this.state.tabbableGroups[0];r=i&&i.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else r===null&&(r=this.getNodeForOption("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r.isConnected||(r=this.getNodeForOption("fallbackFocus")),r}),sr(this,"tryFocus",r=>{if(r!==!1&&r!==h9(this.doc)){if(!r||!r.focus){this.tryFocus(this.getInitialFocusNode());return}r.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=r,Yoe(r)&&r.select()}}),sr(this,"deactivate",r=>{if(!this.state.active)return this;const i={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...r};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),x4.deactivateTrap(this.trapStack,this);const s=this.getOption(i,"onDeactivate"),o=this.getOption(i,"onPostDeactivate"),u=this.getOption(i,"checkCanReturnFocus"),c=this.getOption(i,"returnFocus","returnFocusOnDeactivate");s==null||s();const f=()=>{S4(()=>{if(c){const p=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(p)}o==null||o()})};if(c&&u){const p=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return u(p).then(f,f),this}return f(),this}),sr(this,"pause",r=>{if(this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onPause"),s=this.getOption(r,"onPostPause");return this.state.paused=!0,i==null||i(),this.removeListeners(),this.updateObservedNodes(),s==null||s(),this}),sr(this,"unpause",r=>{if(!this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onUnpause"),s=this.getOption(r,"onPostUnpause");return this.state.paused=!1,i==null||i(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s(),this}),sr(this,"updateContainerElements",r=>(this.state.containers=Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),sr(this,"getReturnFocusNode",r=>{const i=this.getNodeForOption("setReturnFocus",{params:[r]});return i||(i===!1?!1:r)}),sr(this,"getOption",(r,i,s)=>r&&r[i]!==void 0?r[i]:this.config[s||i]),sr(this,"getNodeForOption",(r,{hasFallback:i=!1,params:s=[]}={})=>{let o=this.config[r];if(typeof o=="function"&&(o=o(...s)),o===!0&&(o=void 0),!o){if(o===void 0||o===!1)return o;throw new Error(`\`${r}\` was specified but was not a node, or did not return a node`)}let u=o;if(typeof o=="string"){try{u=this.doc.querySelector(o)}catch(c){throw new Error(`\`${r}\` appears to be an invalid selector; error="${c.message}"`)}if(!u&&!i)throw new Error(`\`${r}\` as selector refers to no known node`)}return u}),sr(this,"findNextNavNode",r=>{const{event:i,isBackward:s=!1}=r,o=r.target||Us(i);this.updateTabbableNodes();let u=null;if(this.state.tabbableGroups.length>0){const c=this.findContainerIndex(o,i),f=c>=0?this.state.containerGroups[c]:void 0;if(c<0)s?u=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:u=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let p=this.state.tabbableGroups.findIndex(({firstTabbableNode:v})=>o===v);if(p<0&&((f==null?void 0:f.container)===o||Pd(o)&&!wf(o)&&!(f!=null&&f.nextTabbableNode(o,!1)))&&(p=c),p>=0){const v=p===0?this.state.tabbableGroups.length-1:p-1,b=this.state.tabbableGroups[v];u=k0(o)>=0?b.lastTabbableNode:b.lastDomTabbableNode}else N0(i)||(u=f==null?void 0:f.nextTabbableNode(o,!1))}else{let p=this.state.tabbableGroups.findIndex(({lastTabbableNode:v})=>o===v);if(p<0&&((f==null?void 0:f.container)===o||Pd(o)&&!wf(o)&&!(f!=null&&f.nextTabbableNode(o)))&&(p=c),p>=0){const v=p===this.state.tabbableGroups.length-1?0:p+1,b=this.state.tabbableGroups[v];u=k0(o)>=0?b.firstTabbableNode:b.firstDomTabbableNode}else N0(i)||(u=f==null?void 0:f.nextTabbableNode(o))}}else u=this.getNodeForOption("fallbackFocus");return u}),this.trapStack=e.trapStack||$oe;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(r){return N0(r)&&!r.shiftKey},isKeyBackward(r){return N0(r)&&r.shiftKey},...e};this.doc=n.document||oo(Array.isArray(t)?t[0]:t),this.config=n,this.updateContainerElements(t),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(t,e){const n=typeof(e==null?void 0:e.composedPath)=="function"?e.composedPath():void 0;return this.state.containerGroups.findIndex(({container:r,tabbableNodes:i})=>r.contains(t)||(n==null?void 0:n.includes(r))||i.find(s=>s===t))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(t=>{const e=yE(t),n=_9(t),r=e.length>0?e[0]:void 0,i=e.length>0?e[e.length-1]:void 0,s=n.find(f=>wf(f)),o=n.slice().reverse().find(f=>wf(f)),u=!!e.find(f=>k0(f)>0);function c(f,p=!0){const v=e.indexOf(f);return v<0?p?n.slice(n.indexOf(f)+1).find(b=>wf(b)):n.slice(0,n.indexOf(f)).reverse().find(b=>wf(b)):e[v+(p?1:-1)]}return{container:t,tabbableNodes:e,focusableNodes:n,posTabIndexesFound:u,firstTabbableNode:r,lastTabbableNode:i,firstDomTabbableNode:s,lastDomTabbableNode:o,nextTabbableNode:c}}),this.state.tabbableGroups=this.state.containerGroups.filter(t=>t.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(t=>t.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return x4.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?S4(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(lr(this.doc,"focusin",this.handleFocus,!0),lr(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),lr(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),lr(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),lr(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),lr(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(t=>t()),this.listenerCleanups=[],this}activate(t){if(this.state.active)return this;const e=this.getOption(t,"onActivate"),n=this.getOption(t,"onPostActivate"),r=this.getOption(t,"checkCanFocusTrap");r||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,e==null||e();const i=()=>{r&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return r?(r(this.state.containers.concat()).then(i,i),this):(i(),this)}},N0=t=>t.key==="Tab",U0=(t,...e)=>typeof t=="function"?t(...e):t,Xoe=t=>!t.isComposing&&t.key==="Escape",S4=t=>setTimeout(t,0),Yoe=t=>t.localName==="input"&&"select"in t&&typeof t.select=="function";function qoe(t,e={}){let n;const r=Pn(()=>{const i=typeof t=="function"?t():t;if(i){n=new joe(i,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:i,...e,document:oo(i)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),r()}}var sA="data-scroll-lock";function Koe(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Zoe(t){const e=t??document,n=e.defaultView??window,{documentElement:r,body:i}=e;if(i.hasAttribute(sA))return;i.setAttribute(sA,"");const o=n.innerWidth-r.clientWidth,u=()=>wie(r,"--scrollbar-width",`${o}px`),c=Koe(r),f=()=>tw(i,{overflow:"hidden",[c]:`${o}px`}),p=()=>{const{scrollX:b,scrollY:y,visualViewport:E}=n,S=(E==null?void 0:E.offsetLeft)??0,T=(E==null?void 0:E.offsetTop)??0,A=tw(i,{position:"fixed",overflow:"hidden",top:`${-(y-Math.floor(T))}px`,left:`${-(b-Math.floor(S))}px`,right:"0",[c]:`${o}px`});return()=>{A==null||A(),n.scrollTo({left:b,top:y,behavior:"instant"})}},v=[u(),KM()?p():f()];return()=>{v.forEach(b=>b==null?void 0:b()),i.removeAttribute(sA)}}var bD=Ct("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),hf=bD.build(),v7=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`dialog:${t.id}:positioner`},b7=t=>{var e;return((e=t.ids)==null?void 0:e.backdrop)??`dialog:${t.id}:backdrop`},wR=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`dialog:${t.id}:content`},_7=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`dialog:${t.id}:trigger`},ER=t=>{var e;return((e=t.ids)==null?void 0:e.title)??`dialog:${t.id}:title`},TR=t=>{var e;return((e=t.ids)==null?void 0:e.description)??`dialog:${t.id}:description`},y7=t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`dialog:${t.id}:close`},G2=t=>t.getById(wR(t)),Qoe=t=>t.getById(v7(t)),Joe=t=>t.getById(b7(t)),ele=t=>t.getById(_7(t)),tle=t=>t.getById(ER(t)),nle=t=>t.getById(TR(t)),rle=t=>t.getById(y7(t));function ile(t,e){const{state:n,send:r,context:i,prop:s,scope:o}=t,u=s("aria-label"),c=n.matches("open");return{open:c,setOpen(f){n.matches("open")!==f&&r({type:f?"OPEN":"CLOSE"})},getTriggerProps(){return e.button({...hf.trigger.attrs,dir:s("dir"),id:_7(o),"aria-haspopup":"dialog",type:"button","aria-expanded":c,"data-state":c?"open":"closed","aria-controls":wR(o),onClick(f){f.defaultPrevented||r({type:"TOGGLE"})}})},getBackdropProps(){return e.element({...hf.backdrop.attrs,dir:s("dir"),hidden:!c,id:b7(o),"data-state":c?"open":"closed"})},getPositionerProps(){return e.element({...hf.positioner.attrs,dir:s("dir"),id:v7(o),style:{pointerEvents:c?void 0:"none"}})},getContentProps(){const f=i.get("rendered");return e.element({...hf.content.attrs,dir:s("dir"),role:s("role"),hidden:!c,id:wR(o),tabIndex:-1,"data-state":c?"open":"closed","aria-modal":!0,"aria-label":u||void 0,"aria-labelledby":u||!f.title?void 0:ER(o),"aria-describedby":f.description?TR(o):void 0})},getTitleProps(){return e.element({...hf.title.attrs,dir:s("dir"),id:ER(o)})},getDescriptionProps(){return e.element({...hf.description.attrs,dir:s("dir"),id:TR(o)})},getCloseTriggerProps(){return e.button({...hf.closeTrigger.attrs,dir:s("dir"),id:y7(o),type:"button",onClick(f){f.defaultPrevented||(f.stopPropagation(),r({type:"CLOSE"}))}})}}}var sle={props({props:t,scope:e}){const n=t.role==="alertdialog";return{role:"dialog",modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!n,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:n?()=>rle(e):void 0,...t}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"closed"},context({bindable:t}){return{rendered:t(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:t,action:e,prop:n}){t([()=>n("open")],()=>{e(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:t})=>t("open")!=null},effects:{trackDismissableElement({scope:t,send:e,prop:n}){return Py(()=>G2(t),{defer:!0,pointerBlocking:n("modal"),exclude:[ele(t)],onInteractOutside(i){var s;(s=n("onInteractOutside"))==null||s(i),n("closeOnInteractOutside")||i.preventDefault()},persistentElements:n("persistentElements"),onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onEscapeKeyDown(i){var s;(s=n("onEscapeKeyDown"))==null||s(i),n("closeOnEscape")||i.preventDefault()},onDismiss(){e({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:t,prop:e}){if(e("preventScroll"))return Zoe(t.getDoc())},trapFocus({scope:t,prop:e}){return!e("trapFocus")||!e("modal")?void 0:qoe(()=>G2(t),{preventScroll:!0,returnFocusOnDeactivate:!!e("restoreFocus"),initialFocus:e("initialFocusEl"),setReturnFocus:r=>{var i;return((i=e("finalFocusEl"))==null?void 0:i())??r}})},hideContentBelow({scope:t,prop:e}){return e("modal")?Voe(()=>[G2(t)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:t,scope:e}){Pn(()=>{t.set("rendered",{title:!!tle(e),description:!!nle(e)})})},syncZIndex({scope:t}){Pn(()=>{const e=G2(t);if(!e)return;const n=XM(e);[Qoe(t),Joe(t)].forEach(i=>{i==null||i.style.setProperty("--z-index",n.zIndex)})})},invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},toggleVisibility({prop:t,send:e,event:n}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}};Nt()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const ale=t=>{const e=ue.useId(),{getRootNode:n}=Ay(),{dir:r}=xE(),i={id:e,getRootNode:n,dir:r,...t},s=Cy(sle,i);return ile(s,wE)},ole=t=>{const[e,{children:n,...r}]=Sv(t),[i]=J9(e),s=ale(r),o=hp(xt({present:s.open},e));return ie.jsx(d7,{value:s,children:ie.jsx(Q9,{value:i,children:ie.jsx(wv,{value:o,children:n})})})},lle=t=>{const[e,{value:n,children:r}]=Sv(t),[i]=J9(e),s=hp(xt({present:n.open},e));return ie.jsx(d7,{value:n,children:ie.jsx(Q9,{value:i,children:ie.jsx(wv,{value:s,children:r})})})},x7=ue.forwardRef((t,e)=>{const n=Xd(),r=xt(n.getTitleProps(),t);return ie.jsx(Gt.h2,{...r,ref:e})});x7.displayName="DialogTitle";const S7=ue.forwardRef((t,e)=>{const n=Xd(),r=jd(),i=xt({...n.getTriggerProps(),"aria-controls":r.unmounted?void 0:n.getTriggerProps()["aria-controls"]},t);return ie.jsx(Gt.button,{...i,ref:e})});S7.displayName="DialogTrigger";var w7=Ct("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");w7.build();Nt()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]);const E7=Ct("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator");E7.build();const T7=Ct("fieldset").parts("root","errorText","helperText","legend");T7.build();var C7=Ct("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");C7.build();Nt()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","validate"]);Nt()(["file"]);var A7=Ct("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");A7.build();var ule=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`hover-card:${t.id}:trigger`},cle=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`hover-card:${t.id}:content`},dle=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`hover-card:${t.id}:popper`},aA=t=>t.getById(ule(t)),hle=t=>t.getById(cle(t)),w4=t=>t.getById(dle(t)),{not:z2,and:E4}=dp();E4("isOpenControlled",z2("isPointer")),z2("isPointer"),E4("isOpenControlled",z2("isPointer")),z2("isPointer");Nt()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","defaultOpen","open","openDelay","positioning","onInteractOutside","onPointerDownOutside","onFocusOutside"]);const[R7,ui]=Ys({name:"MenuContext",hookName:"useMenuContext",providerName:"<MenuProvider />",strict:!1}),P7=ue.forwardRef((t,e)=>{const n=ui(),r=xt(n.getArrowProps(),t);return ie.jsx(Gt.div,{...r,ref:e})});P7.displayName="MenuArrow";const O7=ue.forwardRef((t,e)=>{const n=ui(),r=xt(n.getArrowTipProps(),t);return ie.jsx(Gt.div,{...r,ref:e})});O7.displayName="MenuArrowTip";const[_D,Qge]=Ys({name:"MenuItemContext",hookName:"useMenuItemContext",providerName:"<MenuItemProvider />"}),[M7,D7]=Ys({name:"MenuOptionItemPropsContext",hookName:"useMenuOptionItemPropsContext",providerName:"<MenuOptionItemPropsProvider />"}),B7=ue.forwardRef((t,e)=>{const[n,r]=nu()(t,["checked","closeOnSelect","disabled","onCheckedChange","value","valueText"]),i={...n,type:"checkbox"},s=ui(),o=xt(s.getOptionItemProps(i),r),u=s.getOptionItemState(i);return ie.jsx(M7,{value:i,children:ie.jsx(_D,{value:u,children:ie.jsx(Gt.div,{...o,ref:e})})})});B7.displayName="MenuCheckboxItem";const k7=ue.forwardRef((t,e)=>{const n=ui(),r=jd(),i=xt(n.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:ie.jsx(Gt.div,{...i,ref:wy(r.ref,e)})});k7.displayName="MenuContent";const I7=ue.forwardRef((t,e)=>{const n=ui(),r=xt(n.getContextTriggerProps(),t);return ie.jsx(Gt.button,{...r,ref:e})});I7.displayName="MenuContextTrigger";const N7=ue.forwardRef((t,e)=>{const n=ui(),r=xt(n.getIndicatorProps(),t);return ie.jsx(Gt.div,{...r,ref:e})});N7.displayName="MenuIndicator";const U7=ue.forwardRef((t,e)=>{const[n,r]=nu()(t,["closeOnSelect","disabled","value","valueText","onSelect"]),i=ui(),s=xt(i.getItemProps(n),r),o=i.getItemState(n);return ue.useEffect(()=>i.addItemListener({id:o.id,onSelect:n.onSelect}),[o.id,n.onSelect]),ie.jsx(_D,{value:o,children:ie.jsx(Gt.div,{...s,ref:e})})});U7.displayName="MenuItem";const[F7,L7]=Ys({name:"MenuItemGroupContext",hookName:"useMenuItemGroupContext",providerName:"<MenuItemGroupProvider />"}),G7=ue.forwardRef((t,e)=>{const[n,r]=nu()(t,["id"]),i=ui(),o={id:ue.useId(),...n},u=xt(i.getItemGroupProps(o),r);return ie.jsx(F7,{value:o,children:ie.jsx(Gt.div,{...u,ref:e})})});G7.displayName="MenuItemGroup";const z7=ue.forwardRef((t,e)=>{const n=ui(),r=L7(),i=xt(n.getItemGroupLabelProps({htmlFor:r.id}),t);return ie.jsx(Gt.div,{...i,ref:e})});z7.displayName="MenuItemGroupLabel";const V7=ue.forwardRef((t,e)=>{const n=ui(),r=D7(),i=xt(n.getItemIndicatorProps(r),t);return ie.jsx(Gt.div,{...i,ref:e})});V7.displayName="MenuItemIndicator";const H7=ue.forwardRef((t,e)=>{const n=ui(),r=D7(),i=xt(n.getItemTextProps(r),t);return ie.jsx(Gt.div,{...i,ref:e})});H7.displayName="MenuItemText";const W7=ue.forwardRef((t,e)=>{const n=ui(),r=xt(n.getPositionerProps(),t);return jd().unmounted?null:ie.jsx(Gt.div,{...r,ref:e})});W7.displayName="MenuPositioner";const $7=ue.forwardRef((t,e)=>{const[n,r]=nu()(t,["closeOnSelect","disabled","value","valueText"]),i=ui(),s=L7(),o={...n,checked:s.value===n.value,type:"radio",onCheckedChange:()=>{var f;return(f=s.onValueChange)==null?void 0:f.call(s,{value:n.value})}},u=xt(i.getOptionItemProps(o),r),c=i.getOptionItemState(o);return ie.jsx(M7,{value:o,children:ie.jsx(_D,{value:c,children:ie.jsx(Gt.div,{...u,ref:e})})})});$7.displayName="MenuRadioItem";const j7=ue.forwardRef((t,e)=>{const[n,r]=nu()(t,["id","onValueChange","value"]),i=ui(),o={id:ue.useId(),...n},u=xt(i.getItemGroupProps({id:o.id}),r);return ie.jsx(F7,{value:o,children:ie.jsx(Gt.div,{...u,ref:e})})});j7.displayName="MenuRadioItemGroup";const X7=t=>{const e=ue.useRef(t),n=ue.useRef(!1);ue.useEffect(()=>{e.current=t}),ue.useEffect(()=>{n.current!==!0&&(n.current=!0,e.current())},[])};var t_=(t,e)=>({x:t,y:e});function fle(t){const{x:e,y:n,width:r,height:i}=t,s=e+r/2,o=n+i/2;return{x:e,y:n,width:r,height:i,minX:e,minY:n,maxX:e+r,maxY:n+i,midX:s,midY:o,center:t_(s,o)}}function ple(t){const e=t_(t.minX,t.minY),n=t_(t.maxX,t.minY),r=t_(t.maxX,t.maxY),i=t_(t.minX,t.maxY);return{top:e,right:n,bottom:r,left:i}}function gle(t,e){const n=fle(t),{top:r,right:i,left:s,bottom:o}=ple(n),[u]=e.split("-");return{top:[s,r,i,o],right:[r,i,o,s],bottom:[r,s,o,i],left:[i,r,s,o]}[u]}function mle(t,e){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const u=t[s].x,c=t[s].y,f=t[o].x,p=t[o].y;c>r!=p>r&&n<(f-u)*(r-c)/(p-c)+u&&(i=!i)}return i}var Y7=Ct("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem"),as=Y7.build(),uw=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`menu:${t.id}:trigger`},q7=t=>{var e;return((e=t.ids)==null?void 0:e.contextTrigger)??`menu:${t.id}:ctx-trigger`},R_=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`menu:${t.id}:content`},vle=t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`menu:${t.id}:arrow`},K7=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`menu:${t.id}:popper`},ble=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.group)==null?void 0:r.call(n,e))??`menu:${t.id}:group:${e}`},iy=(t,e)=>`${t.id}/${e}`,ff=t=>(t==null?void 0:t.dataset.value)??null,T4=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.groupLabel)==null?void 0:r.call(n,e))??`menu:${t.id}:group-label:${e}`},dd=t=>t.getById(R_(t)),C4=t=>t.getById(K7(t)),V2=t=>t.getById(uw(t)),Z7=(t,e)=>e?t.getById(iy(t,e)):null,A4=t=>t.getById(q7(t)),Oy=t=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(R_(t))}]:not([data-disabled])`;return ew(dd(t),n)},_le=t=>T9(Oy(t)),yle=t=>C9(Oy(t)),yD=(t,e)=>e?t.id===e||t.dataset.value===e:!1,xle=(t,e)=>{const n=Oy(t),r=n.findIndex(i=>yD(i,e.value));return Die(n,r,{loop:e.loop??e.loopFocus})},Sle=(t,e)=>{const n=Oy(t),r=n.findIndex(i=>yD(i,e.value));return kie(n,r,{loop:e.loop??e.loopFocus})},wle=(t,e)=>{const n=Oy(t),r=n.find(i=>yD(i,e.value));return iD(n,{state:e.typeaheadState,key:e.key,activeId:(r==null?void 0:r.id)??null})},H2=t=>Ti(t)&&(t.dataset.disabled===""||t.hasAttribute("disabled")),Ele=t=>{var e;return!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))&&!!(t!=null&&t.hasAttribute("aria-controls"))},CR="menu:select";function Tle(t,e){if(!t)return;const n=$i(t),r=new n.CustomEvent(CR,{detail:{value:e}});t.dispatchEvent(r)}function Cle(t,e){const{context:n,send:r,state:i,computed:s,prop:o,scope:u}=t,c=i.hasTag("open"),f=s("isSubmenu"),p=s("isTypingAhead"),v=o("composite"),b=n.get("currentPlacement"),y=n.get("anchorPoint"),E=n.get("highlightedValue"),S=q9({...o("positioning"),placement:y?"bottom":b});function T(M){return{id:iy(u,M.value),disabled:!!M.disabled,highlighted:E===M.value}}function A(M){const D=M.valueText??M.value;return{...M,id:M.value,valueText:D}}function P(M){return{...T(A(M)),checked:!!M.checked}}function O(M){const{closeOnSelect:D,valueText:W,value:G}=M,Y=T(M),L=iy(u,G);return e.element({...as.item.attrs,id:L,role:"menuitem","aria-disabled":fR(Y.disabled),"data-disabled":er(Y.disabled),"data-ownedby":R_(u),"data-highlighted":er(Y.highlighted),"data-value":G,"data-valuetext":W,onDragStart(X){X.currentTarget.matches("a[href]")&&X.preventDefault()},onPointerMove(X){if(Y.disabled||X.pointerType!=="mouse")return;const Z=X.currentTarget;Y.highlighted||r({type:"ITEM_POINTERMOVE",id:L,target:Z,closeOnSelect:D})},onPointerLeave(X){var be;if(Y.disabled||X.pointerType!=="mouse"||!((be=t.event.previous())==null?void 0:be.type.includes("POINTER")))return;const ee=X.currentTarget;r({type:"ITEM_POINTERLEAVE",id:L,target:ee,closeOnSelect:D})},onPointerDown(X){if(Y.disabled)return;const Z=X.currentTarget;r({type:"ITEM_POINTERDOWN",target:Z,id:L,closeOnSelect:D})},onClick(X){if(WI(X)||HI(X)||Y.disabled)return;const Z=X.currentTarget;r({type:"ITEM_CLICK",target:Z,id:L,closeOnSelect:D})}})}return{highlightedValue:E,open:c,setOpen(M){i.hasTag("open")!==M&&r({type:M?"OPEN":"CLOSE"})},setHighlightedValue(M){r({type:"HIGHLIGHTED.SET",value:M})},setParent(M){r({type:"PARENT.SET",value:M,id:M.prop("id")})},setChild(M){r({type:"CHILD.SET",value:M,id:M.prop("id")})},reposition(M={}){r({type:"POSITIONING.SET",options:M})},addItemListener(M){const D=u.getById(M.id);if(!D)return;const W=()=>{var G;return(G=M.onSelect)==null?void 0:G.call(M)};return D.addEventListener(CR,W),()=>D.removeEventListener(CR,W)},getContextTriggerProps(){return e.element({...as.contextTrigger.attrs,dir:o("dir"),id:q7(u),onPointerDown(M){if(M.pointerType==="mouse")return;const D=mm(M);r({type:"CONTEXT_MENU_START",point:D})},onPointerCancel(M){M.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onPointerMove(M){M.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onPointerUp(M){M.pointerType!=="mouse"&&r({type:"CONTEXT_MENU_CANCEL"})},onContextMenu(M){const D=mm(M);r({type:"CONTEXT_MENU",point:D}),M.preventDefault()},style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"}})},getTriggerItemProps(M){const D=M.getTriggerProps();return xt(O({value:D.id}),D)},getTriggerProps(){return e.button({...f?as.triggerItem.attrs:as.trigger.attrs,"data-placement":n.get("currentPlacement"),type:"button",dir:o("dir"),id:uw(u),"data-uid":o("id"),"aria-haspopup":v?"menu":"dialog","aria-controls":R_(u),"aria-expanded":c||void 0,"data-state":c?"open":"closed",onPointerMove(M){if(M.pointerType!=="mouse"||H2(M.currentTarget)||!f)return;const W=mm(M);r({type:"TRIGGER_POINTERMOVE",target:M.currentTarget,point:W})},onPointerLeave(M){if(H2(M.currentTarget)||M.pointerType!=="mouse"||!f)return;const D=mm(M);r({type:"TRIGGER_POINTERLEAVE",target:M.currentTarget,point:D})},onPointerDown(M){H2(M.currentTarget)||v9(M)||M.preventDefault()},onClick(M){M.defaultPrevented||H2(M.currentTarget)||r({type:"TRIGGER_CLICK",target:M.currentTarget})},onBlur(){r({type:"TRIGGER_BLUR"})},onFocus(){r({type:"TRIGGER_FOCUS"})},onKeyDown(M){if(M.defaultPrevented)return;const D={ArrowDown(){r({type:"ARROW_DOWN"})},ArrowUp(){r({type:"ARROW_UP"})},Enter(){r({type:"ARROW_DOWN",src:"enter"})},Space(){r({type:"ARROW_DOWN",src:"space"})}},W=XI(M,{orientation:"vertical",dir:o("dir")}),G=D[W];G&&(M.preventDefault(),G(M))}})},getIndicatorProps(){return e.element({...as.indicator.attrs,dir:o("dir"),"data-state":c?"open":"closed"})},getPositionerProps(){return e.element({...as.positioner.attrs,dir:o("dir"),id:K7(u),style:S.floating})},getArrowProps(){return e.element({id:vle(u),...as.arrow.attrs,dir:o("dir"),style:S.arrow})},getArrowTipProps(){return e.element({...as.arrowTip.attrs,dir:o("dir"),style:S.arrowTip})},getContentProps(){return e.element({...as.content.attrs,id:R_(u),"aria-label":o("aria-label"),hidden:!c,"data-state":c?"open":"closed",role:v?"menu":"dialog",tabIndex:0,dir:o("dir"),"aria-activedescendant":s("highlightedId")||void 0,"aria-labelledby":uw(u),"data-placement":b,onPointerEnter(M){M.pointerType==="mouse"&&r({type:"MENU_POINTERENTER"})},onKeyDown(M){if(M.defaultPrevented||!Vre(M))return;const D=Us(M);if(!((D==null?void 0:D.closest("[role=menu]"))===M.currentTarget||D===M.currentTarget))return;if(M.key==="Tab"&&!aie(M)){M.preventDefault();return}const G=Z7(u,E),Y={ArrowDown(){r({type:"ARROW_DOWN"})},ArrowUp(){r({type:"ARROW_UP"})},ArrowLeft(){r({type:"ARROW_LEFT"})},ArrowRight(){r({type:"ARROW_RIGHT"})},Enter(){var Z;r({type:"ENTER"}),Mre(G)&&((Z=o("navigate"))==null||Z({value:E,node:G}))},Space(Z){var ee;p?r({type:"TYPEAHEAD",key:Z.key}):(ee=Y.Enter)==null||ee.call(Y,Z)},Home(){r({type:"HOME"})},End(){r({type:"END"})}},L=XI(M,{dir:o("dir")}),X=Y[L];if(X){X(M),M.stopPropagation(),M.preventDefault();return}o("typeahead")&&Hre(M)&&(pR(M)||jM(D)||(r({type:"TYPEAHEAD",key:M.key}),M.preventDefault()))}})},getSeparatorProps(){return e.element({...as.separator.attrs,role:"separator",dir:o("dir"),"aria-orientation":"horizontal"})},getItemState:T,getItemProps:O,getOptionItemState:P,getOptionItemProps(M){const{type:D,disabled:W,onCheckedChange:G,closeOnSelect:Y}=M,L=A(M),X=P(M);return{...O(L),...e.element({"data-type":D,...as.item.attrs,dir:o("dir"),"data-value":L.value,role:`menuitem${D}`,"aria-checked":!!X.checked,"data-state":X.checked?"checked":"unchecked",onClick(Z){if(W||WI(Z)||HI(Z))return;const ee=Z.currentTarget;r({type:"ITEM_CLICK",target:ee,option:L,closeOnSelect:Y}),G==null||G(!X.checked)}})}},getItemIndicatorProps(M){const D=P(M);return e.element({...as.itemIndicator.attrs,dir:o("dir"),"data-disabled":er(D.disabled),"data-highlighted":er(D.highlighted),"data-state":D.checked?"checked":"unchecked",hidden:!D.checked})},getItemTextProps(M){const D=P(M);return e.element({...as.itemText.attrs,dir:o("dir"),"data-disabled":er(D.disabled),"data-highlighted":er(D.highlighted),"data-state":D.checked?"checked":"unchecked"})},getItemGroupLabelProps(M){return e.element({id:T4(u,M.htmlFor),dir:o("dir"),...as.itemGroupLabel.attrs})},getItemGroupProps(M){return e.element({id:ble(u,M.id),...as.itemGroup.attrs,dir:o("dir"),"aria-labelledby":T4(u,M.id),role:"group"})}}}var{not:ja,and:tm,or:Ale}=dp(),Rle={props({props:t}){return{closeOnSelect:!0,typeahead:!0,composite:!0,loopFocus:!1,navigate(e){uie(e.node)},...t,positioning:{placement:"bottom-start",gutter:8,...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"idle"},context({bindable:t,prop:e}){return{suspendPointer:t(()=>({defaultValue:!1})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(n){var r;(r=e("onHighlightChange"))==null||r({highlightedValue:n})}})),lastHighlightedValue:t(()=>({defaultValue:null})),currentPlacement:t(()=>({defaultValue:void 0})),intentPolygon:t(()=>({defaultValue:null})),anchorPoint:t(()=>({defaultValue:null,hash(n){return`x: ${n==null?void 0:n.x}, y: ${n==null?void 0:n.y}`}}))}},refs(){return{parent:null,children:{},typeaheadState:{...iD.defaultOptions},positioningOverride:{}}},computed:{isSubmenu:({refs:t})=>t.get("parent")!=null,isRtl:({prop:t})=>t("dir")==="rtl",isTypingAhead:({refs:t})=>t.get("typeaheadState").keysSoFar!=="",highlightedId:({context:t,scope:e,refs:n})=>Ole(n.get("children"),t.get("highlightedValue"),e)},watch({track:t,action:e,context:n,computed:r,prop:i}){t([()=>r("isSubmenu")],()=>{e(["setSubmenuPlacement"])}),t([()=>n.hash("anchorPoint")],()=>{e(["reposition"])}),t([()=>i("open")],()=>{e(["toggleVisibility"])})},on:{"PARENT.SET":{actions:["setParentMenu"]},"CHILD.SET":{actions:["setChildMenu"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],OPEN_AUTOFOCUS:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"HIGHLIGHTED.RESTORE":{actions:["restoreHighlightedItem"]},"HIGHLIGHTED.SET":{actions:["setHighlightedItem"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_FOCUS:{guard:ja("isSubmenu"),target:"closed"},TRIGGER_POINTERMOVE:{guard:"isSubmenu",target:"opening"}}},"opening:contextmenu":{tags:["closed"],effects:["waitForLongPress"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},CONTEXT_MENU_CANCEL:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"LONG_PRESS.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},opening:{tags:["closed"],effects:["waitForOpenDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed"},BLUR:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TRIGGER_POINTERLEAVE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"DELAY.OPEN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},closing:{tags:["open"],effects:["trackPointerMove","trackInteractOutside","waitForCloseDelay"],on:{"CONTROLLED.OPEN":{target:"open"},"CONTROLLED.CLOSE":{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]},MENU_POINTERENTER:{target:"open",actions:["clearIntentPolygon"]},POINTER_MOVED_AWAY_FROM_SUBMENU:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem"]}],"DELAY.CLOSE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["focusParentMenu","restoreParentHighlightedItem","invokeOnClose"]}]}},closed:{tags:["closed"],entry:["clearHighlightedItem","focusTrigger","resumePointer"],on:{"CONTROLLED.OPEN":[{guard:Ale("isOpenAutoFocusEvent","isArrowDownEvent"),target:"open",actions:["highlightFirstItem"]},{guard:"isArrowUpEvent",target:"open",actions:["highlightLastItem"]},{target:"open"}],CONTEXT_MENU_START:{target:"opening:contextmenu",actions:["setAnchorPoint"]},CONTEXT_MENU:[{guard:"isOpenControlled",actions:["setAnchorPoint","invokeOnOpen"]},{target:"open",actions:["setAnchorPoint","invokeOnOpen"]}],TRIGGER_CLICK:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",target:"opening"},TRIGGER_BLUR:{target:"idle"},ARROW_DOWN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightFirstItem","invokeOnOpen"]}],ARROW_UP:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["highlightLastItem","invokeOnOpen"]}]}},open:{tags:["open"],effects:["trackInteractOutside","trackPositioning","scrollToHighlightedItem"],entry:["focusMenu","resumePointer"],on:{"CONTROLLED.CLOSE":[{target:"closed",guard:"isArrowLeftEvent",actions:["focusParentMenu"]},{target:"closed"}],TRIGGER_CLICK:[{guard:tm(ja("isTriggerItem"),"isOpenControlled"),actions:["invokeOnClose"]},{guard:ja("isTriggerItem"),target:"closed",actions:["invokeOnClose"]}],CONTEXT_MENU:{actions:["setAnchorPoint","focusMenu"]},ARROW_UP:{actions:["highlightPrevItem","focusMenu"]},ARROW_DOWN:{actions:["highlightNextItem","focusMenu"]},ARROW_LEFT:[{guard:tm("isSubmenu","isOpenControlled"),actions:["invokeOnClose"]},{guard:"isSubmenu",target:"closed",actions:["focusParentMenu","invokeOnClose"]}],HOME:{actions:["highlightFirstItem","focusMenu"]},END:{actions:["highlightLastItem","focusMenu"]},ARROW_RIGHT:{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},ENTER:[{guard:"isTriggerItemHighlighted",actions:["openSubmenu"]},{actions:["clickHighlightedItem"]}],ITEM_POINTERMOVE:[{guard:ja("isPointerSuspended"),actions:["setHighlightedItem","focusMenu"]},{actions:["setLastHighlightedItem"]}],ITEM_POINTERLEAVE:{guard:tm(ja("isPointerSuspended"),ja("isTriggerItem")),actions:["clearHighlightedItem"]},ITEM_CLICK:[{guard:tm(ja("isTriggerItemHighlighted"),ja("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:tm(ja("isTriggerItemHighlighted"),ja("isHighlightedItemEditable"),"closeOnSelect"),target:"closed",actions:["invokeOnSelect","setOptionState","closeRootMenu","invokeOnClose"]},{guard:tm(ja("isTriggerItemHighlighted"),ja("isHighlightedItemEditable")),actions:["invokeOnSelect","setOptionState"]},{actions:["setHighlightedItem"]}],TRIGGER_POINTERMOVE:{guard:"isTriggerItem",actions:["setIntentPolygon"]},TRIGGER_POINTERLEAVE:{target:"closing"},ITEM_POINTERDOWN:{actions:["setHighlightedItem"]},TYPEAHEAD:{actions:["highlightMatchedItem"]},FOCUS_MENU:{actions:["focusMenu"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{closeOnSelect:({prop:t,event:e})=>!!((e==null?void 0:e.closeOnSelect)??t("closeOnSelect")),isTriggerItem:({event:t})=>Ele(t.target),isTriggerItemHighlighted:({event:t,scope:e,computed:n})=>{const r=t.target??e.getById(n("highlightedId"));return!!(r!=null&&r.hasAttribute("aria-controls"))},isSubmenu:({computed:t})=>t("isSubmenu"),isPointerSuspended:({context:t})=>t.get("suspendPointer"),isHighlightedItemEditable:({scope:t,computed:e})=>jM(t.getById(e("highlightedId"))),isOpenControlled:({prop:t})=>t("open")!==void 0,isArrowLeftEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="ARROW_LEFT"},isArrowUpEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="ARROW_UP"},isArrowDownEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="ARROW_DOWN"},isOpenAutoFocusEvent:({event:t})=>{var e;return((e=t.previousEvent)==null?void 0:e.type)==="OPEN_AUTOFOCUS"}},effects:{waitForOpenDelay({send:t}){const e=setTimeout(()=>{t({type:"DELAY.OPEN"})},100);return()=>clearTimeout(e)},waitForCloseDelay({send:t}){const e=setTimeout(()=>{t({type:"DELAY.CLOSE"})},300);return()=>clearTimeout(e)},waitForLongPress({send:t}){const e=setTimeout(()=>{t({type:"LONG_PRESS.OPEN"})},700);return()=>clearTimeout(e)},trackPositioning({context:t,prop:e,scope:n,refs:r}){if(A4(n))return;const i={...e("positioning"),...r.get("positioningOverride")};t.set("currentPlacement",i.placement);const s=()=>C4(n);return uc(V2(n),s,{...i,defer:!0,onComplete(o){t.set("currentPlacement",o.placement)}})},trackInteractOutside({refs:t,scope:e,prop:n,computed:r,send:i}){const s=()=>dd(e);let o=!0;return Py(s,{defer:!0,exclude:[V2(e)],onInteractOutside:n("onInteractOutside"),onFocusOutside:n("onFocusOutside"),onEscapeKeyDown(u){var c;(c=n("onEscapeKeyDown"))==null||c(u),r("isSubmenu")&&u.preventDefault(),R4({parent:t.get("parent")})},onPointerDownOutside(u){var p;const c=Us(u.detail.originalEvent);if(ep(A4(e),c)&&u.detail.contextmenu){u.preventDefault();return}o=!u.detail.focusable,(p=n("onPointerDownOutside"))==null||p(u)},onDismiss(){i({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},trackPointerMove({context:t,scope:e,send:n,refs:r,flush:i}){const s=r.get("parent");i(()=>{s.context.set("suspendPointer",!0)});const o=e.getDoc();return lr(o,"pointermove",u=>{Ple(t.get("intentPolygon"),{x:u.clientX,y:u.clientY})||(n({type:"POINTER_MOVED_AWAY_FROM_SUBMENU"}),s.context.set("suspendPointer",!1))})},scrollToHighlightedItem({event:t,scope:e,computed:n}){const r=()=>{if(t.type.startsWith("ITEM_POINTER"))return;const s=e.getById(n("highlightedId")),o=dd(e);S9(s,{rootEl:o,block:"nearest"})};return Pn(()=>r()),eD(()=>dd(e),{defer:!0,attributes:["aria-activedescendant"],callback:r})}},actions:{setAnchorPoint({context:t,event:e}){t.set("anchorPoint",e.point)},setSubmenuPlacement({computed:t,refs:e}){if(!t("isSubmenu"))return;const n=t("isRtl")?"left-start":"right-start";e.set("positioningOverride",{placement:n,gutter:0})},reposition({context:t,scope:e,prop:n,event:r,refs:i}){const s=()=>C4(e),o=t.get("anchorPoint"),u=o?()=>({width:0,height:0,...o}):void 0,c={...n("positioning"),...i.get("positioningOverride")};uc(V2(e),s,{...c,defer:!0,getAnchorRect:u,...r.options??{},listeners:!1,onComplete(f){t.set("currentPlacement",f.placement)}})},setOptionState({event:t}){if(!t.option)return;const{checked:e,onCheckedChange:n,type:r}=t.option;r==="radio"?n==null||n(!0):r==="checkbox"&&(n==null||n(!e))},clickHighlightedItem({scope:t,computed:e}){const n=t.getById(e("highlightedId"));!n||n.dataset.disabled||queueMicrotask(()=>n.click())},setIntentPolygon({context:t,scope:e,event:n}){const r=dd(e),i=t.get("currentPlacement");if(!r||!i)return;const s=r.getBoundingClientRect(),o=gle(s,i);if(!o)return;const c=wae(i)==="right"?-5:5;t.set("intentPolygon",[{...n.point,x:n.point.x+c},...o])},clearIntentPolygon({context:t}){t.set("intentPolygon",null)},resumePointer({refs:t,flush:e}){const n=t.get("parent");n&&e(()=>{n.context.set("suspendPointer",!1)})},setHighlightedItem({context:t,event:e}){const n=e.value||ff(e.target);t.set("highlightedValue",n)},clearHighlightedItem({context:t}){t.set("highlightedValue",null)},focusMenu({scope:t}){Pn(()=>{const e=dd(t),n=JM({root:e,enabled:!ep(e,t.getActiveElement()),filter(r){var i;return!((i=r.role)!=null&&i.startsWith("menuitem"))}});n==null||n.focus({preventScroll:!0})})},highlightFirstItem({context:t,scope:e}){(dd(e)?queueMicrotask:Pn)(()=>{const r=_le(e);r&&t.set("highlightedValue",ff(r))})},highlightLastItem({context:t,scope:e}){(dd(e)?queueMicrotask:Pn)(()=>{const r=yle(e);r&&t.set("highlightedValue",ff(r))})},highlightNextItem({context:t,scope:e,event:n,prop:r}){const i=xle(e,{loop:n.loop,value:t.get("highlightedValue"),loopFocus:r("loopFocus")});t.set("highlightedValue",ff(i))},highlightPrevItem({context:t,scope:e,event:n,prop:r}){const i=Sle(e,{loop:n.loop,value:t.get("highlightedValue"),loopFocus:r("loopFocus")});t.set("highlightedValue",ff(i))},invokeOnSelect({context:t,prop:e,scope:n}){var s;const r=t.get("highlightedValue");if(r==null)return;const i=Z7(n,r);Tle(i,r),(s=e("onSelect"))==null||s({value:r})},focusTrigger({scope:t,context:e,event:n,computed:r}){r("isSubmenu")||e.get("anchorPoint")||n.restoreFocus===!1||queueMicrotask(()=>{var i;return(i=V2(t))==null?void 0:i.focus({preventScroll:!0})})},highlightMatchedItem({scope:t,context:e,event:n,refs:r}){const i=wle(t,{key:n.key,value:e.get("highlightedValue"),typeaheadState:r.get("typeaheadState")});i&&e.set("highlightedValue",ff(i))},setParentMenu({refs:t,event:e}){t.set("parent",e.value)},setChildMenu({refs:t,event:e}){const n=t.get("children");n[e.id]=e.value,t.set("children",n)},closeRootMenu({refs:t}){R4({parent:t.get("parent")})},openSubmenu({refs:t,scope:e,computed:n}){const r=e.getById(n("highlightedId")),i=r==null?void 0:r.getAttribute("data-uid"),s=t.get("children"),o=i?s[i]:null;o==null||o.send({type:"OPEN_AUTOFOCUS"})},focusParentMenu({refs:t}){var e;(e=t.get("parent"))==null||e.send({type:"FOCUS_MENU"})},setLastHighlightedItem({context:t,event:e}){t.set("lastHighlightedValue",ff(e.target))},restoreHighlightedItem({context:t}){t.get("lastHighlightedValue")&&(t.set("highlightedValue",t.get("lastHighlightedValue")),t.set("lastHighlightedValue",null))},restoreParentHighlightedItem({refs:t}){var e;(e=t.get("parent"))==null||e.send({type:"HIGHLIGHTED.RESTORE"})},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},toggleVisibility({prop:t,event:e,send:n}){n({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}};function R4(t){let e=t.parent;for(;e&&e.computed("isSubmenu");)e=e.refs.get("parent");e==null||e.send({type:"CLOSE"})}function Ple(t,e){return t?mle(t,e):!1}function Ole(t,e,n){const r=Object.keys(t).length>0;if(!e)return null;if(!r)return iy(n,e);for(const i in t){const s=t[i],o=uw(s.scope);if(o===e)return o}return iy(n,e)}Nt()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]);Nt()(["closeOnSelect","disabled","value","valueText"]);Nt()(["htmlFor"]);Nt()(["id"]);Nt()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]);const Mle=t=>{const e=ue.useId(),{getRootNode:n}=Ay(),{dir:r}=xE(),i={id:e,dir:r,getRootNode:n,...t},s=Cy(Rle,i);return{api:Cle(s,wE),service:s}},[Q7,J7]=Ys({name:"MenuMachineContext",hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),[eW,Dle]=Ys({name:"MenuMachineContext",hookName:"useMenuMachineContext",providerName:"<MenuMachineProvider />",strict:!1}),Ble=t=>{const[e,n]=Sv(t),[r,i]=nu()(n,["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]),s=ui(),o=J7(),{api:u,service:c}=Mle(r),f=hp(xt({present:u.open},e));X7(()=>{o&&s&&(s.setChild(c),u.setParent(o))});const p=ue.useCallback(()=>s==null?void 0:s.getTriggerItemProps(u),[u,s]);return ie.jsx(eW,{value:p,children:ie.jsx(Q7,{value:c,children:ie.jsx(R7,{value:u,children:ie.jsx(wv,{value:f,...i})})})})},kle=t=>{const e=ui(),n=J7(),[r,{value:i,children:s}]=Sv(t),{api:o,service:u}=i,c=hp(xt({present:o.open},r));X7(()=>{n&&e&&(e.setChild(u),o.setParent(n))});const f=ue.useCallback(()=>e==null?void 0:e.getTriggerItemProps(o),[o,e]);return ie.jsx(eW,{value:f,children:ie.jsx(Q7,{value:u,children:ie.jsx(R7,{value:o,children:ie.jsx(wv,{value:c,children:s})})})})},tW=ue.forwardRef((t,e)=>{const n=ui(),r=xt(n.getSeparatorProps(),t);return ie.jsx(Gt.hr,{...r,ref:e})});tW.displayName="MenuSeparator";const nW=ue.forwardRef((t,e)=>{const n=ui(),r=jd(),i=xt({...n.getTriggerProps(),"aria-controls":r.unmounted?void 0:n.getTriggerProps()["aria-controls"]},t);return ie.jsx(Gt.button,{...i,ref:e})});nW.displayName="MenuTrigger";const rW=ue.forwardRef((t,e)=>{const n=Dle(),r=xt((n==null?void 0:n())??{},t);return ie.jsx(Gt.div,{...r,ref:e})});rW.displayName="MenuTriggerItem";const[iW,pp]=Ys({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),sW=ue.forwardRef((t,e)=>{const n=pp(),r=xt(n.getControlProps(),t);return ie.jsx(Gt.div,{...r,ref:e})});sW.displayName="NumberInputControl";const aW=ue.forwardRef((t,e)=>{const n=pp(),r=xt(n.getDecrementTriggerProps(),t);return ie.jsx(Gt.button,{...r,ref:e})});aW.displayName="NumberInputDecrementTrigger";const oW=ue.forwardRef((t,e)=>{const n=pp(),r=xt(n.getIncrementTriggerProps(),t);return ie.jsx(Gt.button,{...r,ref:e})});oW.displayName="NumberInputIncrementTrigger";const lW=ue.forwardRef((t,e)=>{const n=pp(),r=xt(n.getInputProps(),t),i=l7();return ie.jsx(Gt.input,{"aria-describedby":i==null?void 0:i.ariaDescribedby,...r,ref:e})});lW.displayName="NumberInputInput";const uW=ue.forwardRef((t,e)=>{const n=pp(),r=xt(n.getLabelProps(),t);return ie.jsx(Gt.label,{...r,ref:e})});uW.displayName="NumberInputLabel";let oA=new Map,AR=!1;try{AR=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let cw=!1;try{cw=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const cW={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Ile{format(e){let n="";if(!AR&&this.options.signDisplay!=null?n=Ule(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!cw){var r;let{unit:i,unitDisplay:s="short",locale:o}=this.resolvedOptions();if(!i)return n;let u=(r=cW[i])===null||r===void 0?void 0:r[s];n+=u[o]||u.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(n);return[...r.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!AR&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!cw&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=Nle(e,n),this.options=n}}function Nle(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!cw){var r;let{unit:o,unitDisplay:u="short"}=e;if(!o)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=cW[o])===null||r===void 0)&&r[u]))throw new Error(`Unsupported unit ${o} with unitDisplay = ${u}`);e={...e,style:"decimal"}}let i=t+(e?Object.entries(e).sort((o,u)=>o[0]<u[0]?-1:1).join():"");if(oA.has(i))return oA.get(i);let s=new Intl.NumberFormat(t,e);return oA.set(i,s),s}function Ule(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let r=!1;if(e==="always"?r=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let i=t.format(-n),s=t.format(n),o=i.replace(s,"").replace(/\u200e|\u061C/,"");return[...o].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(s,"!!!").replace(o,"+").replace("!!!",s)}else return t.format(n)}}const Fle=new RegExp("^.*\\(.*\\).*$"),Lle=["latn","arab","hanidec","deva","beng"];class dW{parse(e){return lA(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,r){return lA(this.locale,this.options,e).isValidPartialNumber(e,n,r)}getNumberingSystem(e){return lA(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const P4=new Map;function lA(t,e,n){let r=O4(t,e);if(!t.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let i of Lle)if(i!==r.options.numberingSystem){let s=O4(t+(t.includes("-u-")?"-nu-":"-u-nu-")+i,e);if(s.isValidPartialNumber(n))return s}}return r}function O4(t,e){let n=t+(e?Object.entries(e).sort((i,s)=>i[0]<s[0]?-1:1).join():""),r=P4.get(n);return r||(r=new Gle(t,e),P4.set(n,r)),r}class Gle{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=W2(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let o=n.indexOf("-");n=n.replace("-","");let u=n.indexOf(".");u===-1&&(u=n.length),n=n.replace(".",""),u-2===0?n=`0.${n}`:u-2===-1?n=`0.0${n}`:u-2===-2?n="0.00":n=`${n.slice(0,u-2)}.${n.slice(u-2)}`,o>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var i,s;let o={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new dW(this.locale,o).parse(new Ile(this.locale,o).format(r))}return this.options.currencySign==="accounting"&&Fle.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=W2(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=W2(e,"."," ")),e}isValidPartialNumber(e,n=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=W2(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=Vle(e,this.formatter,this.options,n);var r,i;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const M4=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),zle=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Vle(t,e,n,r){var i,s,o,u;let c=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),f=c.formatToParts(-10000.111),p=c.formatToParts(10000.111),v=zle.map(X=>c.formatToParts(X));var b;let y=(b=(i=f.find(X=>X.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&b!==void 0?b:"-",E=(s=p.find(X=>X.type==="plusSign"))===null||s===void 0?void 0:s.value;!E&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(E="+");let T=(o=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(X=>X.type==="decimal"))===null||o===void 0?void 0:o.value,A=(u=f.find(X=>X.type==="group"))===null||u===void 0?void 0:u.value,P=f.filter(X=>!M4.has(X.type)).map(X=>D4(X.value)),O=v.flatMap(X=>X.filter(Z=>!M4.has(Z.type)).map(Z=>D4(Z.value))),M=[...new Set([...P,...O])].sort((X,Z)=>Z.length-X.length),D=M.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${M.join("|")}|[\\p{White_Space}]`,"gu"),W=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),G=new Map(W.map((X,Z)=>[X,Z])),Y=new RegExp(`[${W.join("")}]`,"g");return{minusSign:y,plusSign:E,decimal:T,group:A,literals:D,numeral:Y,index:X=>String(G.get(X))}}function W2(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function D4(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var hW=Ct("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),cd=hW.build(),Hle=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`number-input:${t.id}`},n_=t=>{var e;return((e=t.ids)==null?void 0:e.input)??`number-input:${t.id}:input`},fW=t=>{var e;return((e=t.ids)==null?void 0:e.incrementTrigger)??`number-input:${t.id}:inc`},pW=t=>{var e;return((e=t.ids)==null?void 0:e.decrementTrigger)??`number-input:${t.id}:dec`},Wle=t=>{var e;return((e=t.ids)==null?void 0:e.scrubber)??`number-input:${t.id}:scrubber`},gW=t=>`number-input:${t.id}:cursor`,$le=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`number-input:${t.id}:label`},r_=t=>t.getById(n_(t)),jle=t=>t.getById(fW(t)),Xle=t=>t.getById(pW(t)),mW=t=>t.getDoc().getElementById(gW(t)),Yle=(t,e)=>{let n=null;return e==="increment"&&(n=jle(t)),e==="decrement"&&(n=Xle(t)),n},qle=(t,e)=>{if(!p9())return Qle(t,e),()=>{var n;(n=mW(t))==null||n.remove()}},Kle=t=>{const e=t.getDoc(),n=e.documentElement,r=e.body;return r.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{r.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),r.style.length||r.removeAttribute("style")}},Zle=(t,e)=>{const{point:n,isRtl:r,event:i}=e,s=t.getWin(),o=C_(i.movementX,s.devicePixelRatio),u=C_(i.movementY,s.devicePixelRatio);let c=o>0?"increment":o<0?"decrement":null;r&&c==="increment"&&(c="decrement"),r&&c==="decrement"&&(c="increment");const f={x:n.x+o,y:n.y+u},p=s.innerWidth,v=C_(7.5,s.devicePixelRatio);return f.x=Xie(f.x+v,p)-v,{hint:c,point:f}},Qle=(t,e)=>{const n=t.getDoc(),r=n.createElement("div");r.className="scrubber--cursor",r.id=gW(t),Object.assign(r.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:wre,transform:e?`translate3d(${e.x}px, ${e.y}px, 0px)`:void 0,willChange:"transform"}),r.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(r)};function Jle(t,e){const{state:n,send:r,prop:i,scope:s,computed:o}=t,u=n.hasTag("focus"),c=o("isDisabled"),f=i("readOnly"),p=o("isValueEmpty"),v=o("isOutOfRange")||!!i("invalid"),b=c||!o("canIncrement")||f,y=c||!o("canDecrement")||f,E=i("translations");return{focused:u,invalid:v,empty:p,value:o("formattedValue"),valueAsNumber:o("valueAsNumber"),setValue(S){r({type:"VALUE.SET",value:S})},clearValue(){r({type:"VALUE.CLEAR"})},increment(){r({type:"VALUE.INCREMENT"})},decrement(){r({type:"VALUE.DECREMENT"})},setToMax(){r({type:"VALUE.SET",value:i("max")})},setToMin(){r({type:"VALUE.SET",value:i("min")})},focus(){var S;(S=r_(s))==null||S.focus()},getRootProps(){return e.element({id:Hle(s),...cd.root.attrs,dir:i("dir"),"data-disabled":er(c),"data-focus":er(u),"data-invalid":er(v)})},getLabelProps(){return e.label({...cd.label.attrs,dir:i("dir"),"data-disabled":er(c),"data-focus":er(u),"data-invalid":er(v),id:$le(s),htmlFor:n_(s)})},getControlProps(){return e.element({...cd.control.attrs,dir:i("dir"),role:"group","aria-disabled":c,"data-focus":er(u),"data-disabled":er(c),"data-invalid":er(v),"aria-invalid":fR(v)})},getValueTextProps(){return e.element({...cd.valueText.attrs,dir:i("dir"),"data-disabled":er(c),"data-invalid":er(v),"data-focus":er(u)})},getInputProps(){return e.input({...cd.input.attrs,dir:i("dir"),name:i("name"),form:i("form"),id:n_(s),role:"spinbutton",defaultValue:o("formattedValue"),pattern:i("pattern"),inputMode:i("inputMode"),"aria-invalid":fR(v),"data-invalid":er(v),disabled:c,"data-disabled":er(c),readOnly:f,required:i("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":i("min"),"aria-valuemax":i("max"),"aria-valuenow":Number.isNaN(o("valueAsNumber"))?void 0:o("valueAsNumber"),"aria-valuetext":o("valueText"),onFocus(){r({type:"INPUT.FOCUS"})},onBlur(){r({type:"INPUT.BLUR"})},onInput(S){r({type:"INPUT.CHANGE",target:S.currentTarget,hint:"set"})},onBeforeInput(S){try{const{selectionStart:T,selectionEnd:A,value:P}=S.currentTarget,O=P.slice(0,T)+(S.data??"")+P.slice(A);o("parser").isValidPartialNumber(O)||S.preventDefault()}catch{}},onKeyDown(S){if(S.defaultPrevented||f||m9(S))return;const T=qre(S)*i("step"),P={ArrowUp(){r({type:"INPUT.ARROW_UP",step:T}),S.preventDefault()},ArrowDown(){r({type:"INPUT.ARROW_DOWN",step:T}),S.preventDefault()},Home(){pR(S)||(r({type:"INPUT.HOME"}),S.preventDefault())},End(){pR(S)||(r({type:"INPUT.END"}),S.preventDefault())},Enter(){r({type:"INPUT.ENTER"})}}[S.key];P==null||P(S)}})},getDecrementTriggerProps(){return e.button({...cd.decrementTrigger.attrs,dir:i("dir"),id:pW(s),disabled:y,"data-disabled":er(y),"aria-label":E.decrementLabel,type:"button",tabIndex:-1,"aria-controls":n_(s),onPointerDown(S){var T;y||!$I(S)||(r({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:S.pointerType}),S.pointerType==="mouse"&&S.preventDefault(),S.pointerType==="touch"&&((T=S.currentTarget)==null||T.focus({preventScroll:!0})))},onPointerUp(S){r({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:S.pointerType})},onPointerLeave(){y||r({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return e.button({...cd.incrementTrigger.attrs,dir:i("dir"),id:fW(s),disabled:b,"data-disabled":er(b),"aria-label":E.incrementLabel,type:"button",tabIndex:-1,"aria-controls":n_(s),onPointerDown(S){var T;b||!$I(S)||(r({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:S.pointerType}),S.pointerType==="mouse"&&S.preventDefault(),S.pointerType==="touch"&&((T=S.currentTarget)==null||T.focus({preventScroll:!0})))},onPointerUp(S){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:S.pointerType})},onPointerLeave(S){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:S.pointerType})}})},getScrubberProps(){return e.element({...cd.scrubber.attrs,dir:i("dir"),"data-disabled":er(c),id:Wle(s),role:"presentation",onMouseDown(S){if(c)return;const T=mm(S),P=$i(S.currentTarget).devicePixelRatio;T.x=T.x-C_(7.5,P),T.y=T.y-C_(7.5,P),r({type:"SCRUBBER.PRESS_DOWN",point:T}),S.preventDefault()},style:{cursor:c?void 0:"ew-resize"}})}}}function eue(t){if(!(!t||t.ownerDocument.activeElement!==t))try{const{selectionStart:e,selectionEnd:n,value:r}=t,i=r.substring(0,e),s=r.substring(n);return{start:e,end:n,value:r,beforeTxt:i,afterTxt:s}}catch{}}function tue(t,e){if(!(!t||t.ownerDocument.activeElement!==t)){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:n}=t,{beforeTxt:r="",afterTxt:i="",start:s}=e;let o=n.length;if(n.endsWith(i))o=n.length-i.length;else if(n.startsWith(r))o=r.length;else if(s!=null){const u=r[s-1],c=n.indexOf(u,s-1);c!==-1&&(o=c+1)}t.setSelectionRange(o,o)}catch{}}}var nue=(t,e={})=>new Intl.NumberFormat(t,e),rue=(t,e={})=>new dW(t,e),uA=(t,e)=>{const{prop:n,computed:r}=e;return n("formatOptions")?r("parser").parse(String(t)):parseFloat(t)},pf=(t,e)=>{const{prop:n,computed:r}=e;return Number.isNaN(t)?"":n("formatOptions")?r("formatter").format(t):t.toString()},iue=(t,e)=>{let n=t!==void 0&&!Number.isNaN(t)?t:1;return(e==null?void 0:e.style)==="percent"&&(t===void 0||Number.isNaN(t))&&(n=.01),n},{choose:sue,guards:aue,createMachine:oue}=ose(),{not:B4,and:k4}=aue,lue=oue({props({props:t}){const e=iue(t.step,t.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!t.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",defaultValue:"",step:e,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...t,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}}},initialState(){return"idle"},context({prop:t,bindable:e,getComputed:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){var o;const i=n(),s=uA(r,{computed:i,prop:t});(o=t("onValueChange"))==null||o({value:r,valueAsNumber:s})}})),hint:e(()=>({defaultValue:null})),scrubberCursorPoint:e(()=>({defaultValue:null,hash(r){return r?`x:${r.x}, y:${r.y}`:""}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:t})=>t("dir")==="rtl",valueAsNumber:({context:t,computed:e,prop:n})=>uA(t.get("value"),{computed:e,prop:n}),formattedValue:({computed:t,prop:e})=>pf(t("valueAsNumber"),{computed:t,prop:e}),isAtMin:({computed:t,prop:e})=>qie(t("valueAsNumber"),e("min")),isAtMax:({computed:t,prop:e})=>Yie(t("valueAsNumber"),e("max")),isOutOfRange:({computed:t,prop:e})=>!Kie(t("valueAsNumber"),e("min"),e("max")),isValueEmpty:({context:t})=>t.get("value")==="",isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),canIncrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMax"),canDecrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMin"),valueText:({prop:t,context:e})=>{var n,r;return(r=(n=t("translations")).valueText)==null?void 0:r.call(n,e.get("value"))},formatter:e4(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>nue(t,e)),parser:e4(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>rue(t,e))},watch({track:t,action:e,context:n,computed:r,prop:i}){t([()=>n.get("value"),()=>i("locale")],()=>{e(["syncInputElement"])}),t([()=>r("isOutOfRange")],()=>{e(["invokeOnInvalid"])}),t([()=>n.hash("scrubberCursorPoint")],()=>{e(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:k4("clampValueOnBlur",B4("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:B4("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:sue([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:k4("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:t})=>t("clampValueOnBlur"),spinOnPress:({prop:t})=>!!t("spinOnPress"),isInRange:({computed:t})=>!t("isOutOfRange"),isDecrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="decrement",isIncrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="increment",isTouchPointer:({event:t})=>t.pointerType==="touch"},effects:{waitForChangeDelay({send:t}){const e=setTimeout(()=>{t({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(e)},spinValue({send:t}){const e=setInterval(()=>{t({type:"SPIN"})},50);return()=>clearInterval(e)},trackFormControl({context:t,scope:e}){const n=r_(e);return ZM(n,{onFieldsetDisabledChange(r){t.set("fieldsetDisabled",r)},onFormReset(){t.set("value",t.initial("value"))}})},setupVirtualCursor({context:t,scope:e}){const n=t.get("scrubberCursorPoint");return qle(e,n)},preventTextSelection({scope:t}){return Kle(t)},trackButtonDisabled({context:t,scope:e,send:n}){const r=t.get("hint"),i=Yle(e,r);return eD(i,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:t,send:e,prop:n}){const r=r_(t);if(!r||!t.isActiveElement(r)||!n("allowMouseWheel"))return;function i(s){s.preventDefault();const o=Math.sign(s.deltaY)*-1;o===1?e({type:"VALUE.INCREMENT"}):o===-1&&e({type:"VALUE.DECREMENT"})}return lr(r,"wheel",i,{passive:!1})},activatePointerLock({scope:t}){if(!p9())return hie(t.getDoc())},trackMousemove({scope:t,send:e,context:n,computed:r}){const i=t.getDoc();function s(u){const c=n.get("scrubberCursorPoint"),f=r("isRtl"),p=Zle(t,{point:c,isRtl:f,event:u});p.hint&&e({type:"SCRUBBER.POINTER_MOVE",hint:p.hint,point:p.point})}function o(){e({type:"SCRUBBER.POINTER_UP"})}return nw(lr(i,"mousemove",s,!1),lr(i,"mouseup",o,!1))}},actions:{focusInput({scope:t,prop:e}){if(!e("focusInputOnChange"))return;const n=r_(t);t.isActiveElement(n)||Pn(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment({context:t,event:e,prop:n,computed:r}){let i=ese(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(i=Fs(i,n("min"),n("max"))),t.set("value",pf(i,{computed:r,prop:n}))},decrement({context:t,event:e,prop:n,computed:r}){let i=tse(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(i=Fs(i,n("min"),n("max"))),t.set("value",pf(i,{computed:r,prop:n}))},setClampedValue({context:t,prop:e,computed:n}){const r=Fs(n("valueAsNumber"),e("min"),e("max"));t.set("value",pf(r,{computed:n,prop:e}))},setRawValue({context:t,event:e,prop:n,computed:r}){let i=uA(e.value,{computed:r,prop:n});n("allowOverflow")||(i=Fs(i,n("min"),n("max"))),t.set("value",pf(i,{computed:r,prop:n}))},setValue({context:t,event:e}){var r;const n=((r=e.target)==null?void 0:r.value)??e.value;t.set("value",n)},clearValue({context:t}){t.set("value","")},incrementToMax({context:t,prop:e,computed:n}){const r=pf(e("max"),{computed:n,prop:e});t.set("value",r)},decrementToMin({context:t,prop:e,computed:n}){const r=pf(e("min"),{computed:n,prop:e});t.set("value",r)},setHint({context:t,event:e}){t.set("hint",e.hint)},clearHint({context:t}){t.set("hint",null)},invokeOnFocus({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!0,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnBlur({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!1,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnInvalid({computed:t,prop:e,event:n}){var i;if(n.type==="INPUT.CHANGE")return;const r=t("valueAsNumber")>e("max")?"rangeOverflow":"rangeUnderflow";(i=e("onValueInvalid"))==null||i({reason:r,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},syncInputElement({context:t,event:e,computed:n,scope:r}){const i=e.type.endsWith("CHANGE")?t.get("value"):n("formattedValue"),s=r_(r),o=eue(s);Pn(()=>{_E(s,i),tue(s,o)})},setFormattedValue({context:t,computed:e}){t.set("value",e("formattedValue"))},setCursorPoint({context:t,event:e}){t.set("scrubberCursorPoint",e.point)},clearCursorPoint({context:t}){t.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:t,scope:e}){const n=mW(e),r=t.get("scrubberCursorPoint");!n||!r||(n.style.transform=`translate3d(${r.x}px, ${r.y}px, 0px)`)}}}});Nt()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);const uue=t=>{const e=ue.useId(),{getRootNode:n}=Ay(),{dir:r,locale:i}=xE(),s=l7(),o={id:e,ids:{label:s==null?void 0:s.ids.label,input:s==null?void 0:s.ids.control},disabled:s==null?void 0:s.disabled,readOnly:s==null?void 0:s.readOnly,required:s==null?void 0:s.required,invalid:s==null?void 0:s.invalid,dir:r,locale:i,getRootNode:n,...t},u=Cy(lue,o);return Jle(u,wE)},vW=ue.forwardRef((t,e)=>{const[n,r]=nu()(t,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),i=uue(n),s=xt(i.getRootProps(),r);return ie.jsx(iW,{value:i,children:ie.jsx(Gt.div,{...s,ref:e})})});vW.displayName="NumberInputRoot";const bW=ue.forwardRef((t,e)=>{const[{value:n},r]=nu()(t,["value"]),i=xt(n.getRootProps(),r);return ie.jsx(iW,{value:n,children:ie.jsx(Gt.div,{...i,ref:e})})});bW.displayName="NumberInputRootProvider";const _W=ue.forwardRef((t,e)=>{const n=pp(),r=xt(n.getScrubberProps(),t);return ie.jsx(Gt.div,{...r,ref:e})});_W.displayName="NumberInputScrubber";const yW=ue.forwardRef((t,e)=>{const{children:n,...r}=t,i=pp(),s=xt(i.getValueTextProps(),r);return ie.jsx(Gt.span,{...s,ref:e,children:n||i.value})});yW.displayName="NumberInputValueText";var xW=Ct("pinInput").parts("root","label","input","control");xW.build();Nt()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var SW=Ct("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");SW.build();Nt()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","portalled","positioning"]);const xD=t=>{var c;const{children:e,disabled:n}=t,[r,i]=ue.useState((c=t.container)==null?void 0:c.current),s=ue.useSyncExternalStore(due,()=>!1,()=>!0),{getRootNode:o}=Ay();if(ue.useEffect(()=>{i(()=>{var f;return(f=t.container)==null?void 0:f.current})},[t.container]),s||n)return ie.jsx(ie.Fragment,{children:e});const u=r??cue(o);return ie.jsx(ie.Fragment,{children:ue.Children.map(e,f=>Ty.createPortal(f,u))})},cue=t=>{const e=t==null?void 0:t(),n=e.getRootNode();return ty(n)?n:oo(e).body},due=()=>()=>{};var SD=Ct("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");SD.build();Nt()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);var wW=Ct("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");wW.build();Nt()(["ids","defaultValue","value","id","encoding","dir","getRootNode","onValueChange","pixelSize"]);var wD=Ct("radio-group").parts("root","label","item","itemText","itemControl","indicator");wD.build();Nt()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);Nt()(["value","disabled","invalid"]);var EW=Ct("rating-group").parts("root","label","item","control");EW.build();Nt()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value","defaultValue"]);Nt()(["index"]);const TW=wD.rename("segment-group");TW.build();var CW=Ct("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText");CW.build();var AW=t=>new u7(t);AW.empty=()=>new u7({items:[]});var hue=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`select:${t.id}:content`},fue=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`select:${t.id}:trigger`},pue=t=>{var e;return((e=t.ids)==null?void 0:e.clearTrigger)??`select:${t.id}:clear-trigger`},gue=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`select:${t.id}:option:${e}`},mue=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenSelect)??`select:${t.id}:select`},vue=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`select:${t.id}:positioner`},cA=t=>t.getById(mue(t)),F0=t=>t.getById(hue(t)),$2=t=>t.getById(fue(t)),bue=t=>t.getById(pue(t)),I4=t=>t.getById(vue(t)),_ue=(t,e)=>t.getById(gue(t,e)),{and:L0,not:gf,or:yue}=dp();yue("isTriggerArrowDownEvent","isTriggerEnterEvent"),L0(gf("multiple"),"hasSelectedItems"),gf("multiple"),L0(gf("multiple"),"hasSelectedItems"),gf("multiple"),gf("multiple"),gf("multiple"),gf("multiple"),L0("closeOnSelect","isOpenControlled"),L0("hasHighlightedItem","loop","isLastItemHighlighted"),L0("hasHighlightedItem","loop","isFirstItemHighlighted");Nt()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","defaultOpen","open","composite","positioning","required","readOnly","scrollToIndexFn","value","defaultValue","defaultHighlightedValue"]);Nt()(["item","persistFocus"]);Nt()(["id"]);Nt()(["htmlFor"]);var RW=Ct("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");RW.build();Nt()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);Nt()(["index","name"]);var PW=Ct("switch").parts("root","label","control","thumb");PW.build();Nt()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const[OW,My]=Ys({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),MW=ue.forwardRef((t,e)=>{const n=My(),r=xt(n.getArrowProps(),t);return ie.jsx(Gt.div,{...r,ref:e})});MW.displayName="TooltipArrow";const DW=ue.forwardRef((t,e)=>{const n=My(),r=xt(n.getArrowTipProps(),t);return ie.jsx(Gt.div,{...r,ref:e})});DW.displayName="TooltipArrowTip";const BW=ue.forwardRef((t,e)=>{const n=My(),r=jd(),i=xt(n.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:ie.jsx(Gt.div,{...i,ref:wy(r.ref,e)})});BW.displayName="TooltipContent";const kW=ue.forwardRef((t,e)=>{const n=My(),r=xt(n.getPositionerProps(),t);return jd().unmounted?null:ie.jsx(Gt.div,{...r,ref:e})});kW.displayName="TooltipPositioner";const xue=Symbol(),N4=Object.getPrototypeOf,RR=new WeakMap,Sue=t=>t&&(RR.has(t)?RR.get(t):N4(t)===Object.prototype||N4(t)===Array.prototype),wue=t=>Sue(t)&&t[xue]||null,U4=(t,e=!0)=>{RR.set(t,e)};function Eue(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function IW(t,e){const n=Eue();return n?(n[t]||(n[t]=e()),n[t]):e()}var vS=IW("__zag__refSet",()=>new WeakSet),Tue=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,Cue=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,Aue=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",Rue=t=>Tue(t)||Cue(t)||Aue(t),PR=t=>t!==null&&typeof t=="object",F4=t=>PR(t)&&!vS.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!Rue(t)&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),Tf=IW("__zag__proxyStateMap",()=>new WeakMap),Pue=(t=Object.is,e=(u,c)=>new Proxy(u,c),n=new WeakMap,r=(u,c)=>{const f=n.get(u);if((f==null?void 0:f[0])===c)return f[1];const p=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return U4(p,!0),n.set(u,[c,p]),Reflect.ownKeys(u).forEach(v=>{const b=Reflect.get(u,v);vS.has(b)?(U4(b,!1),p[v]=b):Tf.has(b)?p[v]=Due(b):p[v]=b}),Object.freeze(p)},i=new WeakMap,s=[1,1],o=u=>{if(!PR(u))throw new Error("object required");const c=i.get(u);if(c)return c;let f=s[0];const p=new Set,v=(G,Y=++s[0])=>{f!==Y&&(f=Y,p.forEach(L=>L(G,Y)))};let b=s[1];const y=(G=++s[1])=>(b!==G&&!p.size&&(b=G,S.forEach(([Y])=>{const L=Y[1](G);L>f&&(f=L)})),f),E=G=>(Y,L)=>{const X=[...Y];X[1]=[G,...X[1]],v(X,L)},S=new Map,T=(G,Y)=>{if(p.size){const L=Y[3](E(G));S.set(G,[Y,L])}else S.set(G,[Y])},A=G=>{var L;const Y=S.get(G);Y&&(S.delete(G),(L=Y[1])==null||L.call(Y))},P=G=>(p.add(G),p.size===1&&S.forEach(([L,X],Z)=>{const ee=L[3](E(Z));S.set(Z,[L,ee])}),()=>{p.delete(G),p.size===0&&S.forEach(([L,X],Z)=>{X&&(X(),S.set(Z,[L]))})}),O=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),D=e(O,{deleteProperty(G,Y){const L=Reflect.get(G,Y);A(Y);const X=Reflect.deleteProperty(G,Y);return X&&v(["delete",[Y],L]),X},set(G,Y,L,X){var Te;const Z=Reflect.has(G,Y),ee=Reflect.get(G,Y,X);if(Z&&(t(ee,L)||i.has(L)&&t(ee,i.get(L))))return!0;A(Y),PR(L)&&(L=wue(L)||L);let be=L;if(!((Te=Object.getOwnPropertyDescriptor(G,Y))!=null&&Te.set)){!Tf.has(L)&&F4(L)&&(be=NW(L));const he=!vS.has(be)&&Tf.get(be);he&&T(Y,he)}return Reflect.set(G,Y,be,X),v(["set",[Y],L,ee]),!0}});i.set(u,D);const W=[O,y,r,P];return Tf.set(D,W),Reflect.ownKeys(u).forEach(G=>{const Y=Object.getOwnPropertyDescriptor(u,G);Y.get||Y.set?Object.defineProperty(O,G,Y):D[G]=u[G]}),D})=>[o,Tf,vS,t,e,F4,n,r,i,s],[Oue]=Pue();function NW(t={}){return Oue(t)}function Mue(t,e,n){const r=Tf.get(t);let i;const s=[],o=r[3];let u=!1;const f=o(p=>{s.push(p),i||(i=Promise.resolve().then(()=>{i=void 0,u&&e(s.splice(0))}))});return u=!0,()=>{u=!1,f()}}function Due(t){const e=Tf.get(t),[n,r,i]=e;return i(n,r())}var UW=Ct("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),G0=UW.build(),FW=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`tooltip:${t.id}:trigger`},Bue=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`tooltip:${t.id}:content`},kue=t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`tooltip:${t.id}:arrow`},LW=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`tooltip:${t.id}:popper`},dA=t=>t.getById(FW(t)),L4=t=>t.getById(LW(t)),zu=NW({id:null});function Iue(t,e){const{state:n,context:r,send:i,scope:s,prop:o,event:u}=t,c=o("id"),f=!!o("aria-label"),p=n.matches("open","closing"),v=FW(s),b=Bue(s),y=o("disabled"),E=q9({...o("positioning"),placement:r.get("currentPlacement")});return{open:p,setOpen(S){n.matches("open","closing")!==S&&i({type:S?"open":"close"})},reposition(S={}){i({type:"positioning.set",options:S})},getTriggerProps(){return e.button({...G0.trigger.attrs,id:v,dir:o("dir"),"data-expanded":er(p),"data-state":p?"open":"closed","aria-describedby":p?b:void 0,onClick(S){S.defaultPrevented||y||o("closeOnClick")&&i({type:"close",src:"trigger.click"})},onFocus(S){queueMicrotask(()=>{S.defaultPrevented||y||u.src!=="trigger.pointerdown"&&SR()&&i({type:"open",src:"trigger.focus"})})},onBlur(S){S.defaultPrevented||y||c===zu.id&&i({type:"close",src:"trigger.blur"})},onPointerDown(S){S.defaultPrevented||y||o("closeOnPointerDown")&&c===zu.id&&i({type:"close",src:"trigger.pointerdown"})},onPointerMove(S){S.defaultPrevented||y||S.pointerType!=="touch"&&i({type:"pointer.move"})},onPointerLeave(){y||i({type:"pointer.leave"})},onPointerCancel(){y||i({type:"pointer.leave"})}})},getArrowProps(){return e.element({id:kue(s),...G0.arrow.attrs,dir:o("dir"),style:E.arrow})},getArrowTipProps(){return e.element({...G0.arrowTip.attrs,dir:o("dir"),style:E.arrowTip})},getPositionerProps(){return e.element({id:LW(s),...G0.positioner.attrs,dir:o("dir"),style:E.floating})},getContentProps(){return e.element({...G0.content.attrs,dir:o("dir"),hidden:!p,"data-state":p?"open":"closed",role:f?void 0:"tooltip",id:f?void 0:b,"data-placement":r.get("currentPlacement"),onPointerEnter(){i({type:"content.pointer.move"})},onPointerLeave(){i({type:"content.pointer.leave"})},style:{pointerEvents:o("interactive")?"auto":"none"}})}}}var{and:Nue,not:G4}=dp(),Uue={initialState:({prop:t})=>t("open")||t("defaultOpen")?"open":"closed",props({props:t}){return{id:"x",openDelay:1e3,closeDelay:500,closeOnPointerDown:!0,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,closeOnClick:!0,disabled:!1,...t,positioning:{placement:"bottom",...t.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:t})=>({currentPlacement:t(()=>({defaultValue:void 0})),hasPointerMoveOpened:t(()=>({defaultValue:!1}))}),watch({track:t,action:e,prop:n}){t([()=>n("disabled")],()=>{e(["closeIfDisabled"])}),t([()=>n("open")],()=>{e(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:Nue("noVisibleTooltip",G4("hasPointerMoveOpened")),target:"opening"},{guard:G4("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>zu.id===null,isVisible:({prop:t})=>t("id")===zu.id,isInteractive:({prop:t})=>!!t("interactive"),hasPointerMoveOpened:({context:t})=>t.get("hasPointerMoveOpened"),isOpenControlled:({prop:t})=>t("open")!==void 0},actions:{setGlobalId:({prop:t})=>{zu.id=t("id")},clearGlobalId:({prop:t})=>{t("id")===zu.id&&(zu.id=null)},invokeOnOpen:({prop:t})=>{var e;(e=t("onOpenChange"))==null||e({open:!0})},invokeOnClose:({prop:t})=>{var e;(e=t("onOpenChange"))==null||e({open:!1})},closeIfDisabled:({prop:t,send:e})=>{t("disabled")&&e({type:"close",src:"disabled.change"})},reposition:({context:t,event:e,prop:n,scope:r})=>{if(e.type!=="positioning.set")return;const i=()=>L4(r);return uc(dA(r),i,{...n("positioning"),...e.options,defer:!0,listeners:!1,onComplete(s){t.set("currentPlacement",s.placement)}})},toggleVisibility:({prop:t,event:e,send:n})=>{queueMicrotask(()=>{n({type:t("open")?"controlled.open":"controlled.close",previousEvent:e})})},setPointerMoveOpened:({context:t})=>{t.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:t})=>{t.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:t})=>{var e;return Poe({root:(e=t.getRootNode)==null?void 0:e.call(t)})},trackPositioning:({context:t,prop:e,scope:n})=>{t.get("currentPlacement")||t.set("currentPlacement",e("positioning").placement);const r=()=>L4(n);return uc(dA(n),r,{...e("positioning"),defer:!0,onComplete(i){t.set("currentPlacement",i.placement)}})},trackPointerlockChange:({send:t,scope:e})=>{const n=e.getDoc();return lr(n,"pointerlockchange",()=>t({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:t,prop:e,scope:n})=>{if(!e("closeOnScroll"))return;const r=dA(n);if(!r)return;const s=x9(r).map(o=>lr(o,"scroll",()=>{t({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{s.forEach(o=>o==null?void 0:o())}},trackStore:({prop:t,send:e})=>{let n;return queueMicrotask(()=>{n=Mue(zu,()=>{zu.id!==t("id")&&e({type:"close",src:"id.change"})})}),()=>n==null?void 0:n()},trackEscapeKey:({send:t,prop:e})=>e("closeOnEscape")?lr(document,"keydown",r=>{m9(r)||r.key==="Escape"&&(r.stopPropagation(),t({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:t,prop:e})=>{const n=setTimeout(()=>{t({type:"after.openDelay"})},e("openDelay"));return()=>clearTimeout(n)},waitForCloseDelay:({send:t,prop:e})=>{const n=setTimeout(()=>{t({type:"after.closeDelay"})},e("closeDelay"));return()=>clearTimeout(n)}}}};Nt()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const Fue=t=>{const e=ue.useId(),{getRootNode:n}=Ay(),{dir:r}=xE(),i={id:e,dir:r,getRootNode:n,...t},s=Cy(Uue,i);return Iue(s,wE)},Lue=t=>{const[e,{children:n,...r}]=Sv(t),i=Fue(r),s=hp(xt({present:i.open},e));return ie.jsx(OW,{value:i,children:ie.jsx(wv,{value:s,children:n})})},Gue=t=>{const[e,{value:n,children:r}]=Sv(t),i=hp(xt({present:n.open},e));return ie.jsx(OW,{value:n,children:ie.jsx(wv,{value:i,children:r})})},GW=ue.forwardRef((t,e)=>{const n=My(),r=xt(n.getTriggerProps(),t);return ie.jsx(Gt.button,{...r,ref:e})});GW.displayName="TooltipTrigger";const zue=(t,e)=>{var c;if(!t||typeof t!="string")return{invalid:!0,value:t};const[n,r]=t.split("/");if(!n||!r||n==="currentBg")return{invalid:!0,value:n};const i=e(`colors.${n}`),s=(c=e.raw(`opacity.${r}`))==null?void 0:c.value;if(!s&&isNaN(Number(r)))return{invalid:!0,value:n};const o=s?Number(s)*100+"%":`${r}%`,u=i??n;return{invalid:!1,color:u,value:`color-mix(in srgb, ${u} ${o}, transparent)`}},kn=t=>(e,n)=>{const r=n.utils.colorMix(e);if(r.invalid)return{[t]:e};const i="--mix-"+t;return{[i]:r.value,[t]:`var(${i}, ${r.color})`}};function OR(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>OR(n));const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=OR(t[n]);return e}function MR(t,e){if(e==null)return t;for(const n of Object.keys(e))if(!(e[n]===void 0||n==="__proto__"))if(!Is(t[n])&&Is(e[n]))Object.assign(t,{[n]:e[n]});else if(t[n]&&Is(e[n]))MR(t[n],e[n]);else if(Array.isArray(e[n])&&Array.isArray(t[n])){let r=0;for(;r<e[n].length;r++)Is(t[n][r])&&Is(e[n][r])?MR(t[n][r],e[n][r]):t[n][r]=e[n][r]}else Object.assign(t,{[n]:e[n]});return t}function Cv(t,...e){for(const n of e)MR(t,n);return t}const Vue=t=>t,Qr=t=>t,wt=t=>t,Hue=t=>t,Wue=t=>t,zW=t=>t,$ue=t=>t,jue=t=>t,Xue=t=>t;function VW(){const t=e=>e;return new Proxy(t,{get(){return t}})}const jr=VW(),ED=VW(),HW=t=>t,WW=(...t)=>Cv({},...t.map(OR)),Yue=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function que(t){return`${t}`.replace(Yue,e=>`\\${e}`)}const Kue=/[A-Z]/g;function Zue(t){return t.replace(Kue,e=>`-${e.toLowerCase()}`)}function $W(t,e={}){const{fallback:n="",prefix:r=""}=e,i=Zue(["-",r,que(t)].filter(Boolean).join("-"));return{var:i,ref:`var(${i}${n?`, ${n}`:""})`}}const Que=t=>/^var\(--.+\)$/.test(t),ai=(t,e)=>e!=null?`${t}(${e})`:e,mf=t=>{if(Que(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},z4=t=>({values:["outside","inside","mixed","none"],transform(e,{token:n}){const r=n("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":r,[t]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":r,[t]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":r,[t]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":r,[t]:{outline:"none"}}}[e]??{}}}),Jue=kn("borderColor"),Nu=t=>({transition:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),ece=Vue({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),_m=$W("bg-currentcolor"),V4=t=>t===_m.ref||t==="currentBg",Bn=t=>({...t("colors"),currentBg:_m}),tce=HW({conditions:ece,utilities:{background:{values:Bn,shorthand:["bg"],transform(t,e){if(V4(e.raw))return{background:_m.ref};const n=kn("background")(t,e);return{...n,[_m.var]:n==null?void 0:n.background}}},backgroundColor:{values:Bn,shorthand:["bgColor"],transform(t,e){if(V4(e.raw))return{backgroundColor:_m.ref};const n=kn("backgroundColor")(t,e);return{...n,[_m.var]:n==null?void 0:n.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}}},backgroundGradient:{shorthand:["bgGradient"],values(t){return{...t("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(t){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:t}}},gradientFrom:{values:Bn,transform:kn("--gradient-from")},gradientTo:{values:Bn,transform:kn("--gradient-to")},gradientVia:{values:Bn,transform(t,e){return{...kn("--gradient-via")(t,e),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(t){return{...t("gradients"),...t("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderInlineEnd:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:Bn,transform:kn("borderColor")},borderTopColor:{values:Bn,transform:kn("borderTopColor")},borderBlockStartColor:{values:Bn,transform:kn("borderBlockStartColor")},borderBottomColor:{values:Bn,transform:kn("borderBottomColor")},borderBlockEndColor:{values:Bn,transform:kn("borderBlockEndColor")},borderLeftColor:{values:Bn,transform:kn("borderLeftColor")},borderInlineStartColor:{values:Bn,shorthand:["borderStartColor"],transform:kn("borderInlineStartColor")},borderRightColor:{values:Bn,transform:kn("borderRightColor")},borderInlineEndColor:{values:Bn,shorthand:["borderEndColor"],transform:kn("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:t=>({borderStartStartRadius:t,borderEndStartRadius:t})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:t=>({borderStartEndRadius:t,borderEndEndRadius:t})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:t=>({borderTopLeftRadius:t,borderTopRightRadius:t})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:t=>({borderBottomLeftRadius:t,borderBottomRightRadius:t})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:t=>({borderTopLeftRadius:t,borderBottomLeftRadius:t})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:t=>({borderTopRightRadius:t,borderBottomRightRadius:t})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:Bn,transform:kn("color")},fill:{values:Bn,transform:kn("fill")},stroke:{values:Bn,transform:kn("stroke")},accentColor:{values:Bn,transform:kn("accentColor")},divideX:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:t,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:t,borderBottomWidth:"0px"}}}},divideColor:{values:Bn,transform(t,e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":Jue(t,e)}}},divideStyle:{property:"borderStyle",transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:t}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:Bn,transform:kn("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(t){return t!=="auto"?{filter:t}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:t=>({"--blur":ai("blur",t)})},brightness:{transform:t=>({"--brightness":ai("brightness",t)})},contrast:{transform:t=>({"--contrast":ai("contrast",t)})},grayscale:{transform:t=>({"--grayscale":ai("grayscale",t)})},hueRotate:{transform:t=>({"--hue-rotate":ai("hue-rotate",mf(t))})},invert:{transform:t=>({"--invert":ai("invert",t)})},saturate:{transform:t=>({"--saturate":ai("saturate",t)})},sepia:{transform:t=>({"--sepia":ai("sepia",t)})},dropShadow:{transform:t=>({"--drop-shadow":ai("drop-shadow",t)})},backdropFilter:{transform(t){return t!=="auto"?{backdropFilter:t}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:t=>({"--backdrop-blur":ai("blur",t)})},backdropBrightness:{transform:t=>({"--backdrop-brightness":ai("brightness",t)})},backdropContrast:{transform:t=>({"--backdrop-contrast":ai("contrast",t)})},backdropGrayscale:{transform:t=>({"--backdrop-grayscale":ai("grayscale",t)})},backdropHueRotate:{transform:t=>({"--backdrop-hue-rotate":ai("hue-rotate",mf(t))})},backdropInvert:{transform:t=>({"--backdrop-invert":ai("invert",t)})},backdropOpacity:{transform:t=>({"--backdrop-opacity":ai("opacity",t)})},backdropSaturate:{transform:t=>({"--backdrop-saturate":ai("saturate",t)})},backdropSepia:{transform:t=>({"--backdrop-sepia":ai("sepia",t)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:Bn,transform:kn("outlineColor")},focusRing:z4("&:is(:focus, [data-focus])"),focusVisibleRing:z4("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:Bn,transform:kn("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:t=>({"--focus-ring-offset":t})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:t=>({"--focus-ring-width":t})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:t=>({"--focus-ring-style":t})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:t=>({width:t,height:t})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(t,{raw:e,token:n})=>({[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}`:`@media screen and (min-width: ${t})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(t,{raw:e,token:n}){return{[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}Down`:`@media screen and (max-width: ${t})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(t){switch(t){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:Bn,transform:kn("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:t=>({scrollMarginLeft:t,scrollMarginRight:t})},scrollMarginY:{values:"spacing",transform:t=>({scrollMarginTop:t,scrollMarginBottom:t})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:t=>({"--scroll-snap-strictness":t})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(t){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":t,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:Bn,transform:kn("--ring-color")},ringOffset:{transform:t=>({"--ring-offset-width":t})},ringOffsetColor:{values:Bn,transform:kn("--ring-offset-color")},ringInset:{transform:t=>({"--ring-inset":t})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing"},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:Bn,transform:kn("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:t=>{let e=t;return t==="auto"&&(e="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),t==="auto-gpu"&&(e="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:e}}},skewX:{transform:t=>({"--skew-x":mf(t)})},skewY:{transform:t=>({"--skew-y":mf(t)})},scaleX:{transform:t=>({"--scale-x":t})},scaleY:{transform:t=>({"--scale-y":t})},scale:{transform(t){return t!=="auto"?{scale:t}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":t?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${t} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${t} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":t?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${t} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${t} * var(--space-y-reverse))`}})},rotate:{transform(t){return t!=="auto"?{rotate:mf(t)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(t){return{"--rotate-x":mf(t)}}},rotateY:{transform(t){return{"--rotate-y":mf(t)}}},translate:{transform(t){return t!=="auto"?{translate:t}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:t=>({"--translate-x":t})},translateY:{values:"spacing",transform:t=>({"--translate-y":t})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(t){switch(t){case"all":return Nu("all");case"position":return Nu("left, right, top, bottom, inset-inline, inset-block");case"colors":return Nu("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return Nu("opacity");case"shadow":return Nu("box-shadow");case"transform":return Nu("transform");case"size":return Nu("width, height");case"backgrounds":return Nu("background, background-color, background-image, background-position");case"common":return Nu("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:t}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(t){return t===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(t){return t==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:t,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(t){return nce[t]||{}}},debug:{values:{type:"boolean"},transform(t){return t?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:Bn,transform:kn("caretColor")},cursor:{values:"cursor"}}}),nce={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var rce="",ice=rce.split(","),sce="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",ace=sce.split(",").concat(ice),oce=new Map(ace.map(t=>[t,!0]));function lce(t){const e=Object.create(null);return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}var uce=/&|@/,cce=lce(t=>oce.has(t)||t.startsWith("--")||uce.test(t));const dce=t=>t!=null;function cc(t,e,n={}){const{stop:r,getKey:i}=n;function s(o,u=[]){if(Is(o)||Array.isArray(o)){const c={};for(const[f,p]of Object.entries(o)){const v=(i==null?void 0:i(f,p))??f,b=[...u,v];if(r!=null&&r(o,b))return e(o,u);const y=s(p,b);dce(y)&&(c[v]=y)}return c}return e(o,u)}return s(t)}function jW(t,e){return Array.isArray(t)?t.map(n=>e(n)):Is(t)?cc(t,n=>e(n)):t!=null?e(t):t}function hce(t,e){const n={};return cc(t,(r,i)=>{r&&(n[i.join(".")]=r.value)},{stop:e}),n}var hA,H4;function fce(){if(H4)return hA;H4=1,hA=s,s.default=s,s.stable=f,s.stableStringify=f;var t="[...]",e="[Circular]",n=[],r=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(b,y,E,S){typeof S>"u"&&(S=i()),u(b,"",0,[],void 0,0,S);var T;try{r.length===0?T=JSON.stringify(b,y,E):T=JSON.stringify(b,v(y),E)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var A=n.pop();A.length===4?Object.defineProperty(A[0],A[1],A[3]):A[0][A[1]]=A[2]}}return T}function o(b,y,E,S){var T=Object.getOwnPropertyDescriptor(S,E);T.get!==void 0?T.configurable?(Object.defineProperty(S,E,{value:b}),n.push([S,E,y,T])):r.push([y,E,b]):(S[E]=b,n.push([S,E,y]))}function u(b,y,E,S,T,A,P){A+=1;var O;if(typeof b=="object"&&b!==null){for(O=0;O<S.length;O++)if(S[O]===b){o(e,b,y,T);return}if(typeof P.depthLimit<"u"&&A>P.depthLimit){o(t,b,y,T);return}if(typeof P.edgesLimit<"u"&&E+1>P.edgesLimit){o(t,b,y,T);return}if(S.push(b),Array.isArray(b))for(O=0;O<b.length;O++)u(b[O],O,O,S,b,A,P);else{var M=Object.keys(b);for(O=0;O<M.length;O++){var D=M[O];u(b[D],D,O,S,b,A,P)}}S.pop()}}function c(b,y){return b<y?-1:b>y?1:0}function f(b,y,E,S){typeof S>"u"&&(S=i());var T=p(b,"",0,[],void 0,0,S)||b,A;try{r.length===0?A=JSON.stringify(T,y,E):A=JSON.stringify(T,v(y),E)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var P=n.pop();P.length===4?Object.defineProperty(P[0],P[1],P[3]):P[0][P[1]]=P[2]}}return A}function p(b,y,E,S,T,A,P){A+=1;var O;if(typeof b=="object"&&b!==null){for(O=0;O<S.length;O++)if(S[O]===b){o(e,b,y,T);return}try{if(typeof b.toJSON=="function")return}catch{return}if(typeof P.depthLimit<"u"&&A>P.depthLimit){o(t,b,y,T);return}if(typeof P.edgesLimit<"u"&&E+1>P.edgesLimit){o(t,b,y,T);return}if(S.push(b),Array.isArray(b))for(O=0;O<b.length;O++)p(b[O],O,O,S,b,A,P);else{var M={},D=Object.keys(b).sort(c);for(O=0;O<D.length;O++){var W=D[O];p(b[W],W,O,S,b,A,P),M[W]=b[W]}if(typeof T<"u")n.push([T,y,b]),T[y]=M;else return M}S.pop()}}function v(b){return b=typeof b<"u"?b:function(y,E){return E},function(y,E){if(r.length>0)for(var S=0;S<r.length;S++){var T=r[S];if(T[1]===y&&T[0]===E){E=T[2],r.splice(S,1);break}}return b.call(this,y,E)}}return hA}var pce=fce();const gce=cv(pce),No=t=>{const e=Object.create(null);function n(...r){const i=r.map(s=>gce(s)).join("|");return e[i]===void 0&&(e[i]=t(...r)),e[i]}return n},XW=16,dw="px",TD="em",P_="rem";function YW(t=""){const e=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),n=new RegExp(`${dw}|${TD}|${P_}`),r=t.match(new RegExp(`${e.source}(${n.source})`));return r==null?void 0:r[1]}function qW(t=""){if(typeof t=="number")return`${t}px`;const e=YW(t);if(!e||e===dw)return t;if(e===TD||e===P_)return`${parseFloat(t)*XW}${dw}`}function KW(t=""){const e=YW(t);if(!e||e===P_)return t;if(e===TD)return`${parseFloat(t)}${P_}`;if(e===dw)return`${parseFloat(t)/XW}${P_}`}const mce=t=>t.charAt(0).toUpperCase()+t.slice(1);function vce(t){const e=bce(t),n=Object.fromEntries(e);function r(b){return n[b]}function i(b){return nm(r(b))}function s(){const b=Object.keys(n),y=_ce(b),E=b.flatMap(S=>{const T=r(S),A=[`${S}Down`,nm({max:bS(T.min)})],P=[S,nm({min:T.min})],O=[`${S}Only`,i(S)];return[P,O,A]}).filter(([,S])=>S!=="").concat(y.map(([S,T])=>{const A=r(S),P=r(T);return[`${S}To${mce(T)}`,nm({min:A.min,max:bS(P.min)})]}));return Object.fromEntries(E)}function o(){const b=s();return Object.fromEntries(Object.entries(b))}const u=o(),c=b=>u[b];function f(){return["base",...Object.keys(n)]}function p(b){return nm({min:r(b).min})}function v(b){return nm({max:bS(r(b).min)})}return{values:Object.values(n),only:i,keys:f,conditions:u,getCondition:c,up:p,down:v}}function bS(t){const e=parseFloat(qW(t)??"")-.04;return KW(`${e}px`)}function bce(t){return Object.entries(t).sort(([,n],[,r])=>parseInt(n,10)<parseInt(r,10)?-1:1).map(([n,r],i,s)=>{var u;let o=null;return i<=s.length-1&&(o=(u=s[i+1])==null?void 0:u[1]),o!=null&&(o=bS(o)),[n,{name:n,min:KW(r),max:o}]})}function _ce(t){const e=[];return t.forEach((n,r)=>{let i=r;i++;let s=t[i];for(;s;)e.push([n,s]),i++,s=t[i]}),e}function nm({min:t,max:e}){return t==null&&e==null?"":["@media screen",t&&`(min-width: ${t})`,e&&`(max-width: ${e})`].filter(Boolean).join(" and ")}const yce=(t,e)=>Object.fromEntries(Object.entries(t).map(([n,r])=>e(n,r))),xce=t=>{const{breakpoints:e,conditions:n={}}=t,r=yce(n,(p,v)=>[`_${p}`,v]),i=Object.assign({},r,e.conditions);function s(){return Object.keys(i)}function o(p){return s().includes(p)||/^@|&|&$/.test(p)||p.startsWith("_")}function u(p){return p.filter(v=>v!=="base").sort((v,b)=>{const y=o(v),E=o(b);return y&&!E?1:!y&&E?-1:0})}function c(p){return p.startsWith("@breakpoint")?e.getCondition(p.replace("@breakpoint ","")):p}function f(p){return Reflect.get(i,p)||p}return{keys:s,sort:u,has:o,resolve:f,breakpoints:e.keys(),expandAtRule:c}},ZW=t=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${t})(.|
)+\\(\\s*max(-device)?-${t}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${t}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${t})(.|
)+\\(\\s*min(-device)?-${t}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${t}`,"i")}),Sce=ZW("width"),wce=ZW("height"),QW=t=>({isMin:q4(t.minMax,t.maxMin,t.min),isMax:q4(t.maxMin,t.minMax,t.max)}),{isMin:DR,isMax:W4}=QW(Sce),{isMin:BR,isMax:$4}=QW(wce),j4=/print/i,X4=/^print$/i,Ece=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,Tce=/(\d)/,i_=Number.MAX_VALUE,Cce={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function Y4(t){const e=Ece.exec(t)||(DR(t)||BR(t)?Tce.exec(t):null);if(!e)return i_;if(e[0]==="0")return 0;const n=parseFloat(e[1]),r=e[2];return n*(Cce[r]||1)}function q4(t,e,n){return r=>t.test(r)||!e.test(r)&&n.test(r)}function Ace(t,e){const n=j4.test(t),r=X4.test(t),i=j4.test(e),s=X4.test(e);return n&&i?!r&&s?1:r&&!s?-1:t.localeCompare(e):n?1:i?-1:null}const Rce=No((t,e)=>{const n=Ace(t,e);if(n!==null)return n;const r=DR(t)||BR(t),i=W4(t)||$4(t),s=DR(e)||BR(e),o=W4(e)||$4(e);if(r&&o)return-1;if(i&&s)return 1;const u=Y4(t),c=Y4(e);return u===i_&&c===i_?t.localeCompare(e):u===i_?1:c===i_?-1:u!==c?u>c?i?-1:1:i?1:-1:t.localeCompare(e)});function K4(t){return t.sort(([e],[n])=>Rce(e,n))}function JW(t){const e=[],n=[],r={};for(const[o,u]of Object.entries(t))o.startsWith("@media")?e.push([o,u]):o.startsWith("@container")?n.push([o,u]):Is(u)?r[o]=JW(u):r[o]=u;const i=K4(e),s=K4(n);return{...r,...Object.fromEntries(i),...Object.fromEntries(s)}}const e$=/\s*!(important)?/i,Pce=t=>Ql(t)?e$.test(t):!1,Oce=t=>Ql(t)?t.replace(e$,"").trim():t;function t$(t){const{transform:e,conditions:n,normalize:r}=t,i=Bce(t);return No(function(...o){const u=i(...o),c=r(u),f=Object.create(null);return cc(c,(p,v)=>{const b=Pce(p);if(p==null)return;const[y,...E]=n.sort(v).map(n.resolve);b&&(p=Oce(p));let S=e(y,p)??Object.create(null);S=cc(S,T=>Ql(T)&&b?`${T} !important`:T,{getKey:T=>n.expandAtRule(T)}),Mce(f,E.flat(),S)}),JW(f)})}function Mce(t,e,n){let r=t;for(const i of e)i&&(r[i]||(r[i]=Object.create(null)),r=r[i]);Cv(r,n)}function Dce(...t){return t.filter(e=>Is(e)&&Object.keys(Sy(e)).length>0)}function Bce(t){function e(n){const r=Dce(...n);return r.length===1?r:r.map(i=>t.normalize(i))}return No(function(...r){return Cv({},...e(r))})}function n$(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}const kce=(...t)=>{const e=t.filter(Boolean);return Array.from(new Set(e))},r$=t=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...t});function Ice(t){const{css:e,conditions:n,normalize:r,layers:i}=t;function s(u={}){const{base:c,variants:f,defaultVariants:p,compoundVariants:v}=r$(u),b=t$({conditions:n,normalize:r,transform(P,O){var M;return(M=f[P])==null?void 0:M[O]}}),y=(P={})=>{const O=r({...p,...Sy(P)});let M={...c};Cv(M,b(O));const D=o(v,O);return i.wrap("recipes",e(M,D))},E=Object.keys(f),S=P=>{const O=n$(P,["recipe"]),[M,D]=Im(O,E);return E.includes("colorPalette")||(M.colorPalette=P.colorPalette||p.colorPalette),E.includes("orientation")&&(D.orientation=P.orientation),[M,D]},T=Object.fromEntries(Object.entries(f).map(([P,O])=>[P,Object.keys(O)]));return Object.assign(P=>e(y(P)),{className:u.className,__cva__:!0,variantMap:T,variantKeys:E,raw:y,config:u,splitVariantProps:S,merge(P){return s(Nce(t)(this,P))}})}function o(u,c){let f={};return u.forEach(p=>{Object.entries(p).every(([b,y])=>b==="css"?!0:(Array.isArray(y)?y:[y]).some(S=>c[b]===S))&&(f=e(f,p.css))}),f}return s}function Nce(t){const{css:e}=t;return function(r,i){const s=r$(i.config),o=kce(r.variantKeys,Object.keys(i.variants)),u=e(r.base,s.base),c=Object.fromEntries(o.map(b=>[b,e(r.config.variants[b],s.variants[b])])),f=Cv(r.config.defaultVariants,s.defaultVariants),p=[...r.compoundVariants,...s.compoundVariants];return{className:Go(r.className,i.className),base:u,variants:c,defaultVariants:f,compoundVariants:p}}}const Uce={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},Z4={reset:0,base:1,tokens:2,recipes:3};function Fce(t){const e=t.layers??Uce,r=Object.values(e).sort((i,s)=>Z4[i]-Z4[s]);return{names:r,atRule:`@layer ${r.join(", ")};`,wrap(i,s){return t.disableLayers?s:{[`@layer ${e[i]}`]:s}}}}function Lce(t){const{utility:e,normalize:n}=t,{hasShorthand:r,resolveShorthand:i}=e;return function(s){return cc(s,n,{stop:o=>Array.isArray(o),getKey:r?i:void 0})}}function Gce(t){const{preflight:e}=t;if(!e)return{};const{scope:n="",level:r="parent"}=Is(e)?e:{};let i="";n&&r==="parent"?i=`${n} `:n&&r==="element"&&(i=`&${n}`);const s={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},o={[n||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(r==="element"){const u=Object.entries(s).reduce((c,[f,p])=>(c[f]={[i]:p},c),{});Object.assign(o,u)}else i?o[i]=s:Object.assign(o,s);return o}function zce(t){const{conditions:e,isValidProperty:n}=t;return function(i){return cc(i,s=>s,{getKey:(s,o)=>Is(o)&&!e.has(s)&&!n(s)?Vce(s).map(u=>"&"+u).join(", "):s})}}function Vce(t){const e=[];let n=0,r="",i=!1;for(let s=0;s<t.length;s++){const o=t[s];if(o==="\\"&&!i){i=!0,r+=o;continue}if(i){i=!1,r+=o;continue}o==="("?n++:o===")"&&n--,o===","&&n===0?(e.push(r.trim()),r=""):r+=o}return r&&e.push(r.trim()),e}const Hce=(t={})=>{const e=i=>{var s;return{base:((s=t.base)==null?void 0:s[i])??{},variants:{},defaultVariants:t.defaultVariants??{},compoundVariants:t.compoundVariants?Wce(t.compoundVariants,i):[]}},r=(t.slots??[]).map(i=>[i,e(i)]);for(const[i,s]of Object.entries(t.variants??{}))for(const[o,u]of Object.entries(s))r.forEach(([c,f])=>{var p;(p=f.variants)[i]??(p[i]={}),f.variants[i][o]=u[c]??{}});return Object.fromEntries(r)},Wce=(t,e)=>t.filter(n=>n.css[e]).map(n=>({...n,css:n.css[e]}));function $ce(t){const{cva:e}=t;return function(r={}){const i=Object.entries(Hce(r)).map(([v,b])=>[v,e(b)]);function s(v){const b=i.map(([y,E])=>[y,E(v)]);return Object.fromEntries(b)}const o=r.variants??{},u=Object.keys(o);function c(v){var S;const b=n$(v,["recipe"]),[y,E]=Im(b,u);return u.includes("colorPalette")||(y.colorPalette=v.colorPalette||((S=r.defaultVariants)==null?void 0:S.colorPalette)),u.includes("orientation")&&(E.orientation=v.orientation),[y,E]}const f=Object.fromEntries(Object.entries(o).map(([v,b])=>[v,Object.keys(b)]));let p={};return r.className&&(p=Object.fromEntries(r.slots.map(v=>[v,`${r.className}__${v}`]))),Object.assign(s,{variantMap:f,variantKeys:u,splitVariantProps:c,classNameMap:p})}}const jce=()=>t=>Array.from(new Set(t)),Xce=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,Yce=function(t,e){return e?t==="\0"?"�":t==="-"&&t.length===1?"\\-":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16):"\\"+t},i$=t=>(t+"").replace(Xce,Yce),s$=(t,e)=>{let n="",r=0,i="char",s="",o="";const u=[];for(;r<t.length;){const c=t[r];if(c==="{"){const p=t.indexOf("}",r);if(p===-1)break;const v=t.slice(r+1,p),b=e(v);n+=b??v,r=p+1;continue}if(i==="token"&&c===","){t[r]===""&&r++,i="fallback",u.push(i);const p=e(s);p!=null&&p.endsWith(")")&&(n+=p.slice(0,-1)),s="",o="";continue}if(i==="fallback"&&o+c===", var("){const b=qce(t.slice(r+1))+r+1,y=t.slice(r+1,b);if(b===-1)break;n+=", var("+y+")",r=b+1,i=u.pop()??i,o="";continue}if(i==="token"||i==="fallback"){if(r++,c===")"){i=u.pop()??i??"char",o+=c;const p=s&&(e(s)??i$(s));if(o){if(o=o.slice(1).trim(),!o.startsWith("token(")&&o.endsWith(")")&&(o=o.slice(0,-1)),o.includes("token(")){const b=s$(o,e);b&&(o=b.slice(0,-1))}else if(o){const b=e(o);b&&(o=b)}}const v=n.at(-1);o?v!=null&&v.trim()?n+=p.slice(0,-1)+(", "+o+")"):n+=o:n+=p||")",s="",o="",i="char";continue}i==="token"&&(s+=c),i==="fallback"&&(o+=c);continue}const f=t.indexOf("token(",r);if(f!==-1){const p=f+6;n+=t.slice(r,f),r=p,i="token",u.push(i);continue}n+=c,r++}return n},qce=t=>{let e=0;const n=["("];for(;e<t.length;){const r=t[e];if(r==="(")n.push(r);else if(r===")"&&(n.pop(),n.length===0))return e;e++}return e};function a$(t){const e={};return t.forEach((n,r)=>{n instanceof Map?e[r]=Object.fromEntries(n):e[r]=n}),e}const o$=/({([^}]*)})/g,Kce=/[{}]/g,Zce=/\w+\.\w+/,l$=t=>{if(!Ql(t))return[];const e=t.match(o$);return e?e.map(n=>n.replace(Kce,"")).map(n=>n.trim()):[]},Qce=t=>o$.test(t);function u$(t){var n,r,i;if(!((n=t.extensions)!=null&&n.references))return((i=(r=t.extensions)==null?void 0:r.cssVar)==null?void 0:i.ref)??t.value;const e=t.extensions.references??{};return t.value=Object.keys(e).reduce((s,o)=>{const u=e[o];if(u.extensions.conditions)return s;const c=u$(u);return s.replace(`{${o}}`,c)},t.value),delete t.extensions.references,t.value}function c$(t){return Is(t)&&t.reference?t.reference:String(t)}const PE=(t,...e)=>e.map(c$).join(` ${t} `).replace(/calc/g,""),Q4=(...t)=>`calc(${PE("+",...t)})`,J4=(...t)=>`calc(${PE("-",...t)})`,kR=(...t)=>`calc(${PE("*",...t)})`,e5=(...t)=>`calc(${PE("/",...t)})`,t5=t=>{const e=c$(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:kR(e,-1)},lm=Object.assign(t=>({add:(...e)=>lm(Q4(t,...e)),subtract:(...e)=>lm(J4(t,...e)),multiply:(...e)=>lm(kR(t,...e)),divide:(...e)=>lm(e5(t,...e)),negate:()=>lm(t5(t)),toString:()=>t.toString()}),{add:Q4,subtract:J4,multiply:kR,divide:e5,negate:t5}),Jce={enforce:"pre",transform(t){const{prefix:e,allTokens:n,formatCssVar:r,formatTokenName:i,registerToken:s}=t;n.filter(({extensions:u})=>u.category==="spacing").forEach(u=>{const c=u.path.slice(),f=r(c,e);if(Ql(u.value)&&u.value==="0rem")return;const p=structuredClone(u);Object.assign(p.extensions,{negative:!0,prop:`-${u.extensions.prop}`,originalPath:c}),p.value=lm.negate(f.ref);const v=p.path[p.path.length-1];v!=null&&(p.path[p.path.length-1]=`-${v}`),p.path&&(p.name=i(p.path)),s(p)})}},ede=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),tde={enforce:"post",transform(t){t.allTokens.filter(n=>ede.has(n.extensions.category)&&!n.extensions.negative).forEach(n=>{Object.assign(n.extensions,{pixelValue:qW(n.value)})})}},nde={enforce:"post",transform(t){const{allTokens:e,registerToken:n,formatTokenName:r}=t,i=e.filter(({extensions:u})=>u.category==="colors"),s=new Map,o=new Map;i.forEach(u=>{const{colorPalette:c}=u.extensions;c&&(c.keys.forEach(f=>{s.set(r(f),f)}),c.roots.forEach(f=>{var b;const p=r(f),v=o.get(p)||[];if(v.push(u),o.set(p,v),u.extensions.default&&f.length===1){const y=(b=c.keys[0])==null?void 0:b.filter(Boolean);if(!y.length)return;const E=f.concat(y);s.set(r(E),[])}}))}),s.forEach(u=>{const c=["colors","colorPalette",...u].filter(Boolean),f=r(c),p=r(c.slice(1));n({name:f,value:f,originalValue:f,path:c,extensions:{condition:"base",originalPath:c,category:"colors",prop:p,virtual:!0}},"pre")})}},rde={enforce:"post",transform(t){t.allTokens=t.allTokens.filter(e=>e.value!=="")}},ide=[Jce,nde,tde,rde],sde={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(t,e){const{prefix:n,formatCssVar:r}=e,{negative:i,originalPath:s}=t.extensions,o=i?s:t.path;return{cssVar:r(o.filter(Boolean),n)}}},ade={enforce:"post",type:"value",name:"tokens/conditionals",transform(t,e){const{prefix:n,formatCssVar:r}=e,i=l$(t.value);return i.length&&i.forEach(s=>{const o=r(s.split("."),n);t.value=t.value.replace(`{${o.ref}}`,o)}),t.value}},ode={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(t){return t.extensions.category==="colors"&&!t.extensions.virtual},transform(t,e){let n=t.path.slice();if(n.pop(),n.shift(),n.length===0){const u=[...t.path];u.shift(),n=u}if(n.length===0)return{};const r=n.reduce((u,c,f,p)=>{const v=p.slice(0,f+1);return u.push(v),u},[]),i=n[0],s=e.formatTokenName(n),o=t.path.slice(t.path.indexOf(i)+1).reduce((u,c,f,p)=>(u.push(p.slice(f)),u),[]);return o.length===0&&o.push([""]),{colorPalette:{value:s,roots:r,keys:o}}}},lde=[sde,ade,ode],n5=t=>Is(t)&&Object.prototype.hasOwnProperty.call(t,"value");function ude(t){return t?{breakpoints:jW(t,e=>({value:e})),sizes:Object.fromEntries(Object.entries(t).map(([e,n])=>[`breakpoint-${e}`,{value:n}]))}:{breakpoints:{},sizes:{}}}function cde(t){const{prefix:e="",tokens:n={},semanticTokens:r={},breakpoints:i={}}=t,s=ve=>ve.join("."),o=(ve,Ee)=>$W(ve.join("-"),{prefix:Ee}),u=[],c=new Map,f=new Map,p=new Map,v=new Map,b=new Map,y=new Map,E=new Map,S=new Map,T=[];function A(ve,Ee){u.push(ve),c.set(ve.name,ve),Ee&&S.forEach(Fe=>{Fe.enforce===Ee&&U(Fe,ve)})}const P=ude(i),O=Sy({...n,breakpoints:P.breakpoints,sizes:{...n.sizes,...P.sizes}});function M(){cc(O,(ve,Ee)=>{const Fe=Ee.includes("DEFAULT");Ee=r5(Ee);const $e=Ee[0],et=s(Ee),gt=Ql(ve)?{value:ve}:ve,rt={value:gt.value,originalValue:gt.value,name:et,path:Ee,extensions:{condition:"base",originalPath:Ee,category:$e,prop:s(Ee.slice(1))}};Fe&&(rt.extensions.default=!0),A(rt)},{stop:n5}),cc(r,(ve,Ee)=>{const Fe=Ee.includes("DEFAULT");Ee=d$(r5(Ee));const $e=Ee[0],et=s(Ee),gt=Ql(ve.value)?{value:{base:ve.value}}:ve,rt={value:gt.value.base||"",originalValue:gt.value.base||"",name:et,path:Ee,extensions:{originalPath:Ee,category:$e,conditions:gt.value,condition:"base",prop:s(Ee.slice(1))}};Fe&&(rt.extensions.default=!0),A(rt)},{stop:n5})}function D(ve){return c.get(ve)}function W(ve){const{condition:Ee}=ve.extensions;Ee&&(f.has(Ee)||f.set(Ee,new Set),f.get(Ee).add(ve))}function G(ve){const{category:Ee,prop:Fe}=ve.extensions;Ee&&(E.has(Ee)||E.set(Ee,new Map),E.get(Ee).set(Fe,ve))}function Y(ve){const{condition:Ee,negative:Fe,virtual:$e,cssVar:et}=ve.extensions;Fe||$e||!Ee||!et||(p.has(Ee)||p.set(Ee,new Map),p.get(Ee).set(et.var,ve.value))}function L(ve){const{category:Ee,prop:Fe,cssVar:$e,negative:et}=ve.extensions;if(!Ee)return;y.has(Ee)||y.set(Ee,new Map);const gt=et?ve.extensions.conditions?ve.originalValue:ve.value:$e.ref;y.get(Ee).set(Fe,gt),b.set([Ee,Fe].join("."),gt)}function X(ve){const{colorPalette:Ee,virtual:Fe,default:$e}=ve.extensions;!Ee||Fe||Ee.roots.forEach(et=>{var di;const gt=s(et);v.has(gt)||v.set(gt,new Map);const rt=hde([...ve.path],[...et]),qe=s(rt),Xe=D(qe);if(!Xe||!Xe.extensions.cssVar)return;const{var:tn}=Xe.extensions.cssVar;if(v.get(gt).set(tn,ve.extensions.cssVar.ref),$e&&et.length===1){const Xr=s(["colors","colorPalette"]),Yr=D(Xr);if(!Yr)return;const ct=s(ve.path),on=D(ct);if(!on)return;const Ir=(di=Ee.keys[0])==null?void 0:di.filter(Boolean);if(!Ir.length)return;const qs=s(et.concat(Ir));v.has(qs)||v.set(qs,new Map),v.get(qs).set(Yr.extensions.cssVar.var,on.extensions.cssVar.ref)}})}let Z={};function ee(){u.forEach(ve=>{W(ve),G(ve),Y(ve),L(ve),X(ve)}),Z=a$(y)}const be=(ve,Ee)=>{var Xe;if(!ve||typeof ve!="string")return{invalid:!0,value:ve};const[Fe,$e]=ve.split("/");if(!Fe||!$e)return{invalid:!0,value:Fe};const et=Ee(Fe),gt=(Xe=D(`opacity.${$e}`))==null?void 0:Xe.value;if(!gt&&isNaN(Number($e)))return{invalid:!0,value:Fe};const rt=gt?Number(gt)*100+"%":`${$e}%`,qe=et??Fe;return{invalid:!1,color:qe,value:`color-mix(in srgb, ${qe} ${rt}, transparent)`}},Te=No((ve,Ee)=>b.get(ve)??Ee),he=No(ve=>Z[ve]||null),R=No(ve=>s$(ve,Ee=>{if(!Ee)return;if(Ee.includes("/")){const $e=be(Ee,et=>Te(et));if($e.invalid)throw new Error("Invalid color mix at "+Ee+": "+$e.value);return $e.value}const Fe=Te(Ee);return Fe||(Zce.test(Ee)?i$(Ee):Ee)})),N={prefix:e,allTokens:u,tokenMap:c,registerToken:A,getByName:D,formatTokenName:s,formatCssVar:o,flatMap:b,cssVarMap:p,categoryMap:E,colorPaletteMap:v,getVar:Te,getCategoryValues:he,expandReferenceInValue:R};function z(...ve){ve.forEach(Ee=>{S.set(Ee.name,Ee)})}function K(...ve){T.push(...ve)}function U(ve,Ee){if(Ee.extensions.references||HM(ve.match)&&!ve.match(Ee))return;const $e=(et=>ve.transform(et,N))(Ee);switch(!0){case ve.type==="extensions":Object.assign(Ee.extensions,$e);break;case ve.type==="value":Ee.value=$e;break;default:Ee[ve.type]=$e;break}}function j(ve){T.forEach(Ee=>{Ee.enforce===ve&&Ee.transform(N)})}function ne(ve){S.forEach(Ee=>{Ee.enforce===ve&&u.forEach(Fe=>{U(Ee,Fe)})})}function re(){u.forEach(ve=>{const Ee=dde(ve);!Ee||Ee.length===0||Ee.forEach(Fe=>{A(Fe)})})}function we(ve){return l$(ve).map(Fe=>D(Fe)).filter(Boolean)}function Ce(){u.forEach(ve=>{if(!Qce(ve.value))return;const Ee=we(ve.value);ve.extensions.references=Ee.reduce((Fe,$e)=>(Fe[$e.name]=$e,Fe),{})})}function Ie(){u.forEach(ve=>{u$(ve)})}function nt(){j("pre"),ne("pre"),re(),Ce(),Ie(),j("post"),ne("post"),ee()}return M(),z(...lde),K(...ide),nt(),N}function r5(t){return t[0]==="DEFAULT"?t:t.filter(e=>e!=="DEFAULT")}function d$(t){return t.filter(e=>e!=="base")}function dde(t){if(!t.extensions.conditions)return;const{conditions:e}=t.extensions,n=[];return cc(e,(r,i)=>{const s=d$(i);if(!s.length)return;const o=structuredClone(t);o.value=r,o.extensions.condition=s.join(":"),n.push(o)}),n}function hde(t,e){const n=t.findIndex((r,i)=>e.every((s,o)=>t[i+o]===s));return n===-1||(t.splice(n,e.length),t.splice(n,0,"colorPalette")),t}jce()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function fde(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n]))}function pde(t){const e=fde(t.config),n=t.tokens,r=new Map,i=new Map;function s(Y,L){e[Y]=L,o(Y,L)}const o=(Y,L)=>{const X=S(L);X&&(i.set(Y,X),v(Y,L))},u=()=>{for(const[Y,L]of Object.entries(e))L&&o(Y,L)},c=()=>{for(const[Y,L]of Object.entries(e)){const{shorthand:X}=L??{};if(!X)continue;(Array.isArray(X)?X:[X]).forEach(ee=>r.set(ee,Y))}},f=()=>{const Y=a$(n.colorPaletteMap);s("colorPalette",{values:Object.keys(Y),transform:No(L=>Y[L])})},p=new Map,v=(Y,L)=>{if(!L)return;const X=S(L,ee=>`type:Tokens["${ee}"]`);if(typeof X=="object"&&X.type){p.set(Y,new Set([`type:${X.type}`]));return}if(X){const ee=new Set(Object.keys(X));p.set(Y,ee)}const Z=p.get(Y)??new Set;L.property&&p.set(Y,Z.add(`CssProperties["${L.property}"]`))},b=()=>{for(const[Y,L]of Object.entries(e))L&&v(Y,L)},y=(Y,L)=>{const X=p.get(Y)??new Set;p.set(Y,new Set([...X,...L]))},E=()=>{const Y=new Map;for(const[L,X]of p.entries()){if(X.size===0){Y.set(L,["string"]);continue}const Z=Array.from(X).map(ee=>ee.startsWith("CssProperties")?ee:ee.startsWith("type:")?ee.replace("type:",""):JSON.stringify(ee));Y.set(L,Z)}return Y},S=(Y,L)=>{const{values:X}=Y,Z=ee=>{const be=L==null?void 0:L(ee);return be?{[be]:be}:void 0};return Ql(X)?(Z==null?void 0:Z(X))??n.getCategoryValues(X)??{}:Array.isArray(X)?X.reduce((ee,be)=>(ee[be]=be,ee),{}):HM(X)?X(L?Z:n.getCategoryValues):X},T=No((Y,L)=>({[Y]:Y.startsWith("--")?n.getVar(L,L):L})),A=Object.assign(n.getVar,{raw:Y=>n.getByName(Y)}),P=No((Y,L)=>{var Te;const X=D(Y);Ql(L)&&!L.includes("_EMO_")&&(L=n.expandReferenceInValue(L));const Z=e[X];if(!Z)return T(X,L);const ee=(Te=i.get(X))==null?void 0:Te[L];if(!Z.transform)return T(Y,ee??L);const be=he=>zue(he,A);return Z.transform(ee??L,{raw:L,token:A,utils:{colorMix:be}})});function O(){c(),f(),u(),b()}O();const M=r.size>0,D=No(Y=>r.get(Y)??Y);return{keys:()=>[...Array.from(r.keys()),...Object.keys(e)],hasShorthand:M,transform:P,shorthands:r,resolveShorthand:D,register:s,getTypes:E,addPropertyType:y}}function gde(...t){const e=WW(...t),{theme:n={},utilities:r={},globalCss:i={},cssVarsRoot:s=":where(:root, :host)",cssVarsPrefix:o="chakra",preflight:u}=e,c=Fce(e),f=cde({breakpoints:n.breakpoints,tokens:n.tokens,semanticTokens:n.semanticTokens,prefix:o}),p=vce(n.breakpoints??{}),v=xce({conditions:e.conditions??{},breakpoints:p}),b=pde({config:r,tokens:f});function y(){const{textStyles:z,layerStyles:K,animationStyles:U}=n,j=Sy({textStyle:z,layerStyle:K,animationStyle:U});for(const[ne,re]of Object.entries(j)){const we=hce(re??{},Ce=>Is(Ce)&&"value"in Ce);b.register(ne,{values:Object.keys(we),transform(Ce){return O(we[Ce])}})}}y(),b.addPropertyType("animationName",Object.keys(n.keyframes??{}));const E=new Set(["css",...b.keys(),...v.keys()]),S=No(z=>E.has(z)||cce(z)),T=z=>Array.isArray(z)?z.reduce((K,U,j)=>{const ne=v.breakpoints[j];return U!=null&&(K[ne]=U),K},{}):z,A=Lce({utility:b,normalize:T}),P=zce({conditions:v,isValidProperty:S}),O=t$({transform:b.transform,conditions:v,normalize:A}),M=Ice({css:O,conditions:v,normalize:A,layers:c}),D=$ce({cva:M});function W(){const z={};for(const[K,U]of f.cssVarMap.entries()){const j=Object.fromEntries(U);if(Object.keys(j).length===0)continue;const ne=K==="base"?s:v.resolve(K),re=O(P({[ne]:j}));Cv(z,re)}return c.wrap("tokens",z)}function G(){const z=Object.fromEntries(Object.entries(n.keyframes??{}).map(([U,j])=>[`@keyframes ${U}`,j])),K=Object.assign({},z,O(P(i)));return c.wrap("base",K)}function Y(z){return Im(z,S)}function L(){const z=Gce({preflight:u});return c.wrap("reset",z)}const X=mde(f),Z=(z,K)=>{var U;return((U=X.get(z))==null?void 0:U.value)||K};Z.var=(z,K)=>{var U;return((U=X.get(z))==null?void 0:U.variable)||K};function ee(z,K){var U;return((U=n.recipes)==null?void 0:U[z])??K}function be(z,K){var U;return((U=n.slotRecipes)==null?void 0:U[z])??K}function Te(z){return Object.hasOwnProperty.call(n.recipes??{},z)}function he(z){return Object.hasOwnProperty.call(n.slotRecipes??{},z)}function R(z){return Te(z)||he(z)}const N=[L(),G(),W()];return{$$chakra:!0,_config:e,_global:N,breakpoints:p,tokens:f,conditions:v,utility:b,token:Z,properties:E,layers:c,isValidProperty:S,splitCssProps:Y,normalizeValue:T,getTokenCss:W,getGlobalCss:G,getPreflightCss:L,css:O,cva:M,sva:D,getRecipe:ee,getSlotRecipe:be,hasRecipe:R,isRecipe:Te,isSlotRecipe:he}}function mde(t){const e=new Map;return t.allTokens.forEach(n=>{const{cssVar:r,virtual:i,conditions:s}=n.extensions,o=s||i?r.ref:n.value;e.set(n.name,{value:o,variable:r.ref})}),e}const vde={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},fA="var(--chakra-empty,/*!*/ /*!*/)",bde=Wue({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":fA,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(t=>[`--${t}`,fA])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(t=>[`--backdrop-${t}`,fA])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder, *[data-placeholder]":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.muted/80"}}),_de=Xue({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),yde=jue({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),CD=Qr({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),xde=Qr({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"transparent",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"transparent",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{bg:"transparent",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),_i=Qr({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:Sde,defaultVariants:wde}=CD,Ede=Qr({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:Sde,defaultVariants:wde}),h$=Qr({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),Tde=Qr({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),Cde=Qr({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),Ade=Qr({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),Vr=Qr({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),Rde=Qr({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:Vr.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),Pde=Qr({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),Ode=Qr({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),Mde=Qr({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),yi=Qr({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),Dde=Qr({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),Bde=Qr({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),kde=Qr({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),Ide=Qr({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),Nde=Qr({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),Ude={badge:CD,button:xde,code:Ede,container:Tde,heading:Cde,input:Vr,inputAddon:Rde,kbd:Pde,link:Ode,mark:Mde,separator:Dde,skeleton:Bde,skipNavLink:kde,spinner:Ide,textarea:Nde,icon:Ade,checkmark:_i,radiomark:yi,colorSwatch:h$},Fde=ED.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}}}}),Lde=ED.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),Gde=ED.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}}),zde=e7.extendWith("itemBody"),Vde=Ct("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),Hde=Ct("alert").parts("title","description","root","indicator","content"),Wde=Ct("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),$de=Ct("blockquote").parts("root","icon","content","caption"),jde=Ct("card").parts("root","header","body","footer","title","description"),Xde=Ct("checkbox-card",["root","control","label","description","addon","indicator","content"]),Yde=Ct("data-list").parts("root","item","itemLabel","itemValue"),qde=bD.extendWith("header","body","footer","backdrop"),Kde=bD.extendWith("header","body","footer","backdrop"),Zde=w7.extendWith("textarea"),Qde=Ct("empty-state",["root","content","indicator","title","description"]),Jde=E7.extendWith("requiredIndicator"),ehe=T7.extendWith("content"),the=C7.extendWith("itemContent","dropzoneContent","fileText"),nhe=Ct("list").parts("root","item","indicator"),rhe=Y7.extendWith("itemCommand"),ihe=Ct("select").parts("root","field","indicator"),she=SW.extendWith("header","body","footer"),f$=wD.extendWith("itemAddon","itemIndicator"),ahe=f$.extendWith("itemContent","itemDescription"),ohe=EW.extendWith("itemIndicator"),lhe=CW.extendWith("indicatorGroup"),uhe=RW.extendWith("markerIndicator"),che=Ct("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),dhe=Ct("status").parts("root","indicator"),hhe=Ct("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),fhe=PW.extendWith("indicator"),phe=Ct("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),ghe=Ct("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),mhe=Ct("tabs").parts("root","trigger","list","content","contentGroup","indicator"),vhe=Ct("tag").parts("root","label","closeTrigger","startElement","endElement"),bhe=Ct("timeline").parts("root","item","content","separator","indicator","connector","title","description"),_he=Moe.extendWith("channelText"),yhe=wt({className:"chakra-accordion",slots:zde.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",textAlign:"start",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),xhe=wt({className:"chakra-action-bar",slots:Vde.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),She=wt({slots:Hde.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),whe=wt({slots:r7.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),Ehe=wt({className:"chakra-blockquote",slots:$de.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),The=wt({className:"chakra-breadcrumb",slots:Wde.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted",listStyle:"none"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"},_rtl:{rotate:"180deg"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),Che=wt({className:"chakra-card",slots:jde.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var R5,P5,O5,M5,D5,B5,k5,I5,N5,U5,F5,L5,G5,z5;const Ahe=wt({slots:Ooe.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:_i.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(P5=(R5=_i.variants)==null?void 0:R5.size)==null?void 0:P5.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:(M5=(O5=_i.variants)==null?void 0:O5.size)==null?void 0:M5.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(B5=(D5=_i.variants)==null?void 0:D5.size)==null?void 0:B5.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(I5=(k5=_i.variants)==null?void 0:k5.size)==null?void 0:I5.lg}},variant:{outline:{control:(U5=(N5=_i.variants)==null?void 0:N5.variant)==null?void 0:U5.outline},solid:{control:(L5=(F5=_i.variants)==null?void 0:F5.variant)==null?void 0:L5.solid},subtle:{control:(z5=(G5=_i.variants)==null?void 0:G5.variant)==null?void 0:z5.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var V5,H5,W5,$5,j5,X5,Y5;const Rhe=wt({slots:Xde.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",flex:"1",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm",_disabled:{opacity:"0.5"}},addon:{_disabled:{opacity:"0.5"}},indicator:_i.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(V5=_i.variants)==null?void 0:V5.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(H5=_i.variants)==null?void 0:H5.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(W5=_i.variants)==null?void 0:W5.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:($5=_i.variants)==null?void 0:$5.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:(j5=_i.variants)==null?void 0:j5.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(X5=_i.variants)==null?void 0:X5.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:(Y5=_i.variants)==null?void 0:Y5.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),Phe=wt({slots:I9.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var q5,K5,Z5,Q5,J5,eN,tN,nN,rN,iN,sN,aN,oN,lN,uN,cN,dN,hN;const Ohe=wt({className:"colorPicker",slots:_he.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},channelText:{textStyle:"xs",color:"fg.muted",fontWeight:"medium",textTransform:"capitalize"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...h$.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...Vr.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(K5=(q5=Vr.variants)==null?void 0:q5.size)==null?void 0:K5["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(Q5=(Z5=Vr.variants)==null?void 0:Z5.size)==null?void 0:Q5.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(eN=(J5=Vr.variants)==null?void 0:J5.size)==null?void 0:eN.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(nN=(tN=Vr.variants)==null?void 0:tN.size)==null?void 0:nN.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(iN=(rN=Vr.variants)==null?void 0:rN.size)==null?void 0:iN.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(aN=(sN=Vr.variants)==null?void 0:sN.size)==null?void 0:aN.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(lN=(oN=Vr.variants)==null?void 0:oN.size)==null?void 0:lN["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(cN=(uN=Vr.variants)==null?void 0:uN.variant)==null?void 0:cN.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(hN=(dN=Vr.variants)==null?void 0:dN.variant)==null?void 0:hN.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),Mhe=wt({slots:Yde.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),Dhe=wt({slots:qde.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{display:"flex",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"2",insetEnd:"2"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),Bhe=wt({slots:Kde.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"modal",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{display:"flex",alignItems:"center",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{flex:"1",textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"3",insetEnd:"2"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),i5=zW({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),khe=wt({slots:Zde.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...i5,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...i5,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),Ihe=wt({slots:Qde.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),Nhe=wt({className:"chakra-field",slots:Jde.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),Uhe=wt({className:"fieldset",slots:ehe.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),Fhe=wt({className:"chakra-file-upload",slots:the.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{pos:"relative",textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3",_empty:{display:"none"}},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",boxSize:"5",p:"2px",color:"fg.muted",cursor:"button"},itemPreview:{color:"fg.muted",_icon:{boxSize:"4.5"}}},defaultVariants:{}}),Lhe=wt({className:"chakra-hover-card",slots:A7.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),Ghe=wt({className:"chakra-list",slots:nhe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),zhe=wt({className:"chakra-menu",slots:rhe.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"},"&[data-type]":{ps:"8"}},itemText:{flex:"1"},itemIndicator:{position:"absolute",insetStart:"2",transform:"translateY(-50%)",top:"50%"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest",fontFamily:"inherit"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),_S=wt({className:"chakra-select",slots:lhe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)","--input-height":"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",right:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var fN,pN;const Vhe=wt({className:"chakra-native-select",slots:ihe.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(fN=_S.variants)==null?void 0:fN.variant.outline.trigger},subtle:{field:(pN=_S.variants)==null?void 0:pN.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:_S.defaultVariants});function IR(t,e){const n={};for(const r in t){const i=e(r,t[r]);n[i[0]]=i[1]}return n}const s5=zW({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),Hhe=wt({className:"chakra-number-input",slots:hW.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...Vr.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...s5,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...s5,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:Vr.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:Vr.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:Vr.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:Vr.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:IR(Vr.variants.variant,(t,e)=>[t,{input:e}])},defaultVariants:{size:"md",variant:"outline"}}),{variants:a5,defaultVariants:Whe}=Vr,$he=wt({className:"chakra-pin-input",slots:xW.keys(),base:{input:{...Vr.base,textAlign:"center",width:"var(--input-height)"},control:{display:"inline-flex",gap:"2",isolation:"isolate"}},variants:{size:IR(a5.size,(t,e)=>[t,{input:e}]),variant:IR(a5.variant,(t,e)=>[t,{input:e}]),attached:{true:{control:{gap:"0",spaceX:"-1px"},input:{_notFirst:{borderStartRadius:"0"},_notLast:{borderEndRadius:"0"},_focusVisible:{zIndex:"1"}}}}},defaultVariants:Whe}),jhe=wt({className:"chakra-popover",slots:she.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),Xhe=wt({slots:SD.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),Yhe=wt({className:"chakra-progress-circle",slots:SD.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),qhe=wt({slots:wW.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var gN,mN,vN,bN,_N,yN,xN;const Khe=wt({className:"chakra-radio-card",slots:ahe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium",flex:"1"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:yi.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(gN=yi.variants)==null?void 0:gN.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(mN=yi.variants)==null?void 0:mN.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(vN=yi.variants)==null?void 0:vN.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:(bN=yi.variants)==null?void 0:bN.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:(_N=yi.variants)==null?void 0:_N.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(yN=yi.variants)==null?void 0:yN.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:(xN=yi.variants)==null?void 0:xN.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var SN,wN,EN,TN,CN,AN,RN,PN,ON,MN,DN,BN,kN,IN;const Zhe=wt({className:"chakra-radio-group",slots:f$.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:yi.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:(wN=(SN=yi.variants)==null?void 0:SN.variant)==null?void 0:wN.outline},subtle:{itemControl:(TN=(EN=yi.variants)==null?void 0:EN.variant)==null?void 0:TN.subtle},solid:{itemControl:(AN=(CN=yi.variants)==null?void 0:CN.variant)==null?void 0:AN.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(PN=(RN=yi.variants)==null?void 0:RN.size)==null?void 0:PN.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:(MN=(ON=yi.variants)==null?void 0:ON.size)==null?void 0:MN.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(BN=(DN=yi.variants)==null?void 0:DN.size)==null?void 0:BN.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(IN=(kN=yi.variants)==null?void 0:kN.size)==null?void 0:IN.lg}}},defaultVariants:{size:"md",variant:"solid"}}),Qhe=wt({className:"chakra-rating-group",slots:ohe.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative",_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"inset(0 50% 0 0)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),Jhe=wt({className:"chakra-segment-group",slots:TW.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted"},item:{display:"flex",alignItems:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",insetInlineStart:0,insetBlock:"1.5",bg:"border",width:"1px",transition:"opacity 0.2s"},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{root:{height:"6"},item:{textStyle:"xs",px:"3",gap:"1"}},sm:{root:{height:"8"},item:{textStyle:"sm",px:"4",gap:"2"}},md:{root:{height:"10"},item:{textStyle:"sm",px:"4",gap:"2"}},lg:{root:{height:"10"},item:{textStyle:"md",px:"5",gap:"3"}}}},defaultVariants:{size:"md"}}),efe=wt({className:"chakra-slider",slots:uhe.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),tfe=wt({className:"chakra-stat",slots:che.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),nfe=wt({className:"chakra-status",slots:dhe.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),rfe=wt({className:"chakra-steps",slots:hhe.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",gap:"3",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),ife=wt({slots:fhe.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",transition:"backgrounds",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),sfe=wt({className:"chakra-table",slots:phe.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),afe=wt({slots:mhe.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var NN;const Xa=(NN=CD.variants)==null?void 0:NN.variant,ofe=wt({slots:vhe.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:Xa==null?void 0:Xa.subtle},solid:{root:Xa==null?void 0:Xa.solid},outline:{root:Xa==null?void 0:Xa.outline},surface:{root:Xa==null?void 0:Xa.surface}}},defaultVariants:{size:"md",variant:"surface"}}),lfe=wt({slots:bhe.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),ufe=wt({slots:ghe.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),cfe=wt({slots:UW.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),dfe={accordion:yhe,actionBar:xhe,alert:She,avatar:whe,blockquote:Ehe,breadcrumb:The,card:Che,checkbox:Ahe,checkboxCard:Rhe,collapsible:Phe,dataList:Mhe,dialog:Dhe,drawer:Bhe,editable:khe,emptyState:Ihe,field:Nhe,fieldset:Uhe,fileUpload:Fhe,hoverCard:Lhe,list:Ghe,menu:zhe,nativeSelect:Vhe,numberInput:Hhe,pinInput:$he,popover:jhe,progress:Xhe,progressCircle:Yhe,radioCard:Khe,radioGroup:Zhe,ratingGroup:Qhe,segmentGroup:Jhe,select:_S,slider:efe,stat:tfe,steps:rfe,switch:ife,table:sfe,tabs:afe,tag:ofe,toast:ufe,tooltip:cfe,status:nfe,timeline:lfe,colorPicker:Ohe,qrCode:qhe},hfe=$ue({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}},label:{value:{fontSize:"sm",lineHeight:"1.25rem",fontWeight:"medium"}}}),ffe=jr.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),pfe=jr.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),gfe=jr.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),mfe=jr.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),vfe=jr.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),bfe=jr.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),_fe=jr.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),yfe=jr.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),xfe=jr.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),Sfe=jr.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),o5='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',wfe=jr.fonts({heading:{value:`Inter, ${o5}`},body:{value:`Inter, ${o5}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),Efe=Hue({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),Tfe=jr.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),Cfe=jr.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),Afe=jr.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),p$=jr.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),Rfe=jr.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),Pfe=jr.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),Ofe=jr.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),Mfe=jr.sizes({...Rfe,...p$,...Ofe,...Pfe}),Dfe=jr.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),Bfe=HW({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss:bde,theme:{breakpoints:vde,keyframes:Efe,tokens:{aspectRatios:pfe,animations:ffe,blurs:gfe,borders:mfe,colors:vfe,durations:_fe,easings:yfe,fonts:wfe,fontSizes:xfe,fontWeights:Sfe,letterSpacings:Tfe,lineHeights:Cfe,radii:Afe,spacing:p$,sizes:Mfe,zIndex:Dfe,cursor:bfe},semanticTokens:{colors:Fde,shadows:Gde,radii:Lde},recipes:Ude,slotRecipes:dfe,textStyles:hfe,layerStyles:_de,animationStyles:yde}}),kfe=WW(tce,Bfe),Ife=gde(kfe);function Nfe(t){const{key:e,recipe:n}=t,r=vE();return ue.useMemo(()=>{const i=n||(e!=null?r.getSlotRecipe(e):{});return r.sva(structuredClone(i))},[e,n,r])}const Ufe=t=>t.charAt(0).toUpperCase()+t.slice(1),Dy=t=>{const{key:e,recipe:n}=t,r=Ufe(e||n.className||"Component"),[i,s]=T_({name:`${r}StylesContext`,errorMessage:`use${r}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${r}.Root />" `}),[o,u]=T_({name:`${r}ClassNameContext`,errorMessage:`use${r}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${r}.Root />" `,strict:!1}),[c,f]=T_({strict:!1,name:`${r}PropsContext`,providerName:`${r}PropsContext`,defaultValue:{}});function p(E){const{unstyled:S,...T}=E,A=Nfe({key:e,recipe:T.recipe||n}),[P,O]=ue.useMemo(()=>A.splitVariantProps(T),[T,A]);return{styles:ue.useMemo(()=>S?une:A(P),[S,P,A]),classNames:A.classNameMap,props:O}}function v(E,S={}){const{defaultProps:T}=S,A=P=>{const O=f(),M=ue.useMemo(()=>Z_(T,O,P),[O,P]),{styles:D,classNames:W,props:G}=p(M);return ie.jsx(i,{value:D,children:ie.jsx(o,{value:W,children:ie.jsx(E,{...G})})})};return A.displayName=E.displayName||E.name,A}return{StylesProvider:i,ClassNamesProvider:o,PropsProvider:c,usePropsContext:f,useRecipeResult:p,withProvider:(E,S,T)=>{const{defaultProps:A,...P}=T??{},O=Ra(E,{},P),M=ue.forwardRef((D,W)=>{var Te;const G=f(),Y=ue.useMemo(()=>Z_(A??{},G,D),[G,D]),{styles:L,props:X,classNames:Z}=p(Y),ee=Z[S],be=ie.jsx(i,{value:L,children:ie.jsx(o,{value:Z,children:ie.jsx(O,{ref:W,...X,css:[L[S],Y.css],className:Go(Y.className,ee)})})});return((Te=T==null?void 0:T.wrapElement)==null?void 0:Te.call(T,be,Y))??be});return M.displayName=E.displayName||E.name,M},withContext:(E,S,T)=>{const A=Ra(E,{},T),P=ue.forwardRef((O,M)=>{const D=s(),W=u(),G=W==null?void 0:W[S];return ie.jsx(A,{...O,css:[S?D[S]:void 0,O.css],ref:M,className:Go(O.className,G)})});return P.displayName=E.displayName||E.name,P},withRootProvider:v,useStyles:s,useClassNames:u}},Ffe=t=>ie.jsx(Ra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:ie.jsx("path",{d:"M20 6 9 17l-5-5"})}),Lfe=t=>ie.jsx(Ra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:ie.jsx("path",{d:"m18 15-6-6-6 6"})}),Gfe=t=>ie.jsx(Ra.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:ie.jsx("path",{d:"m6 9 6 6 6-6"})}),g$=t=>ie.jsx(Ra.svg,{viewBox:"0 0 24 24",fill:"currentColor",...t,children:ie.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z"})}),m$=Ra("div");m$.displayName="Box";const zfe=ue.forwardRef(function(e,n){const{size:r,...i}=e;return ie.jsx(m$,{...i,ref:n,boxSize:r,css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,...e.css}})}),Vfe=ue.forwardRef(function(e,n){const{size:r,...i}=e;return ie.jsx(zfe,{size:r,ref:n,borderRadius:"9999px",...i})}),ym=Ra("span"),v$=Ra("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",translate:"-50%",_rtl:{translate:"50%"}},vertical:{top:"50%",translate:"0 -50%"},both:{insetStart:"50%",top:"50%",translate:"-50% -50%",_rtl:{translate:"50% -50%"}}}},defaultVariants:{axis:"both"}});v$.displayName="AbsoluteCenter";const{withContext:Hfe}=WM({key:"spinner"}),Wfe=Hfe("span"),$fe=ue.forwardRef(function(e,n){const{spinner:r=ie.jsx(Wfe,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:i="start",children:s,text:o,visible:u=!0,...c}=e;return u?o?ie.jsxs(ym,{ref:n,display:"contents",...c,children:[i==="start"&&r,o,i==="end"&&r]}):r?ie.jsxs(ym,{ref:n,display:"contents",...c,children:[ie.jsx(v$,{display:"inline-flex",children:r}),ie.jsx(ym,{opacity:0,children:s})]}):ie.jsx(ym,{ref:n,display:"contents",...c,children:s}):s}),{useRecipeResult:jfe,usePropsContext:Xfe}=WM({key:"button"}),b$=ue.forwardRef(function(e,n){const r=Xfe(),i=ue.useMemo(()=>Z_(r,e),[r,e]),s=jfe(i),{loading:o,loadingText:u,children:c,spinner:f,spinnerPlacement:p,...v}=s.props;return ie.jsx(Ra.button,{type:"button",ref:n,...v,disabled:o||v.disabled,className:Go(s.className,i.className),css:[s.styles,i.css],children:!i.asChild&&o?ie.jsx($fe,{spinner:f,text:u,spinnerPlacement:p,children:c}):c})}),Wu=ue.forwardRef(function(e,n){return ie.jsx(b$,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:n,...e})}),Yfe=ue.forwardRef(function(e,n){return ie.jsx(Wu,{variant:"ghost","aria-label":"Close",ref:n,...e,children:e.children??ie.jsx(g$,{})})});function qfe(t){const{when:e,fallback:n,children:r}=t;let i;return e?i=typeof r=="function"?r(e):r:i=n,ue.isValidElement(i)?i:ie.jsx(ie.Fragment,{children:i})}const Kfe=t=>{const{children:e,fallback:n}=t,[r,i]=ue.useState(!1);return ue.useEffect(()=>{i(!0)},[]),ie.jsx(qfe,{when:r,fallback:n,children:e})};function Zfe(t){const{gap:e,direction:n}=t,r={column:{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":jW(n,i=>r[i])}}function Qfe(t){return ue.Children.toArray(t).filter(e=>ue.isValidElement(e))}const AD=ue.forwardRef(function(e,n){const{direction:r="column",align:i,justify:s,gap:o="0.5rem",wrap:u,children:c,separator:f,className:p,...v}=e,b=ue.useMemo(()=>Zfe({gap:o,direction:r}),[o,r]),y=ue.useMemo(()=>f?Qfe(c).map((E,S,T)=>{const A=typeof E.key<"u"?E.key:S,P=ue.cloneElement(f,{css:[b,f.props.css]});return ie.jsxs(ue.Fragment,{children:[E,S===T.length-1?null:P]},A)}):c,[c,f,b]);return ie.jsx(Ra.div,{ref:n,display:"flex",alignItems:i,justifyContent:s,flexDirection:r,flexWrap:u,gap:f?void 0:o,className:Go("chakra-stack",p),...v,children:y})}),{withRootProvider:_$,withContext:iu}=Dy({key:"dialog"});_$(lle,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const Jfe=_$(ole,{defaultProps:{unmountOnExit:!0,lazyMount:!0}}),epe=iu(S7,"trigger",{forwardAsChild:!0}),tpe=iu(m7,"positioner",{forwardAsChild:!0}),npe=iu(p7,"content",{forwardAsChild:!0});iu(g7,"description",{forwardAsChild:!0});const rpe=iu(x7,"title",{forwardAsChild:!0}),ipe=iu(f7,"closeTrigger",{forwardAsChild:!0}),spe=ue.forwardRef(function(e,n){const r=Xd();return ie.jsx(Ra.button,{...e,ref:n,onClick:()=>r.setOpen(!1)})}),ape=iu(h7,"backdrop",{forwardAsChild:!0}),ope=iu("div","body"),lpe=iu("div","footer"),upe=iu("div","header"),{withRootProvider:y$,withContext:ci}=Dy({key:"menu"});y$(kle);const cpe=y$(Ble,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),dpe=ci(nW,"trigger",{forwardAsChild:!0});ci(I7,"contextTrigger",{forwardAsChild:!0});const hpe=ci(W7,"positioner",{forwardAsChild:!0});ci(tW,"separator",{forwardAsChild:!0});const fpe=ci(k7,"content",{forwardAsChild:!0}),ppe=ci(O7,"arrowTip",{forwardAsChild:!0});ci(P7,"arrow",{forwardAsChild:!0,defaultProps:{children:ie.jsx(ppe,{})}});ci(N7,"indicator",{forwardAsChild:!0});const gpe=ci(G7,"itemGroup",{forwardAsChild:!0});ci(z7,"itemGroupLabel",{forwardAsChild:!0});const l5=ci(U7,"item",{forwardAsChild:!0});ci(rW,"item",{forwardAsChild:!0});ci(H7,"itemText",{forwardAsChild:!0});ci("kbd","itemCommand");const mpe=ci(V7,"itemIndicator",{forwardAsChild:!0,defaultProps:{children:ie.jsx(Ffe,{boxSize:"4"})}}),vpe=ci(B7,"item",{forwardAsChild:!0});ci(j7,"itemGroup",{forwardAsChild:!0});ci($7,"item",{forwardAsChild:!0});const{withProvider:x$,withContext:gp}=Dy({key:"numberInput"});x$(bW,"root",{forwardAsChild:!0});const bpe=x$(vW,"root",{forwardAsChild:!0});gp(uW,"label",{forwardAsChild:!0});gp(lW,"input",{forwardAsChild:!0});const S$=gp(oW,"incrementTrigger",{forwardAsChild:!0,defaultProps:{children:ie.jsx(Lfe,{})}}),w$=gp(aW,"decrementTrigger",{forwardAsChild:!0,defaultProps:{children:ie.jsx(Gfe,{})}});gp(sW,"control",{forwardAsChild:!0,defaultProps:{children:ie.jsxs(ie.Fragment,{children:[ie.jsx(S$,{}),ie.jsx(w$,{})]})}});gp(_W,"scrubber",{forwardAsChild:!0});const _pe=gp(yW,"valueText",{forwardAsChild:!0}),{withContext:ype}=WM({key:"skeleton"}),RD=ype("div");ue.forwardRef(function(e,n){const{size:r,...i}=e;return ie.jsx(Vfe,{size:r,asChild:!0,ref:n,children:ie.jsx(RD,{...i})})});ue.forwardRef(function(e,n){const{noOfLines:r=3,gap:i,rootProps:s,...o}=e;return ie.jsx(AD,{gap:i,width:"full",ref:n,...s,children:Array.from({length:r}).map((u,c)=>ie.jsx(RD,{height:"4",_last:{maxW:r===1?"100%":"80%"},...o},c))})});const u5=ue.forwardRef(function(e,n){return ie.jsx(AD,{align:"center",...e,direction:"row",ref:n})}),{withProvider:xpe,withContext:OE}=Dy({key:"tag"}),Spe=xpe("div","root"),wpe=OE("span","label");OE("button","closeTrigger",{defaultProps:{children:ie.jsx(g$,{})}});OE("span","startElement");const Epe=OE("span","endElement"),{withRootProvider:E$,withContext:By}=Dy({key:"tooltip"});E$(Gue);const Tpe=E$(Lue,{defaultProps:{lazyMount:!0,unmountOnExit:!0}}),Cpe=By(GW,"trigger",{forwardAsChild:!0}),Ape=By(kW,"positioner",{forwardAsChild:!0}),Rpe=By(BW,"content",{forwardAsChild:!0}),T$=By(DW,"arrowTip",{forwardAsChild:!0}),Ppe=By(MW,"arrow",{forwardAsChild:!0,defaultProps:{children:ie.jsx(T$,{})}});var Ope=(t,e,n,r,i,s,o,u)=>{let c=document.documentElement,f=["light","dark"];function p(y){(Array.isArray(t)?t:[t]).forEach(E=>{let S=E==="class",T=S&&s?i.map(A=>s[A]||A):i;S?(c.classList.remove(...T),c.classList.add(s&&s[y]?s[y]:y)):c.setAttribute(E,y)}),v(y)}function v(y){u&&f.includes(y)&&(c.style.colorScheme=y)}function b(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)p(r);else try{let y=localStorage.getItem(e)||n,E=o&&y==="system"?b():y;p(E)}catch{}},c5=["light","dark"],C$="(prefers-color-scheme: dark)",Mpe=typeof window>"u",PD=ue.createContext(void 0),Dpe={setTheme:t=>{},themes:[]},Bpe=()=>{var t;return(t=ue.useContext(PD))!=null?t:Dpe},kpe=t=>ue.useContext(PD)?ue.createElement(ue.Fragment,null,t.children):ue.createElement(Npe,{...t}),Ipe=["light","dark"],Npe=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=Ipe,defaultTheme:o=n?"system":"light",attribute:u="data-theme",value:c,children:f,nonce:p,scriptProps:v})=>{let[b,y]=ue.useState(()=>Fpe(i,o)),[E,S]=ue.useState(()=>b==="system"?pA():b),T=c?Object.values(c):s,A=ue.useCallback(D=>{let W=D;if(!W)return;D==="system"&&n&&(W=pA());let G=c?c[W]:W,Y=e?Lpe(p):null,L=document.documentElement,X=Z=>{Z==="class"?(L.classList.remove(...T),G&&L.classList.add(G)):Z.startsWith("data-")&&(G?L.setAttribute(Z,G):L.removeAttribute(Z))};if(Array.isArray(u)?u.forEach(X):X(u),r){let Z=c5.includes(o)?o:null,ee=c5.includes(W)?W:Z;L.style.colorScheme=ee}Y==null||Y()},[p]),P=ue.useCallback(D=>{let W=typeof D=="function"?D(b):D;y(W);try{localStorage.setItem(i,W)}catch{}},[b]),O=ue.useCallback(D=>{let W=pA(D);S(W),b==="system"&&n&&!t&&A("system")},[b,t]);ue.useEffect(()=>{let D=window.matchMedia(C$);return D.addListener(O),O(D),()=>D.removeListener(O)},[O]),ue.useEffect(()=>{let D=W=>{W.key===i&&(W.newValue?y(W.newValue):P(o))};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)},[P]),ue.useEffect(()=>{A(t??b)},[t,b]);let M=ue.useMemo(()=>({theme:b,setTheme:P,forcedTheme:t,resolvedTheme:b==="system"?E:b,themes:n?[...s,"system"]:s,systemTheme:n?E:void 0}),[b,P,t,E,n,s]);return ue.createElement(PD.Provider,{value:M},ue.createElement(Upe,{forcedTheme:t,storageKey:i,attribute:u,enableSystem:n,enableColorScheme:r,defaultTheme:o,value:c,themes:s,nonce:p,scriptProps:v}),f)},Upe=ue.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:u,nonce:c,scriptProps:f})=>{let p=JSON.stringify([n,e,s,t,u,o,r,i]).slice(1,-1);return ue.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Ope.toString()})(${p})`}})}),Fpe=(t,e)=>{if(Mpe)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},Lpe=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},pA=t=>(t||(t=window.matchMedia(C$)),t.matches?"dark":"light");/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zpe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),d5=t=>{const e=zpe(t);return e.charAt(0).toUpperCase()+e.slice(1)},A$=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vpe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hpe=ue.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...u},c)=>ue.createElement("svg",{ref:c,...Vpe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:A$("lucide",i),...u},[...o.map(([f,p])=>ue.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=(t,e)=>{const n=ue.forwardRef(({className:r,...i},s)=>ue.createElement(Hpe,{ref:s,iconNode:e,className:A$(`lucide-${Gpe(d5(t))}`,`lucide-${t}`,r),...i}));return n.displayName=d5(t),n};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wpe=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],$pe=su("footprints",Wpe);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Xpe=su("info",jpe);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ype=[["path",{d:"M5 12h14",key:"1ays0h"}]],qpe=su("minus",Ype);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kpe=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Zpe=su("moon",Kpe);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qpe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jpe=su("plus",Qpe);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ege=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],tge=su("redo-2",ege);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nge=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rge=su("refresh-cw",nge);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ige=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sge=su("settings",ige);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const age=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oge=su("sun",age);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lge=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],uge=su("undo-2",lge);function cge(t){return ie.jsx(kpe,{attribute:"class",disableTransitionOnChange:!0,...t})}function R$(){const{resolvedTheme:t,setTheme:e}=Bpe();return{colorMode:t,setColorMode:e,toggleColorMode:()=>{e(t==="dark"?"light":"dark")}}}function dge(){const{colorMode:t}=R$();return t==="dark"?ie.jsx(Zpe,{}):ie.jsx(oge,{})}ue.forwardRef(function(e,n){const{toggleColorMode:r}=R$();return ie.jsx(Kfe,{fallback:ie.jsx(RD,{boxSize:"8"}),children:ie.jsx(Wu,{onClick:r,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:n,...e,css:{_icon:{width:"5",height:"5"}},children:ie.jsx(dge,{})})})});ue.forwardRef(function(e,n){return ie.jsx(ym,{color:"fg",display:"contents",className:"chakra-theme light",colorPalette:"gray",colorScheme:"light",ref:n,...e})});ue.forwardRef(function(e,n){return ie.jsx(ym,{color:"fg",display:"contents",className:"chakra-theme dark",colorPalette:"gray",colorScheme:"dark",ref:n,...e})});function hge(t){return ie.jsx(are,{value:Ife,children:ie.jsx(cge,{...t})})}if(!ue.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!OM)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function fge(t){t()}function pge(t){t||(t=fge),cte({reactionScheduler:t})}function gge(t){return hte(t)}var mge=1e4,vge=1e4,bge=function(){function t(e){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=mge),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(s,o){i-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(o))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(t.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(t.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(t.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,vge))}}),t}(),_ge=typeof FinalizationRegistry<"u"?FinalizationRegistry:bge,NR=new _ge(function(t){var e;(e=t.reaction)===null||e===void 0||e.dispose(),t.reaction=null}),gA={exports:{}},mA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h5;function yge(){if(h5)return mA;h5=1;var t=fE();function e(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function u(v,b){var y=b(),E=r({inst:{value:y,getSnapshot:b}}),S=E[0].inst,T=E[1];return s(function(){S.value=y,S.getSnapshot=b,c(S)&&T({inst:S})},[v,y,b]),i(function(){return c(S)&&T({inst:S}),v(function(){c(S)&&T({inst:S})})},[v]),o(y),y}function c(v){var b=v.getSnapshot;v=v.value;try{var y=b();return!n(v,y)}catch{return!0}}function f(v,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return mA.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,mA}var f5;function xge(){return f5||(f5=1,gA.exports=yge()),gA.exports}var Sge=xge();function p5(t){t.reaction=new Zl("observer".concat(t.name),function(){var e;t.stateVersion=Symbol(),(e=t.onStoreChange)===null||e===void 0||e.call(t)})}function wge(t,e){e===void 0&&(e="observed");var n=uR.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(u){return NR.unregister(r),r.onStoreChange=u,r.reaction||(p5(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var i=n.current;i.reaction||(p5(i),NR.register(n,i,i)),uR.useDebugValue(i.reaction,gge),Sge.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getSnapshot);var s,o;if(i.reaction.track(function(){try{s=t()}catch(u){o=u}}),o)throw o;return s}var vA,bA,P$=typeof Symbol=="function"&&Symbol.for,Ege=(bA=(vA=Object.getOwnPropertyDescriptor(function(){},"name"))===null||vA===void 0?void 0:vA.configurable)!==null&&bA!==void 0?bA:!1,g5=P$?Symbol.for("react.forward_ref"):typeof ue.forwardRef=="function"&&ue.forwardRef(function(t){return null}).$$typeof,m5=P$?Symbol.for("react.memo"):typeof ue.memo=="function"&&ue.memo(function(t){return null}).$$typeof;function Tge(t,e){var n;if(m5&&t.$$typeof===m5)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,i=t,s=t.displayName||t.name;if(g5&&t.$$typeof===g5&&(r=!0,i=t.render,typeof i!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o=function(u,c){return wge(function(){return i(u,c)},s)};return o.displayName=t.displayName,Ege&&Object.defineProperty(o,"name",{value:t.name,writable:!0,configurable:!0}),t.contextTypes&&(o.contextTypes=t.contextTypes),r&&(o=ue.forwardRef(o)),o=ue.memo(o),Age(t,o),o}var Cge={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function Age(t,e){Object.keys(t).forEach(function(n){Cge[n]||Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}var _A;pge(Ty.unstable_batchedUpdates);_A=NR.finalizeAllImmediately;const rm=ue.forwardRef(function(e,n){const{showArrow:r,children:i,disabled:s,portalled:o=!0,content:u,contentProps:c,portalRef:f,...p}=e;return s?i:ie.jsxs(Tpe,{...p,children:[ie.jsx(Cpe,{asChild:!0,children:i}),ie.jsx(xD,{disabled:!o,container:f,children:ie.jsx(Ape,{children:ie.jsxs(Rpe,{ref:n,...c,p:1,children:[r&&ie.jsx(Ppe,{children:ie.jsx(T$,{})}),u]})})})]})}),Rge=()=>ie.jsxs(Jfe,{size:"md",children:[ie.jsx(epe,{asChild:!0,children:ie.jsx(Wu,{size:"xs",title:"Description",children:ie.jsx(Xpe,{})})}),ie.jsxs(xD,{children:[ie.jsx(ape,{}),ie.jsx(tpe,{children:ie.jsxs(npe,{children:[ie.jsx(upe,{children:ie.jsx(rpe,{children:"Description"})}),ie.jsxs(ope,{children:[ie.jsx("p",{children:"The Towers of Hanoi is one of the most famous classic problems every budding computer scientist must grapple with. Legend has it that in a temple in the Far East, priests are attempting to move a stack of golden disks from one diamond peg to another. The initial stack has 64 disks threaded onto one peg and arranged from bottom to top by decreasing size. The priests are attempting to move the stack from one peg to another under the constraints that exactly one disk is moved at a time and at no time may a larger disk be placed above a smaller disk. Three pegs are provided, one being used for temporarily holding disks. Supposedly, the world will end when the priests complete their task, so there is little incentive for us to facilitate their efforts."}),ie.jsx("p",{children:"Let’s assume that the priests are attempting to move the disks from peg 1 to peg 3."})]}),ie.jsx(lpe,{children:ie.jsx(spe,{asChild:!0,children:ie.jsx(b$,{children:"Got it"})})}),ie.jsx(ipe,{asChild:!0,children:ie.jsx(Yfe,{size:"sm"})})]})})]})]}),im="xs",Pge=({gameState:t,uiState:e})=>{const n=t.gameCondition==="finished",r=ue.useCallback(Cd.debounce(i=>{e.changeShowDiskWeight(i)},100),[e.changeShowDiskWeight]);return ie.jsxs(AD,{direction:"row",alignItems:"center",pb:1,flexWrap:"wrap",children:[ie.jsxs(cpe,{children:[ie.jsx(dpe,{asChild:!0,children:ie.jsx(Wu,{title:"Settings",size:im,children:ie.jsx(sge,{})})}),ie.jsx(xD,{children:ie.jsx(hpe,{children:ie.jsxs(fpe,{children:[ie.jsx(gpe,{children:ie.jsxs(vpe,{disabled:n,value:"showDiskWeight",checked:e.showDiskWeight,onCheckedChange:r,children:[ie.jsx("span",{children:"Show disk weight"}),ie.jsx(mpe,{})]})}),t.solverCondition==="active"?ie.jsx(l5,{value:"stopAlgorithm",onClick:()=>{t.stopSolver()},children:"Stop the algorithm"}):ie.jsx(l5,{disabled:!t.canStartSolver,value:"startAlgorithm",onClick:()=>{t.startSolver()},children:"Run the algorithm"})]})})})]}),ie.jsxs(u5,{mr:4,children:[ie.jsx(rm,{content:"Undo",children:ie.jsx(Wu,{size:im,onClick:()=>t.undoDiskMove(),disabled:!t.canUndoDiskMove,children:ie.jsx(uge,{})})}),ie.jsx(rm,{content:"Redo",children:ie.jsx(Wu,{size:im,onClick:()=>t.redoDiskMove(),disabled:!t.canRedoDiskMove,children:ie.jsx(tge,{})})})]}),ie.jsx(Rge,{}),ie.jsx(rm,{content:"Reset",children:ie.jsx(Wu,{size:im,onClick:()=>t.reset(),children:ie.jsx(rge,{})})}),ie.jsx(bpe,{value:String(t.disksCount),min:Qz,max:b_,allowOverflow:!1,onValueChange:i=>t.changeDisksCount(i.valueAsNumber),unstyled:!0,spinOnPress:!1,children:ie.jsxs(u5,{gap:"1",mx:4,children:[ie.jsx(rm,{content:"Decrease amount of disks",children:ie.jsx(w$,{asChild:!0,children:ie.jsx(Wu,{size:im,children:ie.jsx(qpe,{})})})}),ie.jsx(rm,{content:"Amount of disks",children:ie.jsx(_pe,{textAlign:"center",fontSize:"lg",minW:"3ch"})}),ie.jsx(rm,{content:"Increase amount of disks",children:ie.jsx(S$,{asChild:!0,children:ie.jsx(Wu,{size:im,children:ie.jsx(Jpe,{})})})})]})}),ie.jsxs(Spe,{size:"lg",p:2,ml:{sm:0,md:"auto"},children:[ie.jsx(wpe,{children:t.currentStep}),ie.jsx(Epe,{children:ie.jsx($pe,{})})]})]})},Oge=Tge(Pge),Mge=t=>ie.jsx(ue.StrictMode,{children:ie.jsx(hge,{children:ie.jsx(Oge,{...t})})});var Dge=Object.getOwnPropertyDescriptor,Bge=(t,e,n,r)=>{for(var i=r>1?void 0:r?Dge(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=o(i)||i);return i},v5=(t,e)=>(n,r)=>e(n,r,t);let UR=class{constructor(t,e){this.gameState=t,this.uiState=e}bootstrap(){console.log("bootstrapped");const t=document.getElementById("ui-root");if(!t)throw new Error("ui root not found");tne.createRoot(t).render(Mge({gameState:this.gameState,uiState:this.uiState}))}};UR=Bge([Gd(),v5(0,Ns(rr.gameState)),v5(1,Ns(rr.uiState))],UR);var kge=Object.getOwnPropertyDescriptor,Ige=(t,e,n,r)=>{for(var i=r>1?void 0:r?kge(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=o(i)||i);return i},Nge=(t,e)=>(n,r)=>e(n,r,t);let FR=class{constructor(t){St(this,"showDiskWeight",!1);St(this,"canvasViewport",{width:0,height:0});this.eventBus=t,OM(this,{showDiskWeight:nr,changeShowDiskWeight:bi})}changeShowDiskWeight(t){this.showDiskWeight=t,this.eventBus.emit("showDiskWeightChanged",{show:t})}updateCanvasViewport(t){this.canvasViewport=t,this.eventBus.emit("rendererViewportUpdated",t)}};FR=Ige([Gd(),Nge(0,Ns(rr.eventBus))],FR);const hc=new Uj;hc.bind(rr.eventBus).to(R3).inSingletonScope();hc.bind(rr.gameState).to(aR).inSingletonScope();hc.bind(rr.uiState).to(FR).inSingletonScope();hc.bind(rr.renderer).to(C3).inSingletonScope();hc.bind(rr.app).to(A3).inSingletonScope();hc.bind(rr.diskEntityFactory).toFactory(t=>e=>{const n=t.get(rr.eventBus);return new lR(n,e)});hc.bind(rr.entitiesOrchestrator).to(X3).inSingletonScope();hc.bind(rr.ui).to(UR).inSingletonScope();(async()=>await hc.get(rr.app).bootstrap())();export{wX as A,Uz as B,Ei as C,PF as D,DF as E,iK as F,VG as G,aM as H,az as M,wz as N,$U as R,jU as T,EX as a,CP as b,pz as c,gz as d,An as e,Yz as f,jz as g,Fz as h,Mz as i,QF as j,KF as k};
